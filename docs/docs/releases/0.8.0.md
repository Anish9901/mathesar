# Mathesar 0.8.0

## Summary

Mathesar 0.8.0 introduces the ability to edit data from multiple related tables in a single place on the table page. We've also added support for more precise filtering, including combining and excluding groups of filters. Additionally, PostgreSQL views set up in the database are now automatically displayed in the UI along with tables.

This release also includes usability improvements for smaller screens, a new way to access copy and paste functionality, and support for multiple SSL modes when configuring databases, as well as many other enhancements and bug fixes.

!!! info ""
    This page provides a comprehensive list of all changes in the release.

## Improvements

### Extend tables with related data

![Extending the Movies table with genres from a related table](../assets/releases/0.8.0/extend-movies-with-genres.png)
///caption
Extending the Movies table with genres and studios from related tables.
///

The table page now has an "Extend" button to display columns from some related tables alongside columns from the current table. Users can also add and remove related data by editing the related data cell.

This feature currently only supports "many to many" relationships via mapping tables that do not have any additional fields other than foreign keys. For instance, `genres` related to `movies` via a `movies_genres` table, or `categories` applied to `support_tickets` via a `ticket_categories` table.

*Related work:*

[#5035](https://github.com/mathesar-foundation/mathesar/pull/5035 "Cross-table editing MVP") [#4995](https://github.com/mathesar-foundation/mathesar/pull/4995 "Simple many-to-many joined columns") [#5033](https://github.com/mathesar-foundation/mathesar/pull/5033 "Multi-tagger UI") [#4989](https://github.com/mathesar-foundation/mathesar/pull/4989 "Support joined columns in `records.list`") [#4977](https://github.com/mathesar-foundation/mathesar/pull/4977 "Build UI to select joined columns") [#4983](https://github.com/mathesar-foundation/mathesar/pull/4983 "Persist join config in Meta class") [#4984](https://github.com/mathesar-foundation/mathesar/pull/4984 "Show the count of active joined columns in the button") [#4988](https://github.com/mathesar-foundation/mathesar/pull/4988 "Add linked record paths to `records.list_summaries`") [#5053](https://github.com/mathesar-foundation/mathesar/pull/5053 "Refresh cell when checkboxes in multi-tagger change")

### More powerful filtering

![Complex nested filters with AND/OR groups](../assets/releases/0.8.0/complex-filters.png)
///caption
Filter for kid-friendly movies released after the year 2000.
///

Filters now support nested groups with AND, OR, and NOT logic, allowing you to build more expressive and flexible queries. You can group related conditions together and then combine those groups to find records that match one set of criteria or another.

*Related work:*

[#4808](https://github.com/mathesar-foundation/mathesar/pull/4808 "Implement nested filtering") [#5111](https://github.com/mathesar-foundation/mathesar/pull/5111 "Add negation filters")

### Database views support

![Views appear on the schema page with a distinct icon and tag](../assets/releases/0.8.0/views-on-schema-page.png)
///caption
Views appear on the schema page with a distinct blue icon and at the top of the list.
///

![Viewing data from a database view in Mathesar](../assets/releases/0.8.0/example-view.png)
///caption
View records the same way you would in tables, but with editing disabled.
///

Database views now appear in Mathesar alongside tables. Views are clearly labeled with an icon and blue color so you can distinguish them from editable tables, while still navigating and inspecting view data inside of Mathesar.

*Related work:*

[#4992](https://github.com/mathesar-foundation/mathesar/pull/4992 "Differentiate views on the frontend (public dataset navigability)") [#4930](https://github.com/mathesar-foundation/mathesar/pull/4930 "EXPERIMENTAL: Add views to table listing")

### Configurable SSL mode for database connections

![SSL mode configuration in database settings](../assets/releases/0.8.0/db-ssl-settings.png)
///caption
SSL mode configuration in database settings
///

You can now choose an SSL mode when connecting to external databases in the Mathesar UI. You can also set the SSL mode for internal database connections via environment variables. This improves compatibility with databases that require SSL and gives you more control over how connections are secured.

*Related work:*

[#5062](https://github.com/mathesar-foundation/mathesar/pull/5062 "Make SSL mode configurable for internal and external databases")

### Column-level UPDATE privilege support

Mathesar now respects PostgreSQL’s column-level UPDATE privileges. If your database permissions allow updates to only certain columns, you can edit those columns in Mathesar even if you don’t have table-level UPDATE privileges.

*Related work:*

[#4965](https://github.com/mathesar-foundation/mathesar/pull/4965 "Enable column-level UPDATE privilege support")

### Copy and paste in context menu

![Copy and paste options in the cell context menu](../assets/releases/0.8.0/copy-in-context-menu.png)
///caption
Copy and paste options in the cell context menu
///

Copy and paste are now available directly from the cell context menu. This makes the features easier to discover, and it's especially helpful on touch-only devices where keyboard shortcuts aren't available.


*Related work:*

[#4946](https://github.com/mathesar-foundation/mathesar/pull/4946 "Add copy/paste entries to cell context menu")

### Better support for phones and tablets

On touch-only devices, you can select multiple cells using a new context menu option that enters a dedicated selection mode. Additionally, the table page status pane now adapts better to narrow viewports, improving the experience on small screens and in split-screen layouts.

*Related work:*

[#4948](https://github.com/mathesar-foundation/mathesar/pull/4948 "Add feature to select multiple cells on touch-only devices") [#4933](https://github.com/mathesar-foundation/mathesar/pull/4933 "Make it easier to access Mathesar in dev mode from a mobile device") [#4963](https://github.com/mathesar-foundation/mathesar/pull/4963 "Make table page status pane respond well to narrow viewports") [#4935](https://github.com/mathesar-foundation/mathesar/pull/4935 "Use svh CSS units instead of vh")

### Manage databases from the home page

![Manage DB cards](../assets/releases/0.8.0/manage-db-cards.png)

You can now disconnect databases, edit their connections, and reinstall Mathesar schemas from Mathesar's home page. Database cards also provide clearer feedback when a database disconnects, indicating if Mathesar was able to uninstall Mathesar schemas or not.

*Related work:*

[#4954](https://github.com/mathesar-foundation/mathesar/pull/4954 "Database card and disconnection improvements") [#4957](https://github.com/mathesar-foundation/mathesar/pull/4957 "Add success toast for database upgrades and schema reinstall")

### Additional UI improvements

- Added "Delete Column" option to column context menu [#4945](https://github.com/mathesar-foundation/mathesar/pull/4945 "Added Delete Column entry to column context menu")
- Made table name under record title clickable for easier navigation [#4949](https://github.com/mathesar-foundation/mathesar/pull/4949 "Made table name under record title clickable (#4916)")
- Added hyperlink to navigate to the table page from the table widget [#4938](https://github.com/mathesar-foundation/mathesar/pull/4938 "Added hyperlink to navigate to the table page from the table widget")
- Allow adding new columns from within the table widget [#4958](https://github.com/mathesar-foundation/mathesar/pull/4958 "fix: allow adding new columns from within the table widget (#4917)")
- Improved keyboard navigation for breadcrumb dropdowns [#4910](https://github.com/mathesar-foundation/mathesar/pull/4910 "Add keyboard navigation to breadcrumb dropdowns.")
- Hide column type icon when column width is very narrow for better space utilization [#4940](https://github.com/mathesar-foundation/mathesar/pull/4940 "Hide column type icon when column width is very narrow")
- Improved color of the Mathesar link in forms [#5002](https://github.com/mathesar-foundation/mathesar/pull/5002 "Improve color of the Mathesar link in forms")
- Apply appropriate colors to new item hint [#4994](https://github.com/mathesar-foundation/mathesar/pull/4994 "Apply appropriate colors to new item hint")
- Add focus trap to the NewColumnCell dropdown for better accessibility [#4953](https://github.com/mathesar-foundation/mathesar/pull/4953 "Add focus trap to the NewColumnCell dropdown")
- Allow renaming of primary key (Mathesar ID) columns [#4931](https://github.com/mathesar-foundation/mathesar/pull/4931 "issue 4890 - Allow renaming of primary key (Mathesar ID) columns")
- Fix SSO login page to display Authentik logo instead of generic icon [#4934](https://github.com/mathesar-foundation/mathesar/pull/4934 "Fix SSO login page to display Authentik logo instead of generic icon")

## Bug fixes

- Fix primary key recognition when column has multiple indexes [#5058](https://github.com/mathesar-foundation/mathesar/pull/5058 "Fix primary key recognition when column has multiple indexes")
- Fix error when previewing record summary if selected cell is null [#5032](https://github.com/mathesar-foundation/mathesar/pull/5032 "Fix error when previewing record summary if selected cell is null")
- Fix record summary template referencing deleted column [#4956](https://github.com/mathesar-foundation/mathesar/pull/4956 "Fix/4895 record summary template references deleted column")
- Fix date picker to determine the current date on open, not on page load [#5031](https://github.com/mathesar-foundation/mathesar/pull/5031 "Fix #4891: Date picker should determine the current date on open, not on page load")
- Fix missing error message when deleting records with foreign key constraints [#5045](https://github.com/mathesar-foundation/mathesar/pull/5045 "Fix missing error on deleting records with foreign key")
- Fix displayed table relationships not updating after adding a new relationship [#5014](https://github.com/mathesar-foundation/mathesar/pull/5014 "Fix #4893: Displayed table relationships do not update after adding a new relationship")
- Prevent record selector opening on Shift+click of foreign key cell chevron [#5007](https://github.com/mathesar-foundation/mathesar/pull/5007 "Fix: Prevent record selector opening on Shift+click of FK cell chevron (fixes #4913)")
- Fix missing "Set to null" string in single record view field menus [#4955](https://github.com/mathesar-foundation/mathesar/pull/4955 "Fix missing Set to null string in single record view field menus")
- Fix row hover in data explorer [#4951](https://github.com/mathesar-foundation/mathesar/pull/4951 "Fix/4914 added row hover data explorer")
- Handle more edge cases when setting the user's cursor after auto-formatting an input [#4851](https://github.com/mathesar-foundation/mathesar/pull/4851 "Handle more edge cases when setting the user's cursor after auto-formatting an input")
- Convert empty string to `None` for data imports to ensure proper null handling [#5055](https://github.com/mathesar-foundation/mathesar/pull/5055 "Convert empty string to `None` for data imports")
- Change default "Date & Time" column type to "timestamp without time zone" [#5063](https://github.com/mathesar-foundation/mathesar/pull/5063 "Fix #5056:Fix: Change default Date & Time column type to timestamp without time zone")
- Improve SQL error messages for better debugging [#4936](https://github.com/mathesar-foundation/mathesar/pull/4936 "Improve sql errors")
- Use correct path for media files in Docker [#5091](https://github.com/mathesar-foundation/mathesar/pull/5091 "Fix path for `.media/` volume")

## Documentation

- Refine Mathesar's PostgreSQL and Python version support documentation [#4881](https://github.com/mathesar-foundation/mathesar/pull/4881 "Refine Mathesar's PostgreSQL and Python version support")

## Maintenance

- Remove Django REST Framework (DRF) as a dependency [#5067](https://github.com/mathesar-foundation/mathesar/pull/5067 "Remove DRF as a dependency") [#5065](https://github.com/mathesar-foundation/mathesar/pull/5065 "Remove `data_files/` dependency on DRF")
- Refactor table view system to use string-based column ids [#4975](https://github.com/mathesar-foundation/mathesar/pull/4975 "Refactor table view system to use string-based column ids")
- Bump Django from 4.2.25 to 4.2.27 [#5070](https://github.com/mathesar-foundation/mathesar/pull/5070 "Bump django from 4.2.26 to 4.2.27") [#4959](https://github.com/mathesar-foundation/mathesar/pull/4959 "Bump django from 4.2.25 to 4.2.26")
- Reinstate PostgreSQL 18 in CI [#4950](https://github.com/mathesar-foundation/mathesar/pull/4950 "Reinstate pg18 in CI")
- Improved SQL list_records_from_table unit tests [#4991](https://github.com/mathesar-foundation/mathesar/pull/4991 "improved SQL list_records_from_table unittests")
- Add package and installation workflows to checkpoint [#4941](https://github.com/mathesar-foundation/mathesar/pull/4941 "Add package and installation workflows to checkpoint ")
- Updated Japanese translations [#4944](https://github.com/mathesar-foundation/mathesar/pull/4944 "Updates for file mathesar_ui/src/i18n/languages/en/dict.json in ja")

## Upgrading to 0.8.0 {:#upgrading}

!!! warning "PostgreSQL 13 and Python 3.9 no longer supported"
    Mathesar 0.8.0 ends official support for PostgreSQL 13 and Python 3.9. Please upgrade to PostgreSQL 14+ and Python 3.10+ before upgrading to Mathesar 0.8.0.

### For installations using Docker Compose

If you have a Docker compose installation, run the command below:

```
docker compose -f /etc/mathesar/docker-compose.yml up --pull always -d
```

!!! warning "Your installation directory may be different"
    You may need to change `/etc/mathesar/` in the command above if you chose to install Mathesar to a different directory.

### For direct installations of Mathesar on Linux, macOS, or WSL

Mathesar provides an install script that automates both fresh installs and upgrades for standalone (non-Docker) installations.

Follow the steps below to upgrade Mathesar:

1. Enter your installation directory into the box below and press <kbd>Enter</kbd> to personalize this guide:

    <input data-input-for="MATHESAR_INSTALL_DIR" aria-label="Your Mathesar installation directory"/>

    - Do _not_ include a trailing slash.
    - Do _not_ use any variables like `$HOME`.

2.  Go to your Mathesar installation directory.

    ```
    cd xMATHESAR_INSTALL_DIRx
    ```

    !!! note
        Your installation directory may be different from above if you used a different directory when installing Mathesar.

3. Download and run the install script for 0.8.0
    ```
    curl -sSfL https://github.com/mathesar-foundation/mathesar/releases/download/0.8.0/install.sh -o install.sh
    chmod +x install.sh

    ./install.sh .
    ```

4. Replace your gunicorn systemd service with a Mathesar systemd service

    1. Disable and stop the existing gunicorn service
        ```
        systemctl disable gunicorn.service
        systemctl stop gunicorn.service
        ```

    2. Follow the steps in [Run Mathesar as a systemd service](../administration/install-from-scratch.md#run-mathesar-as-a-systemd-service) from the installation guide

    3. Remove the gunicorn service file
        ```
        sudo rm /lib/systemd/system/gunicorn.service
        ```

5. Update your Caddyfile

    1. Use the configuration shown in [Install and configure Caddy](../administration/install-from-scratch.md#install-and-configure-caddy) in the installation guide, and update your Caddyfile accordingly

    2. Ensure that your domains are specified directly in the first line of the Caddyfile

    3. Restart your Caddy service
      ```
      systemctl restart caddy.service
      ```

!!! tip
    **If you're running Mathesar only on localhost and do not want it to run as a service**, you could:

    1. Remove the gunicorn and caddy services
    1. Start Mathesar manually with:
      ```
      mathesar run
      ```
