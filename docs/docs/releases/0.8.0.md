# Mathesar 0.8.0

## Summary

Mathesar 0.8.0 introduces many-to-many relationships, allowing you to view and edit data from related tables directly within a single table view using a new multi-tagger interface. This release also adds nested filtering for complex queries and the ability to work with database views. Additional improvements include configurable SSL connections, column-level permission support, and better support for using Mathesar on phones and tablets.

!!! info ""
	This page provides a comprehensive list of all changes in the release.

## Breaking changes

### End of support for PostgreSQL 13 and Python 3.9

Mathesar 0.8.0 ends official support for PostgreSQL 13 and Python 3.9. We recommend upgrading these dependencies prior to installing 0.8.0 to ensure continued compatibility and support.

While Mathesar is likely to function with older versions, compatibility is no longer tested, and assistance cannot be provided for issues encountered on unsupported versions.

Mathesar 0.8.0 supports:

- **Python**: 3.10–3.13
- **PostgreSQL**: 14–18

Learn more about our [version support strategy](../administration/version-support.md).

## Improvements

### Many-to-many relationships

Mathesar now supports displaying and editing many-to-many relationships, allowing you to view and edit data from related tables directly within a single table view. You can add joined columns from related tables, making it easier to work with related data without switching between multiple views. Joined columns can be selected, resized, and edited just like regular columns.

When working with many-to-many relationships, you can use the new multi-tagger interface to select multiple related records through an intuitive checkbox-based interface with search and pagination support. This provides a seamless experience for managing relationships across your database.

*Related work:*

[#5035](https://github.com/mathesar-foundation/mathesar/pull/5035 "Cross-table editing MVP") [#4995](https://github.com/mathesar-foundation/mathesar/pull/4995 "Simple many-to-many joined columns") [#5033](https://github.com/mathesar-foundation/mathesar/pull/5033 "Multi-tagger UI") [#4989](https://github.com/mathesar-foundation/mathesar/pull/4989 "Support joined columns in `records.list`") [#4977](https://github.com/mathesar-foundation/mathesar/pull/4977 "Build UI to select joined columns") [#4983](https://github.com/mathesar-foundation/mathesar/pull/4983 "Persist join config in Meta class") [#4984](https://github.com/mathesar-foundation/mathesar/pull/4984 "Show the count of active joined columns in the button") [#4988](https://github.com/mathesar-foundation/mathesar/pull/4988 "Add linked record paths to `records.list_summaries`") [#5053](https://github.com/mathesar-foundation/mathesar/pull/5053 "Refresh cell when checkboxes in multi-tagger change")

### More powerful filtering

Filters now support grouping conditions with AND/OR/NOT logic, enabling you to create complex queries. You can group multiple filter conditions together and combine groups to build sophisticated filtering expressions, such as finding records that match one set of criteria OR another set of criteria.

*Related work:*

[#4808](https://github.com/mathesar-foundation/mathesar/pull/4808 "Implement nested filtering") [#5111](https://github.com/mathesar-foundation/mathesar/pull/5111 "Add negation filters")

### Database views support

Database views are now displayed in the schema page and can be distinguished from regular tables with a dedicated icon and tag. Views appear alongside tables in your schema navigation, making it easier to work with pre-defined queries and read-only datasets.

*Related work:*

[#4992](https://github.com/mathesar-foundation/mathesar/pull/4992 "Differentiate views on the frontend (public dataset navigability)") [#4930](https://github.com/mathesar-foundation/mathesar/pull/4930 "EXPERIMENTAL: Add views to table listing")

### Configurable SSL mode for database connections

You can now configure SSL mode when connecting to external databases through the Mathesar UI, and set SSL mode for internal database connections via environment variables. This provides better control over secure database connections and enables connections to databases that require SSL.

*Related work:*

[#5062](https://github.com/mathesar-foundation/mathesar/pull/5062 "Make SSL mode configurable for internal and external databases")

### Column-level UPDATE privilege support

Mathesar now properly respects PostgreSQL's column-level UPDATE privileges. Users with column-level UPDATE permissions can now edit those specific columns, even if they don't have table-level UPDATE privileges. Previously, users with only column-level permissions were blocked from editing entirely.

*Related work:*

[#4965](https://github.com/mathesar-foundation/mathesar/pull/4965 "Enable column-level UPDATE privilege support")

### Copy and paste in context menu

Copy and paste operations are now available directly from the cell context menu, making these features more discoverable and accessible, especially on touch-only devices where keyboard shortcuts may not be available.

*Related work:*

[#4946](https://github.com/mathesar-foundation/mathesar/pull/4946 "Add copy/paste entries to cell context menu")

### Better support for phones and tablets

Mathesar now works better on mobile devices and tablets. Touch-only devices have improved support for selecting multiple cells through a new context menu option that lets you enter a cell selection mode. The table page status pane also responds better to narrow viewports, improving the experience when using Mathesar on smaller screens or in split-screen configurations.

*Related work:*

[#4948](https://github.com/mathesar-foundation/mathesar/pull/4948 "Add feature to select multiple cells on touch-only devices") [#4933](https://github.com/mathesar-foundation/mathesar/pull/4933 "Make it easier to access Mathesar in dev mode from a mobile device") [#4963](https://github.com/mathesar-foundation/mathesar/pull/4963 "Make table page status pane respond well to narrow viewports") [#4935](https://github.com/mathesar-foundation/mathesar/pull/4935 "Use svh CSS units instead of vh")

### Enhanced database management

Database cards now include improved disconnection handling and better visual feedback. The interface provides clearer information about database connection status and makes it easier to manage multiple database connections.

*Related work:*

[#4954](https://github.com/mathesar-foundation/mathesar/pull/4954 "Database card and disconnection improvements") [#4957](https://github.com/mathesar-foundation/mathesar/pull/4957 "Add success toast for database upgrades and schema reinstall")

### Additional UI improvements

- Added "Delete Column" option to column context menu [#4945](https://github.com/mathesar-foundation/mathesar/pull/4945 "Added Delete Column entry to column context menu")
- Made table name under record title clickable for easier navigation [#4949](https://github.com/mathesar-foundation/mathesar/pull/4949 "Made table name under record title clickable (#4916)")
- Added hyperlink to navigate to the table page from the table widget [#4938](https://github.com/mathesar-foundation/mathesar/pull/4938 "Added hyperlink to navigate to the table page from the table widget")
- Allow adding new columns from within the table widget [#4958](https://github.com/mathesar-foundation/mathesar/pull/4958 "fix: allow adding new columns from within the table widget (#4917)")
- Improved keyboard navigation for breadcrumb dropdowns [#4910](https://github.com/mathesar-foundation/mathesar/pull/4910 "Add keyboard navigation to breadcrumb dropdowns.")
- Hide column type icon when column width is very narrow for better space utilization [#4940](https://github.com/mathesar-foundation/mathesar/pull/4940 "Hide column type icon when column width is very narrow")
- Improved color of the Mathesar link in forms [#5002](https://github.com/mathesar-foundation/mathesar/pull/5002 "Improve color of the Mathesar link in forms")
- Apply appropriate colors to new item hint [#4994](https://github.com/mathesar-foundation/mathesar/pull/4994 "Apply appropriate colors to new item hint")
- Add focus trap to the NewColumnCell dropdown for better accessibility [#4953](https://github.com/mathesar-foundation/mathesar/pull/4953 "Add focus trap to the NewColumnCell dropdown")
- Allow renaming of primary key (Mathesar ID) columns [#4931](https://github.com/mathesar-foundation/mathesar/pull/4931 "issue 4890 - Allow renaming of primary key (Mathesar ID) columns")
- Fix SSO login page to display Authentik logo instead of generic icon [#4934](https://github.com/mathesar-foundation/mathesar/pull/4934 "Fix SSO login page to display Authentik logo instead of generic icon")

## Bug fixes

- Fix primary key recognition when column has multiple indexes [#5058](https://github.com/mathesar-foundation/mathesar/pull/5058 "Fix primary key recognition when column has multiple indexes")
- Fix error when previewing record summary if selected cell is null [#5032](https://github.com/mathesar-foundation/mathesar/pull/5032 "Fix error when previewing record summary if selected cell is null")
- Fix record summary template referencing deleted column [#4956](https://github.com/mathesar-foundation/mathesar/pull/4956 "Fix/4895 record summary template references deleted column")
- Fix date picker to determine the current date on open, not on page load [#5031](https://github.com/mathesar-foundation/mathesar/pull/5031 "Fix #4891: Date picker should determine the current date on open, not on page load")
- Fix missing error message when deleting records with foreign key constraints [#5045](https://github.com/mathesar-foundation/mathesar/pull/5045 "Fix missing error on deleting records with foreign key")
- Fix displayed table relationships not updating after adding a new relationship [#5014](https://github.com/mathesar-foundation/mathesar/pull/5014 "Fix #4893: Displayed table relationships do not update after adding a new relationship")
- Prevent record selector opening on Shift+click of foreign key cell chevron [#5007](https://github.com/mathesar-foundation/mathesar/pull/5007 "Fix: Prevent record selector opening on Shift+click of FK cell chevron (fixes #4913)")
- Fix missing "Set to null" string in single record view field menus [#4955](https://github.com/mathesar-foundation/mathesar/pull/4955 "Fix missing Set to null string in single record view field menus")
- Fix row hover in data explorer [#4951](https://github.com/mathesar-foundation/mathesar/pull/4951 "Fix/4914 added row hover data explorer")
- Handle more edge cases when setting the user's cursor after auto-formatting an input [#4851](https://github.com/mathesar-foundation/mathesar/pull/4851 "Handle more edge cases when setting the user's cursor after auto-formatting an input")
- Convert empty string to `None` for data imports to ensure proper null handling [#5055](https://github.com/mathesar-foundation/mathesar/pull/5055 "Convert empty string to `None` for data imports")
- Change default "Date & Time" column type to "timestamp without time zone" [#5063](https://github.com/mathesar-foundation/mathesar/pull/5063 "Fix #5056:Fix: Change default Date & Time column type to timestamp without time zone")
- Improve SQL error messages for better debugging [#4936](https://github.com/mathesar-foundation/mathesar/pull/4936 "Improve sql errors")
- Use correct path for media files in Docker [#5091](https://github.com/mathesar-foundation/mathesar/pull/5091 "Fix path for `.media/` volume")

## Documentation

- Refine Mathesar's PostgreSQL and Python version support documentation [#4881](https://github.com/mathesar-foundation/mathesar/pull/4881 "Refine Mathesar's PostgreSQL and Python version support")

## Maintenance

- Remove Django REST Framework (DRF) as a dependency [#5067](https://github.com/mathesar-foundation/mathesar/pull/5067 "Remove DRF as a dependency") [#5065](https://github.com/mathesar-foundation/mathesar/pull/5065 "Remove `data_files/` dependency on DRF")
- Refactor table view system to use string-based column ids [#4975](https://github.com/mathesar-foundation/mathesar/pull/4975 "Refactor table view system to use string-based column ids")
- Bump Django from 4.2.25 to 4.2.27 [#5070](https://github.com/mathesar-foundation/mathesar/pull/5070 "Bump django from 4.2.26 to 4.2.27") [#4959](https://github.com/mathesar-foundation/mathesar/pull/4959 "Bump django from 4.2.25 to 4.2.26")
- Reinstate PostgreSQL 18 in CI [#4950](https://github.com/mathesar-foundation/mathesar/pull/4950 "Reinstate pg18 in CI")
- Improved SQL list_records_from_table unit tests [#4991](https://github.com/mathesar-foundation/mathesar/pull/4991 "improved SQL list_records_from_table unittests")
- Add package and installation workflows to checkpoint [#4941](https://github.com/mathesar-foundation/mathesar/pull/4941 "Add package and installation workflows to checkpoint ")
- Updates for Japanese translations [#4944](https://github.com/mathesar-foundation/mathesar/pull/4944 "Updates for file mathesar_ui/src/i18n/languages/en/dict.json in ja")

## Upgrading to 0.8.0 {:#upgrading}

!!! warning "PostgreSQL 13 and Python 3.9 no longer supported"
    Mathesar 0.8.0 ends official support for PostgreSQL 13 and Python 3.9. Please upgrade to PostgreSQL 14+ and Python 3.10+ before upgrading to Mathesar 0.8.0.

### For installations using Docker Compose

If you have a Docker compose installation, run the command below:

```
docker compose -f /etc/mathesar/docker-compose.yml up --pull always -d
```

!!! warning "Your installation directory may be different"
    You may need to change `/etc/mathesar/` in the command above if you chose to install Mathesar to a different directory.

### For direct installations of Mathesar on Linux, macOS, or WSL

Mathesar provides an install script that automates both fresh installs and upgrades for standalone (non-Docker) installations.

Follow the steps below to upgrade Mathesar:

1. Enter your installation directory into the box below and press <kbd>Enter</kbd> to personalize this guide:

    <input data-input-for="MATHESAR_INSTALL_DIR" aria-label="Your Mathesar installation directory"/>

    - Do _not_ include a trailing slash.
    - Do _not_ use any variables like `$HOME`.

2.  Go to your Mathesar installation directory.

    ```
    cd xMATHESAR_INSTALL_DIRx
    ```

    !!! note
        Your installation directory may be different from above if you used a different directory when installing Mathesar.

3. Download and run the install script for 0.8.0
    ```
    curl -sSfL https://github.com/mathesar-foundation/mathesar/releases/download/0.8.0/nstall.sh -o install.sh
    chmod +x install.sh

    ./install.sh .
    ```

4. Replace your gunicorn systemd service with a Mathesar systemd service

    1. Disable and stop the existing gunicorn service
        ```
        systemctl disable gunicorn.service
        systemctl stop gunicorn.service
        ```

    2. Follow the steps in [Run Mathesar as a systemd service](../administration/install-from-scratch.md#run-mathesar-as-a-systemd-service) from the installation guide

    3. Remove the gunicorn service file
        ```
        sudo rm /lib/systemd/system/gunicorn.service
        ```

5. Update your Caddyfile

    1. Use the configuration shown in [Install and configure Caddy](../administration//install-from-scratch.md#install-and-configure-caddy) in the installation guide, and update your Caddyfile accordingly

    2. Ensure that your domains are specified directly in the first line of the Caddyfile

    3. Restart your Caddy service
      ```
      systemctl restart caddy.service
      ```

!!! tip
    **If you're running Mathesar only on localhost and do not want it to run as a service**, you could:

    1. Remove the gunicorn and caddy services
    1. Start Mathesar manually with:
      ```
      mathesar run
      ```
