var Xk=Object.defineProperty;var Jk=(r,e,t)=>e in r?Xk(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var re=(r,e,t)=>(Jk(r,typeof e!="symbol"?e+"":e,t),t);function p_e(){import("data:text/javascript,")}function z(){}const Yl=r=>r;function x(r,e){for(const t in e)r[t]=e[t];return r}function Zk(r){return r&&typeof r=="object"&&typeof r.then=="function"}function N4(r){return r()}function Qf(){return Object.create(null)}function Dt(r){r.forEach(N4)}function Et(r){return typeof r=="function"}function xk(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function G(r,e){return r!=r?e==e:r!==e}function ey(r){return Object.keys(r).length===0}function se(r,...e){if(r==null)return z;const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Qe(r){let e;return se(r,t=>e=t)(),e}function de(r,e,t){r.$$.on_destroy.push(se(e,t))}function De(r,e,t,n){if(r){const l=F4(r,e,t,n);return r[0](l)}}function F4(r,e,t,n){return r[1]&&n?x(t.ctx.slice(),r[1](n(e))):t.ctx}function Ie(r,e,t,n){if(r[2]&&n){const l=r[2](n(t));if(e.dirty===void 0)return l;if(typeof l=="object"){const s=[],i=Math.max(e.dirty.length,l.length);for(let o=0;o<i;o+=1)s[o]=e.dirty[o]|l[o];return s}return e.dirty|l}return e.dirty}function Ee(r,e,t,n,l,s){if(l){const i=F4(e,t,n,s);r.p(i,l)}}function Me(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function ft(r){const e={};for(const t in r)t[0]!=="$"&&(e[t]=r[t]);return e}function Be(r,e){const t={};e=new Set(e);for(const n in r)!e.has(n)&&n[0]!=="$"&&(t[n]=r[n]);return t}function lr(r){const e={};for(const t in r)e[t]=!0;return e}function Xf(r){return r==null?"":r}function Zt(r,e,t){return r.set(t),e}function Dn(r){return r&&Et(r.destroy)?r.destroy:z}const z4=typeof window<"u";let Mi=z4?()=>window.performance.now():()=>Date.now(),oc=z4?r=>requestAnimationFrame(r):z;const cs=new Set;function H4(r){cs.forEach(e=>{e.c(r)||(cs.delete(e),e.f())}),cs.size!==0&&oc(H4)}function Ai(r){let e;return cs.size===0&&oc(H4),{promise:new Promise(t=>{cs.add(e={c:r,f:t})}),abort(){cs.delete(e)}}}function M(r,e){r.appendChild(e)}function V4(r){if(!r)return document;const e=r.getRootNode?r.getRootNode():r.ownerDocument;return e&&e.host?e:r.ownerDocument}function ty(r){const e=I("style");return ny(V4(r),e),e.sheet}function ny(r,e){return M(r.head||r,e),e.sheet}function w(r,e,t){r.insertBefore(e,t||null)}function $(r){r.parentNode.removeChild(r)}function Fn(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function I(r){return document.createElement(r)}function It(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function B(r){return document.createTextNode(r)}function O(){return B(" ")}function ae(){return B("")}function Le(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function ss(r){return function(e){return e.preventDefault(),r.call(this,e)}}function kl(r){return function(e){return e.stopPropagation(),r.call(this,e)}}function D(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function it(r,e){const t=Object.getOwnPropertyDescriptors(r.__proto__);for(const n in e)e[n]==null?r.removeAttribute(n):n==="style"?r.style.cssText=e[n]:n==="__value"?r.value=r[n]=e[n]:t[n]&&t[n].set?r[n]=e[n]:D(r,n,e[n])}function sn(r,e){for(const t in e)D(r,t,e[t])}function ry(r){return Array.from(r.childNodes)}function he(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function hs(r,e){r.value=e==null?"":e}function yn(r,e,t,n){t===null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}let no;function ly(){if(no===void 0){no=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch(r){no=!0}}return no}function sy(r,e){getComputedStyle(r).position==="static"&&(r.style.position="relative");const n=I("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const l=ly();let s;return l?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=Le(window,"message",i=>{i.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{s=Le(n.contentWindow,"resize",e)}),M(r,n),()=>{(l||s&&n.contentWindow)&&s(),$(n)}}function Z(r,e,t){r.classList[t?"add":"remove"](e)}function q4(r,e,{bubbles:t=!1,cancelable:n=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(r,t,n,e),l}class iy{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=It(t.nodeName):this.e=I(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)w(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach($)}}const $o=new Map;let wo=0;function oy(r){let e=5381,t=r.length;for(;t--;)e=(e<<5)-e^r.charCodeAt(t);return e>>>0}function ay(r,e){const t={stylesheet:ty(e),rules:{}};return $o.set(r,t),t}function ui(r,e,t,n,l,s,i,o=0){const a=16.666/n;let u=`{
`;for(let b=0;b<=1;b+=a){const v=e+(t-e)*s(b);u+=b*100+`%{${i(v,1-v)}}
`}const c=u+`100% {${i(t,1-t)}}
}`,f=`__svelte_${oy(c)}_${o}`,m=V4(r),{stylesheet:d,rules:_}=$o.get(m)||ay(m,r);_[f]||(_[f]=!0,d.insertRule(`@keyframes ${f} ${c}`,d.cssRules.length));const h=r.style.animation||"";return r.style.animation=`${h?`${h}, `:""}${f} ${n}ms linear ${l}ms 1 both`,wo+=1,f}function ci(r,e){const t=(r.style.animation||"").split(", "),n=t.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),l=t.length-n.length;l&&(r.style.animation=n.join(", "),wo-=l,wo||uy())}function uy(){oc(()=>{wo||($o.forEach(r=>{const{ownerNode:e}=r.stylesheet;e&&$(e)}),$o.clear())})}function cy(r,e,t,n){if(!e)return z;const l=r.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return z;const{delay:s=0,duration:i=300,easing:o=Yl,start:a=Mi()+s,end:u=a+i,tick:c=z,css:f}=t(r,{from:e,to:l},n);let m=!0,d=!1,_;function h(){f&&(_=ui(r,0,1,i,s,o,f)),s||(d=!0)}function b(){f&&ci(r,_),m=!1}return Ai(v=>{if(!d&&v>=a&&(d=!0),d&&v>=u&&(c(1,0),b()),!m)return!1;if(d){const k=v-a,T=0+1*o(k/i);c(T,1-T)}return!0}),h(),c(0,1),b}function fy(r){const e=getComputedStyle(r);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:n}=e,l=r.getBoundingClientRect();r.style.position="absolute",r.style.width=t,r.style.height=n,U4(r,l)}}function U4(r,e){const t=r.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const n=getComputedStyle(r),l=n.transform==="none"?"":n.transform;r.style.transform=`${l} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let fi;function Jr(r){fi=r}function ul(){if(!fi)throw new Error("Function called outside component initialization");return fi}function my(r){ul().$$.before_update.push(r)}function rn(r){ul().$$.on_mount.push(r)}function W4(r){ul().$$.after_update.push(r)}function cl(r){ul().$$.on_destroy.push(r)}function dt(){const r=ul();return(e,t,{cancelable:n=!1}={})=>{const l=r.$$.callbacks[e];if(l){const s=q4(e,t,{cancelable:n});return l.slice().forEach(i=>{i.call(r,s)}),!s.defaultPrevented}return!0}}function Un(r,e){return ul().$$.context.set(r,e),e}function In(r){return ul().$$.context.get(r)}function B4(r){return ul().$$.context.has(r)}function ve(r,e){const t=r.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Xs=[],ye=[],go=[],Mu=[],j4=Promise.resolve();let Au=!1;function Y4(){Au||(Au=!0,j4.then(ac))}function Gt(){return Y4(),j4}function mr(r){go.push(r)}function Ne(r){Mu.push(r)}const ru=new Set;let ro=0;function ac(){const r=fi;do{for(;ro<Xs.length;){const e=Xs[ro];ro++,Jr(e),dy(e.$$)}for(Jr(null),Xs.length=0,ro=0;ye.length;)ye.pop()();for(let e=0;e<go.length;e+=1){const t=go[e];ru.has(t)||(ru.add(t),t())}go.length=0}while(Xs.length);for(;Mu.length;)Mu.pop()();Au=!1,ru.clear(),Jr(r)}function dy(r){if(r.fragment!==null){r.update(),Dt(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(mr)}}let Gs;function uc(){return Gs||(Gs=Promise.resolve(),Gs.then(()=>{Gs=null})),Gs}function Ul(r,e,t){r.dispatchEvent(q4(`${e?"intro":"outro"}${t}`))}const ho=new Set;let Nr;function q(){Nr={r:0,c:[],p:Nr}}function U(){Nr.r||Dt(Nr.c),Nr=Nr.p}function p(r,e){r&&r.i&&(ho.delete(r),r.i(e))}function g(r,e,t,n){if(r&&r.o){if(ho.has(r))return;ho.add(r),Nr.c.push(()=>{ho.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}const cc={duration:0};function oa(r,e,t){let n=e(r,t),l=!1,s,i,o=0;function a(){s&&ci(r,s)}function u(){const{delay:f=0,duration:m=300,easing:d=Yl,tick:_=z,css:h}=n||cc;h&&(s=ui(r,0,1,m,f,d,h,o++)),_(0,1);const b=Mi()+f,v=b+m;i&&i.abort(),l=!0,mr(()=>Ul(r,!0,"start")),i=Ai(k=>{if(l){if(k>=v)return _(1,0),Ul(r,!0,"end"),a(),l=!1;if(k>=b){const T=d((k-b)/m);_(T,1-T)}}return l})}let c=!1;return{start(){c||(c=!0,ci(r),Et(n)?(n=n(),uc().then(u)):u())},invalidate(){c=!1},end(){l&&(a(),l=!1)}}}function Ri(r,e,t){let n=e(r,t),l=!0,s;const i=Nr;i.r+=1;function o(){const{delay:a=0,duration:u=300,easing:c=Yl,tick:f=z,css:m}=n||cc;m&&(s=ui(r,1,0,u,a,c,m));const d=Mi()+a,_=d+u;mr(()=>Ul(r,!1,"start")),Ai(h=>{if(l){if(h>=_)return f(0,1),Ul(r,!1,"end"),--i.r||Dt(i.c),!1;if(h>=d){const b=c((h-d)/u);f(1-b,b)}}return l})}return Et(n)?uc().then(()=>{n=n(),o()}):o(),{end(a){a&&n.tick&&n.tick(1,0),l&&(s&&ci(r,s),l=!1)}}}function Jf(r,e,t,n){let l=e(r,t),s=n?0:1,i=null,o=null,a=null;function u(){a&&ci(r,a)}function c(m,d){const _=m.b-s;return d*=Math.abs(_),{a:s,b:m.b,d:_,duration:d,start:m.start,end:m.start+d,group:m.group}}function f(m){const{delay:d=0,duration:_=300,easing:h=Yl,tick:b=z,css:v}=l||cc,k={start:Mi()+d,b:m};m||(k.group=Nr,Nr.r+=1),i||o?o=k:(v&&(u(),a=ui(r,s,m,_,d,h,v)),m&&b(0,1),i=c(k,_),mr(()=>Ul(r,m,"start")),Ai(T=>{if(o&&T>o.start&&(i=c(o,_),o=null,Ul(r,i.b,"start"),v&&(u(),a=ui(r,s,i.b,i.duration,0,h,l.css))),i){if(T>=i.end)b(s=i.b,1-s),Ul(r,i.b,"end"),o||(i.b?u():--i.group.r||Dt(i.group.c)),i=null;else if(T>=i.start){const E=T-i.start;s=i.a+i.d*h(E/i.duration),b(s,1-s)}}return!!(i||o)}))}return{run(m){Et(l)?uc().then(()=>{l=l(),f(m)}):f(m)},end(){u(),i=o=null}}}function Cl(r,e){const t=e.token={};function n(l,s,i,o){if(e.token!==t)return;e.resolved=o;let a=e.ctx;i!==void 0&&(a=a.slice(),a[i]=o);const u=l&&(e.current=l)(a);let c=!1;e.block&&(e.blocks?e.blocks.forEach((f,m)=>{m!==s&&f&&(q(),g(f,1,1,()=>{e.blocks[m]===f&&(e.blocks[m]=null)}),U())}):e.block.d(1),u.c(),p(u,1),u.m(e.mount(),e.anchor),c=!0),e.block=u,e.blocks&&(e.blocks[s]=u),c&&ac()}if(Zk(r)){const l=ul();if(r.then(s=>{Jr(l),n(e.then,1,e.value,s),Jr(null)},s=>{if(Jr(l),n(e.catch,2,e.error,s),Jr(null),!e.hasCatch)throw s}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,r),!0;e.resolved=r}}function aa(r,e,t){const n=e.slice(),{resolved:l}=r;r.current===r.then&&(n[r.value]=l),r.current===r.catch&&(n[r.error]=l),r.block.p(n,t)}const ua=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function ca(r,e){r.d(1),e.delete(r.key)}function ht(r,e){g(r,1,1,()=>{e.delete(r.key)})}function py(r,e){r.f(),ht(r,e)}function pt(r,e,t,n,l,s,i,o,a,u,c,f){let m=r.length,d=s.length,_=m;const h={};for(;_--;)h[r[_].key]=_;const b=[],v=new Map,k=new Map;for(_=d;_--;){const R=f(l,s,_),L=t(R);let A=i.get(L);A?n&&A.p(R,e):(A=u(L,R),A.c()),v.set(L,b[_]=A),L in h&&k.set(L,Math.abs(_-h[L]))}const T=new Set,E=new Set;function P(R){p(R,1),R.m(o,c),i.set(R.key,R),c=R.first,d--}for(;m&&d;){const R=b[d-1],L=r[m-1],A=R.key,N=L.key;R===L?(c=R.first,m--,d--):v.has(N)?!i.has(A)||T.has(A)?P(R):E.has(N)?m--:k.get(A)>k.get(N)?(E.add(A),P(R)):(T.add(N),m--):(a(L,i),m--)}for(;m--;){const R=r[m];v.has(R.key)||a(R,i)}for(;d;)P(b[d-1]);return b}function ce(r,e){const t={},n={},l={$$scope:1};let s=r.length;for(;s--;){const i=r[s],o=e[s];if(o){for(const a in i)a in o||(n[a]=1);for(const a in o)l[a]||(t[a]=o[a],l[a]=1);r[s]=o}else for(const a in i)l[a]=1}for(const i in n)i in t||(t[i]=void 0);return t}function be(r){return typeof r=="object"&&r!==null?r:{}}function Pe(r,e,t){const n=r.$$.props[e];n!==void 0&&(r.$$.bound[n]=t,t(r.$$.ctx[n]))}function C(r){r&&r.c()}function y(r,e,t,n){const{fragment:l,on_mount:s,on_destroy:i,after_update:o}=r.$$;l&&l.m(e,t),n||mr(()=>{const a=s.map(N4).filter(Et);i?i.push(...a):Dt(a),r.$$.on_mount=[]}),o.forEach(mr)}function S(r,e){const t=r.$$;t.fragment!==null&&(Dt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function _y(r,e){r.$$.dirty[0]===-1&&(Xs.push(r),Y4(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function Q(r,e,t,n,l,s,i,o=[-1]){const a=fi;Jr(r);const u=r.$$={fragment:null,ctx:null,props:s,update:z,not_equal:l,bound:Qf(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Qf(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};i&&i(u.root);let c=!1;if(u.ctx=t?t(r,e.props||{},(f,m,...d)=>{const _=d.length?d[0]:m;return u.ctx&&l(u.ctx[f],u.ctx[f]=_)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](_),c&&_y(r,f)),m}):[],u.update(),c=!0,Dt(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const f=ry(e.target);u.fragment&&u.fragment.l(f),f.forEach($)}else u.fragment&&u.fragment.c();e.intro&&p(r.$$.fragment),y(r,e.target,e.anchor,e.customElement),ac()}Jr(a)}class X{$destroy(){S(this,1),this.$destroy=z}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const l=n.indexOf(t);l!==-1&&n.splice(l,1)}}$set(e){this.$$set&&!ey(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class Vr extends Promise{constructor(t,n){super(t);re(this,"isCancelled",!1);re(this,"onCancel");this.onCancel=n}cancel(){var t;this.isCancelled=!0,(t=this.onCancel)==null||t.call(this)}then(t,n){const l=i=>this.isCancelled?null:(t==null?void 0:t(i))||i,s=i=>{if(this.isCancelled)return null;if(!n)throw i;return n(i)};return this.isCancelled?null:super.then(l,s)}}class K4{constructor(){re(this,"listeners");this.listeners=new Map}getCallbackSet(e){const t=this.listeners.get(e);if(t)return t;const n=new Set;return this.listeners.set(e,n),n}on(e,t){const n=this.getCallbackSet(e);return n.add(t),()=>{n.delete(t)}}async dispatch(e,t){const n=this.listeners.get(e);if(!n){console.warn(`No listeners found when dispatching event '${String(e)}'.`);return}await Promise.all([...n.values()].map(l=>l(t)))}destroy(){this.listeners.clear()}}class Hr{constructor(e){re(this,"set");this.set=new Set(e)}getNewInstance(...e){return new this.constructor(...e)}with(e){const t=new Set(this.set);return t.add(e),this.getNewInstance(t)}union(e){const t=new Set(this.set);return[...e].forEach(n=>{t.add(n)}),this.getNewInstance(t)}without(e){const t=Array.isArray(e)?e:[e],n=new Set(this.set);return t.forEach(l=>{n.delete(l)}),this.getNewInstance(n)}has(e){return this.set.has(e)}get size(){return this.set.size}values(){return this.set.values()}valuesArray(){return[...this.set.values()]}[Symbol.iterator](){return this.values()}}class vt{constructor(e=[]){re(this,"map");re(this,"valueIsValid",()=>!0);this.map=new Map(e)}getNewInstance(...e){return new this.constructor(...e)}with(e,t,n=(l,s)=>s){return this.withEntries([[e,t]],n)}withEntries(e,t=(n,l)=>l){const n=new Map(this.map);return[...e].forEach(([l,s])=>{const i=this.get(l),o=i===void 0?s:t(i,s);this.valueIsValid(o)?n.set(l,o):n.delete(l)}),this.getNewInstance(n)}coalesce(e,t){return this.has(e)?this:this.with(e,t)}coalesceEntries(e){const t=new Map(this.map);return[...e].forEach(([n,l])=>{!this.has(n)&&this.valueIsValid(l)&&t.set(n,l)}),this.getNewInstance(t)}without(e){const t=Array.isArray(e)?e:[e],n=new Map(this.map);return t.forEach(l=>n.delete(l)),this.getNewInstance(n)}drained(){return this.getNewInstance([])}has(e){return this.map.has(e)}get(e){return this.map.get(e)}get size(){return this.map.size}keys(){return this.map.keys()}values(){return this.map.values()}entries(){return this.map.entries()}mapValues(e){return new vt([...this.entries()].map(([t,n])=>[t,e(n)]))}filterValues(e){return new vt([...this.entries()].filter(([,t])=>e(t)))}[Symbol.iterator](){return this.entries()}}const es=[];function Tl(r,e){return{subscribe:Ge(r,e).subscribe}}function Ge(r,e=z){let t;const n=new Set;function l(o){if(xk(r,o)&&(r=o,t)){const a=!es.length;for(const u of n)u[1](),es.push(u,r);if(a){for(let u=0;u<es.length;u+=2)es[u][0](es[u+1]);es.length=0}}}function s(o){l(o(r))}function i(o,a=z){const u=[o,a];return n.add(u),n.size===1&&(t=e(l)||z),o(r),()=>{n.delete(u),n.size===0&&(t(),t=null)}}return{set:l,update:s,subscribe:i}}function at(r,e,t){const n=!Array.isArray(r),l=n?[r]:r,s=e.length<2;return Tl(t,i=>{let o=!1;const a=[];let u=0,c=z;const f=()=>{if(u)return;c();const d=e(n?a[0]:a,i);s?i(d):c=Et(d)?d:z},m=l.map((d,_)=>se(d,h=>{a[_]=h,u&=~(1<<_),o&&f()},()=>{u|=1<<_}));return o=!0,f(),function(){Dt(m),c()}})}class os{constructor(e=[]){re(this,"map");this.map=Ge(new vt(e))}subscribe(e){return this.map.subscribe(e)}reconstruct(e=[]){this.map.set(new vt(e))}clear(){this.map.set(new vt)}delete(e){this.map.update(t=>t.without(e))}set(e,t,n=(l,s)=>s){this.map.update(l=>l.with(e,t,n))}setEntries(e=[],t=(n,l)=>l){this.map.update(n=>n.withEntries(e,t))}setMultiple(e,t,n=(l,s)=>s){this.map.update(l=>l.withEntries([...e].map(s=>[s,t]),n))}getEntries(){return Qe(this.map).entries()}derivedEntries(){return at(this.map,e=>e.entries())}getHas(e){return Qe(this.map).has(e)}derivedHas(e){return at(this.map,t=>t.has(e))}getValue(e){return Qe(this.map).get(e)}derivedValue(e){return at(this.map,t=>t.get(e))}getKeys(){return Qe(this.map).keys()}derivedKeys(){return at(this.map,e=>e.keys())}getValues(){return Qe(this.map).values()}derivedValues(){return at(this.map,e=>e.values())}}class vo{constructor(e=[]){re(this,"values");this.values=Ge(new Hr(e))}subscribe(e){return this.values.subscribe(e)}reconstruct(e=[]){this.values.set(new Hr(e))}clear(){this.values.set(new Hr)}delete(e){this.values.update(t=>t.without(e))}add(e){this.values.update(t=>t.with(e))}addMultiple(e=[]){this.values.update(t=>t.union(e))}getValues(){return Qe(this.values).values()}derivedValues(){return at(this.values,e=>e.values())}getHas(e){return Qe(this.values).has(e)}derivedHas(e){return at(this.values,t=>t.has(e))}}var Pi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},G4={exports:{}};(function(r,e){(function(t,n){r.exports=n()})(Pi,function(){var t=1e3,n=6e4,l=36e5,s="millisecond",i="second",o="minute",a="hour",u="day",c="week",f="month",m="quarter",d="year",_="date",h="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},T=function(j,Y,oe){var te=String(j);return!te||te.length>=Y?j:""+Array(Y+1-te.length).join(oe)+j},E={s:T,z:function(j){var Y=-j.utcOffset(),oe=Math.abs(Y),te=Math.floor(oe/60),ne=oe%60;return(Y<=0?"+":"-")+T(te,2,"0")+":"+T(ne,2,"0")},m:function j(Y,oe){if(Y.date()<oe.date())return-j(oe,Y);var te=12*(oe.year()-Y.year())+(oe.month()-Y.month()),ne=Y.clone().add(te,f),H=oe-ne<0,ee=Y.clone().add(te+(H?-1:1),f);return+(-(te+(oe-ne)/(H?ne-ee:ee-ne))||0)},a:function(j){return j<0?Math.ceil(j)||0:Math.floor(j)},p:function(j){return{M:f,y:d,w:c,d:u,D:_,h:a,m:o,s:i,ms:s,Q:m}[j]||String(j||"").toLowerCase().replace(/s$/,"")},u:function(j){return j===void 0}},P="en",R={};R[P]=k;var L=function(j){return j instanceof K},A=function j(Y,oe,te){var ne;if(!Y)return P;if(typeof Y=="string"){var H=Y.toLowerCase();R[H]&&(ne=H),oe&&(R[H]=oe,ne=H);var ee=Y.split("-");if(!ne&&ee.length>1)return j(ee[0])}else{var pe=Y.name;R[pe]=Y,ne=pe}return!te&&ne&&(P=ne),ne||!te&&P},N=function(j,Y){if(L(j))return j.clone();var oe=typeof Y=="object"?Y:{};return oe.date=j,oe.args=arguments,new K(oe)},F=E;F.l=A,F.i=L,F.w=function(j,Y){return N(j,{locale:Y.$L,utc:Y.$u,x:Y.$x,$offset:Y.$offset})};var K=function(){function j(oe){this.$L=A(oe.locale,null,!0),this.parse(oe)}var Y=j.prototype;return Y.parse=function(oe){this.$d=function(te){var ne=te.date,H=te.utc;if(ne===null)return new Date(NaN);if(F.u(ne))return new Date;if(ne instanceof Date)return new Date(ne);if(typeof ne=="string"&&!/Z$/i.test(ne)){var ee=ne.match(b);if(ee){var pe=ee[2]-1||0,ue=(ee[7]||"0").substring(0,3);return H?new Date(Date.UTC(ee[1],pe,ee[3]||1,ee[4]||0,ee[5]||0,ee[6]||0,ue)):new Date(ee[1],pe,ee[3]||1,ee[4]||0,ee[5]||0,ee[6]||0,ue)}}return new Date(ne)}(oe),this.$x=oe.x||{},this.init()},Y.init=function(){var oe=this.$d;this.$y=oe.getFullYear(),this.$M=oe.getMonth(),this.$D=oe.getDate(),this.$W=oe.getDay(),this.$H=oe.getHours(),this.$m=oe.getMinutes(),this.$s=oe.getSeconds(),this.$ms=oe.getMilliseconds()},Y.$utils=function(){return F},Y.isValid=function(){return this.$d.toString()!==h},Y.isSame=function(oe,te){var ne=N(oe);return this.startOf(te)<=ne&&ne<=this.endOf(te)},Y.isAfter=function(oe,te){return N(oe)<this.startOf(te)},Y.isBefore=function(oe,te){return this.endOf(te)<N(oe)},Y.$g=function(oe,te,ne){return F.u(oe)?this[te]:this.set(ne,oe)},Y.unix=function(){return Math.floor(this.valueOf()/1e3)},Y.valueOf=function(){return this.$d.getTime()},Y.startOf=function(oe,te){var ne=this,H=!!F.u(te)||te,ee=F.p(oe),pe=function(je,Re){var Oe=F.w(ne.$u?Date.UTC(ne.$y,Re,je):new Date(ne.$y,Re,je),ne);return H?Oe:Oe.endOf(u)},ue=function(je,Re){return F.w(ne.toDate()[je].apply(ne.toDate("s"),(H?[0,0,0,0]:[23,59,59,999]).slice(Re)),ne)},ie=this.$W,me=this.$M,Se=this.$D,$e="set"+(this.$u?"UTC":"");switch(ee){case d:return H?pe(1,0):pe(31,11);case f:return H?pe(1,me):pe(0,me+1);case c:var He=this.$locale().weekStart||0,we=(ie<He?ie+7:ie)-He;return pe(H?Se-we:Se+(6-we),me);case u:case _:return ue($e+"Hours",0);case a:return ue($e+"Minutes",1);case o:return ue($e+"Seconds",2);case i:return ue($e+"Milliseconds",3);default:return this.clone()}},Y.endOf=function(oe){return this.startOf(oe,!1)},Y.$set=function(oe,te){var ne,H=F.p(oe),ee="set"+(this.$u?"UTC":""),pe=(ne={},ne[u]=ee+"Date",ne[_]=ee+"Date",ne[f]=ee+"Month",ne[d]=ee+"FullYear",ne[a]=ee+"Hours",ne[o]=ee+"Minutes",ne[i]=ee+"Seconds",ne[s]=ee+"Milliseconds",ne)[H],ue=H===u?this.$D+(te-this.$W):te;if(H===f||H===d){var ie=this.clone().set(_,1);ie.$d[pe](ue),ie.init(),this.$d=ie.set(_,Math.min(this.$D,ie.daysInMonth())).$d}else pe&&this.$d[pe](ue);return this.init(),this},Y.set=function(oe,te){return this.clone().$set(oe,te)},Y.get=function(oe){return this[F.p(oe)]()},Y.add=function(oe,te){var ne,H=this;oe=Number(oe);var ee=F.p(te),pe=function(me){var Se=N(H);return F.w(Se.date(Se.date()+Math.round(me*oe)),H)};if(ee===f)return this.set(f,this.$M+oe);if(ee===d)return this.set(d,this.$y+oe);if(ee===u)return pe(1);if(ee===c)return pe(7);var ue=(ne={},ne[o]=n,ne[a]=l,ne[i]=t,ne)[ee]||1,ie=this.$d.getTime()+oe*ue;return F.w(ie,this)},Y.subtract=function(oe,te){return this.add(-1*oe,te)},Y.format=function(oe){var te=this,ne=this.$locale();if(!this.isValid())return ne.invalidDate||h;var H=oe||"YYYY-MM-DDTHH:mm:ssZ",ee=F.z(this),pe=this.$H,ue=this.$m,ie=this.$M,me=ne.weekdays,Se=ne.months,$e=function(Re,Oe,Ze,Ke){return Re&&(Re[Oe]||Re(te,H))||Ze[Oe].slice(0,Ke)},He=function(Re){return F.s(pe%12||12,Re,"0")},we=ne.meridiem||function(Re,Oe,Ze){var Ke=Re<12?"AM":"PM";return Ze?Ke.toLowerCase():Ke},je={YY:String(this.$y).slice(-2),YYYY:this.$y,M:ie+1,MM:F.s(ie+1,2,"0"),MMM:$e(ne.monthsShort,ie,Se,3),MMMM:$e(Se,ie),D:this.$D,DD:F.s(this.$D,2,"0"),d:String(this.$W),dd:$e(ne.weekdaysMin,this.$W,me,2),ddd:$e(ne.weekdaysShort,this.$W,me,3),dddd:me[this.$W],H:String(pe),HH:F.s(pe,2,"0"),h:He(1),hh:He(2),a:we(pe,ue,!0),A:we(pe,ue,!1),m:String(ue),mm:F.s(ue,2,"0"),s:String(this.$s),ss:F.s(this.$s,2,"0"),SSS:F.s(this.$ms,3,"0"),Z:ee};return H.replace(v,function(Re,Oe){return Oe||je[Re]||ee.replace(":","")})},Y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Y.diff=function(oe,te,ne){var H,ee=F.p(te),pe=N(oe),ue=(pe.utcOffset()-this.utcOffset())*n,ie=this-pe,me=F.m(this,pe);return me=(H={},H[d]=me/12,H[f]=me,H[m]=me/3,H[c]=(ie-ue)/6048e5,H[u]=(ie-ue)/864e5,H[a]=ie/l,H[o]=ie/n,H[i]=ie/t,H)[ee]||ie,ne?me:F.a(me)},Y.daysInMonth=function(){return this.endOf(f).$D},Y.$locale=function(){return R[this.$L]},Y.locale=function(oe,te){if(!oe)return this.$L;var ne=this.clone(),H=A(oe,te,!0);return H&&(ne.$L=H),ne},Y.clone=function(){return F.w(this.$d,this)},Y.toDate=function(){return new Date(this.valueOf())},Y.toJSON=function(){return this.isValid()?this.toISOString():null},Y.toISOString=function(){return this.$d.toISOString()},Y.toString=function(){return this.$d.toUTCString()},j}(),W=K.prototype;return N.prototype=W,[["$ms",s],["$s",i],["$m",o],["$H",a],["$W",u],["$M",f],["$y",d],["$D",_]].forEach(function(j){W[j[1]]=function(Y){return this.$g(Y,j[0],j[1])}}),N.extend=function(j,Y){return j.$i||(j(Y,K,N),j.$i=!0),N},N.locale=A,N.isDayjs=L,N.unix=function(j){return N(1e3*j)},N.en=R[P],N.Ls=R,N.p={},N})})(G4);const nn=G4.exports;var Q4={exports:{}};(function(r,e){(function(t,n){r.exports=n()})(Pi,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d\d/,s=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,o={},a=function(h){return(h=+h)+(h>68?1900:2e3)},u=function(h){return function(b){this[h]=+b}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(h){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var v=b.match(/([+-]|\d\d)/g),k=60*v[1]+(+v[2]||0);return k===0?0:v[0]==="+"?-k:k}(h)}],f=function(h){var b=o[h];return b&&(b.indexOf?b:b.s.concat(b.f))},m=function(h,b){var v,k=o.meridiem;if(k){for(var T=1;T<=24;T+=1)if(h.indexOf(k(T,0,b))>-1){v=T>12;break}}else v=h===(b?"pm":"PM");return v},d={A:[i,function(h){this.afternoon=m(h,!1)}],a:[i,function(h){this.afternoon=m(h,!0)}],S:[/\d/,function(h){this.milliseconds=100*+h}],SS:[l,function(h){this.milliseconds=10*+h}],SSS:[/\d{3}/,function(h){this.milliseconds=+h}],s:[s,u("seconds")],ss:[s,u("seconds")],m:[s,u("minutes")],mm:[s,u("minutes")],H:[s,u("hours")],h:[s,u("hours")],HH:[s,u("hours")],hh:[s,u("hours")],D:[s,u("day")],DD:[l,u("day")],Do:[i,function(h){var b=o.ordinal,v=h.match(/\d+/);if(this.day=v[0],b)for(var k=1;k<=31;k+=1)b(k).replace(/\[|\]/g,"")===h&&(this.day=k)}],M:[s,u("month")],MM:[l,u("month")],MMM:[i,function(h){var b=f("months"),v=(f("monthsShort")||b.map(function(k){return k.slice(0,3)})).indexOf(h)+1;if(v<1)throw new Error;this.month=v%12||v}],MMMM:[i,function(h){var b=f("months").indexOf(h)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,u("year")],YY:[l,function(h){this.year=a(h)}],YYYY:[/\d{4}/,u("year")],Z:c,ZZ:c};function _(h){var b,v;b=h,v=o&&o.formats;for(var k=(h=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(N,F,K){var W=K&&K.toUpperCase();return F||v[K]||t[K]||v[W].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(j,Y,oe){return Y||oe.slice(1)})})).match(n),T=k.length,E=0;E<T;E+=1){var P=k[E],R=d[P],L=R&&R[0],A=R&&R[1];k[E]=A?{regex:L,parser:A}:P.replace(/^\[|\]$/g,"")}return function(N){for(var F={},K=0,W=0;K<T;K+=1){var j=k[K];if(typeof j=="string")W+=j.length;else{var Y=j.regex,oe=j.parser,te=N.slice(W),ne=Y.exec(te)[0];oe.call(F,ne),N=N.replace(ne,"")}}return function(H){var ee=H.afternoon;if(ee!==void 0){var pe=H.hours;ee?pe<12&&(H.hours+=12):pe===12&&(H.hours=0),delete H.afternoon}}(F),F}}return function(h,b,v){v.p.customParseFormat=!0,h&&h.parseTwoDigitYear&&(a=h.parseTwoDigitYear);var k=b.prototype,T=k.parse;k.parse=function(E){var P=E.date,R=E.utc,L=E.args;this.$u=R;var A=L[1];if(typeof A=="string"){var N=L[2]===!0,F=L[3]===!0,K=N||F,W=L[2];F&&(W=L[2]),o=this.$locale(),!N&&W&&(o=v.Ls[W]),this.$d=function(te,ne,H){try{if(["x","X"].indexOf(ne)>-1)return new Date((ne==="X"?1e3:1)*te);var ee=_(ne)(te),pe=ee.year,ue=ee.month,ie=ee.day,me=ee.hours,Se=ee.minutes,$e=ee.seconds,He=ee.milliseconds,we=ee.zone,je=new Date,Re=ie||(pe||ue?1:je.getDate()),Oe=pe||je.getFullYear(),Ze=0;pe&&!ue||(Ze=ue>0?ue-1:je.getMonth());var Ke=me||0,tt=Se||0,ot=$e||0,nt=He||0;return we?new Date(Date.UTC(Oe,Ze,Re,Ke,tt,ot,nt+60*we.offset*1e3)):H?new Date(Date.UTC(Oe,Ze,Re,Ke,tt,ot,nt)):new Date(Oe,Ze,Re,Ke,tt,ot,nt)}catch(ze){return new Date("")}}(P,A,R),this.init(),W&&W!==!0&&(this.$L=this.locale(W).$L),K&&P!=this.format(A)&&(this.$d=new Date("")),o={}}else if(A instanceof Array)for(var j=A.length,Y=1;Y<=j;Y+=1){L[1]=A[Y-1];var oe=v.apply(this,L);if(oe.isValid()){this.$d=oe.$d,this.$L=oe.$L,this.init();break}Y===j&&(this.$d=new Date(""))}else T.call(this,E)}}})})(Q4);const gy=Q4.exports;var X4={exports:{}};(function(r,e){(function(t,n){r.exports=n()})(Pi,function(){var t,n,l=1e3,s=6e4,i=36e5,o=864e5,a=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=31536e6,c=2592e6,f=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,m={years:u,months:c,days:o,hours:i,minutes:s,seconds:l,milliseconds:1,weeks:6048e5},d=function(P){return P instanceof E},_=function(P,R,L){return new E(P,L,R.$l)},h=function(P){return n.p(P)+"s"},b=function(P){return P<0},v=function(P){return b(P)?Math.ceil(P):Math.floor(P)},k=function(P){return Math.abs(P)},T=function(P,R){return P?b(P)?{negative:!0,format:""+k(P)+R}:{negative:!1,format:""+P+R}:{negative:!1,format:""}},E=function(){function P(L,A,N){var F=this;if(this.$d={},this.$l=N,L===void 0&&(this.$ms=0,this.parseFromMilliseconds()),A)return _(L*m[h(A)],this);if(typeof L=="number")return this.$ms=L,this.parseFromMilliseconds(),this;if(typeof L=="object")return Object.keys(L).forEach(function(j){F.$d[h(j)]=L[j]}),this.calMilliseconds(),this;if(typeof L=="string"){var K=L.match(f);if(K){var W=K.slice(2).map(function(j){return j!=null?Number(j):0});return this.$d.years=W[0],this.$d.months=W[1],this.$d.weeks=W[2],this.$d.days=W[3],this.$d.hours=W[4],this.$d.minutes=W[5],this.$d.seconds=W[6],this.calMilliseconds(),this}}return this}var R=P.prototype;return R.calMilliseconds=function(){var L=this;this.$ms=Object.keys(this.$d).reduce(function(A,N){return A+(L.$d[N]||0)*m[N]},0)},R.parseFromMilliseconds=function(){var L=this.$ms;this.$d.years=v(L/u),L%=u,this.$d.months=v(L/c),L%=c,this.$d.days=v(L/o),L%=o,this.$d.hours=v(L/i),L%=i,this.$d.minutes=v(L/s),L%=s,this.$d.seconds=v(L/l),L%=l,this.$d.milliseconds=L},R.toISOString=function(){var L=T(this.$d.years,"Y"),A=T(this.$d.months,"M"),N=+this.$d.days||0;this.$d.weeks&&(N+=7*this.$d.weeks);var F=T(N,"D"),K=T(this.$d.hours,"H"),W=T(this.$d.minutes,"M"),j=this.$d.seconds||0;this.$d.milliseconds&&(j+=this.$d.milliseconds/1e3);var Y=T(j,"S"),oe=L.negative||A.negative||F.negative||K.negative||W.negative||Y.negative,te=K.format||W.format||Y.format?"T":"",ne=(oe?"-":"")+"P"+L.format+A.format+F.format+te+K.format+W.format+Y.format;return ne==="P"||ne==="-P"?"P0D":ne},R.toJSON=function(){return this.toISOString()},R.format=function(L){var A=L||"YYYY-MM-DDTHH:mm:ss",N={Y:this.$d.years,YY:n.s(this.$d.years,2,"0"),YYYY:n.s(this.$d.years,4,"0"),M:this.$d.months,MM:n.s(this.$d.months,2,"0"),D:this.$d.days,DD:n.s(this.$d.days,2,"0"),H:this.$d.hours,HH:n.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:n.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:n.s(this.$d.seconds,2,"0"),SSS:n.s(this.$d.milliseconds,3,"0")};return A.replace(a,function(F,K){return K||String(N[F])})},R.as=function(L){return this.$ms/m[h(L)]},R.get=function(L){var A=this.$ms,N=h(L);return N==="milliseconds"?A%=1e3:A=N==="weeks"?v(A/m[N]):this.$d[N],A===0?0:A},R.add=function(L,A,N){var F;return F=A?L*m[h(A)]:d(L)?L.$ms:_(L,this).$ms,_(this.$ms+F*(N?-1:1),this)},R.subtract=function(L,A){return this.add(L,A,!0)},R.locale=function(L){var A=this.clone();return A.$l=L,A},R.clone=function(){return _(this.$ms,this)},R.humanize=function(L){return t().add(this.$ms,"ms").locale(this.$l).fromNow(!L)},R.milliseconds=function(){return this.get("milliseconds")},R.asMilliseconds=function(){return this.as("milliseconds")},R.seconds=function(){return this.get("seconds")},R.asSeconds=function(){return this.as("seconds")},R.minutes=function(){return this.get("minutes")},R.asMinutes=function(){return this.as("minutes")},R.hours=function(){return this.get("hours")},R.asHours=function(){return this.as("hours")},R.days=function(){return this.get("days")},R.asDays=function(){return this.as("days")},R.weeks=function(){return this.get("weeks")},R.asWeeks=function(){return this.as("weeks")},R.months=function(){return this.get("months")},R.asMonths=function(){return this.as("months")},R.years=function(){return this.get("years")},R.asYears=function(){return this.as("years")},P}();return function(P,R,L){t=L,n=L().$utils(),L.duration=function(F,K){var W=L.locale();return _(F,{$l:W},K)},L.isDuration=d;var A=R.prototype.add,N=R.prototype.subtract;R.prototype.add=function(F,K){return d(F)&&(F=F.asMilliseconds()),A.bind(this)(F,K)},R.prototype.subtract=function(F,K){return d(F)&&(F=F.asMilliseconds()),N.bind(this)(F,K)}}})})(X4);const hy=X4.exports;nn.extend(gy);nn.extend(hy);let Zf=0;function fl(){return Zf+=1,`_global-id-${Zf}`}function J4(r){return typeof r=="object"&&r!==null}function by(r){return typeof r=="number"}function Rl(r,e){return J4(r)&&e in r}function fa(r,e){return Rl(r,e)&&typeof r[e]=="string"}function mn(r){return r!=null}function mi(r,e){return mn(r)?r:e}function xf(r){if(r===0)return"0 B";const e=Math.floor(Math.log(r)/Math.log(1024)),t=r/1024**e,n=" KMGTP".charAt(e);return`${t.toFixed(2)} ${n}B`}function As(r,e="label"){return fa(r,e)?r[e]:r===void 0?"":String(r)}function Z4(r){const e=r-1;return e*e*e+1}function em(r){return Object.prototype.toString.call(r)==="[object Date]"}function Ru(r,e){if(r===e||r!==r)return()=>r;const t=typeof r;if(t!==typeof e||Array.isArray(r)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(r)){const n=e.map((l,s)=>Ru(r[s],l));return l=>n.map(s=>s(l))}if(t==="object"){if(!r||!e)throw new Error("Object cannot be null");if(em(r)&&em(e)){r=r.getTime(),e=e.getTime();const s=e-r;return i=>new Date(r+i*s)}const n=Object.keys(e),l={};return n.forEach(s=>{l[s]=Ru(r[s],e[s])}),s=>{const i={};return n.forEach(o=>{i[o]=l[o](s)}),i}}if(t==="number"){const n=e-r;return l=>r+l*n}throw new Error(`Cannot interpolate ${t} values`)}function $y(r,e={}){const t=Ge(r);let n,l=r;function s(i,o){if(r==null)return t.set(r=i),Promise.resolve();l=i;let a=n,u=!1,{delay:c=0,duration:f=400,easing:m=Yl,interpolate:d=Ru}=x(x({},e),o);if(f===0)return a&&(a.abort(),a=null),t.set(r=l),Promise.resolve();const _=Mi()+c;let h;return n=Ai(b=>{if(b<_)return!0;u||(h=d(r,i),typeof f=="function"&&(f=f(r,i)),u=!0),a&&(a.abort(),a=null);const v=b-_;return v>f?(t.set(r=i),!1):(t.set(r=h(m(v/f))),!0)}),n.promise}return{set:s,update:(i,o)=>s(i(l,r),o),subscribe:t.subscribe}}const wy={allowPause:!0,duration:0};function vy(r,e={}){const t={...wy,...e},n=$y(r,t);let l=!1,s=r,i=r,{duration:o}=t,a=()=>{};function u(){return new Promise(_=>{a=_})}function c(_,h){var v;s=_,o=(v=h==null?void 0:h.duration)!=null?v:t.duration;const b=u();return n.update((k,T)=>(i=T,_),h).then(a),b}function f(_,h){var v;o=(v=h==null?void 0:h.duration)!=null?v:t.duration,i=Qe(n),s=_(s,i);const b=u();return n.set(s,h).then(a),b}function m(){!t.allowPause||(l=!0,n.update((_,h)=>(s=_,h),{duration:0}))}function d(){if(!l)return;const _=Qe(n),h=(s-i)/o,b=(s-_)/h;n.set(s,{duration:b}).then(a)}return{update:f,set:c,subscribe:n.subscribe,pause:m,resume:d}}function ky(r){return typeof r=="object"&&r!==null&&"subscribe"in r&&typeof r.subscribe=="function"}function Kn(r){return ky(r)?r:Tl(r)}function yy(r){return at(r,(e,t)=>e.subscribe(t))}function Sy(r,e,t){const n=[...r];return n[e]=t,n}function Js(r){let e=[];return Tl(e,t=>{const n=r.map((l,s)=>l.subscribe(i=>{e=Sy(e,s,i),t(e)}));return()=>n.forEach(l=>l())})}function Cy(r,e){let t=0,n=[];function l(s){const i=r.subscribe(s);return t+=1,t===1&&(n=e.map(o=>o())),()=>{i(),t-=1,t===0&&(n.forEach(o=>o()),n=[])}}return{...r,subscribe:l}}const Pu="validationContext";class Ty{constructor(){re(this,"validationResult",Ge(!0));re(this,"validationFunctionMap",new Map)}validate(){let e=!0;for(const t of this.validationFunctionMap.values())e=e&&t();return this.validationResult.set(e),e}addValidator(e,t){this.validationFunctionMap.set(e,t),cl(()=>{this.validationFunctionMap.delete(e),this.validate()})}}function x4(){const r=new Ty;return Un(Pu,r),r}function e$(){if(!B4(Pu))throw Error("Validation context not present");return In(Pu)}function Dy(r){var m,d;const e=r.target,t=r.inputType,n=e.value,l=(m=e.selectionStart)!=null?m:0,s=(d=e.selectionEnd)!=null?d:n.length,i=l===s;let o=n.substring(0,l),a=n.substring(s,n.length);const u=(()=>{switch(t){case"insertText":case"insertFromPaste":case"insertFromDrop":return"insert";default:return"delete"}})(),c=(()=>{switch(t){case"deleteContentBackward":case"deleteWordBackward":return"backward";case"deleteContentForward":case"deleteWordForward":return"forward";default:return}})();u==="delete"&&i&&(c==="backward"?o=o.slice(0,-1):c==="forward"&&(a=a.slice(1,a.length)));const f=u==="insert"&&r.data||"";return{value:`${o}${f}${a}`,cursorPosition:o.length+f.length}}function tm(r){return r.target?r.target.value:void 0}function nm(r){return r.detail}function Ou(r){return r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Iy(r){return r.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function ko(r){return Iy(r).toLowerCase()}function Ey(r={}){return Object.fromEntries(Object.entries(r).filter(([,e])=>e!==void 0))}function My(r,e={}){return{...r,...Ey(e)}}function rm(r=0,e=100){return Math.floor(Math.random()*(e-r+1))+r}const Ay=r=>r.indexOf("--")===0;function di(r){return Object.entries(r).filter(e=>Ay(e[0])).map(e=>`${e[0]}: ${e[1]};`).join("")}function t$(...r){return r.filter(mn).map(e=>{const t=e.trim();return t.endsWith(";")?t:`${t};`}).join("")}function Ry(r,e){const t=[];for(let n=r;n<=e;n+=1)t.push(n);return t}function Py(r,e){let t=Math.max(r-2,1),n=Math.min(t+4,e);return n-t<4&&(t=Math.max(n-4,1)),n>e-2&&(t=Math.max(n-(6-(e-n)),1)),t<3&&(n=Math.min(n+2-(t-1),e)),{currentWindow:Ry(t,n),start:t,end:n,prevPageWindow:Math.max(t-3,1),nextPageWindow:Math.min(n+3,e)}}function n$(r,e){return Math.ceil(r/e)}function r$(r,e){let{callback:t,references:n}=e;function l(a){var c;!(n&&((c=Qe(n))==null?void 0:c.some(f=>{var m,d;return(d=(m=f==null?void 0:f.contains)==null?void 0:m.call(f,a.target))!=null?d:!1})))&&!r.contains(a.target)&&t(a)}const s="onpointerdown"in document.body?["pointerdown"]:["mousedown","contextmenu"];s.forEach(a=>{document.body.addEventListener(a,l,!0)});function i(a){t=a.callback,n=a.references}function o(){s.forEach(a=>{document.body.removeEventListener(a,l,!0)})}return{update:i,destroy:o}}var Lu={exports:{}};(function(r,e){(function(t,n){n(e)})(Pi,function(t){function n(ge){if(ge==null)return window;if(ge.toString()!=="[object Window]"){var _e=ge.ownerDocument;return _e&&_e.defaultView||window}return ge}function l(ge){return ge instanceof n(ge).Element||ge instanceof Element}function s(ge){return ge instanceof n(ge).HTMLElement||ge instanceof HTMLElement}function i(ge){return typeof ShadowRoot<"u"&&(ge instanceof n(ge).ShadowRoot||ge instanceof ShadowRoot)}var o=Math.max,a=Math.min,u=Math.round;function c(){var ge=navigator.userAgentData;return ge!=null&&ge.brands?ge.brands.map(function(_e){return _e.brand+"/"+_e.version}).join(" "):navigator.userAgent}function f(){return!/^((?!chrome|android).)*safari/i.test(c())}function m(ge,_e,V){_e===void 0&&(_e=!1),V===void 0&&(V=!1);var J=ge.getBoundingClientRect(),le=1,fe=1;_e&&s(ge)&&(le=ge.offsetWidth>0&&u(J.width)/ge.offsetWidth||1,fe=ge.offsetHeight>0&&u(J.height)/ge.offsetHeight||1);var Ce=(l(ge)?n(ge):window).visualViewport,Te=!f()&&V,qe=(J.left+(Te&&Ce?Ce.offsetLeft:0))/le,Ue=(J.top+(Te&&Ce?Ce.offsetTop:0))/fe,ke=J.width/le,Ae=J.height/fe;return{width:ke,height:Ae,top:Ue,right:qe+ke,bottom:Ue+Ae,left:qe,x:qe,y:Ue}}function d(ge){var _e=n(ge);return{scrollLeft:_e.pageXOffset,scrollTop:_e.pageYOffset}}function _(ge){return ge?(ge.nodeName||"").toLowerCase():null}function h(ge){return((l(ge)?ge.ownerDocument:ge.document)||window.document).documentElement}function b(ge){return m(h(ge)).left+d(ge).scrollLeft}function v(ge){return n(ge).getComputedStyle(ge)}function k(ge){var _e=v(ge),V=_e.overflow,J=_e.overflowX,le=_e.overflowY;return/auto|scroll|overlay|hidden/.test(V+le+J)}function T(ge,_e,V){V===void 0&&(V=!1);var J,le,fe=s(_e),Ce=s(_e)&&function(Ae){var et=Ae.getBoundingClientRect(),st=u(et.width)/Ae.offsetWidth||1,gt=u(et.height)/Ae.offsetHeight||1;return st!==1||gt!==1}(_e),Te=h(_e),qe=m(ge,Ce,V),Ue={scrollLeft:0,scrollTop:0},ke={x:0,y:0};return(fe||!fe&&!V)&&((_(_e)!=="body"||k(Te))&&(Ue=(J=_e)!==n(J)&&s(J)?{scrollLeft:(le=J).scrollLeft,scrollTop:le.scrollTop}:d(J)),s(_e)?((ke=m(_e,!0)).x+=_e.clientLeft,ke.y+=_e.clientTop):Te&&(ke.x=b(Te))),{x:qe.left+Ue.scrollLeft-ke.x,y:qe.top+Ue.scrollTop-ke.y,width:qe.width,height:qe.height}}function E(ge){var _e=m(ge),V=ge.offsetWidth,J=ge.offsetHeight;return Math.abs(_e.width-V)<=1&&(V=_e.width),Math.abs(_e.height-J)<=1&&(J=_e.height),{x:ge.offsetLeft,y:ge.offsetTop,width:V,height:J}}function P(ge){return _(ge)==="html"?ge:ge.assignedSlot||ge.parentNode||(i(ge)?ge.host:null)||h(ge)}function R(ge){return["html","body","#document"].indexOf(_(ge))>=0?ge.ownerDocument.body:s(ge)&&k(ge)?ge:R(P(ge))}function L(ge,_e){var V;_e===void 0&&(_e=[]);var J=R(ge),le=J===((V=ge.ownerDocument)==null?void 0:V.body),fe=n(J),Ce=le?[fe].concat(fe.visualViewport||[],k(J)?J:[]):J,Te=_e.concat(Ce);return le?Te:Te.concat(L(P(Ce)))}function A(ge){return["table","td","th"].indexOf(_(ge))>=0}function N(ge){return s(ge)&&v(ge).position!=="fixed"?ge.offsetParent:null}function F(ge){for(var _e=n(ge),V=N(ge);V&&A(V)&&v(V).position==="static";)V=N(V);return V&&(_(V)==="html"||_(V)==="body"&&v(V).position==="static")?_e:V||function(J){var le=/firefox/i.test(c());if(/Trident/i.test(c())&&s(J)&&v(J).position==="fixed")return null;var fe=P(J);for(i(fe)&&(fe=fe.host);s(fe)&&["html","body"].indexOf(_(fe))<0;){var Ce=v(fe);if(Ce.transform!=="none"||Ce.perspective!=="none"||Ce.contain==="paint"||["transform","perspective"].indexOf(Ce.willChange)!==-1||le&&Ce.willChange==="filter"||le&&Ce.filter&&Ce.filter!=="none")return fe;fe=fe.parentNode}return null}(ge)||_e}var K="top",W="bottom",j="right",Y="left",oe="auto",te=[K,W,j,Y],ne="start",H="end",ee="viewport",pe="popper",ue=te.reduce(function(ge,_e){return ge.concat([_e+"-"+ne,_e+"-"+H])},[]),ie=[].concat(te,[oe]).reduce(function(ge,_e){return ge.concat([_e,_e+"-"+ne,_e+"-"+H])},[]),me=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Se(ge){var _e=new Map,V=new Set,J=[];function le(fe){V.add(fe.name),[].concat(fe.requires||[],fe.requiresIfExists||[]).forEach(function(Ce){if(!V.has(Ce)){var Te=_e.get(Ce);Te&&le(Te)}}),J.push(fe)}return ge.forEach(function(fe){_e.set(fe.name,fe)}),ge.forEach(function(fe){V.has(fe.name)||le(fe)}),J}function $e(ge){return ge.split("-")[0]}function He(ge,_e){var V=_e.getRootNode&&_e.getRootNode();if(ge.contains(_e))return!0;if(V&&i(V)){var J=_e;do{if(J&&ge.isSameNode(J))return!0;J=J.parentNode||J.host}while(J)}return!1}function we(ge){return Object.assign({},ge,{left:ge.x,top:ge.y,right:ge.x+ge.width,bottom:ge.y+ge.height})}function je(ge,_e,V){return _e===ee?we(function(J,le){var fe=n(J),Ce=h(J),Te=fe.visualViewport,qe=Ce.clientWidth,Ue=Ce.clientHeight,ke=0,Ae=0;if(Te){qe=Te.width,Ue=Te.height;var et=f();(et||!et&&le==="fixed")&&(ke=Te.offsetLeft,Ae=Te.offsetTop)}return{width:qe,height:Ue,x:ke+b(J),y:Ae}}(ge,V)):l(_e)?function(J,le){var fe=m(J,!1,le==="fixed");return fe.top=fe.top+J.clientTop,fe.left=fe.left+J.clientLeft,fe.bottom=fe.top+J.clientHeight,fe.right=fe.left+J.clientWidth,fe.width=J.clientWidth,fe.height=J.clientHeight,fe.x=fe.left,fe.y=fe.top,fe}(_e,V):we(function(J){var le,fe=h(J),Ce=d(J),Te=(le=J.ownerDocument)==null?void 0:le.body,qe=o(fe.scrollWidth,fe.clientWidth,Te?Te.scrollWidth:0,Te?Te.clientWidth:0),Ue=o(fe.scrollHeight,fe.clientHeight,Te?Te.scrollHeight:0,Te?Te.clientHeight:0),ke=-Ce.scrollLeft+b(J),Ae=-Ce.scrollTop;return v(Te||fe).direction==="rtl"&&(ke+=o(fe.clientWidth,Te?Te.clientWidth:0)-qe),{width:qe,height:Ue,x:ke,y:Ae}}(h(ge)))}function Re(ge,_e,V,J){var le=_e==="clippingParents"?function(qe){var Ue=L(P(qe)),ke=["absolute","fixed"].indexOf(v(qe).position)>=0&&s(qe)?F(qe):qe;return l(ke)?Ue.filter(function(Ae){return l(Ae)&&He(Ae,ke)&&_(Ae)!=="body"}):[]}(ge):[].concat(_e),fe=[].concat(le,[V]),Ce=fe[0],Te=fe.reduce(function(qe,Ue){var ke=je(ge,Ue,J);return qe.top=o(ke.top,qe.top),qe.right=a(ke.right,qe.right),qe.bottom=a(ke.bottom,qe.bottom),qe.left=o(ke.left,qe.left),qe},je(ge,Ce,J));return Te.width=Te.right-Te.left,Te.height=Te.bottom-Te.top,Te.x=Te.left,Te.y=Te.top,Te}function Oe(ge){return ge.split("-")[1]}function Ze(ge){return["top","bottom"].indexOf(ge)>=0?"x":"y"}function Ke(ge){var _e,V=ge.reference,J=ge.element,le=ge.placement,fe=le?$e(le):null,Ce=le?Oe(le):null,Te=V.x+V.width/2-J.width/2,qe=V.y+V.height/2-J.height/2;switch(fe){case K:_e={x:Te,y:V.y-J.height};break;case W:_e={x:Te,y:V.y+V.height};break;case j:_e={x:V.x+V.width,y:qe};break;case Y:_e={x:V.x-J.width,y:qe};break;default:_e={x:V.x,y:V.y}}var Ue=fe?Ze(fe):null;if(Ue!=null){var ke=Ue==="y"?"height":"width";switch(Ce){case ne:_e[Ue]=_e[Ue]-(V[ke]/2-J[ke]/2);break;case H:_e[Ue]=_e[Ue]+(V[ke]/2-J[ke]/2)}}return _e}function tt(ge){return Object.assign({},{top:0,right:0,bottom:0,left:0},ge)}function ot(ge,_e){return _e.reduce(function(V,J){return V[J]=ge,V},{})}function nt(ge,_e){_e===void 0&&(_e={});var V=_e,J=V.placement,le=J===void 0?ge.placement:J,fe=V.strategy,Ce=fe===void 0?ge.strategy:fe,Te=V.boundary,qe=Te===void 0?"clippingParents":Te,Ue=V.rootBoundary,ke=Ue===void 0?ee:Ue,Ae=V.elementContext,et=Ae===void 0?pe:Ae,st=V.altBoundary,gt=st!==void 0&&st,$t=V.padding,wt=$t===void 0?0:$t,Ot=tt(typeof wt!="number"?wt:ot(wt,te)),jt=et===pe?"reference":pe,Mt=ge.rects.popper,Ft=ge.elements[gt?jt:et],yt=Re(l(Ft)?Ft:Ft.contextElement||h(ge.elements.popper),qe,ke,Ce),Tt=m(ge.elements.reference),zt=Ke({reference:Tt,element:Mt,strategy:"absolute",placement:le}),Bt=we(Object.assign({},Mt,zt)),Ht=et===pe?Bt:Tt,cn={top:yt.top-Ht.top+Ot.top,bottom:Ht.bottom-yt.bottom+Ot.bottom,left:yt.left-Ht.left+Ot.left,right:Ht.right-yt.right+Ot.right},Pn=ge.modifiersData.offset;if(et===pe&&Pn){var hr=Pn[le];Object.keys(cn).forEach(function(br){var Yr=[j,W].indexOf(br)>=0?1:-1,xn=[K,W].indexOf(br)>=0?"y":"x";cn[br]+=hr[xn]*Yr})}return cn}var ze={placement:"bottom",modifiers:[],strategy:"absolute"};function Xe(){for(var ge=arguments.length,_e=new Array(ge),V=0;V<ge;V++)_e[V]=arguments[V];return!_e.some(function(J){return!(J&&typeof J.getBoundingClientRect=="function")})}function ct(ge){ge===void 0&&(ge={});var _e=ge,V=_e.defaultModifiers,J=V===void 0?[]:V,le=_e.defaultOptions,fe=le===void 0?ze:le;return function(Ce,Te,qe){qe===void 0&&(qe=fe);var Ue,ke,Ae={placement:"bottom",orderedModifiers:[],options:Object.assign({},ze,fe),modifiersData:{},elements:{reference:Ce,popper:Te},attributes:{},styles:{}},et=[],st=!1,gt={state:Ae,setOptions:function(wt){var Ot=typeof wt=="function"?wt(Ae.options):wt;$t(),Ae.options=Object.assign({},fe,Ae.options,Ot),Ae.scrollParents={reference:l(Ce)?L(Ce):Ce.contextElement?L(Ce.contextElement):[],popper:L(Te)};var jt,Mt,Ft=function(yt){var Tt=Se(yt);return me.reduce(function(zt,Bt){return zt.concat(Tt.filter(function(Ht){return Ht.phase===Bt}))},[])}((jt=[].concat(J,Ae.options.modifiers),Mt=jt.reduce(function(yt,Tt){var zt=yt[Tt.name];return yt[Tt.name]=zt?Object.assign({},zt,Tt,{options:Object.assign({},zt.options,Tt.options),data:Object.assign({},zt.data,Tt.data)}):Tt,yt},{}),Object.keys(Mt).map(function(yt){return Mt[yt]})));return Ae.orderedModifiers=Ft.filter(function(yt){return yt.enabled}),Ae.orderedModifiers.forEach(function(yt){var Tt=yt.name,zt=yt.options,Bt=zt===void 0?{}:zt,Ht=yt.effect;if(typeof Ht=="function"){var cn=Ht({state:Ae,name:Tt,instance:gt,options:Bt}),Pn=function(){};et.push(cn||Pn)}}),gt.update()},forceUpdate:function(){if(!st){var wt=Ae.elements,Ot=wt.reference,jt=wt.popper;if(Xe(Ot,jt)){Ae.rects={reference:T(Ot,F(jt),Ae.options.strategy==="fixed"),popper:E(jt)},Ae.reset=!1,Ae.placement=Ae.options.placement,Ae.orderedModifiers.forEach(function(Ht){return Ae.modifiersData[Ht.name]=Object.assign({},Ht.data)});for(var Mt=0;Mt<Ae.orderedModifiers.length;Mt++)if(Ae.reset!==!0){var Ft=Ae.orderedModifiers[Mt],yt=Ft.fn,Tt=Ft.options,zt=Tt===void 0?{}:Tt,Bt=Ft.name;typeof yt=="function"&&(Ae=yt({state:Ae,options:zt,name:Bt,instance:gt})||Ae)}else Ae.reset=!1,Mt=-1}}},update:(Ue=function(){return new Promise(function(wt){gt.forceUpdate(),wt(Ae)})},function(){return ke||(ke=new Promise(function(wt){Promise.resolve().then(function(){ke=void 0,wt(Ue())})})),ke}),destroy:function(){$t(),st=!0}};if(!Xe(Ce,Te))return gt;function $t(){et.forEach(function(wt){return wt()}),et=[]}return gt.setOptions(qe).then(function(wt){!st&&qe.onFirstUpdate&&qe.onFirstUpdate(wt)}),gt}}var Ve={passive:!0},We={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(ge){var _e=ge.state,V=ge.instance,J=ge.options,le=J.scroll,fe=le===void 0||le,Ce=J.resize,Te=Ce===void 0||Ce,qe=n(_e.elements.popper),Ue=[].concat(_e.scrollParents.reference,_e.scrollParents.popper);return fe&&Ue.forEach(function(ke){ke.addEventListener("scroll",V.update,Ve)}),Te&&qe.addEventListener("resize",V.update,Ve),function(){fe&&Ue.forEach(function(ke){ke.removeEventListener("scroll",V.update,Ve)}),Te&&qe.removeEventListener("resize",V.update,Ve)}},data:{}},Je={name:"popperOffsets",enabled:!0,phase:"read",fn:function(ge){var _e=ge.state,V=ge.name;_e.modifiersData[V]=Ke({reference:_e.rects.reference,element:_e.rects.popper,strategy:"absolute",placement:_e.placement})},data:{}},bt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _t(ge){var _e,V=ge.popper,J=ge.popperRect,le=ge.placement,fe=ge.variation,Ce=ge.offsets,Te=ge.position,qe=ge.gpuAcceleration,Ue=ge.adaptive,ke=ge.roundOffsets,Ae=ge.isFixed,et=Ce.x,st=et===void 0?0:et,gt=Ce.y,$t=gt===void 0?0:gt,wt=typeof ke=="function"?ke({x:st,y:$t}):{x:st,y:$t};st=wt.x,$t=wt.y;var Ot=Ce.hasOwnProperty("x"),jt=Ce.hasOwnProperty("y"),Mt=Y,Ft=K,yt=window;if(Ue){var Tt=F(V),zt="clientHeight",Bt="clientWidth";Tt===n(V)&&v(Tt=h(V)).position!=="static"&&Te==="absolute"&&(zt="scrollHeight",Bt="scrollWidth"),Tt=Tt,(le===K||(le===Y||le===j)&&fe===H)&&(Ft=W,$t-=(Ae&&Tt===yt&&yt.visualViewport?yt.visualViewport.height:Tt[zt])-J.height,$t*=qe?1:-1),(le===Y||(le===K||le===W)&&fe===H)&&(Mt=j,st-=(Ae&&Tt===yt&&yt.visualViewport?yt.visualViewport.width:Tt[Bt])-J.width,st*=qe?1:-1)}var Ht,cn=Object.assign({position:Te},Ue&&bt),Pn=ke===!0?function(hr){var br=hr.x,Yr=hr.y,xn=window.devicePixelRatio||1;return{x:u(br*xn)/xn||0,y:u(Yr*xn)/xn||0}}({x:st,y:$t}):{x:st,y:$t};return st=Pn.x,$t=Pn.y,qe?Object.assign({},cn,((Ht={})[Ft]=jt?"0":"",Ht[Mt]=Ot?"0":"",Ht.transform=(yt.devicePixelRatio||1)<=1?"translate("+st+"px, "+$t+"px)":"translate3d("+st+"px, "+$t+"px, 0)",Ht)):Object.assign({},cn,((_e={})[Ft]=jt?$t+"px":"",_e[Mt]=Ot?st+"px":"",_e.transform="",_e))}var xe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(ge){var _e=ge.state,V=ge.options,J=V.gpuAcceleration,le=J===void 0||J,fe=V.adaptive,Ce=fe===void 0||fe,Te=V.roundOffsets,qe=Te===void 0||Te,Ue={placement:$e(_e.placement),variation:Oe(_e.placement),popper:_e.elements.popper,popperRect:_e.rects.popper,gpuAcceleration:le,isFixed:_e.options.strategy==="fixed"};_e.modifiersData.popperOffsets!=null&&(_e.styles.popper=Object.assign({},_e.styles.popper,_t(Object.assign({},Ue,{offsets:_e.modifiersData.popperOffsets,position:_e.options.strategy,adaptive:Ce,roundOffsets:qe})))),_e.modifiersData.arrow!=null&&(_e.styles.arrow=Object.assign({},_e.styles.arrow,_t(Object.assign({},Ue,{offsets:_e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:qe})))),_e.attributes.popper=Object.assign({},_e.attributes.popper,{"data-popper-placement":_e.placement})},data:{}},mt={name:"applyStyles",enabled:!0,phase:"write",fn:function(ge){var _e=ge.state;Object.keys(_e.elements).forEach(function(V){var J=_e.styles[V]||{},le=_e.attributes[V]||{},fe=_e.elements[V];s(fe)&&_(fe)&&(Object.assign(fe.style,J),Object.keys(le).forEach(function(Ce){var Te=le[Ce];Te===!1?fe.removeAttribute(Ce):fe.setAttribute(Ce,Te===!0?"":Te)}))})},effect:function(ge){var _e=ge.state,V={popper:{position:_e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(_e.elements.popper.style,V.popper),_e.styles=V,_e.elements.arrow&&Object.assign(_e.elements.arrow.style,V.arrow),function(){Object.keys(_e.elements).forEach(function(J){var le=_e.elements[J],fe=_e.attributes[J]||{},Ce=Object.keys(_e.styles.hasOwnProperty(J)?_e.styles[J]:V[J]).reduce(function(Te,qe){return Te[qe]="",Te},{});s(le)&&_(le)&&(Object.assign(le.style,Ce),Object.keys(fe).forEach(function(Te){le.removeAttribute(Te)}))})}},requires:["computeStyles"]},kt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(ge){var _e=ge.state,V=ge.options,J=ge.name,le=V.offset,fe=le===void 0?[0,0]:le,Ce=ie.reduce(function(ke,Ae){return ke[Ae]=function(et,st,gt){var $t=$e(et),wt=[Y,K].indexOf($t)>=0?-1:1,Ot=typeof gt=="function"?gt(Object.assign({},st,{placement:et})):gt,jt=Ot[0],Mt=Ot[1];return jt=jt||0,Mt=(Mt||0)*wt,[Y,j].indexOf($t)>=0?{x:Mt,y:jt}:{x:jt,y:Mt}}(Ae,_e.rects,fe),ke},{}),Te=Ce[_e.placement],qe=Te.x,Ue=Te.y;_e.modifiersData.popperOffsets!=null&&(_e.modifiersData.popperOffsets.x+=qe,_e.modifiersData.popperOffsets.y+=Ue),_e.modifiersData[J]=Ce}},Wt={left:"right",right:"left",bottom:"top",top:"bottom"};function Pt(ge){return ge.replace(/left|right|bottom|top/g,function(_e){return Wt[_e]})}var rt={start:"end",end:"start"};function Kt(ge){return ge.replace(/start|end/g,function(_e){return rt[_e]})}function bn(ge,_e){_e===void 0&&(_e={});var V=_e,J=V.placement,le=V.boundary,fe=V.rootBoundary,Ce=V.padding,Te=V.flipVariations,qe=V.allowedAutoPlacements,Ue=qe===void 0?ie:qe,ke=Oe(J),Ae=ke?Te?ue:ue.filter(function(gt){return Oe(gt)===ke}):te,et=Ae.filter(function(gt){return Ue.indexOf(gt)>=0});et.length===0&&(et=Ae);var st=et.reduce(function(gt,$t){return gt[$t]=nt(ge,{placement:$t,boundary:le,rootBoundary:fe,padding:Ce})[$e($t)],gt},{});return Object.keys(st).sort(function(gt,$t){return st[gt]-st[$t]})}var Jt={name:"flip",enabled:!0,phase:"main",fn:function(ge){var _e=ge.state,V=ge.options,J=ge.name;if(!_e.modifiersData[J]._skip){for(var le=V.mainAxis,fe=le===void 0||le,Ce=V.altAxis,Te=Ce===void 0||Ce,qe=V.fallbackPlacements,Ue=V.padding,ke=V.boundary,Ae=V.rootBoundary,et=V.altBoundary,st=V.flipVariations,gt=st===void 0||st,$t=V.allowedAutoPlacements,wt=_e.options.placement,Ot=$e(wt),jt=qe||(Ot===wt||!gt?[Pt(wt)]:function($r){if($e($r)===oe)return[];var wr=Pt($r);return[Kt($r),wr,Kt(wr)]}(wt)),Mt=[wt].concat(jt).reduce(function($r,wr){return $r.concat($e(wr)===oe?bn(_e,{placement:wr,boundary:ke,rootBoundary:Ae,padding:Ue,flipVariations:gt,allowedAutoPlacements:$t}):wr)},[]),Ft=_e.rects.reference,yt=_e.rects.popper,Tt=new Map,zt=!0,Bt=Mt[0],Ht=0;Ht<Mt.length;Ht++){var cn=Mt[Ht],Pn=$e(cn),hr=Oe(cn)===ne,br=[K,W].indexOf(Pn)>=0,Yr=br?"width":"height",xn=nt(_e,{placement:cn,boundary:ke,rootBoundary:Ae,altBoundary:et,padding:Ue}),Yn=br?hr?j:Y:hr?W:K;Ft[Yr]>yt[Yr]&&(Yn=Pt(Yn));var wl=Pt(Yn),zl=[];if(fe&&zl.push(xn[Pn]<=0),Te&&zl.push(xn[Yn]<=0,xn[wl]<=0),zl.every(function($r){return $r})){Bt=cn,zt=!1;break}Tt.set(cn,zl)}if(zt)for(var Xi=function($r){var wr=Mt.find(function(Ji){var Zi=Tt.get(Ji);if(Zi)return Zi.slice(0,$r).every(function(xi){return xi})});if(wr)return Bt=wr,"break"},xl=gt?3:1;xl>0&&Xi(xl)!=="break";xl--);_e.placement!==Bt&&(_e.modifiersData[J]._skip=!0,_e.placement=Bt,_e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function lt(ge,_e,V){return o(ge,a(_e,V))}var Nt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(ge){var _e=ge.state,V=ge.options,J=ge.name,le=V.mainAxis,fe=le===void 0||le,Ce=V.altAxis,Te=Ce!==void 0&&Ce,qe=V.boundary,Ue=V.rootBoundary,ke=V.altBoundary,Ae=V.padding,et=V.tether,st=et===void 0||et,gt=V.tetherOffset,$t=gt===void 0?0:gt,wt=nt(_e,{boundary:qe,rootBoundary:Ue,padding:Ae,altBoundary:ke}),Ot=$e(_e.placement),jt=Oe(_e.placement),Mt=!jt,Ft=Ze(Ot),yt=Ft==="x"?"y":"x",Tt=_e.modifiersData.popperOffsets,zt=_e.rects.reference,Bt=_e.rects.popper,Ht=typeof $t=="function"?$t(Object.assign({},_e.rects,{placement:_e.placement})):$t,cn=typeof Ht=="number"?{mainAxis:Ht,altAxis:Ht}:Object.assign({mainAxis:0,altAxis:0},Ht),Pn=_e.modifiersData.offset?_e.modifiersData.offset[_e.placement]:null,hr={x:0,y:0};if(Tt){if(fe){var br,Yr=Ft==="y"?K:Y,xn=Ft==="y"?W:j,Yn=Ft==="y"?"height":"width",wl=Tt[Ft],zl=wl+wt[Yr],Xi=wl-wt[xn],xl=st?-Bt[Yn]/2:0,$r=jt===ne?zt[Yn]:Bt[Yn],wr=jt===ne?-Bt[Yn]:-zt[Yn],Ji=_e.elements.arrow,Zi=st&&Ji?E(Ji):{width:0,height:0},xi=_e.modifiersData["arrow#persistent"]?_e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Ff=xi[Yr],zf=xi[xn],eo=lt(0,zt[Yn],Zi[Yn]),Uk=Mt?zt[Yn]/2-xl-eo-Ff-cn.mainAxis:$r-eo-Ff-cn.mainAxis,Wk=Mt?-zt[Yn]/2+xl+eo+zf+cn.mainAxis:wr+eo+zf+cn.mainAxis,eu=_e.elements.arrow&&F(_e.elements.arrow),Bk=eu?Ft==="y"?eu.clientTop||0:eu.clientLeft||0:0,Hf=(br=Pn==null?void 0:Pn[Ft])!=null?br:0,jk=wl+Wk-Hf,Vf=lt(st?a(zl,wl+Uk-Hf-Bk):zl,wl,st?o(Xi,jk):Xi);Tt[Ft]=Vf,hr[Ft]=Vf-wl}if(Te){var qf,Yk=Ft==="x"?K:Y,Kk=Ft==="x"?W:j,Hl=Tt[yt],to=yt==="y"?"height":"width",Uf=Hl+wt[Yk],Wf=Hl-wt[Kk],tu=[K,Y].indexOf(Ot)!==-1,Bf=(qf=Pn==null?void 0:Pn[yt])!=null?qf:0,jf=tu?Uf:Hl-zt[to]-Bt[to]-Bf+cn.altAxis,Yf=tu?Hl+zt[to]+Bt[to]-Bf-cn.altAxis:Wf,Kf=st&&tu?function(Gk,Qk,nu){var Gf=lt(Gk,Qk,nu);return Gf>nu?nu:Gf}(jf,Hl,Yf):lt(st?jf:Uf,Hl,st?Yf:Wf);Tt[yt]=Kf,hr[yt]=Kf-Hl}_e.modifiersData[J]=hr}},requiresIfExists:["offset"]},Ct={name:"arrow",enabled:!0,phase:"main",fn:function(ge){var _e,V=ge.state,J=ge.name,le=ge.options,fe=V.elements.arrow,Ce=V.modifiersData.popperOffsets,Te=$e(V.placement),qe=Ze(Te),Ue=[Y,j].indexOf(Te)>=0?"height":"width";if(fe&&Ce){var ke=function(Bt,Ht){return tt(typeof(Bt=typeof Bt=="function"?Bt(Object.assign({},Ht.rects,{placement:Ht.placement})):Bt)!="number"?Bt:ot(Bt,te))}(le.padding,V),Ae=E(fe),et=qe==="y"?K:Y,st=qe==="y"?W:j,gt=V.rects.reference[Ue]+V.rects.reference[qe]-Ce[qe]-V.rects.popper[Ue],$t=Ce[qe]-V.rects.reference[qe],wt=F(fe),Ot=wt?qe==="y"?wt.clientHeight||0:wt.clientWidth||0:0,jt=gt/2-$t/2,Mt=ke[et],Ft=Ot-Ae[Ue]-ke[st],yt=Ot/2-Ae[Ue]/2+jt,Tt=lt(Mt,yt,Ft),zt=qe;V.modifiersData[J]=((_e={})[zt]=Tt,_e.centerOffset=Tt-yt,_e)}},effect:function(ge){var _e=ge.state,V=ge.options.element,J=V===void 0?"[data-popper-arrow]":V;J!=null&&(typeof J!="string"||(J=_e.elements.popper.querySelector(J)))&&He(_e.elements.popper,J)&&(_e.elements.arrow=J)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Mn(ge,_e,V){return V===void 0&&(V={x:0,y:0}),{top:ge.top-_e.height-V.y,right:ge.right-_e.width+V.x,bottom:ge.bottom-_e.height+V.y,left:ge.left-_e.width-V.x}}function $l(ge){return[K,j,W,Y].some(function(_e){return ge[_e]>=0})}var Fl={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(ge){var _e=ge.state,V=ge.name,J=_e.rects.reference,le=_e.rects.popper,fe=_e.modifiersData.preventOverflow,Ce=nt(_e,{elementContext:"reference"}),Te=nt(_e,{altBoundary:!0}),qe=Mn(Ce,J),Ue=Mn(Te,le,fe),ke=$l(qe),Ae=$l(Ue);_e.modifiersData[V]={referenceClippingOffsets:qe,popperEscapeOffsets:Ue,isReferenceHidden:ke,hasPopperEscaped:Ae},_e.attributes.popper=Object.assign({},_e.attributes.popper,{"data-popper-reference-hidden":ke,"data-popper-escaped":Ae})}},Br=ct({defaultModifiers:[We,Je,xe,mt]}),jr=[We,Je,xe,mt,kt,Jt,Nt,Ct,Fl],jn=ct({defaultModifiers:jr});t.applyStyles=mt,t.arrow=Ct,t.computeStyles=xe,t.createPopper=jn,t.createPopperLite=Br,t.defaultModifiers=jr,t.detectOverflow=nt,t.eventListeners=We,t.flip=Jt,t.hide=Fl,t.offset=kt,t.popperGenerator=ct,t.popperOffsets=Je,t.preventOverflow=Nt,Object.defineProperty(t,"__esModule",{value:!0})})})(Lu,Lu.exports);function Oy(r){const e=[{name:"flip"},{name:"preventOverflow",options:{altAxis:!0}},{name:"offset",options:{offset:[0,0]}}],t=[{name:"setMinWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:l=>{const s=Math.min(250,l.state.rects.reference.width);l.state.styles.popper.minWidth=`${s}px`},effect:l=>{const s=l.state.elements.reference.offsetWidth,i=Math.min(250,s);l.state.elements.popper.style.minWidth=`${i}px`}}],n=[...e,...t];return r.forEach(l=>{const s=n.findIndex(i=>i.name===l.name);s===-1?n.push(l):n[s]=l}),n}function fc(r,e){let t,n;function l(o,a){var u;!o||(t=Lu.exports.createPopper(o,r,{placement:(a==null?void 0:a.placement)||"bottom-start",modifiers:Oy((u=a==null?void 0:a.modifiers)!=null?u:[])}))}function s(){t==null||t.destroy(),n=void 0}function i(o){const{reference:a,options:u}=o;if(!a){s();return}if(!t){l(a,u);return}if(n!==a){s(),l(a,u),n=a;return}u&&t.setOptions(u)}return l(e.reference,e.options),{update:i,destroy:s}}function Rs(r,e){var s;const t=(s=e!=null?e:document.querySelector("body"))!=null?s:void 0;function n(i){i&&i instanceof HTMLElement&&i.appendChild(r)}function l(){var i;(i=r.parentElement)==null||i.removeChild(r)}return n(t),{update:n,destroy:l}}const Ly={onMove:()=>{},onStart:()=>{},onStop:()=>{},min:0,max:1/0,axis:"x",invert:!1};function Ny(r){return{...Ly,...r}}function Fy(r){return"touches"in r}function lm(r,e){const t=Fy(r)?r.touches[0]:r;return e==="x"?t.clientX:t.clientY}function sm(r){r.preventDefault()}function l$(r,e){const t=Ny(e);let n=0,l=0,s=0;function i(f){s=f,t.onMove(s)}function o(f){return Math.min(Math.max(f,t.min),t.max)}function a(f){const m=t.invert?-1:1,d=lm(f,t.axis)-l,_=o(n+d*m);i(_)}function u(){t.onStop(s),window.removeEventListener("mousemove",a,!0),window.removeEventListener("touchmove",a,!0),window.removeEventListener("mouseup",u,!0),window.removeEventListener("touchend",u,!0),window.removeEventListener("touchcancel",u,!0),window.removeEventListener("selectstart",sm,!0)}function c(f){t.onStart(),n=t.getStartingValue(),l=lm(f,t.axis),window.addEventListener("mousemove",a,!0),window.addEventListener("touchmove",a,!0),window.addEventListener("mouseup",u,!0),window.addEventListener("touchend",u,!0),window.addEventListener("touchcancel",u,!0),window.addEventListener("selectstart",sm,!0)}return r.addEventListener("mousedown",c),r.addEventListener("touchstart",c,{passive:!1}),{destroy(){r.removeEventListener("mousedown",c),r.removeEventListener("touchstart",c)}}}function zy(r){let e,t;const n=r[7].default,l=De(n,r,r[6],null);let s=[r[2],{href:r[0]},{class:r[1]}],i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return{c(){e=I("a"),l&&l.c(),it(e,i)},m(o,a){w(o,e,a),l&&l.m(e,null),t=!0},p(o,[a]){l&&l.p&&(!t||a&64)&&Ee(l,n,o,o[6],t?Ie(n,o[6],a,null):Me(o[6]),null),it(e,i=ce(s,[a&4&&o[2],(!t||a&1)&&{href:o[0]},(!t||a&2)&&{class:o[1]}]))},i(o){t||(p(l,o),t=!0)},o(o){g(l,o),t=!1},d(o){o&&$(e),l&&l.d(o)}}}function Hy(r,e,t){let n;const l=["href","appearance","size","class"];let s=Be(e,l),{$$slots:i={},$$scope:o}=e,{href:a}=e,{appearance:u="default"}=e,{size:c="medium"}=e,{class:f=""}=e;return r.$$set=m=>{e=x(x({},e),ft(m)),t(2,s=Be(e,l)),"href"in m&&t(0,a=m.href),"appearance"in m&&t(3,u=m.appearance),"size"in m&&t(4,c=m.size),"class"in m&&t(5,f=m.class),"$$scope"in m&&t(6,o=m.$$scope)},r.$$.update=()=>{r.$$.dirty&56&&t(1,n=["anchor-button","btn",`btn-${u}`,`size-${c}`,f].join(" "))},[a,n,s,u,c,f,o,i]}class ml extends X{constructor(e){super(),Q(this,e,Hy,zy,G,{href:0,appearance:3,size:4,class:5})}}function Vy(r){let e,t;const n=r[1].default,l=De(n,r,r[0],null);return{c(){e=I("span"),l&&l.c(),D(e,"class","badge")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,[i]){l&&l.p&&(!t||i&1)&&Ee(l,n,s,s[0],t?Ie(n,s[0],i,null):Me(s[0]),null)},i(s){t||(p(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&$(e),l&&l.d(s)}}}function qy(r,e,t){let{$$slots:n={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&t(0,l=s.$$scope)},[l,n]}class mc extends X{constructor(e){super(),Q(this,e,qy,Vy,G,{})}}function im(r){let e,t;return e=new mc({props:{$$slots:{default:[Uy]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&3&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Uy(r){let e;return{c(){e=B(r[0])},m(t,n){w(t,e,n)},p(t,n){n&1&&he(e,t[0])},d(t){t&&$(e)}}}function Wy(r){let e,t,n=r[0]>0&&im(r);return{c(){n&&n.c(),e=ae()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,[s]){l[0]>0?n?(n.p(l,s),s&1&&p(n,1)):(n=im(l),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&$(e)}}}function By(r,e,t){let{value:n}=e;return r.$$set=l=>{"value"in l&&t(0,n=l.value)},[n]}class dc extends X{constructor(e){super(),Q(this,e,By,Wy,G,{value:0})}}const jy=r=>({}),om=r=>({}),Yy=r=>({}),am=r=>({}),Ky=r=>({}),um=r=>({});function cm(r){let e,t;const n=r[3].body,l=De(n,r,r[2],am);return{c(){e=I("div"),l&&l.c(),D(e,"class","body")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,i){l&&l.p&&(!t||i&4)&&Ee(l,n,s,s[2],t?Ie(n,s[2],i,Yy):Me(s[2]),am)},i(s){t||(p(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&$(e),l&&l.d(s)}}}function fm(r){let e,t;const n=r[3].footer,l=De(n,r,r[2],om);return{c(){e=I("div"),l&&l.c(),D(e,"class","footer")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,i){l&&l.p&&(!t||i&4)&&Ee(l,n,s,s[2],t?Ie(n,s[2],i,jy):Me(s[2]),om)},i(s){t||(p(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&$(e),l&&l.d(s)}}}function Gy(r){let e,t,n,l,s,i,o;const a=r[3].title,u=De(a,r,r[2],um);let c=r[1].body&&cm(r),f=r[1].footer&&fm(r);return{c(){e=I("div"),t=I("div"),n=I("div"),u&&u.c(),l=O(),c&&c.c(),s=O(),f&&f.c(),D(n,"class","title"),D(t,"class","title-and-meta"),D(e,"class",i=["tutorial",r[0]].join(" "))},m(m,d){w(m,e,d),M(e,t),M(t,n),u&&u.m(n,null),M(e,l),c&&c.m(e,null),M(e,s),f&&f.m(e,null),o=!0},p(m,[d]){u&&u.p&&(!o||d&4)&&Ee(u,a,m,m[2],o?Ie(a,m[2],d,Ky):Me(m[2]),um),m[1].body?c?(c.p(m,d),d&2&&p(c,1)):(c=cm(m),c.c(),p(c,1),c.m(e,s)):c&&(q(),g(c,1,1,()=>{c=null}),U()),m[1].footer?f?(f.p(m,d),d&2&&p(f,1)):(f=fm(m),f.c(),p(f,1),f.m(e,null)):f&&(q(),g(f,1,1,()=>{f=null}),U()),(!o||d&1&&i!==(i=["tutorial",m[0]].join(" ")))&&D(e,"class",i)},i(m){o||(p(u,m),p(c),p(f),o=!0)},o(m){g(u,m),g(c),g(f),o=!1},d(m){m&&$(e),u&&u.d(m),c&&c.d(),f&&f.d()}}}function Qy(r,e,t){let{$$slots:n={},$$scope:l}=e;const s=lr(n);let{class:i=""}=e;return r.$$set=o=>{"class"in o&&t(0,i=o.class),"$$scope"in o&&t(2,l=o.$$scope)},[i,s,l,n]}class pc extends X{constructor(e){super(),Q(this,e,Qy,Gy,G,{class:0})}}function Xy(r){let e,t,n,l;const s=r[9].default,i=De(s,r,r[8],null);let o=[{type:"button"},{class:r[3]},r[4]],a={};for(let u=0;u<o.length;u+=1)a=x(a,o[u]);return{c(){e=I("button"),i&&i.c(),it(e,a),Z(e,"danger",r[1]),Z(e,"active",r[2])},m(u,c){w(u,e,c),i&&i.m(e,null),e.autofocus&&e.focus(),r[17](e),t=!0,n||(l=[Le(e,"click",r[10]),Le(e,"keydown",r[11]),Le(e,"focus",r[12]),Le(e,"blur",r[13]),Le(e,"mouseenter",r[14]),Le(e,"mouseleave",r[15]),Le(e,"mousedown",r[16])],n=!0)},p(u,[c]){i&&i.p&&(!t||c&256)&&Ee(i,s,u,u[8],t?Ie(s,u[8],c,null):Me(u[8]),null),it(e,a=ce(o,[{type:"button"},(!t||c&8)&&{class:u[3]},c&16&&u[4]])),Z(e,"danger",u[1]),Z(e,"active",u[2])},i(u){t||(p(i,u),t=!0)},o(u){g(i,u),t=!1},d(u){u&&$(e),i&&i.d(u),r[17](null),n=!1,Dt(l)}}}function Jy(r,e,t){let n;const l=["appearance","size","danger","active","class","element"];let s=Be(e,l),{$$slots:i={},$$scope:o}=e,{appearance:a="default"}=e,{size:u="medium"}=e,{danger:c=!1}=e,{active:f=!1}=e,{class:m=""}=e,{element:d=void 0}=e;function _(R){ve.call(this,r,R)}function h(R){ve.call(this,r,R)}function b(R){ve.call(this,r,R)}function v(R){ve.call(this,r,R)}function k(R){ve.call(this,r,R)}function T(R){ve.call(this,r,R)}function E(R){ve.call(this,r,R)}function P(R){ye[R?"unshift":"push"](()=>{d=R,t(0,d)})}return r.$$set=R=>{e=x(x({},e),ft(R)),t(4,s=Be(e,l)),"appearance"in R&&t(5,a=R.appearance),"size"in R&&t(6,u=R.size),"danger"in R&&t(1,c=R.danger),"active"in R&&t(2,f=R.active),"class"in R&&t(7,m=R.class),"element"in R&&t(0,d=R.element),"$$scope"in R&&t(8,o=R.$$scope)},r.$$.update=()=>{r.$$.dirty&224&&t(3,n=["btn",`btn-${a}`,`size-${u}`,m].join(" "))},[d,c,f,n,s,a,u,m,o,i,_,h,b,v,k,T,E,P]}class ut extends X{constructor(e){super(),Q(this,e,Jy,Xy,G,{appearance:5,size:6,danger:1,active:2,class:7,element:0})}}var Zy={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"]},xy=Zy,e5={prefix:"fas",iconName:"info",icon:[192,512,[],"f129","M144 80c0 26.5-21.5 48-48 48s-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48zM0 224c0-17.7 14.3-32 32-32H96c17.7 0 32 14.3 32 32V448h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H64V256H32c-17.7 0-32-14.3-32-32z"]},t5={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM112 256H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},n5=t5,r5={prefix:"fas",iconName:"pencil",icon:[512,512,[9999,61504,"pencil-alt"],"f303","M421.7 220.3l-11.3 11.3-22.6 22.6-205 205c-6.6 6.6-14.8 11.5-23.8 14.1L30.8 511c-8.4 2.5-17.5 .2-23.7-6.1S-1.5 489.7 1 481.2L38.7 353.1c2.6-9 7.5-17.2 14.1-23.8l205-205 22.6-22.6 11.3-11.3 33.9 33.9 62.1 62.1 33.9 33.9zM96 353.9l-9.3 9.3c-.9 .9-1.6 2.1-2 3.4l-25.3 86 86-25.3c1.3-.4 2.5-1.1 3.4-2l9.3-9.3H112c-8.8 0-16-7.2-16-16V353.9zM453.3 19.3l39.4 39.4c25 25 25 65.5 0 90.5l-14.5 14.5-22.6 22.6-11.3 11.3-33.9-33.9-62.1-62.1L314.3 67.7l11.3-11.3 22.6-22.6 14.5-14.5c25-25 65.5-25 90.5 0z"]},l5=r5,s5={prefix:"fas",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M160 0c-23.7 0-44.4 12.9-55.4 32H48C21.5 32 0 53.5 0 80V400c0 26.5 21.5 48 48 48H192V176c0-44.2 35.8-80 80-80h48V80c0-26.5-21.5-48-48-48H215.4C204.4 12.9 183.7 0 160 0zM272 128c-26.5 0-48 21.5-48 48V448v16c0 26.5 21.5 48 48 48H464c26.5 0 48-21.5 48-48V256H416c-17.7 0-32-14.3-32-32V128H320 272zM160 88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24zm256 40v96h96l-96-96z"]},i5={prefix:"fas",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M272 384c9.6-31.9 29.5-59.1 49.2-86.2l0 0c5.2-7.1 10.4-14.2 15.4-21.4c19.8-28.5 31.4-63 31.4-100.3C368 78.8 289.2 0 192 0S16 78.8 16 176c0 37.3 11.6 71.9 31.4 100.3c5 7.2 10.2 14.3 15.4 21.4l0 0c19.8 27.1 39.7 54.4 49.2 86.2H272zM192 512c44.2 0 80-35.8 80-80V416H112v16c0 44.2 35.8 80 80 80zM112 176c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-61.9 50.1-112 112-112c8.8 0 16 7.2 16 16s-7.2 16-16 16c-44.2 0-80 35.8-80 80z"]},o5={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zm32 224c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"]},a5={prefix:"fas",iconName:"arrow-right-from-bracket",icon:[576,512,["sign-out"],"f08b","M534.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L434.7 224 224 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128zM192 96c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-53 0-96 43-96 96l0 256c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"]},u5={prefix:"fas",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},c5=u5,f5={prefix:"fas",iconName:"lock",icon:[448,512,[128274],"f023","M144 144v48H304V144c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192V144C80 64.5 144.5 0 224 0s144 64.5 144 144v48h16c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V256c0-35.3 28.7-64 64-64H80z"]},m5={prefix:"fas",iconName:"microscope",icon:[512,512,[128300],"f610","M168 32c0-17.7 14.3-32 32-32h16c17.7 0 32 14.3 32 32h8c17.7 0 32 14.3 32 32V288c0 17.7-14.3 32-32 32h-8c0 17.7-14.3 32-32 32H200c-17.7 0-32-14.3-32-32h-8c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32l8 0zM32 448H320c70.7 0 128-57.3 128-128s-57.3-128-128-128V128c106 0 192 86 192 192c0 49.2-18.5 94-48.9 128H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320 32c-17.7 0-32-14.3-32-32s14.3-32 32-32zm80-64H304c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},d5={prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M144 160c-44.2 0-80-35.8-80-80S99.8 0 144 0s80 35.8 80 80s-35.8 80-80 80zm368 0c-44.2 0-80-35.8-80-80s35.8-80 80-80s80 35.8 80 80s-35.8 80-80 80zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0H21.3C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7h42.7C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3H405.3zM416 224c0 53-43 96-96 96s-96-43-96-96s43-96 96-96s96 43 96 96zM128 485.3C128 411.7 187.7 352 261.3 352H378.7C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"]},p5={prefix:"fas",iconName:"stopwatch",icon:[448,512,[9201],"f2f2","M176 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h16V98.4C92.3 113.8 16 200 16 304c0 114.9 93.1 208 208 208s208-93.1 208-208c0-41.8-12.3-80.7-33.5-113.2l24.1-24.1c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L355.7 143c-28.1-23-62.2-38.8-99.7-44.6V64h16c17.7 0 32-14.3 32-32s-14.3-32-32-32H224 176zm72 192V320c0 13.3-10.7 24-24 24s-24-10.7-24-24V192c0-13.3 10.7-24 24-24s24 10.7 24 24z"]},_5={prefix:"fas",iconName:"angle-right",icon:[320,512,[8250],"f105","M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},s$={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},g5={prefix:"fas",iconName:"key",icon:[512,512,[128273],"f084","M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0S160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17v80c0 13.3 10.7 24 24 24h80c13.3 0 24-10.7 24-24V448h40c13.3 0 24-10.7 24-24V384h40c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zm40-176c-22.1 0-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40s-17.9 40-40 40z"]},i$={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64H348.7c2.2 20.4 3.3 41.8 3.3 64zm28.8-64H503.9c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6c78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7c10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5c11.6 26 21 58.2 27 94.7zm-209 0H18.6C48.6 85.9 112.2 29.1 190.6 8.4C165.1 42.6 145.3 96.1 135.3 160zM8.1 192H131.2c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zM194.7 446.6c-11.6-26-20.9-58.2-27-94.6H344.3c-6.1 36.4-15.5 68.6-27 94.6c-10.5 23.6-22.2 40.7-33.5 51.5C272.6 508.8 263.3 512 256 512s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6C112.2 482.9 48.6 426.1 18.6 352H135.3zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6c25.5-34.2 45.2-87.7 55.3-151.6H493.4z"]},h5={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"]},b5={prefix:"fas",iconName:"shapes",icon:[512,512,["triangle-circle-square"],"f61f","M315.4 15.5C309.7 5.9 299.2 0 288 0s-21.7 5.9-27.4 15.5l-96 160c-5.9 9.9-6.1 22.2-.4 32.2s16.3 16.2 27.8 16.2H384c11.5 0 22.2-6.2 27.8-16.2s5.5-22.3-.4-32.2l-96-160zM288 312V456c0 22.1 17.9 40 40 40H472c22.1 0 40-17.9 40-40V312c0-22.1-17.9-40-40-40H328c-22.1 0-40 17.9-40 40zM128 512c70.7 0 128-57.3 128-128s-57.3-128-128-128S0 313.3 0 384s57.3 128 128 128z"]},$5={prefix:"fas",iconName:"slash",icon:[640,512,[],"f715","M5.1 9.2C13.3-1.2 28.4-3.1 38.8 5.1l592 464c10.4 8.2 12.3 23.3 4.1 33.7s-23.3 12.3-33.7 4.1L9.2 42.9C-1.2 34.7-3.1 19.6 5.1 9.2z"]},w5={prefix:"fas",iconName:"file-arrow-up",icon:[384,512,["file-upload"],"f574","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM216 408c0 13.3-10.7 24-24 24s-24-10.7-24-24V305.9l-31 31c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l72-72c9.4-9.4 24.6-9.4 33.9 0l72 72c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-31-31V408z"]},v5=w5,k5={prefix:"fas",iconName:"user-pen",icon:[640,512,["user-edit"],"f4ff","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H322.8c-3.1-8.8-3.7-18.4-1.4-27.8l15-60.1c2.8-11.3 8.6-21.5 16.8-29.7l40.3-40.3c-32.1-31-75.7-50.1-123.9-50.1H178.3zm435.5-68.3c-15.6-15.6-40.9-15.6-56.6 0l-29.4 29.4 71 71 29.4-29.4c15.6-15.6 15.6-40.9 0-56.6l-14.4-14.4zM375.9 417c-4.1 4.1-7 9.2-8.4 14.9l-15 60.1c-1.4 5.5 .2 11.2 4.2 15.2s9.7 5.6 15.2 4.2l60.1-15c5.6-1.4 10.8-4.3 14.9-8.4L576.1 358.7l-71-71L375.9 417z"]},y5=k5,S5={prefix:"fas",iconName:"angles-right",icon:[512,512,[187,"angle-double-right"],"f101","M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"]},C5=S5,T5={prefix:"fas",iconName:"circle-arrow-left",icon:[512,512,["arrow-circle-left"],"f0a8","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256S114.6 512 256 512s256-114.6 256-256zM215 127c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-71 71L392 232c13.3 0 24 10.7 24 24s-10.7 24-24 24l-214.1 0 71 71c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L103 273c-9.4-9.4-9.4-24.6 0-33.9L215 127z"]},D5={prefix:"fas",iconName:"arrow-down-wide-short",icon:[576,512,["sort-amount-asc","sort-amount-down"],"f160","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 480c-17.7 0-32-14.3-32-32s14.3-32 32-32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H320z"]},I5=D5,E5={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H463.5c0 0 0 0 0 0h.4c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1V448c0 17.7 14.3 32 32 32s32-14.3 32-32V396.9l17.6 17.5 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352H176c17.7 0 32-14.3 32-32s-14.3-32-32-32H48.4c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"]},M5=E5,A5={prefix:"fas",iconName:"circle-arrow-right",icon:[512,512,["arrow-circle-right"],"f0a9","M0 256C0 397.4 114.6 512 256 512s256-114.6 256-256S397.4 0 256 0S0 114.6 0 256zM297 385c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l71-71L120 280c-13.3 0-24-10.7-24-24s10.7-24 24-24l214.1 0-71-71c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L409 239c9.4 9.4 9.4 24.6 0 33.9L297 385z"]},R5={prefix:"fas",iconName:"filter-circle-xmark",icon:[576,512,[],"e17b","M3.9 22.9C10.5 8.9 24.5 0 40 0H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L396.4 195.6C316.2 212.1 256 283 256 368c0 27.4 6.3 53.4 17.5 76.5c-1.6-.8-3.2-1.8-4.7-2.9l-64-48c-8.1-6-12.8-15.5-12.8-25.6V288.9L9 65.3C-.7 53.4-2.8 36.8 3.9 22.9zM432 512c-79.5 0-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144s-64.5 144-144 144zm59.3-180.7c6.2-6.2 6.2-16.4 0-22.6s-16.4-6.2-22.6 0L432 345.4l-36.7-36.7c-6.2-6.2-16.4-6.2-22.6 0s-6.2 16.4 0 22.6L409.4 368l-36.7 36.7c-6.2 6.2-6.2 16.4 0 22.6s16.4 6.2 22.6 0L432 390.6l36.7 36.7c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6L454.6 368l36.7-36.7z"]},P5={prefix:"fas",iconName:"sort",icon:[320,512,["unsorted"],"f0dc","M137.4 41.4c12.5-12.5 32.8-12.5 45.3 0l128 128c9.2 9.2 11.9 22.9 6.9 34.9s-16.6 19.8-29.6 19.8H32c-12.9 0-24.6-7.8-29.6-19.8s-2.2-25.7 6.9-34.9l128-128zm0 429.3l-128-128c-9.2-9.2-11.9-22.9-6.9-34.9s16.6-19.8 29.6-19.8H288c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9l-128 128c-12.5 12.5-32.8 12.5-45.3 0z"]},o$={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9V448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6V320.9L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},O5={prefix:"fas",iconName:"question",icon:[320,512,[10067,10068,61736],"3f","M96 96c-17.7 0-32 14.3-32 32s-14.3 32-32 32s-32-14.3-32-32C0 75 43 32 96 32h97c70.1 0 127 56.9 127 127c0 52.4-32.2 99.4-81 118.4l-63 24.5 0 18.1c0 17.7-14.3 32-32 32s-32-14.3-32-32V301.9c0-26.4 16.2-50.1 40.8-59.6l63-24.5C240 208.3 256 185 256 159c0-34.8-28.2-63-63-63H96zm48 384c-22.1 0-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40s-17.9 40-40 40z"]},a$={prefix:"fas",iconName:"arrow-up-right-from-square",icon:[448,512,["external-link"],"f08e","M288 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h50.7L169.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L384 141.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H288zM80 64C35.8 64 0 99.8 0 144V400c0 44.2 35.8 80 80 80H336c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z"]},L5=a$,N5={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},F5={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM288 352c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"]},z5=F5,H5={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V173.3c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32H64zm0 96c0-17.7 14.3-32 32-32H288c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V128zM224 416c-35.3 0-64-28.7-64-64s28.7-64 64-64s64 28.7 64 64s-28.7 64-64 64z"]},V5=H5,q5={prefix:"fas",iconName:"arrow-rotate-right",icon:[512,512,[8635,"arrow-right-rotate","arrow-rotate-forward","redo"],"f01e","M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H464c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"]},u$=q5,U5={prefix:"fas",iconName:"user-gear",icon:[640,512,["user-cog"],"f4fe","M224 256c-70.7 0-128-57.3-128-128S153.3 0 224 0s128 57.3 128 128s-57.3 128-128 128zm-45.7 48h91.4c11.8 0 23.4 1.2 34.5 3.3c-2.1 18.5 7.4 35.6 21.8 44.8c-16.6 10.6-26.7 31.6-20 53.3c4 12.9 9.4 25.5 16.4 37.6s15.2 23.1 24.4 33c15.7 16.9 39.6 18.4 57.2 8.7v.9c0 9.2 2.7 18.5 7.9 26.3H29.7C13.3 512 0 498.7 0 482.3C0 383.8 79.8 304 178.3 304zM436 218.2c0-7 4.5-13.3 11.3-14.8c10.5-2.4 21.5-3.7 32.7-3.7s22.2 1.3 32.7 3.7c6.8 1.5 11.3 7.8 11.3 14.8v30.6c7.9 3.4 15.4 7.7 22.3 12.8l24.9-14.3c6.1-3.5 13.7-2.7 18.5 2.4c7.6 8.1 14.3 17.2 20.1 27.2s10.3 20.4 13.5 31c2.1 6.7-1.1 13.7-7.2 17.2l-25 14.4c.4 4 .7 8.1 .7 12.3s-.2 8.2-.7 12.3l25 14.4c6.1 3.5 9.2 10.5 7.2 17.2c-3.3 10.6-7.8 21-13.5 31s-12.5 19.1-20.1 27.2c-4.8 5.1-12.5 5.9-18.5 2.4l-24.9-14.3c-6.9 5.1-14.3 9.4-22.3 12.8l0 30.6c0 7-4.5 13.3-11.3 14.8c-10.5 2.4-21.5 3.7-32.7 3.7s-22.2-1.3-32.7-3.7c-6.8-1.5-11.3-7.8-11.3-14.8V454.8c-8-3.4-15.6-7.7-22.5-12.9l-24.7 14.3c-6.1 3.5-13.7 2.7-18.5-2.4c-7.6-8.1-14.3-17.2-20.1-27.2s-10.3-20.4-13.5-31c-2.1-6.7 1.1-13.7 7.2-17.2l24.8-14.3c-.4-4.1-.7-8.2-.7-12.4s.2-8.3 .7-12.4L343.8 325c-6.1-3.5-9.2-10.5-7.2-17.2c3.3-10.6 7.7-21 13.5-31s12.5-19.1 20.1-27.2c4.8-5.1 12.4-5.9 18.5-2.4l24.8 14.3c6.9-5.1 14.5-9.4 22.5-12.9V218.2zm92.1 133.5c0-26.5-21.5-48-48.1-48s-48.1 21.5-48.1 48s21.5 48 48.1 48s48.1-21.5 48.1-48z"]},W5={prefix:"fas",iconName:"align-left",icon:[448,512,[],"f036","M288 64c0 17.7-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32H256c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H256c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},c$={prefix:"fas",iconName:"up-right-from-square",icon:[448,512,["external-link-alt"],"f35d","M288 32c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9L306.7 128 169.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L352 173.3l41.4 41.4c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V64c0-17.7-14.3-32-32-32H288zM80 64C35.8 64 0 99.8 0 144V400c0 44.2 35.8 80 80 80H336c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z"]},B5=c$,f$={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},j5={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-144c-17.7 0-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32z"]},Y5={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M125.7 160H176c17.7 0 32 14.3 32 32s-14.3 32-32 32H48c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32s32 14.3 32 32v51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"]},K5=Y5,G5={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336c44.2 0 80-35.8 80-80s-35.8-80-80-80s-80 35.8-80 80s35.8 80 80 80z"]},Q5={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 512C114.6 512 0 397.4 0 256S114.6 0 256 0S512 114.6 512 256s-114.6 256-256 256zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},X5={prefix:"fas",iconName:"wand-sparkles",icon:[512,512,[],"f72b","M464 6.1c9.5-8.5 24-8.1 33 .9l8 8c9 9 9.4 23.5 .9 33l-85.8 95.9c-2.6 2.9-4.1 6.7-4.1 10.7V176c0 8.8-7.2 16-16 16H384.2c-4.6 0-8.9 1.9-11.9 5.3L100.7 500.9C94.3 508 85.3 512 75.8 512c-8.8 0-17.3-3.5-23.5-9.8L9.7 459.7C3.5 453.4 0 445 0 436.2c0-9.5 4-18.5 11.1-24.8l111.6-99.8c3.4-3 5.3-7.4 5.3-11.9V272c0-8.8 7.2-16 16-16h34.6c3.9 0 7.7-1.5 10.7-4.1L464 6.1zM432 288c3.6 0 6.7 2.4 7.7 5.8l14.8 51.7 51.7 14.8c3.4 1 5.8 4.1 5.8 7.7s-2.4 6.7-5.8 7.7l-51.7 14.8-14.8 51.7c-1 3.4-4.1 5.8-7.7 5.8s-6.7-2.4-7.7-5.8l-14.8-51.7-51.7-14.8c-3.4-1-5.8-4.1-5.8-7.7s2.4-6.7 5.8-7.7l51.7-14.8 14.8-51.7c1-3.4 4.1-5.8 7.7-5.8zM87.7 69.8l14.8 51.7 51.7 14.8c3.4 1 5.8 4.1 5.8 7.7s-2.4 6.7-5.8 7.7l-51.7 14.8L87.7 218.2c-1 3.4-4.1 5.8-7.7 5.8s-6.7-2.4-7.7-5.8L57.5 166.5 5.8 151.7c-3.4-1-5.8-4.1-5.8-7.7s2.4-6.7 5.8-7.7l51.7-14.8L72.3 69.8c1-3.4 4.1-5.8 7.7-5.8s6.7 2.4 7.7 5.8zM224 0c3.7 0 6.9 2.5 7.8 6.1l6.8 27.3 27.3 6.8c3.6 .9 6.1 4.1 6.1 7.8s-2.5 6.9-6.1 7.8l-27.3 6.8-6.8 27.3c-.9 3.6-4.1 6.1-7.8 6.1s-6.9-2.5-7.8-6.1l-6.8-27.3-27.3-6.8c-3.6-.9-6.1-4.1-6.1-7.8s2.5-6.9 6.1-7.8l27.3-6.8 6.8-27.3c.9-3.6 4.1-6.1 7.8-6.1z"]},J5={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zm0-160c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zM120 96c0 30.9-25.1 56-56 56S8 126.9 8 96S33.1 40 64 40s56 25.1 56 56z"]},Z5=J5,x5={prefix:"fas",iconName:"diagram-next",icon:[512,512,[],"e476","M512 160c0 35.3-28.7 64-64 64H280v64h46.1c21.4 0 32.1 25.9 17 41L273 399c-9.4 9.4-24.6 9.4-33.9 0L169 329c-15.1-15.1-4.4-41 17-41H232V224H64c-35.3 0-64-28.7-64-64V96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64v64zM448 416V352H365.3l.4-.4c18.4-18.4 20.4-43.7 11-63.6l71.3 0c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64V352c0-35.3 28.7-64 64-64l71.3 0c-9.4 19.9-7.4 45.2 11 63.6l.4 .4H64v64H210.7l5.7 5.7c21.9 21.9 57.3 21.9 79.2 0l5.7-5.7H448z"]},e8={prefix:"fas",iconName:"delete-left",icon:[576,512,[9003,"backspace"],"f55a","M576 128c0-35.3-28.7-64-64-64H205.3c-17 0-33.3 6.7-45.3 18.7L9.4 233.4c-6 6-9.4 14.1-9.4 22.6s3.4 16.6 9.4 22.6L160 429.3c12 12 28.3 18.7 45.3 18.7H512c35.3 0 64-28.7 64-64V128zM271 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]},m$=e8,t8={prefix:"fas",iconName:"calendar-week",icon:[448,512,[],"f784","M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm80 64c-8.8 0-16 7.2-16 16v64c0 8.8 7.2 16 16 16H368c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80z"]},n8={prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M288 109.3V352c0 17.7-14.3 32-32 32s-32-14.3-32-32V109.3l-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352H192c0 35.3 28.7 64 64 64s64-28.7 64-64H448c35.3 0 64 28.7 64 64v32c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V416c0-35.3 28.7-64 64-64zM432 456c13.3 0 24-10.7 24-24s-10.7-24-24-24s-24 10.7-24 24s10.7 24 24 24z"]},r8={prefix:"fas",iconName:"arrow-down-short-wide",icon:[576,512,["sort-amount-desc","sort-amount-down-alt"],"f884","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},l8=r8,s8={prefix:"fas",iconName:"angle-down",icon:[448,512,[8964],"f107","M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},i8={prefix:"fas",iconName:"ellipsis",icon:[448,512,["ellipsis-h"],"f141","M120 256c0 30.9-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56zm160 0c0 30.9-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56zm104 56c-30.9 0-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56s-25.1 56-56 56z"]},o8=i8,a8={prefix:"fas",iconName:"file",icon:[384,512,[128196,128459,61462],"f15b","M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z"]},ma={prefix:"fas",iconName:"link",icon:[640,512,[128279,"chain"],"f0c1","M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"]},u8={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"]},c8=u8,f8={prefix:"fas",iconName:"list-ul",icon:[512,512,["list-dots"],"f0ca","M64 144c26.5 0 48-21.5 48-48s-21.5-48-48-48S16 69.5 16 96s21.5 48 48 48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM64 464c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm48-208c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48z"]},m8={prefix:"fas",iconName:"diagram-project",icon:[576,512,["project-diagram"],"f542","M0 80C0 53.5 21.5 32 48 32h96c26.5 0 48 21.5 48 48V96H384V80c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H432c-26.5 0-48-21.5-48-48V160H192v16c0 1.7-.1 3.4-.3 5L272 288h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H272c-26.5 0-48-21.5-48-48V336c0-1.7 .1-3.4 .3-5L144 224H48c-26.5 0-48-21.5-48-48V80z"]},d8=m8,p8={prefix:"fas",iconName:"copy",icon:[512,512,[],"f0c5","M224 0c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224zM64 160c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H288v64H64V224h64V160H64z"]},_8={prefix:"fas",iconName:"share-from-square",icon:[576,512,[61509,"share-square"],"f14d","M384 24c0-9.6 5.7-18.2 14.5-22s19-2 26 4.6l144 136c4.8 4.5 7.5 10.8 7.5 17.4s-2.7 12.9-7.5 17.4l-144 136c-7 6.6-17.2 8.4-26 4.6s-14.5-12.5-14.5-22V224H352 337.5c-45 0-81.5 36.5-81.5 81.5c0 22.3 10.3 34.3 19.2 40.5c6.8 4.7 12.8 12 12.8 20.3c0 9.8-8 17.8-17.8 17.8h-2.5c-2.4 0-4.8-.4-7.1-1.4C242.8 374.8 160 333.4 160 240c0-79.5 64.5-144 144-144h80V24zM0 144C0 99.8 35.8 64 80 64H96c17.7 0 32 14.3 32 32s-14.3 32-32 32H80c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16H368c8.8 0 16-7.2 16-16V416c0-17.7 14.3-32 32-32s32 14.3 32 32v16c0 44.2-35.8 80-80 80H80c-44.2 0-80-35.8-80-80V144z"]},g8={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},d$={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"]},_c=d$,h8={prefix:"fas",iconName:"chevron-right",icon:[384,512,[9002],"f054","M342.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L274.7 256 105.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},b8={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"]},$8={prefix:"fas",iconName:"gears",icon:[640,512,["cogs"],"f085","M308.5 135.3c7.1-6.3 9.9-16.2 6.2-25c-2.3-5.3-4.8-10.5-7.6-15.5L304 89.4c-3-5-6.3-9.9-9.8-14.6c-5.7-7.6-15.7-10.1-24.7-7.1l-28.2 9.3c-10.7-8.8-23-16-36.2-20.9L199 27.1c-1.9-9.3-9.1-16.7-18.5-17.8C173.7 8.4 166.9 8 160 8s-13.7 .4-20.4 1.2c-9.4 1.1-16.6 8.6-18.5 17.8L115 56.1c-13.3 5-25.5 12.1-36.2 20.9L50.5 67.8c-9-3-19-.5-24.7 7.1c-3.5 4.7-6.8 9.6-9.9 14.6l-3 5.3c-2.8 5-5.3 10.2-7.6 15.6c-3.7 8.7-.9 18.6 6.2 25l22.2 19.8C32.6 161.9 32 168.9 32 176s.6 14.1 1.7 20.9L11.5 216.7c-7.1 6.3-9.9 16.2-6.2 25c2.3 5.3 4.8 10.5 7.6 15.6l3 5.2c3 5.1 6.3 9.9 9.9 14.6c5.7 7.6 15.7 10.1 24.7 7.1l28.2-9.3c10.7 8.8 23 16 36.2 20.9l6.1 29.1c1.9 9.3 9.1 16.7 18.5 17.8c6.7 .8 13.5 1.2 20.4 1.2s13.7-.4 20.4-1.2c9.4-1.1 16.6-8.6 18.5-17.8l6.1-29.1c13.3-5 25.5-12.1 36.2-20.9l28.2 9.3c9 3 19 .5 24.7-7.1c3.5-4.7 6.8-9.5 9.8-14.6l3.1-5.4c2.8-5 5.3-10.2 7.6-15.5c3.7-8.7 .9-18.6-6.2-25l-22.2-19.8c1.1-6.8 1.7-13.8 1.7-20.9s-.6-14.1-1.7-20.9l22.2-19.8zM208 176c0 26.5-21.5 48-48 48s-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48zM504.7 500.5c6.3 7.1 16.2 9.9 25 6.2c5.3-2.3 10.5-4.8 15.5-7.6l5.4-3.1c5-3 9.9-6.3 14.6-9.8c7.6-5.7 10.1-15.7 7.1-24.7l-9.3-28.2c8.8-10.7 16-23 20.9-36.2l29.1-6.1c9.3-1.9 16.7-9.1 17.8-18.5c.8-6.7 1.2-13.5 1.2-20.4s-.4-13.7-1.2-20.4c-1.1-9.4-8.6-16.6-17.8-18.5L583.9 307c-5-13.3-12.1-25.5-20.9-36.2l9.3-28.2c3-9 .5-19-7.1-24.7c-4.7-3.5-9.6-6.8-14.6-9.9l-5.3-3c-5-2.8-10.2-5.3-15.6-7.6c-8.7-3.7-18.6-.9-25 6.2l-19.8 22.2c-6.8-1.1-13.8-1.7-20.9-1.7s-14.1 .6-20.9 1.7l-19.8-22.2c-6.3-7.1-16.2-9.9-25-6.2c-5.3 2.3-10.5 4.8-15.6 7.6l-5.2 3c-5.1 3-9.9 6.3-14.6 9.9c-7.6 5.7-10.1 15.7-7.1 24.7l9.3 28.2c-8.8 10.7-16 23-20.9 36.2L315.1 313c-9.3 1.9-16.7 9.1-17.8 18.5c-.8 6.7-1.2 13.5-1.2 20.4s.4 13.7 1.2 20.4c1.1 9.4 8.6 16.6 17.8 18.5l29.1 6.1c5 13.3 12.1 25.5 20.9 36.2l-9.3 28.2c-3 9-.5 19 7.1 24.7c4.7 3.5 9.5 6.8 14.6 9.8l5.4 3.1c5 2.8 10.2 5.3 15.5 7.6c8.7 3.7 18.6 .9 25-6.2l19.8-22.2c6.8 1.1 13.8 1.7 20.9 1.7s14.1-.6 20.9-1.7l19.8 22.2zM464 400c-26.5 0-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48s-21.5 48-48 48z"]},w8={prefix:"fas",iconName:"angles-left",icon:[512,512,[171,"angle-double-left"],"f100","M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"]},v8=w8,k8={prefix:"fas",iconName:"hashtag",icon:[448,512,[62098],"23","M181.3 32.4c17.4 2.9 29.2 19.4 26.3 36.8L197.8 128h95.1l11.5-69.3c2.9-17.4 19.4-29.2 36.8-26.3s29.2 19.4 26.3 36.8L357.8 128H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H347.1L325.8 320H384c17.7 0 32 14.3 32 32s-14.3 32-32 32H315.1l-11.5 69.3c-2.9 17.4-19.4 29.2-36.8 26.3s-29.2-19.4-26.3-36.8l9.8-58.7H155.1l-11.5 69.3c-2.9 17.4-19.4 29.2-36.8 26.3s-29.2-19.4-26.3-36.8L90.2 384H32c-17.7 0-32-14.3-32-32s14.3-32 32-32h68.9l21.3-128H64c-17.7 0-32-14.3-32-32s14.3-32 32-32h68.9l11.5-69.3c2.9-17.4 19.4-29.2 36.8-26.3zM187.1 192L165.8 320h95.1l21.3-128H187.1z"]},y8={prefix:"fas",iconName:"clone",icon:[512,512,[],"f24d","M0 448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H224c-53 0-96-43-96-96V160H64c-35.3 0-64 28.7-64 64V448zm224-96H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64z"]},S8={prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M352 128c0 70.7-57.3 128-128 128s-128-57.3-128-128S153.3 0 224 0s128 57.3 128 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM504 312V248H440c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V136c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H552v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},da={prefix:"fas",iconName:"check",icon:[512,512,[10003,10004],"f00c","M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},C8={prefix:"fas",iconName:"angle-left",icon:[320,512,[8249],"f104","M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},T8={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32z"]},D8=T8,I8={prefix:"fas",iconName:"database",icon:[448,512,[],"f1c0","M448 80v48c0 44.2-100.3 80-224 80S0 172.2 0 128V80C0 35.8 100.3 0 224 0S448 35.8 448 80zM393.2 214.7c20.8-7.4 39.9-16.9 54.8-28.6V288c0 44.2-100.3 80-224 80S0 332.2 0 288V186.1c14.9 11.8 34 21.2 54.8 28.6C99.7 230.7 159.5 240 224 240s124.3-9.3 169.2-25.3zM0 346.1c14.9 11.8 34 21.2 54.8 28.6C99.7 390.7 159.5 400 224 400s124.3-9.3 169.2-25.3c20.8-7.4 39.9-16.9 54.8-28.6V432c0 44.2-100.3 80-224 80S0 476.2 0 432V346.1z"]},E8={prefix:"fas",iconName:"calendar-day",icon:[448,512,[],"f783","M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm80 64c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16h96c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80z"]},M8={prefix:"fas",iconName:"magnifying-glass-plus",icon:[512,512,["search-plus"],"f00e","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM184 296c0 13.3 10.7 24 24 24s24-10.7 24-24V232h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H232V120c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H120c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"]},A8=M8,R8={prefix:"fas",iconName:"dollar-sign",icon:[320,512,[128178,61781,"dollar","usd"],"24","M160 0c17.7 0 32 14.3 32 32V67.7c1.6 .2 3.1 .4 4.7 .7c10.6 1.6 42.1 6.7 55.1 10c17.1 4.3 27.5 21.7 23.2 38.9s-21.7 27.5-38.9 23.2c-9.3-2.4-37.6-7-48.9-8.7c-32.1-4.8-59.6-2.4-78.5 4.9c-18.3 7-25.9 16.9-27.9 28c-1.9 10.7-.5 16.8 1.3 20.6c1.9 4 5.6 8.5 12.9 13.4c16.2 10.8 41.1 17.9 73.3 26.7l2.8 .8c28.4 7.7 63.2 17.2 89 34.3c14.1 9.4 27.3 22.1 35.5 39.7c8.3 17.8 10.1 37.8 6.3 59.1c-6.9 38-33.1 63.4-65.6 76.7c-13.7 5.6-28.6 9.2-44.4 11V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V445.1c-.4-.1-.9-.1-1.3-.2l-.2 0 0 0c-24.4-3.8-64.5-14.3-91.5-26.3c-16.2-7.2-23.4-26.1-16.2-42.2s26.1-23.4 42.2-16.2c20.9 9.3 55.3 18.4 75.2 21.6c31.9 4.7 58.2 2 76-5.3c16.9-6.9 24.6-16.9 26.8-28.9c1.9-10.7 .5-16.8-1.3-20.6c-1.9-4-5.6-8.5-12.9-13.4c-16.2-10.8-41.1-17.9-73.3-26.7l-2.8-.8c-28.4-7.7-63.2-17.2-89-34.3c-14.1-9.4-27.3-22.1-35.5-39.7c-8.3-17.8-10.1-37.8-6.3-59.1C25 114.1 53 89.3 86 76.7c13-5 27.2-8.2 42-10V32c0-17.7 14.3-32 32-32z"]};const mm={data:C5},dm={data:v8},pm={data:_5},_m={data:C8},bs={data:_c},Jn={data:s8},gm={data:z5},P8={data:da},yo={data:c8},So={data:o8},Nu={data:v5},hm={data:a8},$s={data:$8},xr={data:a$},Fu={data:i5},Co={data:o5},el={data:D8},nr={data:b8,spin:!0},zu={data:da};function O8(r){let e,t;const n=[nr,{size:r[0]}];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&1?ce(n,[i&0&&be(nr),i&1&&{size:s[0]}]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function L8(r,e,t){let{size:n=void 0}=e;return r.$$set=l=>{"size"in l&&t(0,n=l.size)},[n]}class an extends X{constructor(e){super(),Q(this,e,L8,O8,G,{size:0})}}function N8(r){let e,t,n,l;return{c(){e=It("path"),D(e,"d",t=r[0].path),D(e,"fill-rule",n=r[0].fillRule),D(e,"clip-rule",l=r[0].clipRule),D(e,"style",r[1])},m(s,i){w(s,e,i)},p(s,i){i&1&&t!==(t=s[0].path)&&D(e,"d",t),i&1&&n!==(n=s[0].fillRule)&&D(e,"fill-rule",n),i&1&&l!==(l=s[0].clipRule)&&D(e,"clip-rule",l),i&2&&D(e,"style",s[1])},d(s){s&&$(e)}}}function F8(r){let e;return{c(){e=It("path"),D(e,"d",r[0]),D(e,"style",r[1])},m(t,n){w(t,e,n)},p(t,n){n&1&&D(e,"d",t[0]),n&2&&D(e,"style",t[1])},d(t){t&&$(e)}}}function z8(r){let e;function t(s,i){return typeof s[0]=="string"?F8:N8}let n=t(r),l=n(r);return{c(){l.c(),e=ae()},m(s,i){l.m(s,i),w(s,e,i)},p(s,[i]){n===(n=t(s))&&l?l.p(s,i):(l.d(1),l=n(s),l&&(l.c(),l.m(e.parentNode,e)))},i:z,o:z,d(s){l.d(s),s&&$(e)}}}function H8(r,e,t){let{path:n}=e,{style:l=void 0}=e;return r.$$set=s=>{"path"in s&&t(0,n=s.path),"style"in s&&t(1,l=s.style)},[n,l]}class p$ extends X{constructor(e){super(),Q(this,e,H8,z8,G,{path:0,style:1})}}const V8=.22,q8=1.4;function U8(r,e){const t=V8*Math.min(e,r);return{r:t,cx:r-t,cy:t}}function W8(r,e,t){const{cx:n,cy:l}=t,s=t.r*q8;return["M 0 0",`L 0 ${e}`,`L ${r} ${e}`,`L ${r} 0`,"L 0 0","z",`M ${n} ${l-s}`,`A ${s} ${s} 0 0 1 ${n+s} ${l}`,`A ${s} ${s} 0 0 1 ${n} ${l+s}`,`A ${s} ${s} 0 0 1 ${n-s} ${l}`,`A ${s} ${s} 0 0 1 ${n} ${l-s}`,"z"].join(" ")}function To(r,e,t){return t?`clip-path: path('${W8(r,e,t)}');`:void 0}function bm(r,e,t){const n=r.slice();return n[16]=e[t],n}function $m(r){let e,t;return{c(){e=It("title"),t=B(r[4])},m(n,l){w(n,e,l),M(e,t)},p(n,l){l&16&&he(t,n[4])},d(n){n&&$(e)}}}function B8(r){let e,t;return e=new p$({props:{path:r[9],style:To(r[6],r[5],r[8])}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&512&&(s.path=n[9]),l&352&&(s.style=To(n[6],n[5],n[8])),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function j8(r){let e=[],t=new Map,n,l,s=r[9];const i=o=>o[16];for(let o=0;o<s.length;o+=1){let a=bm(r,s,o),u=i(a);t.set(u,e[o]=wm(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=ae()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,a){a&864&&(s=o[9],q(),e=pt(e,a,i,1,o,s,t,n.parentNode,ht,wm,n,bm),U())},i(o){if(!l){for(let a=0;a<s.length;a+=1)p(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&$(n)}}}function wm(r,e){let t,n,l;return n=new p$({props:{path:e[16],style:To(e[6],e[5],e[8])}}),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&512&&(o.path=e[16]),i&352&&(o.style=To(e[6],e[5],e[8])),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}function vm(r){let e,t=[{class:"notification-dot"},r[8]],n={};for(let l=0;l<t.length;l+=1)n=x(n,t[l]);return{c(){e=It("circle"),sn(e,n)},m(l,s){w(l,e,s)},p(l,s){sn(e,n=ce(t,[{class:"notification-dot"},s&256&&l[8]]))},d(l){l&&$(e)}}}function Y8(r){let e,t,n,l,s,i,o,a,u,c=r[4]&&$m(r);const f=[j8,B8],m=[];function d(v,k){return k&512&&(n=null),n==null&&(n=!!Array.isArray(v[9])),n?0:1}l=d(r,-1),s=m[l]=f[l](r);let _=r[8]&&vm(r),h=[{version:"1.1"},{viewBox:o="0 0 "+r[6]+" "+r[5]},{width:r[0]},{height:r[0]},{class:r[7]},{"aria-label":r[3]},{role:a=r[3]?"img":"presentation"},r[10]],b={};for(let v=0;v<h.length;v+=1)b=x(b,h[v]);return{c(){e=It("svg"),c&&c.c(),t=ae(),s.c(),i=ae(),_&&_.c(),sn(e,b),Z(e,"fa-spin",r[1]),Z(e,"fa-pulse",r[2])},m(v,k){w(v,e,k),c&&c.m(e,null),M(e,t),m[l].m(e,null),M(e,i),_&&_.m(e,null),u=!0},p(v,[k]){v[4]?c?c.p(v,k):(c=$m(v),c.c(),c.m(e,t)):c&&(c.d(1),c=null);let T=l;l=d(v,k),l===T?m[l].p(v,k):(q(),g(m[T],1,1,()=>{m[T]=null}),U(),s=m[l],s?s.p(v,k):(s=m[l]=f[l](v),s.c()),p(s,1),s.m(e,i)),v[8]?_?_.p(v,k):(_=vm(v),_.c(),_.m(e,null)):_&&(_.d(1),_=null),sn(e,b=ce(h,[{version:"1.1"},(!u||k&96&&o!==(o="0 0 "+v[6]+" "+v[5]))&&{viewBox:o},(!u||k&1)&&{width:v[0]},(!u||k&1)&&{height:v[0]},(!u||k&128)&&{class:v[7]},(!u||k&8)&&{"aria-label":v[3]},(!u||k&8&&a!==(a=v[3]?"img":"presentation"))&&{role:a},k&1024&&v[10]])),Z(e,"fa-spin",v[1]),Z(e,"fa-pulse",v[2])},i(v){u||(p(s),u=!0)},o(v){g(s),u=!1},d(v){v&&$(e),c&&c.d(),m[l].d(),_&&_.d()}}}function K8(r,e,t){const n=["fa-icon"];return r&&n.push(r),e&&n.push(`fa-flip-${e}`),t&&n.push(`fa-rotate-${t}`),n.join(" ")}function G8(r,e,t){let n,l,s,i;const o=["data","size","spin","pulse","flip","rotate","class","label","title","hasNotificationDot"];let a=Be(e,o),{data:u}=e,{size:c="1em"}=e,{spin:f=!1}=e,{pulse:m=!1}=e,{flip:d=void 0}=e,{rotate:_=void 0}=e,{class:h=""}=e,{label:b=void 0}=e,{title:v=void 0}=e,{hasNotificationDot:k=!1}=e,T;return r.$$set=E=>{e=x(x({},e),ft(E)),t(10,a=Be(e,o)),"data"in E&&t(11,u=E.data),"size"in E&&t(0,c=E.size),"spin"in E&&t(1,f=E.spin),"pulse"in E&&t(2,m=E.pulse),"flip"in E&&t(12,d=E.flip),"rotate"in E&&t(13,_=E.rotate),"class"in E&&t(14,h=E.class),"label"in E&&t(3,b=E.label),"title"in E&&t(4,v=E.title),"hasNotificationDot"in E&&t(15,k=E.hasNotificationDot)},r.$$.update=()=>{r.$$.dirty&2048&&t(6,[n,l,,,s]=u.icon,n,(t(5,l),t(11,u)),(t(9,s),t(11,u))),r.$$.dirty&28672&&t(7,T=K8(h,d,_)),r.$$.dirty&32864&&t(8,i=k?U8(n,l):void 0)},[c,f,m,b,v,l,n,T,i,s,a,u,d,_,h,k]}class Fe extends X{constructor(e){super(),Q(this,e,G8,Y8,G,{data:11,size:0,spin:1,pulse:2,flip:12,rotate:13,class:14,label:3,title:4,hasNotificationDot:15})}}function Q8(r){let e,t;const n=[r[2]];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&4?ce(n,[be(s[2])]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function X8(r){let e,t;return e=new an({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function km(r){let e,t;return{c(){e=I("span"),t=B(r[1])},m(n,l){w(n,e,l),M(e,t)},p(n,l){l&2&&he(t,n[1])},d(n){n&&$(e)}}}function J8(r){let e,t,n,l,s;const i=[X8,Q8],o=[];function a(c,f){return c[0]?0:c[2]?1:-1}~(e=a(r))&&(t=o[e]=i[e](r));let u=r[1]&&km(r);return{c(){t&&t.c(),n=O(),u&&u.c(),l=ae()},m(c,f){~e&&o[e].m(c,f),w(c,n,f),u&&u.m(c,f),w(c,l,f),s=!0},p(c,f){let m=e;e=a(c),e===m?~e&&o[e].p(c,f):(t&&(q(),g(o[m],1,1,()=>{o[m]=null}),U()),~e?(t=o[e],t?t.p(c,f):(t=o[e]=i[e](c),t.c()),p(t,1),t.m(n.parentNode,n)):t=null),c[1]?u?u.p(c,f):(u=km(c),u.c(),u.m(l.parentNode,l)):u&&(u.d(1),u=null)},i(c){s||(p(t),s=!0)},o(c){g(t),s=!1},d(c){~e&&o[e].d(c),c&&$(n),u&&u.d(c),c&&$(l)}}}function Z8(r){let e,t;const n=[{appearance:r[4]},{disabled:r[3]||r[0]},r[6]];let l={$$slots:{default:[J8]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new ut({props:l}),e.$on("click",r[5]),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&89?ce(n,[i&16&&{appearance:s[4]},i&9&&{disabled:s[3]||s[0]},i&64&&be(s[6])]):{};i&519&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function x8(r,e,t){const n=["label","icon","onClick","confirm","disabled","isProcessing","appearance","proceed"];let l=Be(e,n),{label:s="Proceed"}=e,{icon:i=void 0}=e,{onClick:o=()=>{}}=e,{confirm:a=async()=>!0}=e,{disabled:u=!1}=e,{isProcessing:c=!1}=e,{appearance:f="primary"}=e;async function m(){if(!!await a()){t(0,c=!0);try{await o()}finally{t(0,c=!1)}}}return r.$$set=d=>{e=x(x({},e),ft(d)),t(6,l=Be(e,n)),"label"in d&&t(1,s=d.label),"icon"in d&&t(2,i=d.icon),"onClick"in d&&t(7,o=d.onClick),"confirm"in d&&t(8,a=d.confirm),"disabled"in d&&t(3,u=d.disabled),"isProcessing"in d&&t(0,c=d.isProcessing),"appearance"in d&&t(4,f=d.appearance)},[c,s,i,u,f,m,l,o,a]}class tl extends X{constructor(e){super(),Q(this,e,x8,Z8,G,{label:1,icon:2,onClick:7,confirm:8,disabled:3,isProcessing:0,appearance:4,proceed:5})}get proceed(){return this.$$.ctx[5]}}function ym(r){let e,t;return e=new ut({props:{appearance:"secondary",disabled:r[0]||!r[4],size:r[5],$$slots:{default:[e7]},$$scope:{ctx:r}}}),e.$on("click",function(){Et(r[1])&&r[1].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){r=n;const s={};l&17&&(s.disabled=r[0]||!r[4]),l&32&&(s.size=r[5]),l&131584&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Sm(r){let e,t;const n=[r[9].icon];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&512?ce(n,[be(s[9].icon)]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function e7(r){let e,t,n=r[9].label+"",l,s,i=r[9].icon&&Sm(r);return{c(){i&&i.c(),e=O(),t=I("span"),l=B(n)},m(o,a){i&&i.m(o,a),w(o,e,a),w(o,t,a),M(t,l),s=!0},p(o,a){o[9].icon?i?(i.p(o,a),a&512&&p(i,1)):(i=Sm(o),i.c(),p(i,1),i.m(e.parentNode,e)):i&&(q(),g(i,1,1,()=>{i=null}),U()),(!s||a&512)&&n!==(n=o[9].label+"")&&he(l,n)},i(o){s||(p(i),s=!0)},o(o){g(i),s=!1},d(o){i&&i.d(o),o&&$(e),o&&$(t)}}}function t7(r){let e,t,n,l,s,i,o=r[6]&&ym(r);function a(f){r[13](f)}function u(f){r[14](f)}let c={onClick:r[2],icon:r[8].icon,label:r[8].label,disabled:r[0]||!r[3],size:r[5]};return r[0]!==void 0&&(c.isProcessing=r[0]),r[7]!==void 0&&(c.proceed=r[7]),n=new tl({props:c}),ye.push(()=>Pe(n,"isProcessing",a)),ye.push(()=>Pe(n,"proceed",u)),{c(){e=I("div"),o&&o.c(),t=O(),C(n.$$.fragment),D(e,"class","cancel-or-proceed-button-pair"),Z(e,"has-cancel-button",r[6])},m(f,m){w(f,e,m),o&&o.m(e,null),M(e,t),y(n,e,null),i=!0},p(f,[m]){f[6]?o?(o.p(f,m),m&64&&p(o,1)):(o=ym(f),o.c(),p(o,1),o.m(e,t)):o&&(q(),g(o,1,1,()=>{o=null}),U());const d={};m&4&&(d.onClick=f[2]),m&256&&(d.icon=f[8].icon),m&256&&(d.label=f[8].label),m&9&&(d.disabled=f[0]||!f[3]),m&32&&(d.size=f[5]),!l&&m&1&&(l=!0,d.isProcessing=f[0],Ne(()=>l=!1)),!s&&m&128&&(s=!0,d.proceed=f[7],Ne(()=>s=!1)),n.$set(d),(!i||m&64)&&Z(e,"has-cancel-button",f[6])},i(f){i||(p(o),p(n.$$.fragment,f),i=!0)},o(f){g(o),g(n.$$.fragment,f),i=!1},d(f){f&&$(e),o&&o.d(),S(n)}}}function n7(r,e,t){let n,l;const s={label:"Cancel"},i={label:"Proceed",icon:P8};let{cancelButton:o={}}=e,{proceedButton:a={}}=e,{onCancel:u=()=>{}}=e,{onProceed:c=()=>{}}=e,{canProceed:f=!0}=e,{canCancel:m=!0}=e,{isProcessing:d=!1}=e,{size:_=void 0}=e,{hasCancelButton:h=!0}=e,b=async()=>{};function v(){return b()}function k(E){d=E,t(0,d)}function T(E){b=E,t(7,b)}return r.$$set=E=>{"cancelButton"in E&&t(10,o=E.cancelButton),"proceedButton"in E&&t(11,a=E.proceedButton),"onCancel"in E&&t(1,u=E.onCancel),"onProceed"in E&&t(2,c=E.onProceed),"canProceed"in E&&t(3,f=E.canProceed),"canCancel"in E&&t(4,m=E.canCancel),"isProcessing"in E&&t(0,d=E.isProcessing),"size"in E&&t(5,_=E.size),"hasCancelButton"in E&&t(6,h=E.hasCancelButton)},r.$$.update=()=>{r.$$.dirty&1024&&t(9,n={...s,...o}),r.$$.dirty&2048&&t(8,l={...i,...a})},[d,u,c,f,m,_,h,b,l,n,o,a,v,k,T]}class _r extends X{constructor(e){super(),Q(this,e,n7,t7,G,{cancelButton:10,proceedButton:11,onCancel:1,onProceed:2,canProceed:3,canCancel:4,isProcessing:0,size:5,hasCancelButton:6,proceed:12})}get proceed(){return this.$$.ctx[12]}}class pa{constructor(){re(this,"disabled",Ge(!1));re(this,"inputId",Ge(fl()))}}const _$={};function g$(r){Un(_$,r)}function h$(){return In(_$)}function r7(r,e,t){let{id:n=fl()}=e,{labelController:l=h$()}=e,{disabled:s=!1}=e,{focusOnMount:i=!1}=e;return W4(async()=>{if(await Gt(),i){const o=document.querySelector(`#${n}`);o==null||o.focus()}}),r.$$set=o=>{"id"in o&&t(0,n=o.id),"labelController"in o&&t(1,l=o.labelController),"disabled"in o&&t(2,s=o.disabled),"focusOnMount"in o&&t(3,i=o.focusOnMount)},r.$$.update=()=>{r.$$.dirty&6&&(l==null||l.disabled.set(s)),r.$$.dirty&3&&(l==null||l.inputId.set(n))},[n,l,s,i]}class dl extends X{constructor(e){super(),Q(this,e,r7,null,G,{id:0,labelController:1,disabled:2,focusOnMount:3})}}function l7(r){var _;let e,t,n,l,s,i,o,a;const u=[r[6],{disabled:r[3]}];function c(h){r[10](h)}let f={};for(let h=0;h<u.length;h+=1)f=x(f,u[h]);r[1]!==void 0&&(f.id=r[1]),e=new dl({props:f}),ye.push(()=>Pe(e,"id",c));let m=[r[6],{class:"checkbox"},{type:"checkbox"},{id:r[1]},{checked:s=(_=r[0])!=null?_:void 0},{indeterminate:r[4]},{disabled:r[3]},{value:r[2]}],d={};for(let h=0;h<m.length;h+=1)d=x(d,m[h]);return{c(){C(e.$$.fragment),n=O(),l=I("input"),it(l,d)},m(h,b){y(e,h,b),w(h,n,b),w(h,l,b),l.autofocus&&l.focus(),i=!0,o||(a=[Le(l,"change",r[5]),Le(l,"click",r[8]),Le(l,"mousedown",r[9])],o=!0)},p(h,[b]){var k;const v=b&72?ce(u,[b&64&&be(h[6]),b&8&&{disabled:h[3]}]):{};!t&&b&2&&(t=!0,v.id=h[1],Ne(()=>t=!1)),e.$set(v),it(l,d=ce(m,[b&64&&h[6],{class:"checkbox"},{type:"checkbox"},(!i||b&2)&&{id:h[1]},(!i||b&1&&s!==(s=(k=h[0])!=null?k:void 0))&&{checked:s},(!i||b&16)&&{indeterminate:h[4]},(!i||b&8)&&{disabled:h[3]},(!i||b&4)&&{value:h[2]}]))},i(h){i||(p(e.$$.fragment,h),i=!0)},o(h){g(e.$$.fragment,h),i=!1},d(h){S(e,h),h&&$(n),h&&$(l),o=!1,Dt(a)}}}function s7(r,e,t){let n;const l=["checked","allowIndeterminate","value","disabled","id"];let s=Be(e,l);const i=dt();let{checked:o=!1}=e,{allowIndeterminate:a=!1}=e,{value:u=void 0}=e,{disabled:c=!1}=e,{id:f=void 0}=e;function m(){t(0,o=!o),i("change",o)}function d(b){ve.call(this,r,b)}function _(b){ve.call(this,r,b)}function h(b){f=b,t(1,f)}return r.$$set=b=>{e=x(x({},e),ft(b)),t(6,s=Be(e,l)),"checked"in b&&t(0,o=b.checked),"allowIndeterminate"in b&&t(7,a=b.allowIndeterminate),"value"in b&&t(2,u=b.value),"disabled"in b&&t(3,c=b.disabled),"id"in b&&t(1,f=b.id)},r.$$.update=()=>{r.$$.dirty&129&&t(4,n=a&&o===null)},[o,f,u,c,n,m,s,a,d,_,h]}class Oi extends X{constructor(e){super(),Q(this,e,s7,l7,G,{checked:0,allowIndeterminate:7,value:2,disabled:3,id:1})}}function Do(r){return`${r}-label`}const i7=r=>({inputId:r&8}),Cm=r=>({inputId:r[3]});function o7(r){let e,t,n,l,s;const i=r[9].default,o=De(i,r,r[8],Cm);let a=[{for:r[3]},r[6],{style:r[0]},{class:"label-component"},{id:t=Do(r[3])}],u={};for(let c=0;c<a.length;c+=1)u=x(u,a[c]);return{c(){e=I("label"),o&&o.c(),it(e,u),Z(e,"disabled",r[4])},m(c,f){w(c,e,f),o&&o.m(e,null),n=!0,l||(s=Le(e,"click",r[5]),l=!0)},p(c,[f]){o&&o.p&&(!n||f&264)&&Ee(o,i,c,c[8],n?Ie(i,c[8],f,i7):Me(c[8]),Cm),it(e,u=ce(a,[(!n||f&8)&&{for:c[3]},f&64&&c[6],(!n||f&1)&&{style:c[0]},{class:"label-component"},(!n||f&8&&t!==(t=Do(c[3])))&&{id:t}])),Z(e,"disabled",c[4])},i(c){n||(p(o,c),n=!0)},o(c){g(o,c),n=!1},d(c){c&&$(e),o&&o.d(c),l=!1,s()}}}function a7(r,e,t){let n,l;const s=["controller","style"];let i=Be(e,s),o,a=z,u=()=>(a(),a=se(n,k=>t(3,o=k)),n),c,f=z,m=()=>(f(),f=se(l,k=>t(4,c=k)),l);r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>f());let{$$slots:d={},$$scope:_}=e,{controller:h=new pa}=e,{style:b=void 0}=e;function v(){const k=document.querySelector(`#${o}`);k==null||k.focus()}return r.$$set=k=>{e=x(x({},e),ft(k)),t(6,i=Be(e,s)),"controller"in k&&t(7,h=k.controller),"style"in k&&t(0,b=k.style),"$$scope"in k&&t(8,_=k.$$scope)},r.$$.update=()=>{r.$$.dirty&128&&g$(h),r.$$.dirty&128&&u(t(2,{inputId:n,disabled:l}=h,n,m(t(1,l))))},[b,l,n,o,c,v,i,h,_,d]}class Li extends X{constructor(e){super(),Q(this,e,a7,o7,G,{controller:7,style:0})}}const u7=r=>({}),Tm=r=>({}),c7=r=>({}),Dm=r=>({});function f7(r){let e,t,n,l,s,i,o,a,u,c,f;const m=r[3].label,d=De(m,r,r[4],Dm),_=r[3].help,h=De(_,r,r[4],Tm),b=r[3].default,v=De(b,r,r[4],null);return{c(){e=I("span"),t=I("span"),n=B(r[0]),l=O(),d&&d.c(),s=O(),i=I("span"),o=B(r[1]),a=O(),h&&h.c(),u=O(),c=I("span"),v&&v.c(),D(t,"class","label"),D(i,"class","help"),D(c,"class","input"),D(e,"class","label-content")},m(k,T){w(k,e,T),M(e,t),M(t,n),M(t,l),d&&d.m(t,null),M(e,s),M(e,i),M(i,o),M(i,a),h&&h.m(i,null),M(e,u),M(e,c),v&&v.m(c,null),f=!0},p(k,T){(!f||T&1)&&he(n,k[0]),d&&d.p&&(!f||T&16)&&Ee(d,m,k,k[4],f?Ie(m,k[4],T,c7):Me(k[4]),Dm),(!f||T&2)&&he(o,k[1]),h&&h.p&&(!f||T&16)&&Ee(h,_,k,k[4],f?Ie(_,k[4],T,u7):Me(k[4]),Tm),v&&v.p&&(!f||T&16)&&Ee(v,b,k,k[4],f?Ie(b,k[4],T,null):Me(k[4]),null)},i(k){f||(p(d,k),p(h,k),p(v,k),f=!0)},o(k){g(d,k),g(h,k),g(v,k),f=!1},d(k){k&&$(e),d&&d.d(k),h&&h.d(k),v&&v.d(k)}}}function m7(r){let e,t,n;return t=new Li({props:{$$slots:{default:[f7]},$$scope:{ctx:r}}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","labeled-input"),Z(e,"layout-stacked",r[2]==="stacked"),Z(e,"layout-inline",r[2]==="inline"),Z(e,"layout-inline-input-first",r[2]==="inline-input-first")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,[s]){const i={};s&19&&(i.$$scope={dirty:s,ctx:l}),t.$set(i),(!n||s&4)&&Z(e,"layout-stacked",l[2]==="stacked"),(!n||s&4)&&Z(e,"layout-inline",l[2]==="inline"),(!n||s&4)&&Z(e,"layout-inline-input-first",l[2]==="inline-input-first")},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function d7(r,e,t){let{$$slots:n={},$$scope:l}=e,{label:s=""}=e,{help:i=""}=e,{layout:o="inline"}=e;return r.$$set=a=>{"label"in a&&t(0,s=a.label),"help"in a&&t(1,i=a.help),"layout"in a&&t(2,o=a.layout),"$$scope"in a&&t(4,l=a.$$scope)},[s,i,o,n,l]}class wn extends X{constructor(e){super(),Q(this,e,d7,m7,G,{label:0,help:1,layout:2})}}function Im(r,e,t){const n=r.slice();return n[2]=e[t],n}function p7(r){let e,t,n;const l=[r[1]];var s=r[0].component;function i(o){let a={};for(let u=0;u<l.length;u+=1)a=x(a,l[u]);return{props:a}}return s&&(e=new s(i())),{c(){e&&C(e.$$.fragment),t=ae()},m(o,a){e&&y(e,o,a),w(o,t,a),n=!0},p(o,a){const u=a&2?ce(l,[be(o[1])]):{};if(s!==(s=o[0].component)){if(e){q();const c=e;g(c.$$.fragment,1,0,()=>{S(c,1)}),U()}s?(e=new s(i()),C(e.$$.fragment),p(e.$$.fragment,1),y(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(o){n||(e&&p(e.$$.fragment,o),n=!0)},o(o){e&&g(e.$$.fragment,o),n=!1},d(o){o&&$(t),e&&S(e,o)}}}function _7(r){let e,t=r[0],n=[];for(let l=0;l<t.length;l+=1)n[l]=Em(Im(r,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=ae()},m(l,s){for(let i=0;i<n.length;i+=1)n[i].m(l,s);w(l,e,s)},p(l,s){if(s&1){t=l[0];let i;for(i=0;i<t.length;i+=1){const o=Im(l,t,i);n[i]?n[i].p(o,s):(n[i]=Em(o),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},i:z,o:z,d(l){Fn(n,l),l&&$(e)}}}function g7(r){let e;return{c(){e=B(r[0])},m(t,n){w(t,e,n)},p(t,n){n&1&&he(e,t[0])},i:z,o:z,d(t){t&&$(e)}}}function Em(r){let e,t=r[2]+"",n;return{c(){e=I("p"),n=B(t)},m(l,s){w(l,e,s),M(e,n)},p(l,s){s&1&&t!==(t=l[2]+"")&&he(n,t)},d(l){l&&$(e)}}}function h7(r){let e,t,n,l,s;const i=[g7,_7,p7],o=[];function a(u,c){return c&1&&(e=null),typeof u[0]=="string"?0:(e==null&&(e=!!Array.isArray(u[0])),e?1:2)}return t=a(r,-1),n=o[t]=i[t](r),{c(){n.c(),l=ae()},m(u,c){o[t].m(u,c),w(u,l,c),s=!0},p(u,[c]){let f=t;t=a(u,c),t===f?o[t].p(u,c):(q(),g(o[f],1,1,()=>{o[f]=null}),U(),n=o[t],n?n.p(u,c):(n=o[t]=i[t](u),n.c()),p(n,1),n.m(l.parentNode,l))},i(u){s||(p(n),s=!0)},o(u){g(n),s=!1},d(u){o[t].d(u),u&&$(l)}}}function b7(r,e,t){let n,{arg:l}=e;return r.$$set=s=>{"arg"in s&&t(0,l=s.arg)},r.$$.update=()=>{r.$$.dirty&1&&t(1,n=Rl(l,"props")&&J4(l.props)?l.props:{})},[l,n]}class Ur extends X{constructor(e){super(),Q(this,e,b7,h7,G,{arg:0})}}const $7=r=>({option:r&2,disabled:r&146}),Mm=r=>({option:r[13],disabled:r[7](r[13])||r[4]});function Am(r,e,t){const n=r.slice();return n[13]=e[t],n}const w7=r=>({option:r&2,disabled:r&146}),Rm=r=>({option:r[13],disabled:r[7](r[13])||r[4]}),v7=r=>({option:r&2,disabled:r&146}),Pm=r=>({option:r[13],disabled:r[7](r[13])||r[4]});function Om(r){let e,t,n,l=r[8].label&&Lm(r),s=r[2]&&Nm(r);return{c(){e=I("legend"),l&&l.c(),t=O(),s&&s.c()},m(i,o){w(i,e,o),l&&l.m(e,null),M(e,t),s&&s.m(e,null),n=!0},p(i,o){i[8].label?l?(l.p(i,o),o&256&&p(l,1)):(l=Lm(i),l.c(),p(l,1),l.m(e,t)):l&&(q(),g(l,1,1,()=>{l=null}),U()),i[2]?s?s.p(i,o):(s=Nm(i),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i(i){n||(p(l),n=!0)},o(i){g(l),n=!1},d(i){i&&$(e),l&&l.d(),s&&s.d()}}}function Lm(r){let e;const t=r[10].label,n=De(t,r,r[12],Pm);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&4242)&&Ee(n,t,l,l[12],e?Ie(t,l[12],s,v7):Me(l[12]),Pm)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function Nm(r){let e;return{c(){e=B(r[2])},m(t,n){w(t,e,n)},p(t,n){n&4&&he(e,t[2])},d(t){t&&$(e)}}}function k7(r){let e;const t=r[10].default,n=De(t,r,r[12],Rm);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&4242)&&Ee(n,t,l,l[12],e?Ie(t,l[12],s,w7):Me(l[12]),Rm)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function y7(r){let e,t;return e=new Ur({props:{arg:r[5](r[13])}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&34&&(s.arg=n[5](n[13])),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Fm(r,e){let t,n,l,s;return n=new wn({props:{layout:"inline-input-first",$$slots:{label:[y7],default:[k7]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=I("li"),C(n.$$.fragment),l=O(),D(t,"class","option"),this.first=t},m(i,o){w(i,t,o),y(n,t,null),M(t,l),s=!0},p(i,o){e=i;const a={};o&4274&&(a.$$scope={dirty:o,ctx:e}),n.$set(a)},i(i){s||(p(n.$$.fragment,i),s=!0)},o(i){g(n.$$.fragment,i),s=!1},d(i){i&&$(t),S(n)}}}function S7(r){let e,t,n,l=[],s=new Map,i,o,a,u,c=(r[8].label||r[2])&&Om(r),f=r[1];const m=h=>h[13];for(let h=0;h<f.length;h+=1){let b=Am(r,f,h),v=m(b);s.set(v,l[h]=Fm(v,b))}const d=r[10].extra,_=De(d,r,r[12],Mm);return{c(){e=I("fieldset"),c&&c.c(),t=O(),n=I("ul");for(let h=0;h<l.length;h+=1)l[h].c();i=O(),_&&_.c(),D(n,"class","options"),D(e,"class","fieldset-group"),D(e,"aria-label",r[3]),Z(e,"inline",r[0]),Z(e,"boxed",r[6]),Z(e,"has-label",!!r[2])},m(h,b){w(h,e,b),c&&c.m(e,null),M(e,t),M(e,n);for(let v=0;v<l.length;v+=1)l[v].m(n,null);M(e,i),_&&_.m(e,null),o=!0,a||(u=Le(e,"change",r[11]),a=!0)},p(h,[b]){h[8].label||h[2]?c?(c.p(h,b),b&260&&p(c,1)):(c=Om(h),c.c(),p(c,1),c.m(e,t)):c&&(q(),g(c,1,1,()=>{c=null}),U()),b&4274&&(f=h[1],q(),l=pt(l,b,m,1,h,f,s,n,ht,Fm,null,Am),U()),_&&_.p&&(!o||b&4242)&&Ee(_,d,h,h[12],o?Ie(d,h[12],b,$7):Me(h[12]),Mm),(!o||b&8)&&D(e,"aria-label",h[3]),(!o||b&1)&&Z(e,"inline",h[0]),(!o||b&64)&&Z(e,"boxed",h[6]),(!o||b&4)&&Z(e,"has-label",!!h[2])},i(h){if(!o){p(c);for(let b=0;b<f.length;b+=1)p(l[b]);p(_,h),o=!0}},o(h){g(c);for(let b=0;b<l.length;b+=1)g(l[b]);g(_,h),o=!1},d(h){h&&$(e),c&&c.d();for(let b=0;b<l.length;b+=1)l[b].d();_&&_.d(h),a=!1,u()}}}function C7(r,e,t){let{$$slots:n={},$$scope:l}=e;const s=lr(n);let{isInline:i=!1}=e,{options:o=[]}=e,{label:a=void 0}=e,{ariaLabel:u=void 0}=e,{disabled:c=!1}=e,{labelKey:f="label"}=e,{getLabel:m=b=>As(b,f)}=e,{boxed:d=!1}=e,{getDisabled:_=()=>!1}=e;function h(b){ve.call(this,r,b)}return r.$$set=b=>{"isInline"in b&&t(0,i=b.isInline),"options"in b&&t(1,o=b.options),"label"in b&&t(2,a=b.label),"ariaLabel"in b&&t(3,u=b.ariaLabel),"disabled"in b&&t(4,c=b.disabled),"labelKey"in b&&t(9,f=b.labelKey),"getLabel"in b&&t(5,m=b.getLabel),"boxed"in b&&t(6,d=b.boxed),"getDisabled"in b&&t(7,_=b.getDisabled),"$$scope"in b&&t(12,l=b.$$scope)},[i,o,a,u,c,m,d,_,s,f,n,h,l]}class T7 extends X{constructor(e){super(),Q(this,e,C7,S7,G,{isInline:0,options:1,label:2,ariaLabel:3,disabled:4,labelKey:9,getLabel:5,boxed:6,getDisabled:7})}}function D7(r){let e,t,n;const l=r[5].default,s=De(l,r,r[4],null);return{c(){e=I("span"),s&&s.c(),D(e,"class",t="chip display-"+r[1]+" "+r[2]),yn(e,"background",r[0],!1)},m(i,o){w(i,e,o),s&&s.m(e,null),n=!0},p(i,[o]){s&&s.p&&(!n||o&16)&&Ee(s,l,i,i[4],n?Ie(l,i[4],o,null):Me(i[4]),null),(!n||o&6&&t!==(t="chip display-"+i[1]+" "+i[2]))&&D(e,"class",t),o&1&&yn(e,"background",i[0],!1)},i(i){n||(p(s,i),n=!0)},o(i){g(s,i),n=!1},d(i){i&&$(e),s&&s.d(i)}}}function I7(r,e,t){let{$$slots:n={},$$scope:l}=e,{textShade:s="dark"}=e,{background:i=(()=>{const u=rm(0,359),c=rm(0,100);return`hsl(${u}, ${c}%, ${s==="dark"?85:40}%)`})()}=e,{display:o="block"}=e,{class:a=""}=e;return r.$$set=u=>{"textShade"in u&&t(3,s=u.textShade),"background"in u&&t(0,i=u.background),"display"in u&&t(1,o=u.display),"class"in u&&t(2,a=u.class),"$$scope"in u&&t(4,l=u.$$scope)},[i,o,a,s,l,n]}class b$ extends X{constructor(e){super(),Q(this,e,I7,D7,G,{textShade:3,background:0,display:1,class:2})}}const E7=r=>({}),zm=r=>({}),M7=r=>({}),Hm=r=>({}),A7=r=>({}),Vm=r=>({}),R7=r=>({isOpen:r&1}),qm=r=>({toggle:r[2],isOpen:r[0]});function P7(r){let e,t,n,l;const s=[Jn,{size:"0.9rem"},{rotate:r[0]?void 0:270}];let i={};for(let u=0;u<s.length;u+=1)i=x(i,s[u]);e=new Fe({props:i});const o=r[3].header,a=De(o,r,r[4],Vm);return{c(){C(e.$$.fragment),t=O(),n=I("div"),a&&a.c(),D(n,"class","collapsible-header-title")},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),a&&a.m(n,null),l=!0},p(u,c){const f=c&1?ce(s,[c&0&&be(Jn),s[1],c&1&&{rotate:u[0]?void 0:270}]):{};e.$set(f),a&&a.p&&(!l||c&16)&&Ee(a,o,u,u[4],l?Ie(o,u[4],c,A7):Me(u[4]),Vm)},i(u){l||(p(e.$$.fragment,u),p(a,u),l=!0)},o(u){g(e.$$.fragment,u),g(a,u),l=!1},d(u){S(e,u),u&&$(t),u&&$(n),a&&a.d(u)}}}function O7(r){let e,t;return e=new ut({props:{appearance:r[1],class:"collapsible-header-btn",$$slots:{default:[P7]},$$scope:{ctx:r}}}),e.$on("click",r[2]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.appearance=n[1]),l&17&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Um(r){let e,t;const n=r[3].content,l=De(n,r,r[4],zm);return{c(){e=I("div"),l&&l.c(),D(e,"class","collapsible-content")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,i){l&&l.p&&(!t||i&16)&&Ee(l,n,s,s[4],t?Ie(n,s[4],i,E7):Me(s[4]),zm)},i(s){t||(p(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&$(e),l&&l.d(s)}}}function L7(r){let e,t,n,l,s;const i=r[3].trigger,o=De(i,r,r[4],qm),a=o||O7(r),u=r[3]["trigger-aside"],c=De(u,r,r[4],Hm);let f=r[0]&&Um(r);return{c(){e=I("div"),t=I("div"),a&&a.c(),n=O(),c&&c.c(),l=O(),f&&f.c(),D(t,"class","collapsible-header"),D(e,"class","collapsible")},m(m,d){w(m,e,d),M(e,t),a&&a.m(t,null),M(t,n),c&&c.m(t,null),M(e,l),f&&f.m(e,null),s=!0},p(m,[d]){o?o.p&&(!s||d&17)&&Ee(o,i,m,m[4],s?Ie(i,m[4],d,R7):Me(m[4]),qm):a&&a.p&&(!s||d&19)&&a.p(m,s?d:-1),c&&c.p&&(!s||d&16)&&Ee(c,u,m,m[4],s?Ie(u,m[4],d,M7):Me(m[4]),Hm),m[0]?f?(f.p(m,d),d&1&&p(f,1)):(f=Um(m),f.c(),p(f,1),f.m(e,null)):f&&(q(),g(f,1,1,()=>{f=null}),U())},i(m){s||(p(a,m),p(c,m),p(f),s=!0)},o(m){g(a,m),g(c,m),g(f),s=!1},d(m){m&&$(e),a&&a.d(m),c&&c.d(m),f&&f.d()}}}function N7(r,e,t){let{$$slots:n={},$$scope:l}=e,{isOpen:s=!1}=e,{triggerAppearance:i="default"}=e;function o(){t(0,s=!s)}return r.$$set=a=>{"isOpen"in a&&t(0,s=a.isOpen),"triggerAppearance"in a&&t(1,i=a.triggerAppearance),"$$scope"in a&&t(4,l=a.$$scope)},[s,i,o,n,l]}class Tn extends X{constructor(e){super(),Q(this,e,N7,L7,G,{isOpen:0,triggerAppearance:1})}}class F7{constructor(e){re(this,"inputs");re(this,"output");this.inputs=new vo,this.output=yy(at(this.inputs,t=>at(Js([...t]),e)))}registerInput(e){const t=Kn(e);return this.inputs.add(t),()=>this.inputs.delete(t)}subscribe(e,t){return this.output.subscribe(e,t)}}const $$=Symbol("menu alignment stores context");function Wm(){return new F7(r=>r.some(e=>e))}function z7(){return{hasControlColumn:Wm(),hasIconColumn:Wm()}}function w$(){return In($$)}function H7(){if(w$()!==void 0)throw Error("MenuController context has already been set");const r=z7();return Un($$,r),r}function V7(r){let e,t;const n=r[11].default,l=De(n,r,r[10],null);return{c(){e=I("div"),l&&l.c(),D(e,"class","menu"),D(e,"role","menu"),D(e,"style",r[0]),Z(e,"has-icon",r[1]),Z(e,"has-control",r[2])},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,[i]){l&&l.p&&(!t||i&1024)&&Ee(l,n,s,s[10],t?Ie(n,s[10],i,null):Me(s[10]),null),(!t||i&1)&&D(e,"style",s[0]),(!t||i&2)&&Z(e,"has-icon",s[1]),(!t||i&4)&&Z(e,"has-control",s[2])},i(s){t||(p(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&$(e),l&&l.d(s)}}}function q7(r,e,t){let n,l,s,i,{$$slots:o={},$$scope:a}=e;const u=H7(),{hasControlColumn:c,hasIconColumn:f}=u;de(r,c,b=>t(2,i=b)),de(r,f,b=>t(1,s=b));let{style:m=void 0}=e,{iconWidth:d="1em"}=e,{controlWidth:_="1em"}=e,{cssVariables:h=void 0}=e;return r.$$set=b=>{"style"in b&&t(5,m=b.style),"iconWidth"in b&&t(6,d=b.iconWidth),"controlWidth"in b&&t(7,_=b.controlWidth),"cssVariables"in b&&t(8,h=b.cssVariables),"$$scope"in b&&t(10,a=b.$$scope)},r.$$.update=()=>{r.$$.dirty&256&&t(9,n=h?di(h):""),r.$$.dirty&736&&t(0,l=t$(di({"--Menu__icon-width":d,"--Menu__control-width":_}),n,m))},[l,s,i,c,f,m,d,_,h,n,a,o]}class _a extends X{constructor(e){super(),Q(this,e,q7,V7,G,{style:5,iconWidth:6,controlWidth:7,cssVariables:8})}}function Bm(r){let e,t,n,l,s,i;return t=new _a({props:{$$slots:{default:[U7]},$$scope:{ctx:r}}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","context-menu dropdown content")},m(o,a){w(o,e,a),y(t,e,null),l=!0,s||(i=[Dn(r$.call(null,e,{callback:r[3]})),Dn(n=fc.call(null,e,{reference:jm(r[2])})),Dn(Rs.call(null,e)),Le(e,"click",r[4])],s=!0)},p(o,a){const u={};a&512&&(u.$$scope={dirty:a,ctx:o}),t.$set(u),n&&Et(n.update)&&a&4&&n.update.call(null,{reference:jm(o[2])})},i(o){l||(p(t.$$.fragment,o),l=!0)},o(o){g(t.$$.fragment,o),l=!1},d(o){o&&$(e),S(t),s=!1,Dt(i)}}}function U7(r){let e;const t=r[7].default,n=De(t,r,r[9],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&512)&&Ee(n,t,l,l[9],e?Ie(t,l[9],s,null):Me(l[9]),null)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function W7(r){let e,t,n=r[0]&&Bm(r);return{c(){e=I("div"),n&&n.c(),D(e,"class","context-menu-wrapper")},m(l,s){w(l,e,s),n&&n.m(e,null),r[8](e),t=!0},p(l,[s]){l[0]?n?(n.p(l,s),s&1&&p(n,1)):(n=Bm(l),n.c(),p(n,1),n.m(e,null)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){l&&$(e),n&&n.d(),r[8](null)}}}function jm(r){const{x:e,y:t}=r;return{getBoundingClientRect:()=>({width:0,height:0,x:e,y:t,top:t,right:e,bottom:t,left:e,toJSON:()=>({x:e,y:t})})}}function B7(r,e,t){let{$$slots:n={},$$scope:l}=e,{triggerElement:s=void 0}=e,{closeOnInnerClick:i=!0}=e,o=!1,a,u={x:0,y:0};function c(h){h.preventDefault(),t(2,u={x:h.clientX,y:h.clientY}),t(0,o=!o)}rn(()=>{var b;const h=(b=s!=null?s:a==null?void 0:a.parentElement)!=null?b:void 0;return h?(h.addEventListener("contextmenu",c),()=>{h.removeEventListener("contextmenu",c)}):()=>{}});function f(){t(0,o=!1)}function m(){i&&f()}function d(h){h.key==="Escape"&&o&&f(),h.stopPropagation()}function _(h){ye[h?"unshift":"push"](()=>{a=h,t(1,a)})}return r.$$set=h=>{"triggerElement"in h&&t(5,s=h.triggerElement),"closeOnInnerClick"in h&&t(6,i=h.closeOnInnerClick),"$$scope"in h&&t(9,l=h.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&(o?document.addEventListener("keydown",d,{capture:!0}):document.removeEventListener("keydown",d,{capture:!0}))},[o,a,u,f,m,s,i,n,_,l]}class gc extends X{constructor(e){super(),Q(this,e,B7,W7,G,{triggerElement:5,closeOnInnerClick:6})}}const j7=r=>({}),Ym=r=>({handleNewValue:r[0]});function Y7(r){let e;const t=r[4].default,n=De(t,r,r[3],Ym);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,[s]){n&&n.p&&(!e||s&8)&&Ee(n,t,l,l[3],e?Ie(t,l[3],s,j7):Me(l[3]),Ym)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function K7(r,e,t){let{$$slots:n={},$$scope:l}=e;const s=dt();let{duration:i=300}=e,{value:o=void 0}=e,a;function u(f){o!==f&&(t(1,o=f),s("artificialInput",f),s("artificialChange",f))}function c({value:f,debounce:m}){clearTimeout(a),m?a=window.setTimeout(()=>{u(f)},i):u(f)}return cl(()=>clearTimeout(a)),r.$$set=f=>{"duration"in f&&t(2,i=f.duration),"value"in f&&t(1,o=f.value),"$$scope"in f&&t(3,l=f.$$scope)},[c,o,i,l,n]}class G7 extends X{constructor(e){super(),Q(this,e,K7,Y7,G,{duration:2,value:1})}}class Q7{constructor(e){re(this,"elements",Ge(new Set));re(this,"parent");this.parent=e}add(e){var t;return this.elements.update(n=>{const l=new Set(n);return l.add(e),l}),(t=this.parent)==null||t.add(e),()=>this.delete(e)}delete(e){var t;this.elements.update(n=>{const l=new Set(n);return l.delete(e),l}),(t=this.parent)==null||t.delete(e)}subscribe(e){return this.elements.subscribe(e)}}const X7=r=>({}),Km=r=>({close:r[8]});function Gm(r){let e,t,n,l,s,i,o,a;const u=[Z7,J7],c=[];function f(m,d){return m[10].default?0:m[3]?1:-1}return~(t=f(r))&&(n=c[t]=u[t](r)),{c(){e=I("div"),n&&n.c(),D(e,"class",l=["dropdown content",r[2]].join(" "))},m(m,d){w(m,e,d),~t&&c[t].m(e,null),r[18](e),i=!0,o||(a=[Dn(Rs.call(null,e)),Dn(s=fc.call(null,e,{reference:r[1],options:{placement:r[4],modifiers:[{name:"flip",options:{fallbackPlacements:r[6]}}]}})),Dn(r$.call(null,e,{callback:r[8],references:r[7]})),Le(e,"click",r[9]),Le(e,"mouseenter",r[16]),Le(e,"mouseleave",r[17])],o=!0)},p(m,d){let _=t;t=f(m),t===_?~t&&c[t].p(m,d):(n&&(q(),g(c[_],1,1,()=>{c[_]=null}),U()),~t?(n=c[t],n?n.p(m,d):(n=c[t]=u[t](m),n.c()),p(n,1),n.m(e,null)):n=null),(!i||d&4&&l!==(l=["dropdown content",m[2]].join(" ")))&&D(e,"class",l),s&&Et(s.update)&&d&82&&s.update.call(null,{reference:m[1],options:{placement:m[4],modifiers:[{name:"flip",options:{fallbackPlacements:m[6]}}]}})},i(m){i||(p(n),i=!0)},o(m){g(n),i=!1},d(m){m&&$(e),~t&&c[t].d(),r[18](null),o=!1,Dt(a)}}}function J7(r){let e,t;return e=new Ur({props:{arg:r[3]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.arg=n[3]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Z7(r){let e;const t=r[15].default,n=De(t,r,r[14],Km);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&16384)&&Ee(n,t,l,l[14],e?Ie(t,l[14],s,X7):Me(l[14]),Km)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function x7(r){let e,t,n=r[0]&&Gm(r);return{c(){n&&n.c(),e=ae()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,[s]){l[0]?n?(n.p(l,s),s&1&&p(n,1)):(n=Gm(l),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&$(e)}}}function eS(r,e,t){let n,l,{$$slots:s={},$$scope:i}=e;const o=lr(s),a=dt();let{trigger:u=void 0}=e,{placements:c=["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]}=e,{preferredPlacement:f=void 0}=e,{isOpen:m=!1}=e,{class:d=""}=e,{closeOnInnerClick:_=!1}=e,{content:h=void 0}=e,b;const v=In("dropdownAccompanyingElements");async function k(){b||await Gt(),b&&(v==null||v.add(b))}async function T(){b||await Gt(),b&&(v==null||v.delete(b))}cl(T);const E=new Q7(v);Un("dropdownAccompanyingElements",E);const P=at(E,W=>[u,...W]);function R(W){W?(a("open"),k()):(a("close"),T())}function L(){t(0,m=!1)}function A(){_&&L()}function N(W){ve.call(this,r,W)}function F(W){ve.call(this,r,W)}function K(W){ye[W?"unshift":"push"](()=>{b=W,t(5,b)})}return r.$$set=W=>{"trigger"in W&&t(1,u=W.trigger),"placements"in W&&t(11,c=W.placements),"preferredPlacement"in W&&t(12,f=W.preferredPlacement),"isOpen"in W&&t(0,m=W.isOpen),"class"in W&&t(2,d=W.class),"closeOnInnerClick"in W&&t(13,_=W.closeOnInnerClick),"content"in W&&t(3,h=W.content),"$$scope"in W&&t(14,i=W.$$scope)},r.$$.update=()=>{var W;r.$$.dirty&6144&&t(4,n=(W=f!=null?f:c[0])!=null?W:"bottom-start"),r.$$.dirty&2064&&t(6,l=(()=>{const j=c.filter(Y=>Y!==n);if(j.length!==0)return j})()),r.$$.dirty&1&&R(m)},[m,u,d,h,n,b,l,P,L,A,o,c,f,_,i,s,N,F,K]}class Kl extends X{constructor(e){super(),Q(this,e,eS,x7,G,{trigger:1,placements:11,preferredPlacement:12,isOpen:0,class:2,closeOnInnerClick:13,content:3})}}const tS=r=>({}),Qm=r=>({}),nS=r=>({}),Xm=r=>({});function rS(r){let e;const t=r[8].content,n=De(t,r,r[14],Qm);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&16384)&&Ee(n,t,l,l[14],e?Ie(t,l[14],s,tS):Me(l[14]),Qm)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function lS(r){let e,t,n,l,s,i;const o=r[8].trigger,a=De(o,r,r[14],Xm);let u=[{"aria-label":"Help"},r[6]],c={};for(let f=0;f<u.length;f+=1)c=x(c,u[f]);return n=new Kl({props:{trigger:r[3],isOpen:r[5],placements:["top","right","bottom","left"],class:"tooltip "+r[0],$$slots:{default:[rS]},$$scope:{ctx:r}}}),n.$on("mouseenter",r[12]),n.$on("mouseleave",r[13]),{c(){e=I("span"),a&&a.c(),t=O(),C(n.$$.fragment),it(e,c)},m(f,m){w(f,e,m),a&&a.m(e,null),r[9](e),w(f,t,m),y(n,f,m),l=!0,s||(i=[Le(e,"mouseenter",r[10]),Le(e,"mouseleave",r[11])],s=!0)},p(f,[m]){a&&a.p&&(!l||m&16384)&&Ee(a,o,f,f[14],l?Ie(o,f[14],m,nS):Me(f[14]),Xm),it(e,c=ce(u,[{"aria-label":"Help"},m&64&&f[6]]));const d={};m&8&&(d.trigger=f[3]),m&32&&(d.isOpen=f[5]),m&1&&(d.class="tooltip "+f[0]),m&16384&&(d.$$scope={dirty:m,ctx:f}),n.$set(d)},i(f){l||(p(a,f),p(n.$$.fragment,f),l=!0)},o(f){g(a,f),g(n.$$.fragment,f),l=!1},d(f){f&&$(e),a&&a.d(f),r[9](null),f&&$(t),S(n,f),s=!1,Dt(i)}}}function sS(r,e,t){let n;const l=["tooltipClass","allowHover"];let s=Be(e,l),{$$slots:i={},$$scope:o}=e,{tooltipClass:a=""}=e,{allowHover:u=!1}=e,c,f=!1,m=!1,d;function _(T){ye[T?"unshift":"push"](()=>{c=T,t(3,c)})}const h=()=>{window.clearTimeout(d),t(1,f=!0)},b=()=>{t(4,d=window.setTimeout(()=>{t(1,f=!1)},100))},v=()=>{t(2,m=!0)},k=()=>{t(2,m=!1)};return r.$$set=T=>{e=x(x({},e),ft(T)),t(6,s=Be(e,l)),"tooltipClass"in T&&t(0,a=T.tooltipClass),"allowHover"in T&&t(7,u=T.allowHover),"$$scope"in T&&t(14,o=T.$$scope)},r.$$.update=()=>{r.$$.dirty&134&&t(5,n=f||u&&m)},[a,f,m,c,d,n,s,u,i,_,h,b,v,k,o]}class hc extends X{constructor(e){super(),Q(this,e,sS,lS,G,{tooltipClass:0,allowHover:7})}}const iS=r=>({}),Jm=r=>({slot:"content"});function oS(r){let e,t;const n=[{slot:"trigger"},gm];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[n[0],be(gm)]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function aS(r){let e;const t=r[0].default,n=De(t,r,r[1],Jm);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&2)&&Ee(n,t,l,l[1],e?Ie(t,l[1],s,iS):Me(l[1]),Jm)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function uS(r){let e,t;return e=new hc({props:{"aria-label":"Help",class:"help-trigger",allowHover:!0,$$slots:{content:[aS],trigger:[oS]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function cS(r,e,t){let{$$slots:n={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&t(1,l=s.$$scope)},[n,l]}class Wn extends X{constructor(e){super(),Q(this,e,cS,uS,G,{})}}function fS(r){let e,t,n;const l=r[3].default,s=De(l,r,r[2],null);let i=[{class:t=["input-group",r[0]].join(" ")},r[1]],o={};for(let a=0;a<i.length;a+=1)o=x(o,i[a]);return{c(){e=I("div"),s&&s.c(),it(e,o)},m(a,u){w(a,e,u),s&&s.m(e,null),n=!0},p(a,[u]){s&&s.p&&(!n||u&4)&&Ee(s,l,a,a[2],n?Ie(l,a[2],u,null):Me(a[2]),null),it(e,o=ce(i,[(!n||u&1&&t!==(t=["input-group",a[0]].join(" ")))&&{class:t},u&2&&a[1]]))},i(a){n||(p(s,a),n=!0)},o(a){g(s,a),n=!1},d(a){a&&$(e),s&&s.d(a)}}}function mS(r,e,t){const n=["class"];let l=Be(e,n),{$$slots:s={},$$scope:i}=e,{class:o=""}=e;return r.$$set=a=>{e=x(x({},e),ft(a)),t(1,l=Be(e,n)),"class"in a&&t(0,o=a.class),"$$scope"in a&&t(2,i=a.$$scope)},[o,l,i,s]}class Ps extends X{constructor(e){super(),Q(this,e,mS,fS,G,{class:0})}}function dS(r){let e,t,n;const l=r[3].default,s=De(l,r,r[2],null);let i=[{class:t=["input-group-text",r[0]].join(" ")},r[1]],o={};for(let a=0;a<i.length;a+=1)o=x(o,i[a]);return{c(){e=I("span"),s&&s.c(),it(e,o)},m(a,u){w(a,e,u),s&&s.m(e,null),n=!0},p(a,[u]){s&&s.p&&(!n||u&4)&&Ee(s,l,a,a[2],n?Ie(l,a[2],u,null):Me(a[2]),null),it(e,o=ce(i,[(!n||u&1&&t!==(t=["input-group-text",a[0]].join(" ")))&&{class:t},u&2&&a[1]]))},i(a){n||(p(s,a),n=!0)},o(a){g(s,a),n=!1},d(a){a&&$(e),s&&s.d(a)}}}function pS(r,e,t){const n=["class"];let l=Be(e,n),{$$slots:s={},$$scope:i}=e,{class:o=""}=e;return r.$$set=a=>{e=x(x({},e),ft(a)),t(1,l=Be(e,n)),"class"in a&&t(0,o=a.class),"$$scope"in a&&t(2,i=a.$$scope)},[o,l,i,s]}class v$ extends X{constructor(e){super(),Q(this,e,pS,dS,G,{class:0})}}function _S(r){let e,t,n,l,s,i,o,a;const u=[r[6]];function c(_){r[15](_)}let f={};for(let _=0;_<u.length;_+=1)f=x(f,u[_]);r[2]!==void 0&&(f.id=r[2]),e=new dl({props:f}),ye.push(()=>Pe(e,"id",c));let m=[r[6],{style:r[5]},{type:"text"},{class:s=["input-element","text-input",r[3]].join(" ")},{id:r[2]}],d={};for(let _=0;_<m.length;_+=1)d=x(d,m[_]);return{c(){C(e.$$.fragment),n=O(),l=I("input"),it(l,d),Z(l,"has-error",r[4])},m(_,h){y(e,_,h),w(_,n,h),w(_,l,h),l.autofocus&&l.focus(),r[16](l),hs(l,r[0]),i=!0,o||(a=[Le(l,"input",r[17]),Le(l,"input",r[9]),Le(l,"focus",r[10]),Le(l,"blur",r[11]),Le(l,"keydown",r[12]),Le(l,"beforeinput",r[13]),Le(l,"change",r[14])],o=!0)},p(_,[h]){const b=h&64?ce(u,[be(_[6])]):{};!t&&h&4&&(t=!0,b.id=_[2],Ne(()=>t=!1)),e.$set(b),it(l,d=ce(m,[h&64&&_[6],(!i||h&32)&&{style:_[5]},{type:"text"},(!i||h&8&&s!==(s=["input-element","text-input",_[3]].join(" ")))&&{class:s},(!i||h&4)&&{id:_[2]}])),h&1&&l.value!==_[0]&&hs(l,_[0]),Z(l,"has-error",_[4])},i(_){i||(p(e.$$.fragment,_),i=!0)},o(_){g(e.$$.fragment,_),i=!1},d(_){S(e,_),_&&$(n),_&&$(l),r[16](null),o=!1,Dt(a)}}}function gS(r,e,t){let n,l;const s=["value","class","element","hasError","id","cssVariables"];let i=Be(e,s),{value:o=""}=e,{class:a=""}=e,{element:u=void 0}=e,{hasError:c=!1}=e,{id:f=void 0}=e,{cssVariables:m=void 0}=e;function d(R){ve.call(this,r,R)}function _(R){ve.call(this,r,R)}function h(R){ve.call(this,r,R)}function b(R){ve.call(this,r,R)}function v(R){ve.call(this,r,R)}function k(R){ve.call(this,r,R)}function T(R){f=R,t(2,f)}function E(R){ye[R?"unshift":"push"](()=>{u=R,t(1,u)})}function P(){o=this.value,t(0,o)}return r.$$set=R=>{e=x(x({},e),ft(R)),t(6,i=Be(e,s)),"value"in R&&t(0,o=R.value),"class"in R&&t(3,a=R.class),"element"in R&&t(1,u=R.element),"hasError"in R&&t(4,c=R.hasError),"id"in R&&t(2,f=R.id),"cssVariables"in R&&t(7,m=R.cssVariables)},r.$$.update=()=>{r.$$.dirty&128&&t(8,n=m?di(m):""),t(5,l=t$(n,i.style))},[o,u,f,a,c,l,i,m,n,d,_,h,b,v,k,T,E,P]}class $n extends X{constructor(e){super(),Q(this,e,gS,_S,G,{value:0,class:3,element:1,hasError:4,id:2,cssVariables:7})}}var Fr=-1,Sr=1,Qn=0;function pi(r,e,t,n){if(r===e)return r?[[Qn,r]]:[];if(t!=null){var l=vS(r,e,t);if(l)return l}var s=bc(r,e),i=r.substring(0,s);r=r.substring(s),e=e.substring(s),s=$c(r,e);var o=r.substring(r.length-s);r=r.substring(0,r.length-s),e=e.substring(0,e.length-s);var a=hS(r,e);return i&&a.unshift([Qn,i]),o&&a.push([Qn,o]),k$(a,n),a}function hS(r,e){var t;if(!r)return[[Sr,e]];if(!e)return[[Fr,r]];var n=r.length>e.length?r:e,l=r.length>e.length?e:r,s=n.indexOf(l);if(s!==-1)return t=[[Sr,n.substring(0,s)],[Qn,l],[Sr,n.substring(s+l.length)]],r.length>e.length&&(t[0][0]=t[2][0]=Fr),t;if(l.length===1)return[[Fr,r],[Sr,e]];var i=$S(r,e);if(i){var o=i[0],a=i[1],u=i[2],c=i[3],f=i[4],m=pi(o,u),d=pi(a,c);return m.concat([[Qn,f]],d)}return bS(r,e)}function bS(r,e){for(var t=r.length,n=e.length,l=Math.ceil((t+n)/2),s=l,i=2*l,o=new Array(i),a=new Array(i),u=0;u<i;u++)o[u]=-1,a[u]=-1;o[s+1]=0,a[s+1]=0;for(var c=t-n,f=c%2!==0,m=0,d=0,_=0,h=0,b=0;b<l;b++){for(var v=-b+m;v<=b-d;v+=2){var k=s+v,T;v===-b||v!==b&&o[k-1]<o[k+1]?T=o[k+1]:T=o[k-1]+1;for(var E=T-v;T<t&&E<n&&r.charAt(T)===e.charAt(E);)T++,E++;if(o[k]=T,T>t)d+=2;else if(E>n)m+=2;else if(f){var P=s+c-v;if(P>=0&&P<i&&a[P]!==-1){var R=t-a[P];if(T>=R)return Zm(r,e,T,E)}}}for(var L=-b+_;L<=b-h;L+=2){var P=s+L,R;L===-b||L!==b&&a[P-1]<a[P+1]?R=a[P+1]:R=a[P-1]+1;for(var A=R-L;R<t&&A<n&&r.charAt(t-R-1)===e.charAt(n-A-1);)R++,A++;if(a[P]=R,R>t)h+=2;else if(A>n)_+=2;else if(!f){var k=s+c-L;if(k>=0&&k<i&&o[k]!==-1){var T=o[k],E=s+T-k;if(R=t-R,T>=R)return Zm(r,e,T,E)}}}}return[[Fr,r],[Sr,e]]}function Zm(r,e,t,n){var l=r.substring(0,t),s=e.substring(0,n),i=r.substring(t),o=e.substring(n),a=pi(l,s),u=pi(i,o);return a.concat(u)}function bc(r,e){if(!r||!e||r.charAt(0)!==e.charAt(0))return 0;for(var t=0,n=Math.min(r.length,e.length),l=n,s=0;t<l;)r.substring(s,l)==e.substring(s,l)?(t=l,s=t):n=l,l=Math.floor((n-t)/2+t);return y$(r.charCodeAt(l-1))&&l--,l}function $c(r,e){if(!r||!e||r.slice(-1)!==e.slice(-1))return 0;for(var t=0,n=Math.min(r.length,e.length),l=n,s=0;t<l;)r.substring(r.length-l,r.length-s)==e.substring(e.length-l,e.length-s)?(t=l,s=t):n=l,l=Math.floor((n-t)/2+t);return S$(r.charCodeAt(r.length-l))&&l--,l}function $S(r,e){var t=r.length>e.length?r:e,n=r.length>e.length?e:r;if(t.length<4||n.length*2<t.length)return null;function l(d,_,h){for(var b=d.substring(h,h+Math.floor(d.length/4)),v=-1,k="",T,E,P,R;(v=_.indexOf(b,v+1))!==-1;){var L=bc(d.substring(h),_.substring(v)),A=$c(d.substring(0,h),_.substring(0,v));k.length<A+L&&(k=_.substring(v-A,v)+_.substring(v,v+L),T=d.substring(0,h-A),E=d.substring(h+L),P=_.substring(0,v-A),R=_.substring(v+L))}return k.length*2>=d.length?[T,E,P,R,k]:null}var s=l(t,n,Math.ceil(t.length/4)),i=l(t,n,Math.ceil(t.length/2)),o;if(!s&&!i)return null;i?s?o=s[4].length>i[4].length?s:i:o=i:o=s;var a,u,c,f;r.length>e.length?(a=o[0],u=o[1],c=o[2],f=o[3]):(c=o[0],f=o[1],a=o[2],u=o[3]);var m=o[4];return[a,u,c,f,m]}function k$(r,e){r.push([Qn,""]);for(var t=0,n=0,l=0,s="",i="",o;t<r.length;){if(t<r.length-1&&!r[t][1]){r.splice(t,1);continue}switch(r[t][0]){case Sr:l++,i+=r[t][1],t++;break;case Fr:n++,s+=r[t][1],t++;break;case Qn:var a=t-l-n-1;if(e){if(a>=0&&T$(r[a][1])){var u=r[a][1].slice(-1);if(r[a][1]=r[a][1].slice(0,-1),s=u+s,i=u+i,!r[a][1]){r.splice(a,1),t--;var c=a-1;r[c]&&r[c][0]===Sr&&(l++,i=r[c][1]+i,c--),r[c]&&r[c][0]===Fr&&(n++,s=r[c][1]+s,c--),a=c}}if(C$(r[t][1])){var u=r[t][1].charAt(0);r[t][1]=r[t][1].slice(1),s+=u,i+=u}}if(t<r.length-1&&!r[t][1]){r.splice(t,1);break}if(s.length>0||i.length>0){s.length>0&&i.length>0&&(o=bc(i,s),o!==0&&(a>=0?r[a][1]+=i.substring(0,o):(r.splice(0,0,[Qn,i.substring(0,o)]),t++),i=i.substring(o),s=s.substring(o)),o=$c(i,s),o!==0&&(r[t][1]=i.substring(i.length-o)+r[t][1],i=i.substring(0,i.length-o),s=s.substring(0,s.length-o)));var f=l+n;s.length===0&&i.length===0?(r.splice(t-f,f),t=t-f):s.length===0?(r.splice(t-f,f,[Sr,i]),t=t-f+1):i.length===0?(r.splice(t-f,f,[Fr,s]),t=t-f+1):(r.splice(t-f,f,[Fr,s],[Sr,i]),t=t-f+2)}t!==0&&r[t-1][0]===Qn?(r[t-1][1]+=r[t][1],r.splice(t,1)):t++,l=0,n=0,s="",i="";break}}r[r.length-1][1]===""&&r.pop();var m=!1;for(t=1;t<r.length-1;)r[t-1][0]===Qn&&r[t+1][0]===Qn&&(r[t][1].substring(r[t][1].length-r[t-1][1].length)===r[t-1][1]?(r[t][1]=r[t-1][1]+r[t][1].substring(0,r[t][1].length-r[t-1][1].length),r[t+1][1]=r[t-1][1]+r[t+1][1],r.splice(t-1,1),m=!0):r[t][1].substring(0,r[t+1][1].length)==r[t+1][1]&&(r[t-1][1]+=r[t+1][1],r[t][1]=r[t][1].substring(r[t+1][1].length)+r[t+1][1],r.splice(t+1,1),m=!0)),t++;m&&k$(r,e)}function y$(r){return r>=55296&&r<=56319}function S$(r){return r>=56320&&r<=57343}function C$(r){return S$(r.charCodeAt(0))}function T$(r){return y$(r.charCodeAt(r.length-1))}function wS(r){for(var e=[],t=0;t<r.length;t++)r[t][1].length>0&&e.push(r[t]);return e}function lu(r,e,t,n){return T$(r)||C$(n)?null:wS([[Qn,r],[Fr,e],[Sr,t],[Qn,n]])}function vS(r,e,t){var n=typeof t=="number"?{index:t,length:0}:t.oldRange,l=typeof t=="number"?null:t.newRange,s=r.length,i=e.length;if(n.length===0&&(l===null||l.length===0)){var o=n.index,a=r.slice(0,o),u=r.slice(o),c=l?l.index:null;e:{var f=o+i-s;if(c!==null&&c!==f||f<0||f>i)break e;var m=e.slice(0,f),d=e.slice(f);if(d!==u)break e;var _=Math.min(o,f),h=a.slice(0,_),b=m.slice(0,_);if(h!==b)break e;var v=a.slice(_),k=m.slice(_);return lu(h,v,k,u)}e:{if(c!==null&&c!==o)break e;var T=o,m=e.slice(0,T),d=e.slice(T);if(m!==a)break e;var E=Math.min(s-T,i-T),P=u.slice(u.length-E),R=d.slice(d.length-E);if(P!==R)break e;var v=u.slice(0,u.length-E),k=d.slice(0,d.length-E);return lu(a,v,k,P)}}if(n.length>0&&l&&l.length===0){e:{var h=r.slice(0,n.index),P=r.slice(n.index+n.length),_=h.length,E=P.length;if(i<_+E)break e;var b=e.slice(0,_),R=e.slice(i-E);if(h!==b||P!==R)break e;var v=r.slice(_,s-E),k=e.slice(_,i-E);return lu(h,v,k,P)}}return null}function ga(r,e,t){return pi(r,e,t,!0)}ga.INSERT=Sr;ga.DELETE=Fr;ga.EQUAL=Qn;var su=ga;function kS({oldText:r,oldCursorPosition:e,newText:t}){const n=su(r,t);let l=0;return n.forEach(s=>{const[i]=s;i===su.DELETE?l-=1:i===su.INSERT&&(l+=1)}),l<0&&(l=0),e+l}const yS=["direction","boxSizing","paddingRight","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","fontFamily","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize"];function SS(r,e){const t="caret-position-measurement",n=document.createElement("div");n.id=t,document.body.appendChild(n);const{style:l}=n;l.position="absolute",l.top="0px",l.zIndex="999999999",l.backgroundColor="coral",l.width="max-content",l.whiteSpace="pre",l.visibility="hidden";for(const i of yS)l[i]=e[i];n.textContent=r;const s=n.clientWidth;return n.remove(),s}function CS(r){const{clientWidth:e,scrollWidth:t}=r;if(e>=t)return;const n=r.selectionEnd;if(!n)return;if(n===0){r.scrollLeft=0;return}const l=r.value;if(n===l.length){r.scrollLeft=r.scrollWidth;return}const s=l.substring(0,n),i=SS(s,window.getComputedStyle(r));let o=10;const a=i-r.scrollLeft-e+o;if(a>0){r.scrollLeft+=a;return}o=25;const u=r.scrollLeft-i+o;u>0&&(r.scrollLeft-=u)}function TS(r){let e,t,n;const l=[{value:r[1]},r[5]];function s(o){r[9](o)}let i={};for(let o=0;o<l.length;o+=1)i=x(i,l[o]);return r[0]!==void 0&&(i.element=r[0]),e=new $n({props:i}),ye.push(()=>Pe(e,"element",s)),e.$on("beforeinput",r[2]),e.$on("blur",r[3]),e.$on("focus",r[10]),e.$on("blur",r[11]),e.$on("blur",r[4]),e.$on("keydown",r[12]),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,[a]){const u=a&34?ce(l,[a&2&&{value:o[1]},a&32&&be(o[5])]):{};!t&&a&1&&(t=!0,u.element=o[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function DS(r,e,t){let n;const l=["formatter","value","onParseError","element"];let s=Be(e,l);const i=dt();let{formatter:o}=e,{value:a=void 0}=e,{onParseError:u=()=>{}}=e,{element:c=void 0}=e,f="",m,d,_;function h(A){d=n(A),(m==null?void 0:m.value)!==A&&(t(1,f=d),_=A)}function b(A){t(6,a=A),i("artificialInput",A)}async function v(A){A.preventDefault();const{value:N,cursorPosition:F}=Dy(A);try{m=o.parse(N),b(m.value),t(1,f=m.intermediateDisplay);const K=kS({oldText:N,oldCursorPosition:F,newText:m.intermediateDisplay});if(await Gt(),c==null||c.setSelectionRange(K,K),!c)return;CS(c)}catch(K){u({userInput:N,error:K})}}function k(){_!==a&&i("artificialChange",a)}function T(){t(1,f=d!=null?d:"")}function E(A){c=A,t(0,c)}function P(A){ve.call(this,r,A)}function R(A){ve.call(this,r,A)}function L(A){ve.call(this,r,A)}return r.$$set=A=>{e=x(x({},e),ft(A)),t(5,s=Be(e,l)),"formatter"in A&&t(7,o=A.formatter),"value"in A&&t(6,a=A.value),"onParseError"in A&&t(8,u=A.onParseError),"element"in A&&t(0,c=A.element)},r.$$.update=()=>{r.$$.dirty&128&&(n=A=>A==null?"":o.format(A)),r.$$.dirty&64&&h(a)},[c,f,v,k,T,s,a,o,u,E,P,R,L]}class Os extends X{constructor(e){super(),Q(this,e,DS,TS,G,{formatter:7,value:6,onParseError:8,element:0})}}function IS(r){const e=new Intl.NumberFormat(r).format(1.2)[1];if(![".",","].includes(e))throw new Error(`Unsupported decimal separator: ${e}`);return e}const D$={allowFloat:!1,allowNegative:!1,useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:20,forceTrailingDecimal:!1};function I$(r){return{...r,decimalSeparator:IS(r.locale)}}class E${constructor(e={}){re(this,"opts");this.opts=I$(My(D$,e))}}function M$(r){const e=["\u2010","\u2011","\u2012","\u2013","\u2014","\u2015","\u2043","\u2212","\uFE63","\uFF0D"];return r.replace(new RegExp(`[${e.join("")}]`,"g"),"-")}function ES(r){const e=!!/^-/.exec(r),t=r.replace(/-/g,"");return`${e?"-":""}${t}`}function MS(r){return r.replace(/,/g,".")}function AS(r){const e=[String.raw`\d`,...r.allowNegative?[Ou("-")]:[],...r.allowFloat?[Ou(r.decimalSeparator)]:[]],t=new RegExp(`[^${e.join("")}]`,"g");return n=>n.replace(t,"")}function RS(r){return t=>t.split(r.decimalSeparator).reduce((n,l,s)=>{if(n===void 0)return l;const i=s<=1?r.decimalSeparator:"";return`${n}${i}${l}`})}function PS(r){const e=new RegExp(`(^|[^\\d])(?=${Ou(r.decimalSeparator)})`);return t=>t.replace(e,"$10")}function OS(r){return r.replace(/^(-?)0*(?!\.|$)/,"$1")}function LS(r){return r.replace(/(\.(?:[1-9]|0(?=0*[1-9]))*)(0*)$/,"$1")}function NS(r){return r.replace(/\.$/,"")}function A$(r){return e=>r.reduce((t,n)=>n(t),e)}function R$(r){return A$([M$,AS(r),ES,RS(r),MS,PS(r),OS])}function FS(r){return A$([R$(r),LS,NS])}function zS(r){return e=>e.some(t=>t.type==="decimal")?e:[...e,{type:"decimal",value:r.decimalSeparator}]}function HS(r){return r.map(e=>e.value).join("")}function _i(r){function e(n){return Number.isNaN(n)?["Value is NaN."]:!r.allowNegative&&(n<0||Object.is(n,-0))?["Value must be positive."]:!r.allowFloat&&typeof n=="number"&&n%1!==0?["Value must be an integer."]:[]}function t(n){const l=e(n);if(l.length)throw new Error(`Unable to format value. ${l.join(", ")}`);const s=Intl.NumberFormat(r.locale,{numberingSystem:"latn",minimumFractionDigits:r.minimumFractionDigits,maximumFractionDigits:Math.max(r.minimumFractionDigits,r.maximumFractionDigits),useGrouping:r.useGrouping}).formatToParts(n),i=[];r.forceTrailingDecimal&&i.push(zS(r));const o=i.reduce((u,c)=>c(u),s),a=HS(o);return M$(a)}return t}function VS(r){return _i(I$({locale:"en-US",allowFloat:!0,allowNegative:!0,useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:20,forceTrailingDecimal:!1}))(r)}function qS(r){return e=>e.replace(/\./g,r.decimalSeparator)}function US(r){var e;return((e=r.split(".")[1])!=null?e:"").length}function WS(r){return r.endsWith(".")}function BS(r){const e=parseFloat(r);if(!Number.isNaN(e))return e}function jS(r){try{return BigInt(r)}catch(e){return}}function Hu(r){function e(t){const n=R$(r)(t),l=BS(n);if(l===void 0)return{value:null,intermediateDisplay:n};const s=FS(r)(t);if(VS(l)===s){const a=Object.is(l,-0)?-0:parseFloat(l.toFixed(r.maximumFractionDigits));return{value:{type:"number",numericalValue:a,normalizedStringifiedNumber:a.toString()},intermediateDisplay:_i({...r,forceTrailingDecimal:WS(n),minimumFractionDigits:Math.min(US(n),r.maximumFractionDigits)})(a)}}const o=jS(n);return o!==void 0?{value:{type:"bigint",numericalValue:o,normalizedStringifiedNumber:s},intermediateDisplay:_i({...r,forceTrailingDecimal:!1,minimumFractionDigits:0,maximumFractionDigits:0})(o)}:{value:{type:"bigfloat",normalizedStringifiedNumber:s},intermediateDisplay:qS(r)(n)}}return e}class YS extends E${format(e){return _i(this.opts)(e)}parse(e){const t=Hu(this.opts)(e);if(t.value===null)return{value:null,intermediateDisplay:t.intermediateDisplay};if(t.value.type!=="number")throw new Error("Number input could not be accurately parsed to a JavaScript number without loss of precision.");return{value:t.value.numericalValue,intermediateDisplay:t.intermediateDisplay}}}class wc extends E${format(e){var l;const n=Hu({...this.opts,decimalSeparator:"."})(e);switch((l=n.value)==null?void 0:l.type){case"bigfloat":return n.value.normalizedStringifiedNumber;case"number":case"bigint":return _i(this.opts)(n.value.numericalValue);default:return""}}parse(e){var l,s;const n=Hu(this.opts)(e);return{value:(s=(l=n.value)==null?void 0:l.normalizedStringifiedNumber)!=null?s:null,intermediateDisplay:n.intermediateDisplay}}}function P$(r){const e={...D$,...r},{allowFloat:t,allowNegative:n}=e;return n?"text":t?"decimal":"numeric"}function KS(r){let e,t,n,l;const s=[{formatter:r[3]},r[4],{inputmode:r[2]}];function i(u){r[5](u)}function o(u){r[6](u)}let a={};for(let u=0;u<s.length;u+=1)a=x(a,s[u]);return r[0]!==void 0&&(a.value=r[0]),r[1]!==void 0&&(a.element=r[1]),e=new Os({props:a}),ye.push(()=>Pe(e,"value",i)),ye.push(()=>Pe(e,"element",o)),e.$on("artificialInput",r[7]),e.$on("artificialChange",r[8]),{c(){C(e.$$.fragment)},m(u,c){y(e,u,c),l=!0},p(u,[c]){const f=c&28?ce(s,[c&8&&{formatter:u[3]},c&16&&be(u[4]),c&4&&{inputmode:u[2]}]):{};!t&&c&1&&(t=!0,f.value=u[0],Ne(()=>t=!1)),!n&&c&2&&(n=!0,f.element=u[1],Ne(()=>n=!1)),e.$set(f)},i(u){l||(p(e.$$.fragment,u),l=!0)},o(u){g(e.$$.fragment,u),l=!1},d(u){S(e,u)}}}function GS(r,e,t){let n,l;const s=["value","element"];let i=Be(e,s),{value:o=void 0}=e,{element:a=void 0}=e;function u(d){o=d,t(0,o)}function c(d){a=d,t(1,a)}function f(d){ve.call(this,r,d)}function m(d){ve.call(this,r,d)}return r.$$set=d=>{e=x(x({},e),ft(d)),t(4,i=Be(e,s)),"value"in d&&t(0,o=d.value),"element"in d&&t(1,a=d.element)},r.$$.update=()=>{t(3,n=new YS(i)),t(2,l=P$(i))},[o,a,l,n,i,u,c,f,m]}class QS extends X{constructor(e){super(),Q(this,e,GS,KS,G,{value:0,element:1})}}function XS(r){let e,t,n,l;const s=[r[4],{formatter:r[3]},{inputmode:r[2]}];function i(u){r[5](u)}function o(u){r[6](u)}let a={};for(let u=0;u<s.length;u+=1)a=x(a,s[u]);return r[0]!==void 0&&(a.value=r[0]),r[1]!==void 0&&(a.element=r[1]),e=new Os({props:a}),ye.push(()=>Pe(e,"value",i)),ye.push(()=>Pe(e,"element",o)),e.$on("blur",r[7]),e.$on("focus",r[8]),e.$on("keydown",r[9]),e.$on("artificialInput",r[10]),e.$on("artificialChange",r[11]),{c(){C(e.$$.fragment)},m(u,c){y(e,u,c),l=!0},p(u,[c]){const f=c&28?ce(s,[c&16&&be(u[4]),c&8&&{formatter:u[3]},c&4&&{inputmode:u[2]}]):{};!t&&c&1&&(t=!0,f.value=u[0],Ne(()=>t=!1)),!n&&c&2&&(n=!0,f.element=u[1],Ne(()=>n=!1)),e.$set(f)},i(u){l||(p(e.$$.fragment,u),l=!0)},o(u){g(e.$$.fragment,u),l=!1},d(u){S(e,u)}}}function JS(r,e,t){let n,l;const s=["value","element"];let i=Be(e,s),{value:o=void 0}=e,{element:a=void 0}=e;function u(b){o=b,t(0,o)}function c(b){a=b,t(1,a)}function f(b){ve.call(this,r,b)}function m(b){ve.call(this,r,b)}function d(b){ve.call(this,r,b)}function _(b){ve.call(this,r,b)}function h(b){ve.call(this,r,b)}return r.$$set=b=>{e=x(x({},e),ft(b)),t(4,i=Be(e,s)),"value"in b&&t(0,o=b.value),"element"in b&&t(1,a=b.element)},r.$$.update=()=>{t(3,n=new wc(i)),t(2,l=P$(i))},[o,a,l,n,i,u,c,f,m,d,_,h]}class O$ extends X{constructor(e){super(),Q(this,e,JS,XS,G,{value:0,element:1})}}const ZS=r=>({close:r&32768}),xm=r=>({close:r[15]}),xS=r=>({}),ed=r=>({});function td(r){let e,t,n;const l=[Jn,{size:"0.75em"}];let s={};for(let i=0;i<l.length;i+=1)s=x(s,l[i]);return t=new Fe({props:s}),{c(){e=I("span"),C(t.$$.fragment),D(e,"class","arrow")},m(i,o){w(i,e,o),y(t,e,null),n=!0},p(i,o){const a=o&0?ce(l,[be(Jn),l[1]]):{};t.$set(a)},i(i){n||(p(t.$$.fragment,i),n=!0)},o(i){g(t.$$.fragment,i),n=!1},d(i){i&&$(e),S(t)}}}function eC(r){let e,t,n,l;const s=r[17].trigger,i=De(s,r,r[24],ed);let o=r[8]&&td();return{c(){e=I("span"),i&&i.c(),t=O(),o&&o.c(),n=ae(),D(e,"class","label")},m(a,u){w(a,e,u),i&&i.m(e,null),w(a,t,u),o&&o.m(a,u),w(a,n,u),l=!0},p(a,u){i&&i.p&&(!l||u&16777216)&&Ee(i,s,a,a[24],l?Ie(s,a[24],u,xS):Me(a[24]),ed),a[8]?o?(o.p(a,u),u&256&&p(o,1)):(o=td(),o.c(),p(o,1),o.m(n.parentNode,n)):o&&(q(),g(o,1,1,()=>{o=null}),U())},i(a){l||(p(i,a),p(o),l=!0)},o(a){g(i,a),g(o),l=!1},d(a){a&&$(e),i&&i.d(a),a&&$(t),o&&o.d(a),a&&$(n)}}}function tC(r){let e;const t=r[17].content,n=De(t,r,r[24],xm);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&16809984)&&Ee(n,t,l,l[24],e?Ie(t,l[24],s,ZS):Me(l[24]),xm)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function nC(r){let e,t,n,l,s;const i=[{appearance:r[1]},{class:r[12]},{"aria-controls":r[5]},{"aria-haspopup":"listbox"},{"aria-label":r[4]},{title:r[4]},{size:r[9]},{disabled:r[10]},r[14]];function o(u){r[18](u)}let a={$$slots:{default:[eC]},$$scope:{ctx:r}};for(let u=0;u<i.length;u+=1)a=x(a,i[u]);return r[11]!==void 0&&(a.element=r[11]),e=new ut({props:a}),ye.push(()=>Pe(e,"element",o)),e.$on("click",r[13]),e.$on("keydown",r[19]),e.$on("focus",r[20]),e.$on("blur",r[21]),l=new Kl({props:{trigger:r[11],isOpen:r[0],placements:r[6],preferredPlacement:r[7],class:r[2],closeOnInnerClick:r[3],$$slots:{default:[tC,({close:u})=>({15:u}),({close:u})=>u?32768:0]},$$scope:{ctx:r}}}),l.$on("close",r[15]),l.$on("open",r[22]),l.$on("close",r[23]),{c(){C(e.$$.fragment),n=O(),C(l.$$.fragment)},m(u,c){y(e,u,c),w(u,n,c),y(l,u,c),s=!0},p(u,[c]){const f=c&22066?ce(i,[c&2&&{appearance:u[1]},c&4096&&{class:u[12]},c&32&&{"aria-controls":u[5]},i[3],c&16&&{"aria-label":u[4]},c&16&&{title:u[4]},c&512&&{size:u[9]},c&1024&&{disabled:u[10]},c&16384&&be(u[14])]):{};c&16777472&&(f.$$scope={dirty:c,ctx:u}),!t&&c&2048&&(t=!0,f.element=u[11],Ne(()=>t=!1)),e.$set(f);const m={};c&2048&&(m.trigger=u[11]),c&1&&(m.isOpen=u[0]),c&64&&(m.placements=u[6]),c&128&&(m.preferredPlacement=u[7]),c&4&&(m.class=u[2]),c&8&&(m.closeOnInnerClick=u[3]),c&16809984&&(m.$$scope={dirty:c,ctx:u}),l.$set(m)},i(u){s||(p(e.$$.fragment,u),p(l.$$.fragment,u),s=!0)},o(u){g(e.$$.fragment,u),g(l.$$.fragment,u),s=!1},d(u){S(e,u),u&&$(n),S(l,u)}}}function rC(r,e){const t=["dropdown","trigger"];return r&&t.push(r),e||t.push("no-arrow"),t.join(" ")}function lC(r,e,t){let n;const l=["triggerClass","triggerAppearance","contentClass","isOpen","closeOnInnerClick","ariaLabel","ariaControls","placements","preferredPlacement","showArrow","size","disabled"];let s=Be(e,l),{$$slots:i={},$$scope:o}=e,{triggerClass:a=""}=e,{triggerAppearance:u="default"}=e,{contentClass:c=""}=e,{isOpen:f=!1}=e,{closeOnInnerClick:m=!1}=e,{ariaLabel:d=void 0}=e,{ariaControls:_=void 0}=e,{placements:h=void 0}=e,{preferredPlacement:b=void 0}=e,{showArrow:v=!0}=e,{size:k="medium"}=e,{disabled:T=!1}=e,E;function P(j){j.preventDefault(),t(0,f=!f)}function R(){t(0,f=!1)}function L(j){E=j,t(11,E)}function A(j){ve.call(this,r,j)}function N(j){ve.call(this,r,j)}function F(j){ve.call(this,r,j)}function K(j){ve.call(this,r,j)}function W(j){ve.call(this,r,j)}return r.$$set=j=>{e=x(x({},e),ft(j)),t(14,s=Be(e,l)),"triggerClass"in j&&t(16,a=j.triggerClass),"triggerAppearance"in j&&t(1,u=j.triggerAppearance),"contentClass"in j&&t(2,c=j.contentClass),"isOpen"in j&&t(0,f=j.isOpen),"closeOnInnerClick"in j&&t(3,m=j.closeOnInnerClick),"ariaLabel"in j&&t(4,d=j.ariaLabel),"ariaControls"in j&&t(5,_=j.ariaControls),"placements"in j&&t(6,h=j.placements),"preferredPlacement"in j&&t(7,b=j.preferredPlacement),"showArrow"in j&&t(8,v=j.showArrow),"size"in j&&t(9,k=j.size),"disabled"in j&&t(10,T=j.disabled),"$$scope"in j&&t(24,o=j.$$scope)},r.$$.update=()=>{r.$$.dirty&65792&&t(12,n=rC(a,v))},[f,u,c,m,d,_,h,b,v,k,T,E,n,P,s,R,a,i,L,A,N,F,K,W,o]}class pl extends X{constructor(e){super(),Q(this,e,lC,nC,G,{triggerClass:16,triggerAppearance:1,contentClass:2,isOpen:0,closeOnInnerClick:3,ariaLabel:4,ariaControls:5,placements:6,preferredPlacement:7,showArrow:8,size:9,disabled:10})}}const sC=r=>({isOpen:r[0]&2}),nd=r=>({api:r[0],isOpen:r[1]});function iC(r){let e;const t=r[16].default,n=De(t,r,r[15],nd);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s[0]&32770)&&Ee(n,t,l,l[15],e?Ie(t,l[15],s,sC):Me(l[15]),nd)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function oC(r,e,t){let n,l,s,{$$slots:i={},$$scope:o}=e;const a=dt();let{selectionType:u="multiple"}=e,{options:c}=e,{value:f=[]}=e,{searchable:m=!1}=e,{disabled:d=!1}=e,{labelKey:_="label"}=e,{getLabel:h=me=>As(me,_)}=e,{checkEquality:b=(me,Se)=>me===Se}=e,{checkIfOptionIsDisabled:v=()=>!1}=e,{mode:k="dropdown"}=e;const T=Ge(!1);de(r,T,me=>t(1,n=me));const E=Ge(-1);de(r,E,me=>t(17,l=me));const P=Ge(Array.isArray(c)?c:[]);de(r,P,me=>t(18,s=me));function R(){const me=f[f.length-1];Zt(E,l=s.findIndex(Se=>b(me,Se)),l)}rn(()=>{k==="static"&&R()});function L(){d||(Zt(T,n=!0,n),R())}function A(){d||Zt(T,n=!1,n)}function N(){d||(n?A():L())}function F(me){const Se=s.findIndex($e=>b(me,$e));Zt(E,l=Se,l)}function K(){const me=s.length;Zt(E,l=l===me-1?0:l+1,l)}function W(){const me=s.length;Zt(E,l=l<=0?me-1:l-1,l)}function j(me){return u==="single"?b(me,f[0]):f.some(Se=>b(me,Se))}function Y(me){if(F(me),!v(me)){if(j(me)){u==="single"&&A();return}u==="single"?(t(5,f=[me]),A()):t(5,f=[...f,me]),a("change",f)}}function oe(me){F(me),!v(me)&&(!j(me)||(u==="single"?(t(5,f=[]),A()):t(5,f=f.filter(Se=>!b(me,Se))),a("change",f)))}function te(me){if(u==="single"){Y(me);return}j(me)?oe(me):Y(me)}function ne(){const me=s[l];te(me)}function H(me){if(n||k!=="dropdown")switch(me.key){case"ArrowDown":me.preventDefault(),K();break;case"ArrowUp":me.preventDefault(),W();break;case"Escape":me.preventDefault(),A();break;case"Enter":me.preventDefault(),ne();break}else switch(me.key){case"Enter":me.preventDefault(),L();break}}const ee={open:L,close:A,toggle:N,focusOption:F,focusNext:K,focusPrevious:W,isOptionSelected:j,select:Y,deselect:oe,pick:te,pickFocused:ne,handleKeyDown:H},pe=Ge(f),ue=Ge({selectionType:u,getLabel:h,searchable:m,disabled:d,checkEquality:b,checkIfOptionIsDisabled:v,mode:k});return Un("LIST_BOX_CONTEXT",{api:ee,state:{isOpen:T,displayedOptions:P,focusedOptionIndex:E,value:pe,staticProps:ue}}),r.$$set=me=>{"selectionType"in me&&t(6,u=me.selectionType),"options"in me&&t(7,c=me.options),"value"in me&&t(5,f=me.value),"searchable"in me&&t(8,m=me.searchable),"disabled"in me&&t(9,d=me.disabled),"labelKey"in me&&t(10,_=me.labelKey),"getLabel"in me&&t(11,h=me.getLabel),"checkEquality"in me&&t(12,b=me.checkEquality),"checkIfOptionIsDisabled"in me&&t(13,v=me.checkIfOptionIsDisabled),"mode"in me&&t(14,k=me.mode),"$$scope"in me&&t(15,o=me.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&128&&P.set(Array.isArray(c)?c:[]),r.$$.dirty[0]&32&&pe.set(f),r.$$.dirty[0]&31552&&ue.set({selectionType:u,getLabel:h,searchable:m,disabled:d,checkEquality:b,checkIfOptionIsDisabled:v,mode:k})},[ee,n,T,E,P,f,u,c,m,d,_,h,b,v,k,o,i]}class ha extends X{constructor(e){super(),Q(this,e,oC,iC,G,{selectionType:6,options:7,value:5,searchable:8,disabled:9,labelKey:10,getLabel:11,checkEquality:12,checkIfOptionIsDisabled:13,mode:14,api:0},null,[-1,-1])}get api(){return this.$$.ctx[0]}}function rd(r,e,t){const n=r.slice();n[23]=e[t],n[26]=t;const l=n[6].some(s=>n[4].checkEquality(s,n[23]));return n[24]=l,n}const aC=r=>({option:r&32,label:r&48}),ld=r=>({option:r[23],label:r[4].getLabel(r[23])});function uC(r){let e,t;return e=new Ur({props:{arg:r[4].getLabel(r[23])}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&48&&(s.arg=n[4].getLabel(n[23])),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function sd(r,e){let t,n,l,s,i,o;const a=e[15].default,u=De(a,e,e[14],ld),c=u||uC(e);function f(){return e[19](e[23])}return{key:r,first:null,c(){t=I("li"),c&&c.c(),n=O(),D(t,"role","option"),D(t,"aria-selected",l=e[24]?!0:void 0),Z(t,"selected",e[24]),Z(t,"in-focus",e[26]===e[7]),this.first=t},m(m,d){w(m,t,d),c&&c.m(t,null),M(t,n),s=!0,i||(o=Le(t,"click",f),i=!0)},p(m,d){e=m,u?u.p&&(!s||d&16432)&&Ee(u,a,e,e[14],s?Ie(a,e[14],d,aC):Me(e[14]),ld):c&&c.p&&(!s||d&48)&&c.p(e,s?d:-1),(!s||d&112&&l!==(l=e[24]?!0:void 0))&&D(t,"aria-selected",l),(!s||d&112)&&Z(t,"selected",e[24]),(!s||d&160)&&Z(t,"in-focus",e[26]===e[7])},i(m){s||(p(c,m),s=!0)},o(m){g(c,m),s=!1},d(m){m&&$(t),c&&c.d(m),i=!1,o()}}}function cC(r){let e,t=[],n=new Map,l,s,i,o,a=r[5];const u=c=>c[23];for(let c=0;c<a.length;c+=1){let f=rd(r,a,c),m=u(f);n.set(m,t[c]=sd(m,f))}return{c(){e=I("ul");for(let c=0;c<t.length;c+=1)t[c].c();D(e,"tabindex","0"),D(e,"id",r[0]),D(e,"role","listbox"),D(e,"aria-expanded","true"),D(e,"class",l=["list-box-options",r[4].selectionType,r[1]].join(" ")),Z(e,"truncate",r[2]),Z(e,"disabled",r[4].disabled)},m(c,f){w(c,e,f);for(let m=0;m<t.length;m+=1)t[m].m(e,null);r[20](e),s=!0,i||(o=[Le(e,"focus",r[16]),Le(e,"blur",r[17]),Le(e,"keydown",r[18])],i=!0)},p(c,[f]){f&16880&&(a=c[5],q(),t=pt(t,f,u,1,c,a,n,e,ht,sd,null,rd),U()),(!s||f&1)&&D(e,"id",c[0]),(!s||f&18&&l!==(l=["list-box-options",c[4].selectionType,c[1]].join(" ")))&&D(e,"class",l),(!s||f&22)&&Z(e,"truncate",c[2]),(!s||f&18)&&Z(e,"disabled",c[4].disabled)},i(c){if(!s){for(let f=0;f<a.length;f+=1)p(t[f]);s=!0}},o(c){for(let f=0;f<t.length;f+=1)g(t[f]);s=!1},d(c){c&&$(e);for(let f=0;f<t.length;f+=1)t[f].d();r[20](null),i=!1,Dt(o)}}}function fC(r,e,t){let n,l,s,i,{$$slots:o={},$$scope:a}=e,{id:u}=e,{class:c=""}=e,{truncateOnOverflow:f=!0}=e,{offsetOnFocus:m=0}=e;const{api:d,state:_}=In("LIST_BOX_CONTEXT"),{displayedOptions:h,value:b,focusedOptionIndex:v,staticProps:k}=_;de(r,h,F=>t(5,l=F)),de(r,b,F=>t(6,s=F)),de(r,v,F=>t(7,i=F)),de(r,k,F=>t(4,n=F));let T;function E(){if(T){const F=T.querySelector(".in-focus"),K=n.mode==="dropdown"?T.parentElement:T;if(F&&K)if(F.offsetTop+F.clientHeight+m>K.scrollTop+K.clientHeight){const W=K.getBoundingClientRect().bottom-F.getBoundingClientRect().bottom-m*2;K.scrollTop-=W}else F.offsetTop<K.scrollTop&&(K.scrollTop=F.offsetTop-m)}}rn(()=>(E(),v.subscribe(()=>{Gt().then(()=>E())})));function P(F){ve.call(this,r,F)}function R(F){ve.call(this,r,F)}function L(F){ve.call(this,r,F)}const A=F=>d.pick(F);function N(F){ye[F?"unshift":"push"](()=>{T=F,t(3,T)})}return r.$$set=F=>{"id"in F&&t(0,u=F.id),"class"in F&&t(1,c=F.class),"truncateOnOverflow"in F&&t(2,f=F.truncateOnOverflow),"offsetOnFocus"in F&&t(13,m=F.offsetOnFocus),"$$scope"in F&&t(14,a=F.$$scope)},[u,c,f,T,n,l,s,i,d,h,b,v,k,m,a,o,P,R,L,A,N]}class Ls extends X{constructor(e){super(),Q(this,e,fC,cC,G,{id:0,class:1,truncateOnOverflow:2,offsetOnFocus:13})}}const mC=r=>({option:r[0]&268435456,label:r[0]&536870912}),id=r=>({option:r[28],label:r[29]});function od(r,e,t){const n=r.slice();return n[30]=e[t],n}const dC=r=>({option:r[0]&1,label:r[0]&17}),ad=r=>({option:r[30],label:r[4](r[30])});function pC(r){let e,t;return e=new Ur({props:{arg:r[4](r[30])}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&17&&(s.arg=n[4](n[30])),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function _C(r){let e;const t=r[16].default,n=De(t,r,r[23],ad);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s[0]&8388625)&&Ee(n,t,l,l[23],e?Ie(t,l[23],s,dC):Me(l[23]),ad)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function ud(r){let e,t,n,l,s,i,o,a,u,c,f;const m=[_C,pC],d=[];function _(b,v){return b[14].default?0:1}n=_(r),l=d[n]=m[n](r),o=new Fe({props:{data:_c,size:"0.8em"}});function h(){return r[17](r[30])}return{c(){e=I("span"),t=I("span"),l.c(),s=O(),i=I("span"),C(o.$$.fragment),a=O(),D(t,"class","label"),D(i,"class","remove-button icon-button"),D(e,"class","selected-value")},m(b,v){w(b,e,v),M(e,t),d[n].m(t,null),M(e,s),M(e,i),y(o,i,null),M(e,a),u=!0,c||(f=Le(i,"click",kl(h)),c=!0)},p(b,v){r=b;let k=n;n=_(r),n===k?d[n].p(r,v):(q(),g(d[k],1,1,()=>{d[k]=null}),U(),l=d[n],l?l.p(r,v):(l=d[n]=m[n](r),l.c()),p(l,1),l.m(t,null))},i(b){u||(p(l),p(o.$$.fragment,b),u=!0)},o(b){g(l),g(o.$$.fragment,b),u=!1},d(b){b&&$(e),d[n].d(),S(o),c=!1,f()}}}function gC(r){let e,t;return e=new Ls({props:{id:r[1]+"-select-options"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&2&&(s.id=n[1]+"-select-options"),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function hC(r){let e,t;return e=new Ls({props:{id:r[1]+"-select-options",$$slots:{default:[bC,({option:n,label:l})=>({28:n,29:l}),({option:n,label:l})=>[(n?268435456:0)|(l?536870912:0)]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&2&&(s.id=n[1]+"-select-options"),l[0]&813694976&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function bC(r){let e;const t=r[16].default,n=De(t,r,r[23],id);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s[0]&813694976)&&Ee(n,t,l,l[23],e?Ie(t,l[23],s,mC):Me(l[23]),id)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function $C(r){let e,t,n,l;const s=[hC,gC],i=[];function o(a,u){return a[14].default?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function wC(r){let e,t,n,l,s,i,o,a,u,c,f,m=r[0],d=[];for(let b=0;b<m.length;b+=1)d[b]=ud(od(r,m,b));const _=b=>g(d[b],1,1,()=>{d[b]=null});s=new Fe({props:{data:m$}});function h(){return r[20](r[26])}return a=new Kl({props:{isOpen:r[27],class:"multi-select-content "+r[6],trigger:r[10],$$slots:{default:[$C]},$$scope:{ctx:r}}}),a.$on("close",h),{c(){e=I("span"),t=I("span");for(let b=0;b<d.length;b+=1)d[b].c();n=O(),l=I("span"),C(s.$$.fragment),o=O(),C(a.$$.fragment),D(t,"class","selected-values"),D(l,"class","clear-button icon-button"),D(e,"class",i="input-element multi-select-trigger "+r[7]),D(e,"aria-label",r[8]),D(e,"tabindex","0"),D(e,"id",r[1]),Z(e,"disabled",r[2])},m(b,v){w(b,e,v),M(e,t);for(let k=0;k<d.length;k+=1)d[k].m(t,null);M(e,n),M(e,l),y(s,l,null),r[19](e),w(b,o,v),y(a,b,v),u=!0,c||(f=[Le(l,"click",kl(r[18])),Le(e,"click",function(){Et(r[26].toggle)&&r[26].toggle.apply(this,arguments)}),Le(e,"keydown",function(){Et(r[26].handleKeyDown)&&r[26].handleKeyDown.apply(this,arguments)})],c=!0)},p(b,v){if(r=b,v[0]&8409105){m=r[0];let T;for(T=0;T<m.length;T+=1){const E=od(r,m,T);d[T]?(d[T].p(E,v),p(d[T],1)):(d[T]=ud(E),d[T].c(),p(d[T],1),d[T].m(t,null))}for(q(),T=m.length;T<d.length;T+=1)_(T);U()}(!u||v[0]&128&&i!==(i="input-element multi-select-trigger "+r[7]))&&D(e,"class",i),(!u||v[0]&256)&&D(e,"aria-label",r[8]),(!u||v[0]&2)&&D(e,"id",r[1]),(!u||v[0]&132)&&Z(e,"disabled",r[2]);const k={};v[0]&134217728&&(k.isOpen=r[27]),v[0]&64&&(k.class="multi-select-content "+r[6]),v[0]&1024&&(k.trigger=r[10]),v[0]&8404994&&(k.$$scope={dirty:v,ctx:r}),a.$set(k)},i(b){if(!u){for(let v=0;v<m.length;v+=1)p(d[v]);p(s.$$.fragment,b),p(a.$$.fragment,b),u=!0}},o(b){d=d.filter(Boolean);for(let v=0;v<d.length;v+=1)g(d[v]);g(s.$$.fragment,b),g(a.$$.fragment,b),u=!1},d(b){b&&$(e),Fn(d,b),S(s),r[19](null),b&&$(o),S(a,b),c=!1,Dt(f)}}}function vC(r){let e,t,n,l,s;const i=[r[13],{id:r[1]},{disabled:r[2]}];let o={};for(let c=0;c<i.length;c+=1)o=x(o,i[c]);e=new dl({props:o});function a(c){r[21](c)}let u={options:r[5],labelKey:r[3],getLabel:r[4],disabled:r[2],checkEquality:r[9],$$slots:{default:[wC,({api:c,isOpen:f})=>({26:c,27:f}),({api:c,isOpen:f})=>[(c?67108864:0)|(f?134217728:0)]]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.value=r[0]),n=new ha({props:u}),ye.push(()=>Pe(n,"value",a)),n.$on("change",r[22]),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(c,f){y(e,c,f),w(c,t,f),y(n,c,f),s=!0},p(c,f){const m=f[0]&8198?ce(i,[f[0]&8192&&be(c[13]),f[0]&2&&{id:c[1]},f[0]&4&&{disabled:c[2]}]):{};e.$set(m);const d={};f[0]&32&&(d.options=c[5]),f[0]&8&&(d.labelKey=c[3]),f[0]&16&&(d.getLabel=c[4]),f[0]&4&&(d.disabled=c[2]),f[0]&512&&(d.checkEquality=c[9]),f[0]&209733079&&(d.$$scope={dirty:f,ctx:c}),!l&&f[0]&1&&(l=!0,d.value=c[0],Ne(()=>l=!1)),n.$set(d)},i(c){s||(p(e.$$.fragment,c),p(n.$$.fragment,c),s=!0)},o(c){g(e.$$.fragment,c),g(n.$$.fragment,c),s=!1},d(c){S(e,c),c&&$(t),S(n,c)}}}function kC(r,e,t){const n=["id","disabled","labelKey","getLabel","options","values","contentClass","triggerClass","ariaLabel","valuesAreEqual","autoClearInvalidValues"];let l=Be(e,n),{$$slots:s={},$$scope:i}=e;const o=lr(s),a=dt();let{id:u=fl()}=e,{disabled:c=!1}=e,{labelKey:f="label"}=e,{getLabel:m=Y=>As(Y,f)}=e,{options:d=[]}=e,{values:_=[]}=e,{contentClass:h=""}=e,{triggerClass:b=""}=e,{ariaLabel:v=void 0}=e,{valuesAreEqual:k=(Y,oe)=>Y===oe}=e,{autoClearInvalidValues:T=!0}=e,E;function P(Y){t(0,_=Y),a("change",_)}function R(Y){P(_.filter(oe=>!k(oe,Y)))}function L(Y){T&&P(_.filter(oe=>Y.some(te=>k(te,oe))))}const A=Y=>R(Y),N=()=>P([]);function F(Y){ye[Y?"unshift":"push"](()=>{E=Y,t(10,E)})}const K=Y=>Y.close();function W(Y){_=Y,t(0,_)}function j(Y){ve.call(this,r,Y)}return r.$$set=Y=>{e=x(x({},e),ft(Y)),t(13,l=Be(e,n)),"id"in Y&&t(1,u=Y.id),"disabled"in Y&&t(2,c=Y.disabled),"labelKey"in Y&&t(3,f=Y.labelKey),"getLabel"in Y&&t(4,m=Y.getLabel),"options"in Y&&t(5,d=Y.options),"values"in Y&&t(0,_=Y.values),"contentClass"in Y&&t(6,h=Y.contentClass),"triggerClass"in Y&&t(7,b=Y.triggerClass),"ariaLabel"in Y&&t(8,v=Y.ariaLabel),"valuesAreEqual"in Y&&t(9,k=Y.valuesAreEqual),"autoClearInvalidValues"in Y&&t(15,T=Y.autoClearInvalidValues),"$$scope"in Y&&t(23,i=Y.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&32&&L(d)},[_,u,c,f,m,d,h,b,v,k,E,P,R,l,o,T,s,A,N,F,K,W,j,i]}class ba extends X{constructor(e){super(),Q(this,e,kC,vC,G,{id:1,disabled:2,labelKey:3,getLabel:4,options:5,values:0,contentClass:6,triggerClass:7,ariaLabel:8,valuesAreEqual:9,autoClearInvalidValues:15},null,[-1,-1])}}function yC(r){let e,t,n,l,s,i,o,a;const u=[r[5]];function c(_){r[12](_)}let f={};for(let _=0;_<u.length;_+=1)f=x(f,u[_]);r[2]!==void 0&&(f.id=r[2]),e=new dl({props:f}),ye.push(()=>Pe(e,"id",c));let m=[r[5],{type:"password"},{class:s=["input-element","password-input",...r[3].split(" ")].join(" ")},{id:r[2]}],d={};for(let _=0;_<m.length;_+=1)d=x(d,m[_]);return{c(){C(e.$$.fragment),n=O(),l=I("input"),it(l,d),Z(l,"has-error",r[4])},m(_,h){y(e,_,h),w(_,n,h),w(_,l,h),l.autofocus&&l.focus(),r[13](l),hs(l,r[0]),i=!0,o||(a=[Le(l,"input",r[14]),Le(l,"input",r[6]),Le(l,"focus",r[7]),Le(l,"blur",r[8]),Le(l,"keydown",r[9]),Le(l,"beforeinput",r[10]),Le(l,"change",r[11])],o=!0)},p(_,[h]){const b=h&32?ce(u,[be(_[5])]):{};!t&&h&4&&(t=!0,b.id=_[2],Ne(()=>t=!1)),e.$set(b),it(l,d=ce(m,[h&32&&_[5],{type:"password"},(!i||h&8&&s!==(s=["input-element","password-input",..._[3].split(" ")].join(" ")))&&{class:s},(!i||h&4)&&{id:_[2]}])),h&1&&l.value!==_[0]&&hs(l,_[0]),Z(l,"has-error",_[4])},i(_){i||(p(e.$$.fragment,_),i=!0)},o(_){g(e.$$.fragment,_),i=!1},d(_){S(e,_),_&&$(n),_&&$(l),r[13](null),o=!1,Dt(a)}}}function SC(r,e,t){const n=["value","class","element","hasError","id"];let l=Be(e,n),{value:s=""}=e,{class:i=""}=e,{element:o=void 0}=e,{hasError:a=!1}=e,{id:u=void 0}=e;function c(T){ve.call(this,r,T)}function f(T){ve.call(this,r,T)}function m(T){ve.call(this,r,T)}function d(T){ve.call(this,r,T)}function _(T){ve.call(this,r,T)}function h(T){ve.call(this,r,T)}function b(T){u=T,t(2,u)}function v(T){ye[T?"unshift":"push"](()=>{o=T,t(1,o)})}function k(){s=this.value,t(0,s)}return r.$$set=T=>{e=x(x({},e),ft(T)),t(5,l=Be(e,n)),"value"in T&&t(0,s=T.value),"class"in T&&t(3,i=T.class),"element"in T&&t(1,o=T.element),"hasError"in T&&t(4,a=T.hasError),"id"in T&&t(2,u=T.id)},[s,o,u,i,a,l,c,f,m,d,_,h,b,v,k]}class ws extends X{constructor(e){super(),Q(this,e,SC,yC,G,{value:0,class:3,element:1,hasError:4,id:2})}}function CC(r){let e,t,n,l,s=[{class:"progress"},{role:"progressbar"},{"aria-valuenow":r[0]},{"aria-valuemin":n=0},{"aria-valuemax":l=100},{"aria-valuetext":r[1]},r[2]],i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return{c(){e=I("div"),t=I("div"),yn(t,"width",r[0]+"%"),it(e,i)},m(o,a){w(o,e,a),M(e,t)},p(o,[a]){a&1&&yn(t,"width",o[0]+"%"),it(e,i=ce(s,[{class:"progress"},{role:"progressbar"},a&1&&{"aria-valuenow":o[0]},{"aria-valuemin":n},{"aria-valuemax":l},a&2&&{"aria-valuetext":o[1]},a&4&&o[2]]))},i:z,o:z,d(o){o&&$(e)}}}function TC(r,e,t){const n=["percentage","ariaValueText"];let l=Be(e,n),{percentage:s=0}=e,{ariaValueText:i="Progress"}=e;return r.$$set=o=>{e=x(x({},e),ft(o)),t(2,l=Be(e,n)),"percentage"in o&&t(0,s=o.percentage),"ariaValueText"in o&&t(1,i=o.ariaValueText)},[s,i,l]}class DC extends X{constructor(e){super(),Q(this,e,TC,CC,G,{percentage:0,ariaValueText:1})}}function IC(r){let e,t,n,l,s,i,o;const a=[r[5],{disabled:r[3]}];function u(f){r[6](f)}let c={};for(let f=0;f<a.length;f+=1)c=x(c,a[f]);return r[1]!==void 0&&(c.id=r[1]),e=new dl({props:c}),ye.push(()=>Pe(e,"id",u)),{c(){C(e.$$.fragment),n=O(),l=I("input"),D(l,"class","radio"),D(l,"type","radio"),l.checked=r[0],D(l,"id",r[1]),l.disabled=r[3],l.value=r[2]},m(f,m){y(e,f,m),w(f,n,m),w(f,l,m),s=!0,i||(o=Le(l,"change",r[4]),i=!0)},p(f,[m]){const d=m&40?ce(a,[m&32&&be(f[5]),m&8&&{disabled:f[3]}]):{};!t&&m&2&&(t=!0,d.id=f[1],Ne(()=>t=!1)),e.$set(d),(!s||m&1)&&(l.checked=f[0]),(!s||m&2)&&D(l,"id",f[1]),(!s||m&8)&&(l.disabled=f[3]),(!s||m&4)&&(l.value=f[2])},i(f){s||(p(e.$$.fragment,f),s=!0)},o(f){g(e.$$.fragment,f),s=!1},d(f){S(e,f),f&&$(n),f&&$(l),i=!1,o()}}}function EC(r,e,t){const n=["checked","value","disabled","id"];let l=Be(e,n);const s=dt();let{checked:i=!1}=e,{value:o=void 0}=e,{disabled:a=!1}=e,{id:u=void 0}=e;function c(){t(0,i=!i),s("change",i)}function f(m){u=m,t(1,u)}return r.$$set=m=>{e=x(x({},e),ft(m)),t(5,l=Be(e,n)),"checked"in m&&t(0,i=m.checked),"value"in m&&t(2,o=m.value),"disabled"in m&&t(3,a=m.disabled),"id"in m&&t(1,u=m.id)},[i,u,o,a,c,l,f]}class $a extends X{constructor(e){super(),Q(this,e,EC,IC,G,{checked:0,value:2,disabled:3,id:1})}}const MC=r=>({}),cd=r=>({slot:"label"}),AC=r=>({}),fd=r=>({slot:"extra"});function RC(r){let e,t;function n(...l){return r[11](r[14],...l)}return e=new $a({props:{disabled:r[9],checked:r[8](r[0],r[14])}}),e.$on("change",n),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){r=l;const i={};s&512&&(i.disabled=r[9]),s&16641&&(i.checked=r[8](r[0],r[14])),e.$set(i)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function PC(r){let e;const t=r[10].default,n=De(t,r,r[13],cd);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8192)&&Ee(n,t,l,l[13],e?Ie(t,l[13],s,MC):Me(l[13]),cd)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function OC(r){let e;const t=r[10].extra,n=De(t,r,r[13],fd);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8192)&&Ee(n,t,l,l[13],e?Ie(t,l[13],s,AC):Me(l[13]),fd)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function LC(r){let e,t;return e=new T7({props:{isInline:r[1],options:r[2],label:r[3],ariaLabel:r[4],disabled:r[9],boxed:r[7],labelKey:r[5],getLabel:r[6],$$slots:{extra:[OC,({option:n,disabled:l})=>({14:n,9:l}),({option:n,disabled:l})=>(n?16384:0)|(l?512:0)],label:[PC,({option:n,disabled:l})=>({14:n,9:l}),({option:n,disabled:l})=>(n?16384:0)|(l?512:0)],default:[RC,({option:n,disabled:l})=>({14:n,9:l}),({option:n,disabled:l})=>(n?16384:0)|(l?512:0)]},$$scope:{ctx:r}}}),e.$on("change",r[12]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.isInline=n[1]),l&4&&(s.options=n[2]),l&8&&(s.label=n[3]),l&16&&(s.ariaLabel=n[4]),l&512&&(s.disabled=n[9]),l&128&&(s.boxed=n[7]),l&32&&(s.labelKey=n[5]),l&64&&(s.getLabel=n[6]),l&25345&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function NC(r,e,t){let{$$slots:n={},$$scope:l}=e,{value:s=void 0}=e,{isInline:i=!1}=e,{options:o=[]}=e,{label:a=void 0}=e,{ariaLabel:u=void 0}=e,{radioLabelKey:c=void 0}=e,{getRadioLabel:f=void 0}=e,{disabled:m=!1}=e,{boxed:d=!1}=e,{valuesAreEqual:_=(v,k)=>v===k}=e;const h=(v,{detail:k})=>{k&&t(0,s=v)};function b(v){ve.call(this,r,v)}return r.$$set=v=>{"value"in v&&t(0,s=v.value),"isInline"in v&&t(1,i=v.isInline),"options"in v&&t(2,o=v.options),"label"in v&&t(3,a=v.label),"ariaLabel"in v&&t(4,u=v.ariaLabel),"radioLabelKey"in v&&t(5,c=v.radioLabelKey),"getRadioLabel"in v&&t(6,f=v.getRadioLabel),"disabled"in v&&t(9,m=v.disabled),"boxed"in v&&t(7,d=v.boxed),"valuesAreEqual"in v&&t(8,_=v.valuesAreEqual),"$$scope"in v&&t(13,l=v.$$scope)},[s,i,o,a,u,c,f,d,_,m,n,h,b,l]}class Ns extends X{constructor(e){super(),Q(this,e,NC,LC,G,{value:0,isInline:1,options:2,label:3,ariaLabel:4,radioLabelKey:5,getRadioLabel:6,disabled:9,boxed:7,valuesAreEqual:8})}}function Dl(r,{delay:e=0,duration:t=400,easing:n=Yl}={}){const l=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:n,css:s=>`opacity: ${s*l}`}}function Vu(r,{delay:e=0,duration:t=400,easing:n=Z4,x:l=0,y:s=0,opacity:i=0}={}){const o=getComputedStyle(r),a=+o.opacity,u=o.transform==="none"?"":o.transform,c=a*(1-i);return{delay:e,duration:t,easing:n,css:(f,m)=>`
			transform: ${u} translate(${(1-f)*l}px, ${(1-f)*s}px);
			opacity: ${a-c*m}`}}function md(r){let e,t,n;return{c(){e=I("div"),D(e,"class","skeleton")},m(l,s){w(l,e,s),n=!0},i(l){n||(l&&mr(()=>{t||(t=Jf(e,Dl,{duration:120},!0)),t.run(1)}),n=!0)},o(l){l&&(t||(t=Jf(e,Dl,{duration:120},!1)),t.run(0)),n=!1},d(l){l&&$(e),l&&t&&t.end()}}}function FC(r){let e,t=r[0]&&md();return{c(){t&&t.c(),e=ae()},m(n,l){t&&t.m(n,l),w(n,e,l)},p(n,[l]){n[0]?t?l&1&&p(t,1):(t=md(),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(q(),g(t,1,1,()=>{t=null}),U())},i(n){p(t)},o(n){g(t)},d(n){t&&t.d(n),n&&$(e)}}}function zC(r,e,t){let{loading:n=!1}=e;return r.$$set=l=>{"loading"in l&&t(0,n=l.loading)},[n]}class vc extends X{constructor(e){super(),Q(this,e,zC,FC,G,{loading:0})}}function HC(r){let e,t,n,l,s,i,o,a;const u=[r[7],{disabled:r[3]}];function c(_){r[14](_)}let f={};for(let _=0;_<u.length;_+=1)f=x(f,u[_]);r[0]!==void 0&&(f.id=r[0]),e=new dl({props:f}),ye.push(()=>Pe(e,"id",c));let m=[r[7],{class:s="input-element text-area "+r[4]},{id:r[0]},{disabled:r[3]}],d={};for(let _=0;_<m.length;_+=1)d=x(d,m[_]);return{c(){C(e.$$.fragment),n=O(),l=I("textarea"),it(l,d),Z(l,"has-error",r[5])},m(_,h){y(e,_,h),w(_,n,h),w(_,l,h),l.autofocus&&l.focus(),r[15](l),hs(l,r[1]),i=!0,o||(a=[Le(l,"input",r[16]),Le(l,"input",r[9]),Le(l,"change",r[10]),Le(l,"focus",r[11]),Le(l,"blur",r[12]),Le(l,"keydown",r[6]),Le(l,"keydown",r[13])],o=!0)},p(_,[h]){const b=h&136?ce(u,[h&128&&be(_[7]),h&8&&{disabled:_[3]}]):{};!t&&h&1&&(t=!0,b.id=_[0],Ne(()=>t=!1)),e.$set(b),it(l,d=ce(m,[h&128&&_[7],(!i||h&16&&s!==(s="input-element text-area "+_[4]))&&{class:s},(!i||h&1)&&{id:_[0]},(!i||h&8)&&{disabled:_[3]}])),h&2&&hs(l,_[1]),Z(l,"has-error",_[5])},i(_){i||(p(e.$$.fragment,_),i=!0)},o(_){g(e.$$.fragment,_),i=!1},d(_){S(e,_),_&&$(n),_&&$(l),r[15](null),o=!1,Dt(a)}}}function VC(r,e,t){const n=["id","disabled","class","addNewLineOnEnterKeyCombinations","value","element","hasError"];let l=Be(e,n);const s=dt();let{id:i=void 0}=e,{disabled:o=!1}=e,{class:a=""}=e,{addNewLineOnEnterKeyCombinations:u=!1}=e,{value:c=""}=e,{element:f=void 0}=e,{hasError:m=!1}=e;function d(R){let L="normal";if(f&&R.key==="Enter"&&(R.ctrlKey||R.metaKey||R.shiftKey)){if(u&&!R.shiftKey){let A=f.selectionStart;const N=f.value.substring(0,A),F=f.value.substring(A,f.value.length);t(2,f.value=`${N}
${F}`,f),t(1,c=f.value),A+=1,t(2,f.selectionStart=A,f),t(2,f.selectionEnd=A,f)}L="newlineWithEnterKeyCombination"}s("processedKeyDown",{type:L,originalEvent:R})}function _(R){ve.call(this,r,R)}function h(R){ve.call(this,r,R)}function b(R){ve.call(this,r,R)}function v(R){ve.call(this,r,R)}function k(R){ve.call(this,r,R)}function T(R){i=R,t(0,i)}function E(R){ye[R?"unshift":"push"](()=>{f=R,t(2,f)})}function P(){c=this.value,t(1,c)}return r.$$set=R=>{e=x(x({},e),ft(R)),t(7,l=Be(e,n)),"id"in R&&t(0,i=R.id),"disabled"in R&&t(3,o=R.disabled),"class"in R&&t(4,a=R.class),"addNewLineOnEnterKeyCombinations"in R&&t(8,u=R.addNewLineOnEnterKeyCombinations),"value"in R&&t(1,c=R.value),"element"in R&&t(2,f=R.element),"hasError"in R&&t(5,m=R.hasError)},[i,c,f,o,a,m,d,l,u,_,h,b,v,k,T,E,P]}class Gl extends X{constructor(e){super(),Q(this,e,VC,HC,G,{id:0,disabled:3,class:4,addNewLineOnEnterKeyCombinations:8,value:1,element:2,hasError:5})}}function qC(r){let e,t,n,l,s,i,o;const a=[r[2]];let u={};for(let d=0;d<a.length;d+=1)u=x(u,a[d]);n=new Fe({props:u});const c=[{class:["prefixed-input",r[1]].join(" ")},r[3]];function f(d){r[4](d)}let m={};for(let d=0;d<c.length;d+=1)m=x(m,c[d]);return r[0]!==void 0&&(m.value=r[0]),s=new $n({props:m}),ye.push(()=>Pe(s,"value",f)),s.$on("input",r[5]),s.$on("focus",r[6]),s.$on("blur",r[7]),s.$on("keydown",r[8]),s.$on("beforeinput",r[9]),s.$on("change",r[10]),{c(){e=I("span"),t=I("div"),C(n.$$.fragment),l=O(),C(s.$$.fragment),D(t,"class","input-prefix-icon-container svelte-p2k6oc"),D(e,"class","prefix-wrapper svelte-p2k6oc")},m(d,_){w(d,e,_),M(e,t),y(n,t,null),M(e,l),y(s,e,null),o=!0},p(d,[_]){const h=_&4?ce(a,[be(d[2])]):{};n.$set(h);const b=_&10?ce(c,[_&2&&{class:["prefixed-input",d[1]].join(" ")},_&8&&be(d[3])]):{};!i&&_&1&&(i=!0,b.value=d[0],Ne(()=>i=!1)),s.$set(b)},i(d){o||(p(n.$$.fragment,d),p(s.$$.fragment,d),o=!0)},o(d){g(n.$$.fragment,d),g(s.$$.fragment,d),o=!1},d(d){d&&$(e),S(n),S(s)}}}function UC(r,e,t){const n=["value","class","prefixIcon"];let l=Be(e,n),{value:s=""}=e,{class:i=""}=e,{prefixIcon:o}=e;function a(h){s=h,t(0,s)}function u(h){ve.call(this,r,h)}function c(h){ve.call(this,r,h)}function f(h){ve.call(this,r,h)}function m(h){ve.call(this,r,h)}function d(h){ve.call(this,r,h)}function _(h){ve.call(this,r,h)}return r.$$set=h=>{e=x(x({},e),ft(h)),t(3,l=Be(e,n)),"value"in h&&t(0,s=h.value),"class"in h&&t(1,i=h.class),"prefixIcon"in h&&t(2,o=h.prefixIcon)},[s,i,o,l,a,u,c,f,m,d,_]}class L$ extends X{constructor(e){super(),Q(this,e,UC,qC,G,{value:0,class:1,prefixIcon:2})}}function WC(r){let e,t,n,l,s,i;const o=r[8].default,a=De(o,r,r[11],null);return n=new Kl({props:{isOpen:r[4],trigger:r[3],placements:r[1],class:"truncation-content",$$slots:{default:[jC]},$$scope:{ctx:r}}}),{c(){e=I("span"),a&&a.c(),t=O(),C(n.$$.fragment),D(e,"class","truncate"),D(e,"style",r[5]),Z(e,"multiline",r[2])},m(u,c){w(u,e,c),a&&a.m(e,null),r[9](e),w(u,t,c),y(n,u,c),l=!0,s||(i=[Le(e,"mouseenter",r[6]),Le(e,"mouseleave",r[10])],s=!0)},p(u,c){a&&a.p&&(!l||c&2048)&&Ee(a,o,u,u[11],l?Ie(o,u[11],c,null):Me(u[11]),null),(!l||c&32)&&D(e,"style",u[5]),(!l||c&4)&&Z(e,"multiline",u[2]);const f={};c&16&&(f.isOpen=u[4]),c&8&&(f.trigger=u[3]),c&2&&(f.placements=u[1]),c&2048&&(f.$$scope={dirty:c,ctx:u}),n.$set(f)},i(u){l||(p(a,u),p(n.$$.fragment,u),l=!0)},o(u){g(a,u),g(n.$$.fragment,u),l=!1},d(u){u&&$(e),a&&a.d(u),r[9](null),u&&$(t),S(n,u),s=!1,Dt(i)}}}function BC(r){let e;const t=r[8].default,n=De(t,r,r[11],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&2048)&&Ee(n,t,l,l[11],e?Ie(t,l[11],s,null):Me(l[11]),null)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function jC(r){let e;const t=r[8].default,n=De(t,r,r[11],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&2048)&&Ee(n,t,l,l[11],e?Ie(t,l[11],s,null):Me(l[11]),null)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function YC(r){let e,t,n,l;const s=[BC,WC],i=[];function o(a,u){return a[0]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function KC(r){return r.scrollHeight-r.clientHeight>3||r.scrollWidth-r.clientWidth>0}function GC(r,e,t){let n,l,{$$slots:s={},$$scope:i}=e,{lines:o=1}=e,{passthrough:a=!1}=e,{popoverPlacements:u=["top","right","left","bottom"]}=e,c,f=!1;function m(){KC(c)&&t(4,f=!0)}function d(h){ye[h?"unshift":"push"](()=>{c=h,t(3,c)})}const _=()=>{t(4,f=!1)};return r.$$set=h=>{"lines"in h&&t(7,o=h.lines),"passthrough"in h&&t(0,a=h.passthrough),"popoverPlacements"in h&&t(1,u=h.popoverPlacements),"$$scope"in h&&t(11,i=h.$$scope)},r.$$.update=()=>{r.$$.dirty&128&&t(2,n=o>1),r.$$.dirty&132&&t(5,l=n?`-webkit-line-clamp: ${o};`:void 0)},[a,u,n,c,f,l,m,o,s,d,_,i]}class Fs extends X{constructor(e){super(),Q(this,e,GC,YC,G,{lines:7,passthrough:0,popoverPlacements:1})}}function en(r){return typeof r=="string"?r:fa(r,"message")?r.message:typeof r=="object"?JSON.stringify(r):String(r)}class nl extends Error{constructor(e,t){super(`${JSON.stringify(e)}${t?` ${t}`:""}`),this.name="MissingExhaustiveConditionError"}}function pn(r){throw new nl(r)}const QC=r=>({}),dd=r=>({});function pd(r){let e,t,n,l,s,i,o;const a=r[10].panel,u=De(a,r,r[9],dd);return{c(){e=I("div"),t=I("div"),l=O(),u&&u.c(),D(t,"class","resizer"),D(e,"class","panel"),D(e,"style",r[8])},m(c,f){w(c,e,f),M(e,t),M(e,l),u&&u.m(e,null),s=!0,i||(o=Dn(n=l$.call(null,t,{getStartingValue:r[11],onMove:r[12],onStart:r[13],onStop:r[14],min:r[2],max:r[3],axis:r[6]==="width"?"x":"y",invert:r[1]==="right"||r[1]==="bottom"})),i=!0)},p(c,f){n&&Et(n.update)&&f&239&&n.update.call(null,{getStartingValue:c[11],onMove:c[12],onStart:c[13],onStop:c[14],min:c[2],max:c[3],axis:c[6]==="width"?"x":"y",invert:c[1]==="right"||c[1]==="bottom"}),u&&u.p&&(!s||f&512)&&Ee(u,a,c,c[9],s?Ie(a,c[9],f,QC):Me(c[9]),dd),(!s||f&256)&&D(e,"style",c[8])},i(c){s||(p(u,c),s=!0)},o(c){g(u,c),s=!1},d(c){c&&$(e),u&&u.d(c),i=!1,o()}}}function XC(r){let e,t,n,l;const s=r[10].default,i=De(s,r,r[9],null);let o=r[4]&&pd(r);return{c(){e=I("div"),t=I("div"),i&&i.c(),n=O(),o&&o.c(),D(t,"class","main"),D(e,"class","with-panel"),Z(e,"is-resizing",r[7]),Z(e,"top",r[1]==="top"),Z(e,"bottom",r[1]==="bottom"),Z(e,"left",r[1]==="left"),Z(e,"right",r[1]==="right"),Z(e,"horizontal",r[6]==="width"),Z(e,"vertical",r[6]==="height")},m(a,u){w(a,e,u),M(e,t),i&&i.m(t,null),M(e,n),o&&o.m(e,null),l=!0},p(a,[u]){i&&i.p&&(!l||u&512)&&Ee(i,s,a,a[9],l?Ie(s,a[9],u,null):Me(a[9]),null),a[4]?o?(o.p(a,u),u&16&&p(o,1)):(o=pd(a),o.c(),p(o,1),o.m(e,null)):o&&(q(),g(o,1,1,()=>{o=null}),U()),(!l||u&128)&&Z(e,"is-resizing",a[7]),(!l||u&2)&&Z(e,"top",a[1]==="top"),(!l||u&2)&&Z(e,"bottom",a[1]==="bottom"),(!l||u&2)&&Z(e,"left",a[1]==="left"),(!l||u&2)&&Z(e,"right",a[1]==="right"),(!l||u&64)&&Z(e,"horizontal",a[6]==="width"),(!l||u&64)&&Z(e,"vertical",a[6]==="height")},i(a){l||(p(i,a),p(o),l=!0)},o(a){g(i,a),g(o),l=!1},d(a){a&&$(e),i&&i.d(a),o&&o.d()}}}function JC(r,e,t){let n,l,{$$slots:s={},$$scope:i}=e,{placement:o="right"}=e,{sizePx:a=300}=e,{minSizePx:u=0}=e,{maxSizePx:c=1/0}=e,{showPanel:f=!0}=e,{onResizeComplete:m=()=>{}}=e,d=!1;const _=()=>a,h=k=>{t(0,a=k)},b=()=>{t(7,d=!0)},v=k=>{t(7,d=!1),m(k)};return r.$$set=k=>{"placement"in k&&t(1,o=k.placement),"sizePx"in k&&t(0,a=k.sizePx),"minSizePx"in k&&t(2,u=k.minSizePx),"maxSizePx"in k&&t(3,c=k.maxSizePx),"showPanel"in k&&t(4,f=k.showPanel),"onResizeComplete"in k&&t(5,m=k.onResizeComplete),"$$scope"in k&&t(9,i=k.$$scope)},r.$$.update=()=>{r.$$.dirty&2&&t(6,n=(()=>{switch(o){case"top":case"bottom":return"height";case"left":case"right":return"width";default:return pn(o)}})()),r.$$.dirty&65&&t(8,l=`${n}: ${a}px;`)},[a,o,u,c,f,m,n,d,l,i,s,_,h,b,v]}class kc extends X{constructor(e){super(),Q(this,e,JC,XC,G,{placement:1,sizePx:0,minSizePx:2,maxSizePx:3,showPanel:4,onResizeComplete:5})}}var iu=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],fs={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(r){return typeof console<"u"&&console.warn(r)},getWeek:function(r){var e=new Date(r.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},gi={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(r){var e=r%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Gn=function(r,e){return e===void 0&&(e=2),("000"+r).slice(e*-1)},or=function(r){return r===!0?1:0};function _d(r,e){var t;return function(){var n=this,l=arguments;clearTimeout(t),t=setTimeout(function(){return r.apply(n,l)},e)}}var ou=function(r){return r instanceof Array?r:[r]};function Hn(r,e,t){if(t===!0)return r.classList.add(e);r.classList.remove(e)}function Vt(r,e,t){var n=window.document.createElement(r);return e=e||"",t=t||"",n.className=e,t!==void 0&&(n.textContent=t),n}function lo(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function N$(r,e){if(e(r))return r;if(r.parentNode)return N$(r.parentNode,e)}function so(r,e){var t=Vt("div","numInputWrapper"),n=Vt("input","numInput "+r),l=Vt("span","arrowUp"),s=Vt("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?n.type="number":(n.type="text",n.pattern="\\d*"),e!==void 0)for(var i in e)n.setAttribute(i,e[i]);return t.appendChild(n),t.appendChild(l),t.appendChild(s),t}function er(r){try{if(typeof r.composedPath=="function"){var e=r.composedPath();return e[0]}return r.target}catch(t){return r.target}}var au=function(){},Io=function(r,e,t){return t.months[e?"shorthand":"longhand"][r]},ZC={D:au,F:function(r,e,t){r.setMonth(t.months.longhand.indexOf(e))},G:function(r,e){r.setHours((r.getHours()>=12?12:0)+parseFloat(e))},H:function(r,e){r.setHours(parseFloat(e))},J:function(r,e){r.setDate(parseFloat(e))},K:function(r,e,t){r.setHours(r.getHours()%12+12*or(new RegExp(t.amPM[1],"i").test(e)))},M:function(r,e,t){r.setMonth(t.months.shorthand.indexOf(e))},S:function(r,e){r.setSeconds(parseFloat(e))},U:function(r,e){return new Date(parseFloat(e)*1e3)},W:function(r,e,t){var n=parseInt(e),l=new Date(r.getFullYear(),0,2+(n-1)*7,0,0,0,0);return l.setDate(l.getDate()-l.getDay()+t.firstDayOfWeek),l},Y:function(r,e){r.setFullYear(parseFloat(e))},Z:function(r,e){return new Date(e)},d:function(r,e){r.setDate(parseFloat(e))},h:function(r,e){r.setHours((r.getHours()>=12?12:0)+parseFloat(e))},i:function(r,e){r.setMinutes(parseFloat(e))},j:function(r,e){r.setDate(parseFloat(e))},l:au,m:function(r,e){r.setMonth(parseFloat(e)-1)},n:function(r,e){r.setMonth(parseFloat(e)-1)},s:function(r,e){r.setSeconds(parseFloat(e))},u:function(r,e){return new Date(parseFloat(e))},w:au,y:function(r,e){r.setFullYear(2e3+parseFloat(e))}},ql={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},li={Z:function(r){return r.toISOString()},D:function(r,e,t){return e.weekdays.shorthand[li.w(r,e,t)]},F:function(r,e,t){return Io(li.n(r,e,t)-1,!1,e)},G:function(r,e,t){return Gn(li.h(r,e,t))},H:function(r){return Gn(r.getHours())},J:function(r,e){return e.ordinal!==void 0?r.getDate()+e.ordinal(r.getDate()):r.getDate()},K:function(r,e){return e.amPM[or(r.getHours()>11)]},M:function(r,e){return Io(r.getMonth(),!0,e)},S:function(r){return Gn(r.getSeconds())},U:function(r){return r.getTime()/1e3},W:function(r,e,t){return t.getWeek(r)},Y:function(r){return Gn(r.getFullYear(),4)},d:function(r){return Gn(r.getDate())},h:function(r){return r.getHours()%12?r.getHours()%12:12},i:function(r){return Gn(r.getMinutes())},j:function(r){return r.getDate()},l:function(r,e){return e.weekdays.longhand[r.getDay()]},m:function(r){return Gn(r.getMonth()+1)},n:function(r){return r.getMonth()+1},s:function(r){return r.getSeconds()},u:function(r){return r.getTime()},w:function(r){return r.getDay()},y:function(r){return String(r.getFullYear()).substring(2)}},F$=function(r){var e=r.config,t=e===void 0?fs:e,n=r.l10n,l=n===void 0?gi:n,s=r.isMobile,i=s===void 0?!1:s;return function(o,a,u){var c=u||l;return t.formatDate!==void 0&&!i?t.formatDate(o,a,c):a.split("").map(function(f,m,d){return li[f]&&d[m-1]!=="\\"?li[f](o,c,t):f!=="\\"?f:""}).join("")}},qu=function(r){var e=r.config,t=e===void 0?fs:e,n=r.l10n,l=n===void 0?gi:n;return function(s,i,o,a){if(!(s!==0&&!s)){var u=a||l,c,f=s;if(s instanceof Date)c=new Date(s.getTime());else if(typeof s!="string"&&s.toFixed!==void 0)c=new Date(s);else if(typeof s=="string"){var m=i||(t||fs).dateFormat,d=String(s).trim();if(d==="today")c=new Date,o=!0;else if(t&&t.parseDate)c=t.parseDate(s,m);else if(/Z$/.test(d)||/GMT$/.test(d))c=new Date(s);else{for(var _=void 0,h=[],b=0,v=0,k="";b<m.length;b++){var T=m[b],E=T==="\\",P=m[b-1]==="\\"||E;if(ql[T]&&!P){k+=ql[T];var R=new RegExp(k).exec(s);R&&(_=!0)&&h[T!=="Y"?"push":"unshift"]({fn:ZC[T],val:R[++v]})}else E||(k+=".")}c=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),h.forEach(function(L){var A=L.fn,N=L.val;return c=A(c,N,u)||c}),c=_?c:void 0}}if(!(c instanceof Date&&!isNaN(c.getTime()))){t.errorHandler(new Error("Invalid date provided: "+f));return}return o===!0&&c.setHours(0,0,0,0),c}}};function tr(r,e,t){return t===void 0&&(t=!0),t!==!1?new Date(r.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):r.getTime()-e.getTime()}var xC=function(r,e,t){return r>Math.min(e,t)&&r<Math.max(e,t)},uu=function(r,e,t){return r*3600+e*60+t},e9=function(r){var e=Math.floor(r/3600),t=(r-e*3600)/60;return[e,t,r-e*3600-t*60]},t9={DAY:864e5};function cu(r){var e=r.defaultHour,t=r.defaultMinute,n=r.defaultSeconds;if(r.minDate!==void 0){var l=r.minDate.getHours(),s=r.minDate.getMinutes(),i=r.minDate.getSeconds();e<l&&(e=l),e===l&&t<s&&(t=s),e===l&&t===s&&n<i&&(n=r.minDate.getSeconds())}if(r.maxDate!==void 0){var o=r.maxDate.getHours(),a=r.maxDate.getMinutes();e=Math.min(e,o),e===o&&(t=Math.min(a,t)),e===o&&t===a&&(n=r.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:n}}typeof Object.assign!="function"&&(Object.assign=function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!r)throw TypeError("Cannot convert undefined or null to object");for(var n=function(o){o&&Object.keys(o).forEach(function(a){return r[a]=o[a]})},l=0,s=e;l<s.length;l++){var i=s[l];n(i)}return r});var Ln=globalThis&&globalThis.__assign||function(){return Ln=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(r[l]=e[l])}return r},Ln.apply(this,arguments)},gd=globalThis&&globalThis.__spreadArrays||function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),l=0,e=0;e<t;e++)for(var s=arguments[e],i=0,o=s.length;i<o;i++,l++)n[l]=s[i];return n},n9=300;function r9(r,e){var t={config:Ln(Ln({},fs),kn.defaultConfig),l10n:gi};t.parseDate=qu({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=h,t._setHoursFromDate=m,t._positionCalendar=Ve,t.changeMonth=ue,t.changeYear=we,t.clear=ie,t.close=me,t.onMouseOver=Ke,t._createElement=Vt,t.createDay=R,t.destroy=Se,t.isEnabled=je,t.jumpToDate=k,t.updateValue=jn,t.open=ot,t.redraw=bt,t.set=kt,t.setDate=Pt,t.toggle=Nt;function n(){t.utils={getDaysInMonth:function(V,J){return V===void 0&&(V=t.currentMonth),J===void 0&&(J=t.currentYear),V===1&&(J%4===0&&J%100!==0||J%400===0)?29:t.l10n.daysInMonth[V]}}}function l(){t.element=t.input=r,t.isOpen=!1,ze(),ct(),bn(),Kt(),n(),t.isMobile||P(),v(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&m(t.config.noCalendar?t.latestSelectedDateObj:void 0),jn(!1)),o();var V=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&V&&Ve(),Ct("onReady")}function s(){var V;return((V=t.calendarContainer)===null||V===void 0?void 0:V.getRootNode()).activeElement||document.activeElement}function i(V){return V.bind(t)}function o(){var V=t.config;V.weekNumbers===!1&&V.showMonths===1||V.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var J=(t.days.offsetWidth+1)*V.showMonths;t.daysContainer.style.width=J+"px",t.calendarContainer.style.width=J+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function a(V){if(t.selectedDates.length===0){var J=t.config.minDate===void 0||tr(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),le=cu(t.config);J.setHours(le.hours,le.minutes,le.seconds,J.getMilliseconds()),t.selectedDates=[J],t.latestSelectedDateObj=J}V!==void 0&&V.type!=="blur"&&_e(V);var fe=t._input.value;f(),jn(),t._input.value!==fe&&t._debouncedChange()}function u(V,J){return V%12+12*or(J===t.l10n.amPM[1])}function c(V){switch(V%24){case 0:case 12:return 12;default:return V%12}}function f(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var V=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,J=(parseInt(t.minuteElement.value,10)||0)%60,le=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(V=u(V,t.amPM.textContent));var fe=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&tr(t.latestSelectedDateObj,t.config.minDate,!0)===0,Ce=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&tr(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var Te=uu(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),qe=uu(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),Ue=uu(V,J,le);if(Ue>qe&&Ue<Te){var ke=e9(Te);V=ke[0],J=ke[1],le=ke[2]}}else{if(Ce){var Ae=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;V=Math.min(V,Ae.getHours()),V===Ae.getHours()&&(J=Math.min(J,Ae.getMinutes())),J===Ae.getMinutes()&&(le=Math.min(le,Ae.getSeconds()))}if(fe){var et=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;V=Math.max(V,et.getHours()),V===et.getHours()&&J<et.getMinutes()&&(J=et.getMinutes()),J===et.getMinutes()&&(le=Math.max(le,et.getSeconds()))}}d(V,J,le)}}function m(V){var J=V||t.latestSelectedDateObj;J&&J instanceof Date&&d(J.getHours(),J.getMinutes(),J.getSeconds())}function d(V,J,le){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(V%24,J,le||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=Gn(t.config.time_24hr?V:(12+V)%12+12*or(V%12===0)),t.minuteElement.value=Gn(J),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[or(V>=12)]),t.secondElement!==void 0&&(t.secondElement.value=Gn(le)))}function _(V){var J=er(V),le=parseInt(J.value)+(V.delta||0);(le/1e3>1||V.key==="Enter"&&!/[^\d]/.test(le.toString()))&&we(le)}function h(V,J,le,fe){if(J instanceof Array)return J.forEach(function(Ce){return h(V,Ce,le,fe)});if(V instanceof Array)return V.forEach(function(Ce){return h(Ce,J,le,fe)});V.addEventListener(J,le,fe),t._handlers.push({remove:function(){return V.removeEventListener(J,le,fe)}})}function b(){Ct("onChange")}function v(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(le){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+le+"]"),function(fe){return h(fe,"click",t[le])})}),t.isMobile){lt();return}var V=_d(tt,50);if(t._debouncedChange=_d(b,n9),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&h(t.daysContainer,"mouseover",function(le){t.config.mode==="range"&&Ke(er(le))}),h(t._input,"keydown",Ze),t.calendarContainer!==void 0&&h(t.calendarContainer,"keydown",Ze),!t.config.inline&&!t.config.static&&h(window,"resize",V),window.ontouchstart!==void 0?h(window.document,"touchstart",He):h(window.document,"mousedown",He),h(window.document,"focus",He,{capture:!0}),t.config.clickOpens===!0&&(h(t._input,"focus",t.open),h(t._input,"click",t.open)),t.daysContainer!==void 0&&(h(t.monthNav,"click",ge),h(t.monthNav,["keyup","increment"],_),h(t.daysContainer,"click",xe)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var J=function(le){return er(le).select()};h(t.timeContainer,["increment"],a),h(t.timeContainer,"blur",a,{capture:!0}),h(t.timeContainer,"click",T),h([t.hourElement,t.minuteElement],["focus","click"],J),t.secondElement!==void 0&&h(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&h(t.amPM,"click",function(le){a(le)})}t.config.allowInput&&h(t._input,"blur",Oe)}function k(V,J){var le=V!==void 0?t.parseDate(V):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),fe=t.currentYear,Ce=t.currentMonth;try{le!==void 0&&(t.currentYear=le.getFullYear(),t.currentMonth=le.getMonth())}catch(Te){Te.message="Invalid date supplied: "+le,t.config.errorHandler(Te)}J&&t.currentYear!==fe&&(Ct("onYearChange"),j()),J&&(t.currentYear!==fe||t.currentMonth!==Ce)&&Ct("onMonthChange"),t.redraw()}function T(V){var J=er(V);~J.className.indexOf("arrow")&&E(V,J.classList.contains("arrowUp")?1:-1)}function E(V,J,le){var fe=V&&er(V),Ce=le||fe&&fe.parentNode&&fe.parentNode.firstChild,Te=Mn("increment");Te.delta=J,Ce&&Ce.dispatchEvent(Te)}function P(){var V=window.document.createDocumentFragment();if(t.calendarContainer=Vt("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(V.appendChild(te()),t.innerContainer=Vt("div","flatpickr-innerContainer"),t.config.weekNumbers){var J=pe(),le=J.weekWrapper,fe=J.weekNumbers;t.innerContainer.appendChild(le),t.weekNumbers=fe,t.weekWrapper=le}t.rContainer=Vt("div","flatpickr-rContainer"),t.rContainer.appendChild(H()),t.daysContainer||(t.daysContainer=Vt("div","flatpickr-days"),t.daysContainer.tabIndex=-1),W(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),V.appendChild(t.innerContainer)}t.config.enableTime&&V.appendChild(ne()),Hn(t.calendarContainer,"rangeMode",t.config.mode==="range"),Hn(t.calendarContainer,"animate",t.config.animate===!0),Hn(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(V);var Ce=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!Ce&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var Te=Vt("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(Te,t.element),Te.appendChild(t.element),t.altInput&&Te.appendChild(t.altInput),Te.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function R(V,J,le,fe){var Ce=je(J,!0),Te=Vt("span",V,J.getDate().toString());return Te.dateObj=J,Te.$i=fe,Te.setAttribute("aria-label",t.formatDate(J,t.config.ariaDateFormat)),V.indexOf("hidden")===-1&&tr(J,t.now)===0&&(t.todayDateElem=Te,Te.classList.add("today"),Te.setAttribute("aria-current","date")),Ce?(Te.tabIndex=-1,$l(J)&&(Te.classList.add("selected"),t.selectedDateElem=Te,t.config.mode==="range"&&(Hn(Te,"startRange",t.selectedDates[0]&&tr(J,t.selectedDates[0],!0)===0),Hn(Te,"endRange",t.selectedDates[1]&&tr(J,t.selectedDates[1],!0)===0),V==="nextMonthDay"&&Te.classList.add("inRange")))):Te.classList.add("flatpickr-disabled"),t.config.mode==="range"&&Fl(J)&&!$l(J)&&Te.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&V!=="prevMonthDay"&&fe%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(J)+"</span>"),Ct("onDayCreate",Te),Te}function L(V){V.focus(),t.config.mode==="range"&&Ke(V)}function A(V){for(var J=V>0?0:t.config.showMonths-1,le=V>0?t.config.showMonths:-1,fe=J;fe!=le;fe+=V)for(var Ce=t.daysContainer.children[fe],Te=V>0?0:Ce.children.length-1,qe=V>0?Ce.children.length:-1,Ue=Te;Ue!=qe;Ue+=V){var ke=Ce.children[Ue];if(ke.className.indexOf("hidden")===-1&&je(ke.dateObj))return ke}}function N(V,J){for(var le=V.className.indexOf("Month")===-1?V.dateObj.getMonth():t.currentMonth,fe=J>0?t.config.showMonths:-1,Ce=J>0?1:-1,Te=le-t.currentMonth;Te!=fe;Te+=Ce)for(var qe=t.daysContainer.children[Te],Ue=le-t.currentMonth===Te?V.$i+J:J<0?qe.children.length-1:0,ke=qe.children.length,Ae=Ue;Ae>=0&&Ae<ke&&Ae!=(J>0?ke:-1);Ae+=Ce){var et=qe.children[Ae];if(et.className.indexOf("hidden")===-1&&je(et.dateObj)&&Math.abs(V.$i-Ae)>=Math.abs(J))return L(et)}t.changeMonth(Ce),F(A(Ce),0)}function F(V,J){var le=s(),fe=Re(le||document.body),Ce=V!==void 0?V:fe?le:t.selectedDateElem!==void 0&&Re(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&Re(t.todayDateElem)?t.todayDateElem:A(J>0?1:-1);Ce===void 0?t._input.focus():fe?N(Ce,J):L(Ce)}function K(V,J){for(var le=(new Date(V,J,1).getDay()-t.l10n.firstDayOfWeek+7)%7,fe=t.utils.getDaysInMonth((J-1+12)%12,V),Ce=t.utils.getDaysInMonth(J,V),Te=window.document.createDocumentFragment(),qe=t.config.showMonths>1,Ue=qe?"prevMonthDay hidden":"prevMonthDay",ke=qe?"nextMonthDay hidden":"nextMonthDay",Ae=fe+1-le,et=0;Ae<=fe;Ae++,et++)Te.appendChild(R("flatpickr-day "+Ue,new Date(V,J-1,Ae),Ae,et));for(Ae=1;Ae<=Ce;Ae++,et++)Te.appendChild(R("flatpickr-day",new Date(V,J,Ae),Ae,et));for(var st=Ce+1;st<=42-le&&(t.config.showMonths===1||et%7!==0);st++,et++)Te.appendChild(R("flatpickr-day "+ke,new Date(V,J+1,st%Ce),st,et));var gt=Vt("div","dayContainer");return gt.appendChild(Te),gt}function W(){if(t.daysContainer!==void 0){lo(t.daysContainer),t.weekNumbers&&lo(t.weekNumbers);for(var V=document.createDocumentFragment(),J=0;J<t.config.showMonths;J++){var le=new Date(t.currentYear,t.currentMonth,1);le.setMonth(t.currentMonth+J),V.appendChild(K(le.getFullYear(),le.getMonth()))}t.daysContainer.appendChild(V),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&Ke()}}function j(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var V=function(fe){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&fe<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&fe>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var J=0;J<12;J++)if(!!V(J)){var le=Vt("option","flatpickr-monthDropdown-month");le.value=new Date(t.currentYear,J).getMonth().toString(),le.textContent=Io(J,t.config.shorthandCurrentMonth,t.l10n),le.tabIndex=-1,t.currentMonth===J&&(le.selected=!0),t.monthsDropdownContainer.appendChild(le)}}}function Y(){var V=Vt("div","flatpickr-month"),J=window.document.createDocumentFragment(),le;t.config.showMonths>1||t.config.monthSelectorType==="static"?le=Vt("span","cur-month"):(t.monthsDropdownContainer=Vt("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),h(t.monthsDropdownContainer,"change",function(qe){var Ue=er(qe),ke=parseInt(Ue.value,10);t.changeMonth(ke-t.currentMonth),Ct("onMonthChange")}),j(),le=t.monthsDropdownContainer);var fe=so("cur-year",{tabindex:"-1"}),Ce=fe.getElementsByTagName("input")[0];Ce.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&Ce.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(Ce.setAttribute("max",t.config.maxDate.getFullYear().toString()),Ce.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var Te=Vt("div","flatpickr-current-month");return Te.appendChild(le),Te.appendChild(fe),J.appendChild(Te),V.appendChild(J),{container:V,yearElement:Ce,monthElement:le}}function oe(){lo(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var V=t.config.showMonths;V--;){var J=Y();t.yearElements.push(J.yearElement),t.monthElements.push(J.monthElement),t.monthNav.appendChild(J.container)}t.monthNav.appendChild(t.nextMonthNav)}function te(){return t.monthNav=Vt("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=Vt("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=Vt("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,oe(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(V){t.__hidePrevMonthArrow!==V&&(Hn(t.prevMonthNav,"flatpickr-disabled",V),t.__hidePrevMonthArrow=V)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(V){t.__hideNextMonthArrow!==V&&(Hn(t.nextMonthNav,"flatpickr-disabled",V),t.__hideNextMonthArrow=V)}}),t.currentYearElement=t.yearElements[0],Br(),t.monthNav}function ne(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var V=cu(t.config);t.timeContainer=Vt("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var J=Vt("span","flatpickr-time-separator",":"),le=so("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=le.getElementsByTagName("input")[0];var fe=so("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=fe.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=Gn(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?V.hours:c(V.hours)),t.minuteElement.value=Gn(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():V.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(le),t.timeContainer.appendChild(J),t.timeContainer.appendChild(fe),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var Ce=so("flatpickr-second");t.secondElement=Ce.getElementsByTagName("input")[0],t.secondElement.value=Gn(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():V.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Vt("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(Ce)}return t.config.time_24hr||(t.amPM=Vt("span","flatpickr-am-pm",t.l10n.amPM[or((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function H(){t.weekdayContainer?lo(t.weekdayContainer):t.weekdayContainer=Vt("div","flatpickr-weekdays");for(var V=t.config.showMonths;V--;){var J=Vt("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(J)}return ee(),t.weekdayContainer}function ee(){if(!!t.weekdayContainer){var V=t.l10n.firstDayOfWeek,J=gd(t.l10n.weekdays.shorthand);V>0&&V<J.length&&(J=gd(J.splice(V,J.length),J.splice(0,V)));for(var le=t.config.showMonths;le--;)t.weekdayContainer.children[le].innerHTML=`
      <span class='flatpickr-weekday'>
        `+J.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function pe(){t.calendarContainer.classList.add("hasWeeks");var V=Vt("div","flatpickr-weekwrapper");V.appendChild(Vt("span","flatpickr-weekday",t.l10n.weekAbbreviation));var J=Vt("div","flatpickr-weeks");return V.appendChild(J),{weekWrapper:V,weekNumbers:J}}function ue(V,J){J===void 0&&(J=!0);var le=J?V:V-t.currentMonth;le<0&&t._hidePrevMonthArrow===!0||le>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=le,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,Ct("onYearChange"),j()),W(),Ct("onMonthChange"),Br())}function ie(V,J){if(V===void 0&&(V=!0),J===void 0&&(J=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,J===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var le=cu(t.config),fe=le.hours,Ce=le.minutes,Te=le.seconds;d(fe,Ce,Te)}t.redraw(),V&&Ct("onChange")}function me(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),Ct("onClose")}function Se(){t.config!==void 0&&Ct("onDestroy");for(var V=t._handlers.length;V--;)t._handlers[V].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var J=t.calendarContainer.parentNode;if(J.lastChild&&J.removeChild(J.lastChild),J.parentNode){for(;J.firstChild;)J.parentNode.insertBefore(J.firstChild,J);J.parentNode.removeChild(J)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(le){try{delete t[le]}catch(fe){}})}function $e(V){return t.calendarContainer.contains(V)}function He(V){if(t.isOpen&&!t.config.inline){var J=er(V),le=$e(J),fe=J===t.input||J===t.altInput||t.element.contains(J)||V.path&&V.path.indexOf&&(~V.path.indexOf(t.input)||~V.path.indexOf(t.altInput)),Ce=!fe&&!le&&!$e(V.relatedTarget),Te=!t.config.ignoredFocusElements.some(function(qe){return qe.contains(J)});Ce&&Te&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&a(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function we(V){if(!(!V||t.config.minDate&&V<t.config.minDate.getFullYear()||t.config.maxDate&&V>t.config.maxDate.getFullYear())){var J=V,le=t.currentYear!==J;t.currentYear=J||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),le&&(t.redraw(),Ct("onYearChange"),j())}}function je(V,J){var le;J===void 0&&(J=!0);var fe=t.parseDate(V,void 0,J);if(t.config.minDate&&fe&&tr(fe,t.config.minDate,J!==void 0?J:!t.minDateHasTime)<0||t.config.maxDate&&fe&&tr(fe,t.config.maxDate,J!==void 0?J:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(fe===void 0)return!1;for(var Ce=!!t.config.enable,Te=(le=t.config.enable)!==null&&le!==void 0?le:t.config.disable,qe=0,Ue=void 0;qe<Te.length;qe++){if(Ue=Te[qe],typeof Ue=="function"&&Ue(fe))return Ce;if(Ue instanceof Date&&fe!==void 0&&Ue.getTime()===fe.getTime())return Ce;if(typeof Ue=="string"){var ke=t.parseDate(Ue,void 0,!0);return ke&&ke.getTime()===fe.getTime()?Ce:!Ce}else if(typeof Ue=="object"&&fe!==void 0&&Ue.from&&Ue.to&&fe.getTime()>=Ue.from.getTime()&&fe.getTime()<=Ue.to.getTime())return Ce}return!Ce}function Re(V){return t.daysContainer!==void 0?V.className.indexOf("hidden")===-1&&V.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(V):!1}function Oe(V){var J=V.target===t._input,le=t._input.value.trimEnd()!==jr();J&&le&&!(V.relatedTarget&&$e(V.relatedTarget))&&t.setDate(t._input.value,!0,V.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function Ze(V){var J=er(V),le=t.config.wrap?r.contains(J):J===t._input,fe=t.config.allowInput,Ce=t.isOpen&&(!fe||!le),Te=t.config.inline&&le&&!fe;if(V.keyCode===13&&le){if(fe)return t.setDate(t._input.value,!0,J===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),J.blur();t.open()}else if($e(J)||Ce||Te){var qe=!!t.timeContainer&&t.timeContainer.contains(J);switch(V.keyCode){case 13:qe?(V.preventDefault(),a(),_t()):xe(V);break;case 27:V.preventDefault(),_t();break;case 8:case 46:le&&!t.config.allowInput&&(V.preventDefault(),t.clear());break;case 37:case 39:if(!qe&&!le){V.preventDefault();var Ue=s();if(t.daysContainer!==void 0&&(fe===!1||Ue&&Re(Ue))){var ke=V.keyCode===39?1:-1;V.ctrlKey?(V.stopPropagation(),ue(ke),F(A(1),0)):F(void 0,ke)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:V.preventDefault();var Ae=V.keyCode===40?1:-1;t.daysContainer&&J.$i!==void 0||J===t.input||J===t.altInput?V.ctrlKey?(V.stopPropagation(),we(t.currentYear-Ae),F(A(1),0)):qe||F(void 0,Ae*7):J===t.currentYearElement?we(t.currentYear-Ae):t.config.enableTime&&(!qe&&t.hourElement&&t.hourElement.focus(),a(V),t._debouncedChange());break;case 9:if(qe){var et=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function($t){return $t}),st=et.indexOf(J);if(st!==-1){var gt=et[st+(V.shiftKey?-1:1)];V.preventDefault(),(gt||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(J)&&V.shiftKey&&(V.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&J===t.amPM)switch(V.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],f(),jn();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],f(),jn();break}(le||$e(J))&&Ct("onKeyDown",V)}function Ke(V,J){if(J===void 0&&(J="flatpickr-day"),!(t.selectedDates.length!==1||V&&(!V.classList.contains(J)||V.classList.contains("flatpickr-disabled")))){for(var le=V?V.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),fe=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),Ce=Math.min(le,t.selectedDates[0].getTime()),Te=Math.max(le,t.selectedDates[0].getTime()),qe=!1,Ue=0,ke=0,Ae=Ce;Ae<Te;Ae+=t9.DAY)je(new Date(Ae),!0)||(qe=qe||Ae>Ce&&Ae<Te,Ae<fe&&(!Ue||Ae>Ue)?Ue=Ae:Ae>fe&&(!ke||Ae<ke)&&(ke=Ae));var et=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+J));et.forEach(function(st){var gt=st.dateObj,$t=gt.getTime(),wt=Ue>0&&$t<Ue||ke>0&&$t>ke;if(wt){st.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Ot){st.classList.remove(Ot)});return}else if(qe&&!wt)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Ot){st.classList.remove(Ot)}),V!==void 0&&(V.classList.add(le<=t.selectedDates[0].getTime()?"startRange":"endRange"),fe<le&&$t===fe?st.classList.add("startRange"):fe>le&&$t===fe&&st.classList.add("endRange"),$t>=Ue&&(ke===0||$t<=ke)&&xC($t,fe,le)&&st.classList.add("inRange"))})}}function tt(){t.isOpen&&!t.config.static&&!t.config.inline&&Ve()}function ot(V,J){if(J===void 0&&(J=t._positionElement),t.isMobile===!0){if(V){V.preventDefault();var le=er(V);le&&le.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),Ct("onOpen");return}else if(t._input.disabled||t.config.inline)return;var fe=t.isOpen;t.isOpen=!0,fe||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),Ct("onOpen"),Ve(J)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(V===void 0||!t.timeContainer.contains(V.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function nt(V){return function(J){var le=t.config["_"+V+"Date"]=t.parseDate(J,t.config.dateFormat),fe=t.config["_"+(V==="min"?"max":"min")+"Date"];le!==void 0&&(t[V==="min"?"minDateHasTime":"maxDateHasTime"]=le.getHours()>0||le.getMinutes()>0||le.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(Ce){return je(Ce)}),!t.selectedDates.length&&V==="min"&&m(le),jn()),t.daysContainer&&(bt(),le!==void 0?t.currentYearElement[V]=le.getFullYear().toString():t.currentYearElement.removeAttribute(V),t.currentYearElement.disabled=!!fe&&le!==void 0&&fe.getFullYear()===le.getFullYear())}}function ze(){var V=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],J=Ln(Ln({},JSON.parse(JSON.stringify(r.dataset||{}))),e),le={};t.config.parseDate=J.parseDate,t.config.formatDate=J.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(et){t.config._enable=rt(et)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(et){t.config._disable=rt(et)}});var fe=J.mode==="time";if(!J.dateFormat&&(J.enableTime||fe)){var Ce=kn.defaultConfig.dateFormat||fs.dateFormat;le.dateFormat=J.noCalendar||fe?"H:i"+(J.enableSeconds?":S":""):Ce+" H:i"+(J.enableSeconds?":S":"")}if(J.altInput&&(J.enableTime||fe)&&!J.altFormat){var Te=kn.defaultConfig.altFormat||fs.altFormat;le.altFormat=J.noCalendar||fe?"h:i"+(J.enableSeconds?":S K":" K"):Te+(" h:i"+(J.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:nt("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:nt("max")});var qe=function(et){return function(st){t.config[et==="min"?"_minTime":"_maxTime"]=t.parseDate(st,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:qe("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:qe("max")}),J.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,le,J);for(var Ue=0;Ue<V.length;Ue++)t.config[V[Ue]]=t.config[V[Ue]]===!0||t.config[V[Ue]]==="true";iu.filter(function(et){return t.config[et]!==void 0}).forEach(function(et){t.config[et]=ou(t.config[et]||[]).map(i)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var Ue=0;Ue<t.config.plugins.length;Ue++){var ke=t.config.plugins[Ue](t)||{};for(var Ae in ke)iu.indexOf(Ae)>-1?t.config[Ae]=ou(ke[Ae]).map(i).concat(t.config[Ae]):typeof J[Ae]>"u"&&(t.config[Ae]=ke[Ae])}J.altInputClass||(t.config.altInputClass=Xe().className+" "+t.config.altInputClass),Ct("onParseConfig")}function Xe(){return t.config.wrap?r.querySelector("[data-input]"):r}function ct(){typeof t.config.locale!="object"&&typeof kn.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=Ln(Ln({},kn.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?kn.l10ns[t.config.locale]:void 0),ql.D="("+t.l10n.weekdays.shorthand.join("|")+")",ql.l="("+t.l10n.weekdays.longhand.join("|")+")",ql.M="("+t.l10n.months.shorthand.join("|")+")",ql.F="("+t.l10n.months.longhand.join("|")+")",ql.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var V=Ln(Ln({},e),JSON.parse(JSON.stringify(r.dataset||{})));V.time_24hr===void 0&&kn.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=F$(t),t.parseDate=qu({config:t.config,l10n:t.l10n})}function Ve(V){if(typeof t.config.position=="function")return void t.config.position(t,V);if(t.calendarContainer!==void 0){Ct("onPreCalendarPosition");var J=V||t._positionElement,le=Array.prototype.reduce.call(t.calendarContainer.children,function(cn,Pn){return cn+Pn.offsetHeight},0),fe=t.calendarContainer.offsetWidth,Ce=t.config.position.split(" "),Te=Ce[0],qe=Ce.length>1?Ce[1]:null,Ue=J.getBoundingClientRect(),ke=window.innerHeight-Ue.bottom,Ae=Te==="above"||Te!=="below"&&ke<le&&Ue.top>le,et=window.pageYOffset+Ue.top+(Ae?-le-2:J.offsetHeight+2);if(Hn(t.calendarContainer,"arrowTop",!Ae),Hn(t.calendarContainer,"arrowBottom",Ae),!t.config.inline){var st=window.pageXOffset+Ue.left,gt=!1,$t=!1;qe==="center"?(st-=(fe-Ue.width)/2,gt=!0):qe==="right"&&(st-=fe-Ue.width,$t=!0),Hn(t.calendarContainer,"arrowLeft",!gt&&!$t),Hn(t.calendarContainer,"arrowCenter",gt),Hn(t.calendarContainer,"arrowRight",$t);var wt=window.document.body.offsetWidth-(window.pageXOffset+Ue.right),Ot=st+fe>window.document.body.offsetWidth,jt=wt+fe>window.document.body.offsetWidth;if(Hn(t.calendarContainer,"rightMost",Ot),!t.config.static)if(t.calendarContainer.style.top=et+"px",!Ot)t.calendarContainer.style.left=st+"px",t.calendarContainer.style.right="auto";else if(!jt)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=wt+"px";else{var Mt=We();if(Mt===void 0)return;var Ft=window.document.body.offsetWidth,yt=Math.max(0,Ft/2-fe/2),Tt=".flatpickr-calendar.centerMost:before",zt=".flatpickr-calendar.centerMost:after",Bt=Mt.cssRules.length,Ht="{left:"+Ue.left+"px;right:auto;}";Hn(t.calendarContainer,"rightMost",!1),Hn(t.calendarContainer,"centerMost",!0),Mt.insertRule(Tt+","+zt+Ht,Bt),t.calendarContainer.style.left=yt+"px",t.calendarContainer.style.right="auto"}}}}function We(){for(var V=null,J=0;J<document.styleSheets.length;J++){var le=document.styleSheets[J];if(!!le.cssRules){try{le.cssRules}catch(fe){continue}V=le;break}}return V!=null?V:Je()}function Je(){var V=document.createElement("style");return document.head.appendChild(V),V.sheet}function bt(){t.config.noCalendar||t.isMobile||(j(),Br(),W())}function _t(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function xe(V){V.preventDefault(),V.stopPropagation();var J=function(et){return et.classList&&et.classList.contains("flatpickr-day")&&!et.classList.contains("flatpickr-disabled")&&!et.classList.contains("notAllowed")},le=N$(er(V),J);if(le!==void 0){var fe=le,Ce=t.latestSelectedDateObj=new Date(fe.dateObj.getTime()),Te=(Ce.getMonth()<t.currentMonth||Ce.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=fe,t.config.mode==="single")t.selectedDates=[Ce];else if(t.config.mode==="multiple"){var qe=$l(Ce);qe?t.selectedDates.splice(parseInt(qe),1):t.selectedDates.push(Ce)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=Ce,t.selectedDates.push(Ce),tr(Ce,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(et,st){return et.getTime()-st.getTime()}));if(f(),Te){var Ue=t.currentYear!==Ce.getFullYear();t.currentYear=Ce.getFullYear(),t.currentMonth=Ce.getMonth(),Ue&&(Ct("onYearChange"),j()),Ct("onMonthChange")}if(Br(),W(),jn(),!Te&&t.config.mode!=="range"&&t.config.showMonths===1?L(fe):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var ke=t.config.mode==="single"&&!t.config.enableTime,Ae=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(ke||Ae)&&_t()}b()}}var mt={locale:[ct,ee],showMonths:[oe,o,H],minDate:[k],maxDate:[k],positionElement:[Jt],clickOpens:[function(){t.config.clickOpens===!0?(h(t._input,"focus",t.open),h(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function kt(V,J){if(V!==null&&typeof V=="object"){Object.assign(t.config,V);for(var le in V)mt[le]!==void 0&&mt[le].forEach(function(fe){return fe()})}else t.config[V]=J,mt[V]!==void 0?mt[V].forEach(function(fe){return fe()}):iu.indexOf(V)>-1&&(t.config[V]=ou(J));t.redraw(),jn(!0)}function Wt(V,J){var le=[];if(V instanceof Array)le=V.map(function(fe){return t.parseDate(fe,J)});else if(V instanceof Date||typeof V=="number")le=[t.parseDate(V,J)];else if(typeof V=="string")switch(t.config.mode){case"single":case"time":le=[t.parseDate(V,J)];break;case"multiple":le=V.split(t.config.conjunction).map(function(fe){return t.parseDate(fe,J)});break;case"range":le=V.split(t.l10n.rangeSeparator).map(function(fe){return t.parseDate(fe,J)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(V)));t.selectedDates=t.config.allowInvalidPreload?le:le.filter(function(fe){return fe instanceof Date&&je(fe,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(fe,Ce){return fe.getTime()-Ce.getTime()})}function Pt(V,J,le){if(J===void 0&&(J=!1),le===void 0&&(le=t.config.dateFormat),V!==0&&!V||V instanceof Array&&V.length===0)return t.clear(J);Wt(V,le),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),k(void 0,J),m(),t.selectedDates.length===0&&t.clear(!1),jn(J),J&&Ct("onChange")}function rt(V){return V.slice().map(function(J){return typeof J=="string"||typeof J=="number"||J instanceof Date?t.parseDate(J,void 0,!0):J&&typeof J=="object"&&J.from&&J.to?{from:t.parseDate(J.from,void 0),to:t.parseDate(J.to,void 0)}:J}).filter(function(J){return J})}function Kt(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var V=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);V&&Wt(V,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function bn(){if(t.input=Xe(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=Vt(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),Jt()}function Jt(){t._positionElement=t.config.positionElement||t._input}function lt(){var V=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=Vt("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=V,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=V==="datetime-local"?"Y-m-d\\TH:i:S":V==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch(J){}h(t.mobileInput,"change",function(J){t.setDate(er(J).value,!1,t.mobileFormatStr),Ct("onChange"),Ct("onClose")})}function Nt(V){if(t.isOpen===!0)return t.close();t.open(V)}function Ct(V,J){if(t.config!==void 0){var le=t.config[V];if(le!==void 0&&le.length>0)for(var fe=0;le[fe]&&fe<le.length;fe++)le[fe](t.selectedDates,t.input.value,t,J);V==="onChange"&&(t.input.dispatchEvent(Mn("change")),t.input.dispatchEvent(Mn("input")))}}function Mn(V){var J=document.createEvent("Event");return J.initEvent(V,!0,!0),J}function $l(V){for(var J=0;J<t.selectedDates.length;J++){var le=t.selectedDates[J];if(le instanceof Date&&tr(le,V)===0)return""+J}return!1}function Fl(V){return t.config.mode!=="range"||t.selectedDates.length<2?!1:tr(V,t.selectedDates[0])>=0&&tr(V,t.selectedDates[1])<=0}function Br(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(V,J){var le=new Date(t.currentYear,t.currentMonth,1);le.setMonth(t.currentMonth+J),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[J].textContent=Io(le.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=le.getMonth().toString(),V.value=le.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function jr(V){var J=V||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(le){return t.formatDate(le,J)}).filter(function(le,fe,Ce){return t.config.mode!=="range"||t.config.enableTime||Ce.indexOf(le)===fe}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function jn(V){V===void 0&&(V=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=jr(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=jr(t.config.altFormat)),V!==!1&&Ct("onValueUpdate")}function ge(V){var J=er(V),le=t.prevMonthNav.contains(J),fe=t.nextMonthNav.contains(J);le||fe?ue(le?-1:1):t.yearElements.indexOf(J)>=0?J.select():J.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):J.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function _e(V){V.preventDefault();var J=V.type==="keydown",le=er(V),fe=le;t.amPM!==void 0&&le===t.amPM&&(t.amPM.textContent=t.l10n.amPM[or(t.amPM.textContent===t.l10n.amPM[0])]);var Ce=parseFloat(fe.getAttribute("min")),Te=parseFloat(fe.getAttribute("max")),qe=parseFloat(fe.getAttribute("step")),Ue=parseInt(fe.value,10),ke=V.delta||(J?V.which===38?1:-1:0),Ae=Ue+qe*ke;if(typeof fe.value<"u"&&fe.value.length===2){var et=fe===t.hourElement,st=fe===t.minuteElement;Ae<Ce?(Ae=Te+Ae+or(!et)+(or(et)&&or(!t.amPM)),st&&E(void 0,-1,t.hourElement)):Ae>Te&&(Ae=fe===t.hourElement?Ae-Te-or(!t.amPM):Ce,st&&E(void 0,1,t.hourElement)),t.amPM&&et&&(qe===1?Ae+Ue===23:Math.abs(Ae-Ue)>qe)&&(t.amPM.textContent=t.l10n.amPM[or(t.amPM.textContent===t.l10n.amPM[0])]),fe.value=Gn(Ae)}}return l(),t}function ms(r,e){for(var t=Array.prototype.slice.call(r).filter(function(i){return i instanceof HTMLElement}),n=[],l=0;l<t.length;l++){var s=t[l];try{if(s.getAttribute("data-fp-omit")!==null)continue;s._flatpickr!==void 0&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=r9(s,e||{}),n.push(s._flatpickr)}catch(i){console.error(i)}}return n.length===1?n[0]:n}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(r){return ms(this,r)},HTMLElement.prototype.flatpickr=function(r){return ms([this],r)});var kn=function(r,e){return typeof r=="string"?ms(window.document.querySelectorAll(r),e):r instanceof Node?ms([r],e):ms(r,e)};kn.defaultConfig={};kn.l10ns={en:Ln({},gi),default:Ln({},gi)};kn.localize=function(r){kn.l10ns.default=Ln(Ln({},kn.l10ns.default),r)};kn.setDefaults=function(r){kn.defaultConfig=Ln(Ln({},kn.defaultConfig),r)};kn.parseDate=qu({});kn.formatDate=F$({});kn.compareDates=tr;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(r){return ms(this,r)});Date.prototype.fp_incr=function(r){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof r=="string"?parseInt(r,10):r))};typeof window<"u"&&(window.flatpickr=kn);function l9(r){let e;return{c(){e=I("div"),e.innerHTML='<input type="hidden" data-input=""/>',D(e,"class","flat-pickr")},m(t,n){w(t,e,n),r[7](e)},p:z,i:z,o:z,d(t){t&&$(e),r[7](null)}}}function s9(r,e,t){const n=dt();let{value:l}=e,{type:s}=e,{format:i}=e,{timeShow24Hr:o=!0}=e,{timeEnableSeconds:a=!0}=e,u,c;rn(()=>(t(6,c=kn(u,{wrap:!0,enableTime:s!=="date",enableSeconds:a,noCalendar:s==="time",dateFormat:i,parseDate:(m,d)=>nn(m,d).toDate(),formatDate:(m,d)=>nn(m).format(d),time_24hr:o,static:!0,inline:!0,monthSelectorType:"static",onChange:m=>{if(m[0]){const d=l,_=nn(m[0]);if(t(1,l=_.format(i)),n("change",l),s==="date")n("dateChange",l);else if(s==="time")n("timeChange",l);else{const h=nn(d,i);if(!h.isValid()){n("dateChange",l),n("timeChange",l);return}h.format("YYYY-MM-DD")!==_.format("YYYY-MM-DD")&&n("dateChange",l),h.format("HH:mm")!==_.format("HH:mm")&&n("timeChange",l)}}}})),()=>c.destroy()));function f(m){ye[m?"unshift":"push"](()=>{u=m,t(0,u)})}return r.$$set=m=>{"value"in m&&t(1,l=m.value),"type"in m&&t(2,s=m.type),"format"in m&&t(3,i=m.format),"timeShow24Hr"in m&&t(4,o=m.timeShow24Hr),"timeEnableSeconds"in m&&t(5,a=m.timeEnableSeconds)},r.$$.update=()=>{r.$$.dirty&66&&(typeof l>"u"||l===null?c==null||c.clear():c==null||c.setDate(l))},[u,l,s,i,o,a,c,f]}class i9 extends X{constructor(e){super(),Q(this,e,s9,l9,G,{value:1,type:2,format:3,timeShow24Hr:4,timeEnableSeconds:5})}}const o9=r=>({}),hd=r=>({slot:"trigger"});function bd(r){let e,t;const n=[r[2]];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&4?ce(n,[be(s[2])]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function $d(r){let e,t;return{c(){e=I("span"),t=B(r[0]),D(e,"class","label")},m(n,l){w(n,e,l),M(e,t)},p(n,l){l&1&&he(t,n[0])},d(n){n&&$(e)}}}function a9(r){let e,t,n,l=r[2]&&bd(r),s=r[0]&&$d(r);return{c(){e=I("span"),l&&l.c(),t=O(),s&&s.c(),D(e,"class","dropdown-menu-trigger svelte-pow2fb")},m(i,o){w(i,e,o),l&&l.m(e,null),M(e,t),s&&s.m(e,null),n=!0},p(i,o){i[2]?l?(l.p(i,o),o&4&&p(l,1)):(l=bd(i),l.c(),p(l,1),l.m(e,t)):l&&(q(),g(l,1,1,()=>{l=null}),U()),i[0]?s?s.p(i,o):(s=$d(i),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i(i){n||(p(l),n=!0)},o(i){g(l),n=!1},d(i){i&&$(e),l&&l.d(),s&&s.d()}}}function u9(r){let e;const t=r[6].trigger,n=De(t,r,r[7],hd),l=n||a9(r);return{c(){l&&l.c()},m(s,i){l&&l.m(s,i),e=!0},p(s,i){n?n.p&&(!e||i&128)&&Ee(n,t,s,s[7],e?Ie(t,s[7],i,o9):Me(s[7]),hd):l&&l.p&&(!e||i&5)&&l.p(s,e?i:-1)},i(s){e||(p(l,s),e=!0)},o(s){g(l,s),e=!1},d(s){l&&l.d(s)}}}function c9(r){let e;const t=r[6].default,n=De(t,r,r[7],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&128)&&Ee(n,t,l,l[7],e?Ie(t,l[7],s,null):Me(l[7]),null)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function f9(r){let e,t;return e=new _a({props:{slot:"content",style:"--min-width: 100%;"+r[4],$$slots:{default:[c9]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.style="--min-width: 100%;"+n[4]),l&128&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function m9(r){var s;let e,t;const n=[{closeOnInnerClick:r[3]},{ariaLabel:(s=r[1])!=null?s:r[0]},r[5]];let l={$$slots:{content:[f9],trigger:[u9]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)l=x(l,n[i]);return e=new pl({props:l}),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),t=!0},p(i,[o]){var u;const a=o&43?ce(n,[o&8&&{closeOnInnerClick:i[3]},o&3&&{ariaLabel:(u=i[1])!=null?u:i[0]},o&32&&be(i[5])]):{};o&149&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){t||(p(e.$$.fragment,i),t=!0)},o(i){g(e.$$.fragment,i),t=!1},d(i){S(e,i)}}}function d9(r,e,t){const n=["label","ariaLabel","icon","closeOnInnerClick","menuStyle"];let l=Be(e,n),{$$slots:s={},$$scope:i}=e,{label:o=""}=e,{ariaLabel:a=void 0}=e,{icon:u=void 0}=e,{closeOnInnerClick:c=!0}=e,{menuStyle:f=""}=e;return r.$$set=m=>{e=x(x({},e),ft(m)),t(5,l=Be(e,n)),"label"in m&&t(0,o=m.label),"ariaLabel"in m&&t(1,a=m.ariaLabel),"icon"in m&&t(2,u=m.icon),"closeOnInnerClick"in m&&t(3,c=m.closeOnInnerClick),"menuStyle"in m&&t(4,f=m.menuStyle),"$$scope"in m&&t(7,i=m.$$scope)},[o,a,u,c,f,l,s,i]}class Ar extends X{constructor(e){super(),Q(this,e,d9,m9,G,{label:0,ariaLabel:1,icon:2,closeOnInnerClick:3,menuStyle:4})}}const p9=r=>({option:r&1,label:r&17}),wd=r=>({option:r[0],label:r[4](r[0])}),_9=r=>({}),vd=r=>({option:r[28],label:r[29]}),g9=r=>({option:r&268435456,label:r&536870912}),kd=r=>({option:r[28],label:r[29]});function h9(r){let e,t;return e=new Ur({props:{arg:r[4](r[0])}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&17&&(s.arg=n[4](n[0])),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function b9(r){let e;const t=r[16].default,n=De(t,r,r[23],wd);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8388625)&&Ee(n,t,l,l[23],e?Ie(t,l[23],s,p9):Me(l[23]),wd)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function $9(r){let e,t,n,l;const s=[b9,h9],i=[];function o(a,u){return a[14].default?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function w9(r){let e,t;return e=new Ls({props:{id:r[1]+"-select-options"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.id=n[1]+"-select-options"),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function v9(r){let e,t;return e=new Ls({props:{id:r[1]+"-select-options",$$slots:{default:[k9,({option:n,label:l})=>({28:n,29:l}),({option:n,label:l})=>(n?268435456:0)|(l?536870912:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.id=n[1]+"-select-options"),l&813694976&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function k9(r){let e;const t=r[16].default,n=De(t,r,r[23],kd);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&813694976)&&Ee(n,t,l,l[23],e?Ie(t,l[23],s,g9):Me(l[23]),kd)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function yd(r){let e;const t=r[16].empty,n=De(t,r,r[23],vd);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8388608)&&Ee(n,t,l,l[23],e?Ie(t,l[23],s,_9):Me(l[23]),vd)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function y9(r){let e,t,n,l,s;const i=[v9,w9],o=[];function a(c,f){return c[14].default?0:1}e=a(r),t=o[e]=i[e](r);let u=r[5].length===0&&r[14].empty&&yd(r);return{c(){t.c(),n=O(),u&&u.c(),l=ae()},m(c,f){o[e].m(c,f),w(c,n,f),u&&u.m(c,f),w(c,l,f),s=!0},p(c,f){let m=e;e=a(c),e===m?o[e].p(c,f):(q(),g(o[m],1,1,()=>{o[m]=null}),U(),t=o[e],t?t.p(c,f):(t=o[e]=i[e](c),t.c()),p(t,1),t.m(n.parentNode,n)),c[5].length===0&&c[14].empty?u?(u.p(c,f),f&16416&&p(u,1)):(u=yd(c),u.c(),p(u,1),u.m(l.parentNode,l)):u&&(q(),g(u,1,1,()=>{u=null}),U())},i(c){s||(p(t),p(u),s=!0)},o(c){g(t),g(u),s=!1},d(c){o[e].d(c),c&&$(n),u&&u.d(c),c&&$(l)}}}function S9(r){let e,t;function n(){return r[17](r[26])}function l(){return r[18](r[26])}function s(...i){return r[19](r[26],...i)}return e=new pl({props:{ariaControls:r[1]+"-select-options",ariaLabel:r[10],isOpen:r[27],disabled:r[2],id:r[1],contentClass:["select",r[8],r[6]].join(" "),triggerAppearance:r[9],triggerClass:["input-element select full-width",r[8],r[7]].join(" "),$$slots:{content:[y9],trigger:[$9]},$$scope:{ctx:r}}}),e.$on("open",n),e.$on("close",l),e.$on("keydown",s),e.$on("focus",r[20]),e.$on("blur",r[21]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),t=!0},p(i,o){r=i;const a={};o&2&&(a.ariaControls=r[1]+"-select-options"),o&1024&&(a.ariaLabel=r[10]),o&134217728&&(a.isOpen=r[27]),o&4&&(a.disabled=r[2]),o&2&&(a.id=r[1]),o&320&&(a.contentClass=["select",r[8],r[6]].join(" ")),o&512&&(a.triggerAppearance=r[9]),o&384&&(a.triggerClass=["input-element select full-width",r[8],r[7]].join(" ")),o&8405043&&(a.$$scope={dirty:o,ctx:r}),e.$set(a)},i(i){t||(p(e.$$.fragment,i),t=!0)},o(i){g(e.$$.fragment,i),t=!1},d(i){S(e,i)}}}function C9(r){let e,t,n,l;const s=[r[13],{id:r[1]},{disabled:r[2]}];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new dl({props:i}),n=new ha({props:{selectionType:"single",options:r[5],value:typeof r[0]<"u"?[r[0]]:[],labelKey:r[3],getLabel:r[4],checkEquality:r[11],$$slots:{default:[S9,({api:o,isOpen:a})=>({26:o,27:a}),({api:o,isOpen:a})=>(o?67108864:0)|(a?134217728:0)]},$$scope:{ctx:r}}}),n.$on("change",r[22]),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(o,a){y(e,o,a),w(o,t,a),y(n,o,a),l=!0},p(o,[a]){const u=a&8198?ce(s,[a&8192&&be(o[13]),a&2&&{id:o[1]},a&4&&{disabled:o[2]}]):{};e.$set(u);const c={};a&32&&(c.options=o[5]),a&1&&(c.value=typeof o[0]<"u"?[o[0]]:[]),a&8&&(c.labelKey=o[3]),a&16&&(c.getLabel=o[4]),a&2048&&(c.checkEquality=o[11]),a&209733623&&(c.$$scope={dirty:a,ctx:o}),n.$set(c)},i(o){l||(p(e.$$.fragment,o),p(n.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),S(n,o)}}}function T9(r,e,t){const n=["id","disabled","labelKey","getLabel","options","value","contentClass","triggerClass","class","triggerAppearance","ariaLabel","valuesAreEqual","autoSelect"];let l=Be(e,n),{$$slots:s={},$$scope:i}=e;const o=lr(s),a=dt();let{id:u=fl()}=e,{disabled:c=!1}=e,{labelKey:f="label"}=e,{getLabel:m=Y=>As(Y,f)}=e,{options:d}=e,{value:_=void 0}=e,{contentClass:h=""}=e,{triggerClass:b=""}=e,{class:v=""}=e,{triggerAppearance:k="default"}=e,{ariaLabel:T=void 0}=e,{valuesAreEqual:E=(Y,oe)=>Y===oe}=e,{autoSelect:P="first"}=e;function R(Y){t(0,[_]=Y,_),a("change",_),a("input",_),a("artificialChange",_),a("artificialInput",_)}function L(Y){if(P!=="none"){if(!Y.length){_!==void 0&&R([]);return}(_===void 0||!Y.some(oe=>E(oe,_)))&&(P==="first"?R(Y):P==="clear"&&R([]))}}const A=Y=>Y.open(),N=Y=>Y.close(),F=(Y,oe)=>Y.handleKeyDown(oe);function K(Y){ve.call(this,r,Y)}function W(Y){ve.call(this,r,Y)}const j=Y=>R(Y.detail);return r.$$set=Y=>{e=x(x({},e),ft(Y)),t(13,l=Be(e,n)),"id"in Y&&t(1,u=Y.id),"disabled"in Y&&t(2,c=Y.disabled),"labelKey"in Y&&t(3,f=Y.labelKey),"getLabel"in Y&&t(4,m=Y.getLabel),"options"in Y&&t(5,d=Y.options),"value"in Y&&t(0,_=Y.value),"contentClass"in Y&&t(6,h=Y.contentClass),"triggerClass"in Y&&t(7,b=Y.triggerClass),"class"in Y&&t(8,v=Y.class),"triggerAppearance"in Y&&t(9,k=Y.triggerAppearance),"ariaLabel"in Y&&t(10,T=Y.ariaLabel),"valuesAreEqual"in Y&&t(11,E=Y.valuesAreEqual),"autoSelect"in Y&&t(15,P=Y.autoSelect),"$$scope"in Y&&t(23,i=Y.$$scope)},r.$$.update=()=>{r.$$.dirty&32&&L(d)},[_,u,c,f,m,d,h,b,v,k,T,E,R,l,o,P,s,A,N,F,K,W,j,i]}class Sn extends X{constructor(e){super(),Q(this,e,T9,C9,G,{id:1,disabled:2,labelKey:3,getLabel:4,options:5,value:0,contentClass:6,triggerClass:7,class:8,triggerAppearance:9,ariaLabel:10,valuesAreEqual:11,autoSelect:15})}}function D9(r,e,t){var n,l,s,i;return r==="boolean"?[{value:!0,label:(l=(n=t==null?void 0:t.true)==null?void 0:n.label)!=null?l:"True"},{value:!1,label:(i=(s=t==null?void 0:t.false)==null?void 0:s.label)!=null?i:"False"}]:(e==null?void 0:e.map(o=>{var a,u;return{value:o,label:(u=(a=t==null?void 0:t[o])==null?void 0:a.label)!=null?u:o}}))||[]}function I9(r,e){return r.find(t=>t.value===e)}function E9(r,e){return r==="boolean"?!0:e==null?void 0:e[0]}function M9(r){let e,t;const n=[r[4],{triggerAppearance:r[0]},{options:r[1]},{value:r[2]}];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Sn({props:l}),e.$on("change",r[3]),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&23?ce(n,[i&16&&be(s[4]),i&1&&{triggerAppearance:s[0]},i&2&&{options:s[1]},i&4&&{value:s[2]}]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function A9(r,e,t){let n,l;const s=["dataType","enumValues","options","triggerAppearance","value"];let i=Be(e,s),{dataType:o}=e,{enumValues:a=void 0}=e,{options:u=void 0}=e,{triggerAppearance:c="default"}=e,{value:f=E9(o,a)}=e;function m(d){var _;t(5,f=(_=d.detail)==null?void 0:_.value)}return r.$$set=d=>{e=x(x({},e),ft(d)),t(4,i=Be(e,s)),"dataType"in d&&t(6,o=d.dataType),"enumValues"in d&&t(7,a=d.enumValues),"options"in d&&t(8,u=d.options),"triggerAppearance"in d&&t(0,c=d.triggerAppearance),"value"in d&&t(5,f=d.value)},r.$$.update=()=>{r.$$.dirty&448&&t(1,n=D9(o,a,u)),r.$$.dirty&34&&t(2,l=I9(n,f))},[c,n,l,m,i,f,o,a,u]}class R9 extends X{constructor(e){super(),Q(this,e,A9,M9,G,{dataType:6,enumValues:7,options:8,triggerAppearance:0,value:5})}}function P9(r){let e,t,n;const l=[r[2]];function s(o){r[4](o)}let i={};for(let o=0;o<l.length;o+=1)i=x(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new $n({props:i}),ye.push(()=>Pe(e,"value",s)),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){const u=a&4?ce(l,[be(o[2])]):{};!t&&a&1&&(t=!0,u.value=o[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function O9(r){let e,t,n;const l=[r[2]];function s(o){r[3](o)}let i={};for(let o=0;o<l.length;o+=1)i=x(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new Gl({props:i}),ye.push(()=>Pe(e,"value",s)),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){const u=a&4?ce(l,[be(o[2])]):{};!t&&a&1&&(t=!0,u.value=o[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function L9(r){let e,t,n,l;const s=[O9,P9],i=[];function o(a,u){return a[1]==="textarea"?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function N9(r,e,t){const n=["value","interfaceType"];let l=Be(e,n),{value:s=void 0}=e,{interfaceType:i=void 0}=e;function o(u){s=u,t(0,s)}function a(u){s=u,t(0,s)}return r.$$set=u=>{e=x(x({},e),ft(u)),t(2,l=Be(e,n)),"value"in u&&t(0,s=u.value),"interfaceType"in u&&t(1,i=u.interfaceType)},[s,i,l,o,a]}class F9 extends X{constructor(e){super(),Q(this,e,N9,L9,G,{value:0,interfaceType:1})}}function z9(r){let e,t,n;const l=[r[2]];function s(o){r[3](o)}let i={};for(let o=0;o<l.length;o+=1)i=x(i,l[o]);return r[0]!==void 0&&(i.checked=r[0]),e=new Oi({props:i}),ye.push(()=>Pe(e,"checked",s)),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){const u=a&4?ce(l,[be(o[2])]):{};!t&&a&1&&(t=!0,u.checked=o[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function H9(r){let e;return{c(){e=B("Toggle not implemented yet")},m(t,n){w(t,e,n)},p:z,i:z,o:z,d(t){t&&$(e)}}}function V9(r){let e,t,n,l;const s=[H9,z9],i=[];function o(a,u){return a[1]==="toggle"?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function q9(r,e,t){const n=["value","interfaceType"];let l=Be(e,n),{value:s=!1}=e,{interfaceType:i="checkbox"}=e;function o(a){s=a,t(0,s)}return r.$$set=a=>{e=x(x({},e),ft(a)),t(2,l=Be(e,n)),"value"in a&&t(0,s=a.value),"interfaceType"in a&&t(1,i=a.interfaceType)},[s,i,l,o]}class U9 extends X{constructor(e){super(),Q(this,e,q9,V9,G,{value:0,interfaceType:1})}}function W9(r){let e,t,n;const l=[r[5],{interfaceType:r[2]}];function s(o){r[9](o)}let i={};for(let o=0;o<l.length;o+=1)i=x(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new F9({props:i}),ye.push(()=>Pe(e,"value",s)),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){const u=a&36?ce(l,[a&32&&be(o[5]),a&4&&{interfaceType:o[2]}]):{};!t&&a&1&&(t=!0,u.value=o[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function B9(r){let e,t,n;const l=[r[5],{allowFloat:r[1]==="float"},{allowNegative:!0}];function s(o){r[8](o)}let i={};for(let o=0;o<l.length;o+=1)i=x(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new QS({props:i}),ye.push(()=>Pe(e,"value",s)),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){const u=a&34?ce(l,[a&32&&be(o[5]),a&2&&{allowFloat:o[1]==="float"},l[2]]):{};!t&&a&1&&(t=!0,u.value=o[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function j9(r){let e,t,n;const l=[r[5],{interfaceType:r[2]}];function s(o){r[7](o)}let i={};for(let o=0;o<l.length;o+=1)i=x(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new U9({props:i}),ye.push(()=>Pe(e,"value",s)),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){const u=a&36?ce(l,[a&32&&be(o[5]),a&4&&{interfaceType:o[2]}]):{};!t&&a&1&&(t=!0,u.value=o[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function Y9(r){let e,t,n;const l=[r[5],{enumValues:r[3]},{dataType:r[1]},{options:r[4]}];function s(o){r[6](o)}let i={};for(let o=0;o<l.length;o+=1)i=x(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new R9({props:i}),ye.push(()=>Pe(e,"value",s)),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){const u=a&58?ce(l,[a&32&&be(o[5]),a&8&&{enumValues:o[3]},a&2&&{dataType:o[1]},a&16&&{options:o[4]}]):{};!t&&a&1&&(t=!0,u.value=o[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function K9(r){let e,t,n,l;const s=[Y9,j9,B9,W9],i=[];function o(a,u){return a[3]||a[2]==="select"?0:a[1]==="boolean"?1:a[1]==="integer"||a[1]==="float"?2:a[1]==="string"?3:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=ae()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(q(),g(i[c],1,1,()=>{i[c]=null}),U()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&$(n)}}}function G9(r,e,t){const n=["dataType","value","interfaceType","enum","options"];let l=Be(e,n),{dataType:s="string"}=e,{value:i=void 0}=e,{interfaceType:o=void 0}=e,{enum:a=void 0}=e,{options:u=void 0}=e;function c(_){i=_,t(0,i)}function f(_){i=_,t(0,i)}function m(_){i=_,t(0,i)}function d(_){i=_,t(0,i)}return r.$$set=_=>{e=x(x({},e),ft(_)),t(5,l=Be(e,n)),"dataType"in _&&t(1,s=_.dataType),"value"in _&&t(0,i=_.value),"interfaceType"in _&&t(2,o=_.interfaceType),"enum"in _&&t(3,a=_.enum),"options"in _&&t(4,u=_.options)},[i,s,o,a,u,l,c,f,m,d]}class Q9 extends X{constructor(e){super(),Q(this,e,G9,K9,G,{dataType:1,value:0,interfaceType:2,enum:3,options:4})}}function Sd(r,e,t){var s,i;const n=r.slice();n[18]=e[t];const l=Math.round((i=(s=n[1])==null?void 0:s[n[18].fileId])!=null?i:0);return n[19]=l,n}function Cd(r){let e,t=[],n=new Map,l,s=r[0];const i=o=>o[18].fileId;for(let o=0;o<s.length;o+=1){let a=Sd(r,s,o),u=i(a);n.set(u,t[o]=Td(u,a))}return{c(){e=I("div");for(let o=0;o<t.length;o+=1)t[o].c();D(e,"class","files")},m(o,a){w(o,e,a);for(let u=0;u<t.length;u+=1)t[u].m(e,null);l=!0},p(o,a){a&3&&(s=o[0],q(),t=pt(t,a,i,1,o,s,n,e,ht,Td,null,Sd),U())},i(o){if(!l){for(let a=0;a<s.length;a+=1)p(t[a]);l=!0}},o(o){for(let a=0;a<t.length;a+=1)g(t[a]);l=!1},d(o){o&&$(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function Td(r,e){let t,n,l,s,i,o,a=e[18].file.name+"",u,c,f,m,d,_,h,b=e[19]+"",v,k,T,E,P=xf(e[18].file.size)+"",R,L,A;const N=[hm];let F={};for(let K=0;K<N.length;K+=1)F=x(F,N[K]);return s=new Fe({props:F}),f=new DC({props:{percentage:e[19]}}),{key:r,first:null,c(){t=I("div"),n=I("div"),l=I("div"),C(s.$$.fragment),i=O(),o=I("span"),u=B(a),c=O(),C(f.$$.fragment),m=O(),d=I("div"),_=I("span"),h=B("Uploaded "),v=B(b),k=B("%"),T=O(),E=I("span"),R=B(P),L=O(),D(l,"class","file-name"),D(d,"class","upload-info"),D(n,"class","file-info"),D(t,"class","file"),this.first=t},m(K,W){w(K,t,W),M(t,n),M(n,l),y(s,l,null),M(l,i),M(l,o),M(o,u),M(n,c),y(f,n,null),M(n,m),M(n,d),M(d,_),M(_,h),M(_,v),M(_,k),M(d,T),M(d,E),M(E,R),M(t,L),A=!0},p(K,W){e=K;const j=W&0?ce(N,[be(hm)]):{};s.$set(j),(!A||W&1)&&a!==(a=e[18].file.name+"")&&he(u,a);const Y={};W&3&&(Y.percentage=e[19]),f.$set(Y),(!A||W&3)&&b!==(b=e[19]+"")&&he(v,b),(!A||W&1)&&P!==(P=xf(e[18].file.size)+"")&&he(R,P)},i(K){A||(p(s.$$.fragment,K),p(f.$$.fragment,K),A=!0)},o(K){g(s.$$.fragment,K),g(f.$$.fragment,K),A=!1},d(K){K&&$(t),S(s),S(f)}}}function Dd(r){let e,t,n,l;const s=r[10].default,i=De(s,r,r[9],null),o=i||X9();return{c(){e=I("label"),o&&o.c(),D(e,"tabindex","0"),D(e,"for",r[5]),D(e,"class","file-upload-trigger"),Z(e,"dragging-over",r[4])},m(a,u){w(a,e,u),o&&o.m(e,null),t=!0,n||(l=[Le(e,"keydown",r[8]),Le(e,"drop",kl(ss(r[7]))),Le(e,"dragenter",kl(ss(r[11]))),Le(e,"dragover",kl(ss(r[12]))),Le(e,"dragleave",kl(ss(r[13]))),Le(e,"dragend",kl(ss(r[14])))],n=!0)},p(a,u){i&&i.p&&(!t||u&512)&&Ee(i,s,a,a[9],t?Ie(s,a[9],u,null):Me(a[9]),null),(!t||u&16)&&Z(e,"dragging-over",a[4])},i(a){t||(p(o,a),t=!0)},o(a){g(o,a),t=!1},d(a){a&&$(e),o&&o.d(a),n=!1,Dt(l)}}}function X9(r){let e,t,n,l,s,i;const o=[Nu];let a={};for(let u=0;u<o.length;u+=1)a=x(a,o[u]);return n=new Fe({props:a}),{c(){e=I("div"),t=I("div"),C(n.$$.fragment),l=O(),s=I("div"),s.innerHTML=`<div class="title">Drag a file here</div> 
            <div class="desc">or click to browse a file from your computer</div>`,D(t,"class","icon-holder"),D(s,"class","text"),D(e,"class","message")},m(u,c){w(u,e,c),M(e,t),y(n,t,null),M(e,l),M(e,s),i=!0},p(u,c){const f=c&0?ce(o,[be(Nu)]):{};n.$set(f)},i(u){i||(p(n.$$.fragment,u),i=!0)},o(u){g(n.$$.fragment,u),i=!1},d(u){u&&$(e),S(n)}}}function J9(r){let e,t,n,l,s,i,o,a=r[0]&&r[0].length>0&&Cd(r),u=(r[2]||!r[0]||r[0].length===0)&&Dd(r);return{c(){e=I("div"),a&&a.c(),t=O(),n=I("input"),l=O(),u&&u.c(),D(n,"type","file"),D(n,"id",r[5]),n.multiple=r[2],yn(n,"display","none"),D(e,"class","file-upload"),Z(e,"disabled",r[3]),Z(e,"inprogress",r[0]&&r[0].length>0)},m(c,f){w(c,e,f),a&&a.m(e,null),M(e,t),M(e,n),M(e,l),u&&u.m(e,null),s=!0,i||(o=Le(n,"change",r[6]),i=!0)},p(c,[f]){c[0]&&c[0].length>0?a?(a.p(c,f),f&1&&p(a,1)):(a=Cd(c),a.c(),p(a,1),a.m(e,t)):a&&(q(),g(a,1,1,()=>{a=null}),U()),(!s||f&4)&&(n.multiple=c[2]),c[2]||!c[0]||c[0].length===0?u?(u.p(c,f),f&5&&p(u,1)):(u=Dd(c),u.c(),p(u,1),u.m(e,null)):u&&(q(),g(u,1,1,()=>{u=null}),U()),(!s||f&8)&&Z(e,"disabled",c[3]),(!s||f&1)&&Z(e,"inprogress",c[0]&&c[0].length>0)},i(c){s||(p(a),p(u),s=!0)},o(c){g(a),g(u),s=!1},d(c){c&&$(e),a&&a.d(),u&&u.d(),i=!1,o()}}}function Z9(r,e,t){let{$$slots:n={},$$scope:l}=e;const s=dt(),i=fl();let{fileProgress:o=void 0}=e,{multiple:a=!1}=e,{fileUploads:u=void 0}=e,{disabled:c=!1}=e,f=0,m=!1;function d(P,R){const L=[];for(const A of R)L.push({fileId:`${i}-${f}`,file:A}),f+=1;t(0,u=[...u||[],...L]),s("add",{added:L,all:u,originalEvent:P})}function _(P){const R=P.target;R.files&&d(P,R.files),R.value=""}function h(P){var R;if(t(4,m=!1),!c){const L=(R=P.dataTransfer)==null?void 0:R.files;if(!L||L.length===0)return;const A=a?L:[L[0]];d(P,A)}}function b(P){!c&&P.key==="Enter"&&P.target.click()}const v=()=>{t(4,m=!0)},k=()=>{t(4,m=!0)},T=()=>{t(4,m=!1)},E=()=>{t(4,m=!1)};return r.$$set=P=>{"fileProgress"in P&&t(1,o=P.fileProgress),"multiple"in P&&t(2,a=P.multiple),"fileUploads"in P&&t(0,u=P.fileUploads),"disabled"in P&&t(3,c=P.disabled),"$$scope"in P&&t(9,l=P.$$scope)},[u,o,a,c,m,i,_,h,b,l,n,v,k,T,E]}class x9 extends X{constructor(e){super(),Q(this,e,Z9,J9,G,{fileProgress:1,multiple:2,fileUploads:0,disabled:3})}}function Id(r,e,t){const n=r.slice();return n[19]=e[t],n}function Ed(r){let e,t,n;return t=new ut({props:{appearance:"plain",tabindex:"0",role:"link","aria-label":"Previous",disabled:r[0]===1,$$slots:{default:[eT]},$$scope:{ctx:r}}}),t.$on("click",r[8]),{c(){e=I("li"),C(t.$$.fragment)},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&1&&(i.disabled=l[0]===1),s&4194304&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function eT(r){let e,t;const n=[_m,{tabindex:"-1"}];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[be(_m),n[1]]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Md(r){let e,t,n,l,s,i;const o=[nT,tT],a=[];function u(f,m){return f[2]?0:1}t=u(r),n=a[t]=o[t](r);let c=r[5].start>2&&Ad(r);return{c(){e=I("li"),n.c(),l=O(),c&&c.c(),s=ae()},m(f,m){w(f,e,m),a[t].m(e,null),w(f,l,m),c&&c.m(f,m),w(f,s,m),i=!0},p(f,m){let d=t;t=u(f),t===d?a[t].p(f,m):(q(),g(a[d],1,1,()=>{a[d]=null}),U(),n=a[t],n?n.p(f,m):(n=a[t]=o[t](f),n.c()),p(n,1),n.m(e,null)),f[5].start>2?c?(c.p(f,m),m&32&&p(c,1)):(c=Ad(f),c.c(),p(c,1),c.m(s.parentNode,s)):c&&(q(),g(c,1,1,()=>{c=null}),U())},i(f){i||(p(n),p(c),i=!0)},o(f){g(n),g(c),i=!1},d(f){f&&$(e),a[t].d(),f&&$(l),c&&c.d(f),f&&$(s)}}}function tT(r){let e,t;return e=new ut({props:{tabindex:"0",appearance:"secondary",role:"link","aria-label":"Goto Page 1",class:"page",$$slots:{default:[rT]},$$scope:{ctx:r}}}),e.$on("click",r[10]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4194304&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function nT(r){let e,t,n,l,s;return{c(){e=I("a"),t=B("1"),D(e,"tabindex","0"),D(e,"aria-label","Goto Page 1"),D(e,"class","page"),D(e,"href",n=r[2](1,r[1])),D(e,"data-tinro-ignore","")},m(i,o){w(i,e,o),M(e,t),l||(s=Le(e,"click",r[9]),l=!0)},p(i,o){o&6&&n!==(n=i[2](1,i[1]))&&D(e,"href",n)},i:z,o:z,d(i){i&&$(e),l=!1,s()}}}function rT(r){let e;return{c(){e=B("1")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function Ad(r){let e,t,n;return t=new ut({props:{tabindex:"0",role:"link",appearance:"plain","aria-label":"Goto Page "+r[5].prevPageWindow,$$slots:{default:[lT]},$$scope:{ctx:r}}}),t.$on("click",r[11]),{c(){e=I("li"),C(t.$$.fragment)},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&32&&(i["aria-label"]="Goto Page "+l[5].prevPageWindow),s&4194304&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function lT(r){let e,t,n,l,s;const i=[{class:"ellipsis"},So];let o={};for(let c=0;c<i.length;c+=1)o=x(o,i[c]);t=new Fe({props:o});const a=[{class:"arrow"},dm];let u={};for(let c=0;c<a.length;c+=1)u=x(u,a[c]);return l=new Fe({props:u}),{c(){e=I("span"),C(t.$$.fragment),n=O(),C(l.$$.fragment)},m(c,f){w(c,e,f),y(t,e,null),M(e,n),y(l,e,null),s=!0},p(c,f){const m=f&0?ce(i,[i[0],be(So)]):{};t.$set(m);const d=f&0?ce(a,[a[0],be(dm)]):{};l.$set(d)},i(c){s||(p(t.$$.fragment,c),p(l.$$.fragment,c),s=!0)},o(c){g(t.$$.fragment,c),g(l.$$.fragment,c),s=!1},d(c){c&&$(e),S(t),S(l)}}}function sT(r){let e,t;function n(...l){return r[13](r[19],...l)}return e=new ut({props:{tabindex:"0",appearance:"secondary",role:"link","aria-label":r[0]===r[19]?`Current Page, Page ${r[0]}`:`Goto Page ${r[19]}`,class:"page","data-page":r[19],"aria-selected":r[0]===r[19],$$slots:{default:[oT]},$$scope:{ctx:r}}}),e.$on("click",n),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){r=l;const i={};s&33&&(i["aria-label"]=r[0]===r[19]?`Current Page, Page ${r[0]}`:`Goto Page ${r[19]}`),s&32&&(i["data-page"]=r[19]),s&33&&(i["aria-selected"]=r[0]===r[19]),s&4194336&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function iT(r){let e,t=r[19]+"",n,l,s,i,o,a,u;function c(...f){return r[12](r[19],...f)}return{c(){e=I("a"),n=B(t),D(e,"tabindex","0"),D(e,"class","page"),D(e,"href",l=r[2](r[19],r[1])),D(e,"aria-label",s=r[0]===r[19]?`Current Page, Page ${r[0]}`:`Goto Page ${r[19]}`),D(e,"aria-selected",i=r[0]===r[19]),D(e,"data-page",o=r[19]),D(e,"data-tinro-ignore","")},m(f,m){w(f,e,m),M(e,n),a||(u=Le(e,"click",c),a=!0)},p(f,m){r=f,m&32&&t!==(t=r[19]+"")&&he(n,t),m&38&&l!==(l=r[2](r[19],r[1]))&&D(e,"href",l),m&33&&s!==(s=r[0]===r[19]?`Current Page, Page ${r[0]}`:`Goto Page ${r[19]}`)&&D(e,"aria-label",s),m&33&&i!==(i=r[0]===r[19])&&D(e,"aria-selected",i),m&32&&o!==(o=r[19])&&D(e,"data-page",o)},i:z,o:z,d(f){f&&$(e),a=!1,u()}}}function oT(r){let e=r[19]+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&32&&e!==(e=n[19]+"")&&he(t,e)},d(n){n&&$(t)}}}function Rd(r,e){let t,n,l,s;const i=[iT,sT],o=[];function a(u,c){return u[2]?0:1}return n=a(e),l=o[n]=i[n](e),{key:r,first:null,c(){t=I("li"),l.c(),Z(t,"active",e[0]===e[19]),this.first=t},m(u,c){w(u,t,c),o[n].m(t,null),s=!0},p(u,c){e=u;let f=n;n=a(e),n===f?o[n].p(e,c):(q(),g(o[f],1,1,()=>{o[f]=null}),U(),l=o[n],l?l.p(e,c):(l=o[n]=i[n](e),l.c()),p(l,1),l.m(t,null)),(!s||c&33)&&Z(t,"active",e[0]===e[19])},i(u){s||(p(l),s=!0)},o(u){g(l),s=!1},d(u){u&&$(t),o[n].d()}}}function Pd(r){let e,t,n,l,s,i=r[5].end<r[4]-1&&Od(r);const o=[cT,uT],a=[];function u(c,f){return c[2]?0:1}return n=u(r),l=a[n]=o[n](r),{c(){i&&i.c(),e=O(),t=I("li"),l.c()},m(c,f){i&&i.m(c,f),w(c,e,f),w(c,t,f),a[n].m(t,null),s=!0},p(c,f){c[5].end<c[4]-1?i?(i.p(c,f),f&48&&p(i,1)):(i=Od(c),i.c(),p(i,1),i.m(e.parentNode,e)):i&&(q(),g(i,1,1,()=>{i=null}),U());let m=n;n=u(c),n===m?a[n].p(c,f):(q(),g(a[m],1,1,()=>{a[m]=null}),U(),l=a[n],l?l.p(c,f):(l=a[n]=o[n](c),l.c()),p(l,1),l.m(t,null))},i(c){s||(p(i),p(l),s=!0)},o(c){g(i),g(l),s=!1},d(c){i&&i.d(c),c&&$(e),c&&$(t),a[n].d()}}}function Od(r){let e,t,n;return t=new ut({props:{tabindex:"0",appearance:"plain",role:"link","aria-label":"Goto Page "+r[5].nextPageWindow,$$slots:{default:[aT]},$$scope:{ctx:r}}}),t.$on("click",r[14]),{c(){e=I("li"),C(t.$$.fragment)},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&32&&(i["aria-label"]="Goto Page "+l[5].nextPageWindow),s&4194304&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function aT(r){let e,t,n,l,s;const i=[{class:"ellipsis"},So];let o={};for(let c=0;c<i.length;c+=1)o=x(o,i[c]);t=new Fe({props:o});const a=[{class:"arrow"},mm];let u={};for(let c=0;c<a.length;c+=1)u=x(u,a[c]);return l=new Fe({props:u}),{c(){e=I("span"),C(t.$$.fragment),n=O(),C(l.$$.fragment)},m(c,f){w(c,e,f),y(t,e,null),M(e,n),y(l,e,null),s=!0},p(c,f){const m=f&0?ce(i,[i[0],be(So)]):{};t.$set(m);const d=f&0?ce(a,[a[0],be(mm)]):{};l.$set(d)},i(c){s||(p(t.$$.fragment,c),p(l.$$.fragment,c),s=!0)},o(c){g(t.$$.fragment,c),g(l.$$.fragment,c),s=!1},d(c){c&&$(e),S(t),S(l)}}}function uT(r){let e,t;return e=new ut({props:{tabindex:"0",appearance:"secondary",class:"page",role:"link","aria-label":"Goto Page "+r[4],$$slots:{default:[fT]},$$scope:{ctx:r}}}),e.$on("click",r[16]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s["aria-label"]="Goto Page "+n[4]),l&4194320&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function cT(r){let e,t,n,l,s,i;return{c(){e=I("a"),t=B(r[4]),D(e,"tabindex","0"),D(e,"class","page"),D(e,"aria-label",n="Goto Page "+r[4]),D(e,"href",l=r[2](r[4],r[1])),D(e,"data-tinro-ignore","")},m(o,a){w(o,e,a),M(e,t),s||(i=Le(e,"click",r[15]),s=!0)},p(o,a){a&16&&he(t,o[4]),a&16&&n!==(n="Goto Page "+o[4])&&D(e,"aria-label",n),a&22&&l!==(l=o[2](o[4],o[1]))&&D(e,"href",l)},i:z,o:z,d(o){o&&$(e),s=!1,i()}}}function fT(r){let e;return{c(){e=B(r[4])},m(t,n){w(t,e,n)},p(t,n){n&16&&he(e,t[4])},d(t){t&&$(e)}}}function Ld(r){let e,t,n;return t=new ut({props:{tabindex:"0",appearance:"plain",role:"link","aria-label":"Next",disabled:r[0]===r[4],$$slots:{default:[mT]},$$scope:{ctx:r}}}),t.$on("click",r[17]),{c(){e=I("li"),C(t.$$.fragment)},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&17&&(i.disabled=l[0]===l[4]),s&4194304&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function mT(r){let e,t;const n=[pm];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[be(pm)]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function dT(r){let e,t,n,l,s=[],i=new Map,o,a,u,c=r[4]>1&&Ed(r),f=r[5].start>1&&Md(r),m=r[5].currentWindow;const d=b=>b[19];for(let b=0;b<m.length;b+=1){let v=Id(r,m,b),k=d(v);i.set(k,s[b]=Rd(k,v))}let _=r[5].end<r[4]&&Pd(r),h=r[4]>1&&Ld(r);return{c(){e=I("nav"),t=I("ul"),c&&c.c(),n=O(),f&&f.c(),l=O();for(let b=0;b<s.length;b+=1)s[b].c();o=O(),_&&_.c(),a=O(),h&&h.c(),D(t,"class","pagination"),D(e,"aria-label",r[3])},m(b,v){w(b,e,v),M(e,t),c&&c.m(t,null),M(t,n),f&&f.m(t,null),M(t,l);for(let k=0;k<s.length;k+=1)s[k].m(t,null);M(t,o),_&&_.m(t,null),M(t,a),h&&h.m(t,null),u=!0},p(b,[v]){b[4]>1?c?(c.p(b,v),v&16&&p(c,1)):(c=Ed(b),c.c(),p(c,1),c.m(t,n)):c&&(q(),g(c,1,1,()=>{c=null}),U()),b[5].start>1?f?(f.p(b,v),v&32&&p(f,1)):(f=Md(b),f.c(),p(f,1),f.m(t,l)):f&&(q(),g(f,1,1,()=>{f=null}),U()),v&103&&(m=b[5].currentWindow,q(),s=pt(s,v,d,1,b,m,i,t,ht,Rd,o,Id),U()),b[5].end<b[4]?_?(_.p(b,v),v&48&&p(_,1)):(_=Pd(b),_.c(),p(_,1),_.m(t,a)):_&&(q(),g(_,1,1,()=>{_=null}),U()),b[4]>1?h?(h.p(b,v),v&16&&p(h,1)):(h=Ld(b),h.c(),p(h,1),h.m(t,null)):h&&(q(),g(h,1,1,()=>{h=null}),U()),(!u||v&8)&&D(e,"aria-label",b[3])},i(b){if(!u){p(c),p(f);for(let v=0;v<m.length;v+=1)p(s[v]);p(_),p(h),u=!0}},o(b){g(c),g(f);for(let v=0;v<s.length;v+=1)g(s[v]);g(_),g(h),u=!1},d(b){b&&$(e),c&&c.d(),f&&f.d();for(let v=0;v<s.length;v+=1)s[v].d();_&&_.d(),h&&h.d()}}}function pT(r,e,t){let n,l;const s=dt();let{currentPage:i=1}=e,{pageSize:o=10}=e,{total:a=0}=e,{getLink:u=void 0}=e,{ariaLabel:c="Pagination"}=e;async function f(R,L){L>0&&L<=n&&i!==L&&(t(0,i=L),s("change",{currentPage:i,originalEvent:R})),await Gt();const A=document.querySelector(`[data-page="${i}"]`);A==null||A.focus()}const m=R=>f(R,i-1),d=R=>f(R,1),_=R=>f(R,1),h=R=>f(R,l.prevPageWindow),b=(R,L)=>f(L,R),v=(R,L)=>f(L,R),k=R=>f(R,l.nextPageWindow),T=R=>f(R,n),E=R=>f(R,n),P=R=>f(R,i+1);return r.$$set=R=>{"currentPage"in R&&t(0,i=R.currentPage),"pageSize"in R&&t(1,o=R.pageSize),"total"in R&&t(7,a=R.total),"getLink"in R&&t(2,u=R.getLink),"ariaLabel"in R&&t(3,c=R.ariaLabel)},r.$$.update=()=>{r.$$.dirty&130&&t(4,n=n$(a,o)),r.$$.dirty&17&&t(5,l=Py(i,n))},[i,o,u,c,n,l,f,a,m,d,_,h,b,v,k,T,E,P]}class _T extends X{constructor(e){super(),Q(this,e,pT,dT,G,{currentPage:0,pageSize:1,total:7,getLink:2,ariaLabel:3})}}const gT=r=>({option:r&2097152,label:r&4194304}),Nd=r=>({option:r[21],label:r[22]});function hT(r){let e,t;return e=new Ur({props:{arg:r[4](r[21])}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2097168&&(s.arg=n[4](n[21])),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function bT(r){let e;const t=r[12].default,n=De(t,r,r[17],Nd),l=n||hT(r);return{c(){l&&l.c()},m(s,i){l&&l.m(s,i),e=!0},p(s,i){n?n.p&&(!e||i&6422528)&&Ee(n,t,s,s[17],e?Ie(t,s[17],i,gT):Me(s[17]),Nd):l&&l.p&&(!e||i&2097168)&&l.p(s,e?i:-1)},i(s){e||(p(l,s),e=!0)},o(s){g(l,s),e=!1},d(s){l&&l.d(s)}}}function $T(r){let e,t;function n(...l){return r[13](r[20],...l)}return e=new Ls({props:{id:r[1],class:"input-element selection-list "+r[6],offsetOnFocus:r[8],$$slots:{default:[bT,({option:l,label:s})=>({21:l,22:s}),({option:l,label:s})=>(l?2097152:0)|(s?4194304:0)]},$$scope:{ctx:r}}}),e.$on("keydown",n),e.$on("focus",r[14]),e.$on("blur",r[15]),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){r=l;const i={};s&2&&(i.id=r[1]),s&64&&(i.class="input-element selection-list "+r[6]),s&256&&(i.offsetOnFocus=r[8]),s&6422544&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function wT(r){let e,t,n,l;const s=[r[10],{id:r[1]},{disabled:r[2]}];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new dl({props:i}),n=new ha({props:{selectionType:"single",options:r[5],value:typeof r[0]<"u"?[r[0]]:[],labelKey:r[3],getLabel:r[4],disabled:r[2],mode:"static",checkEquality:r[7],$$slots:{default:[$T,({api:o})=>({20:o}),({api:o})=>o?1048576:0]},$$scope:{ctx:r}}}),n.$on("change",r[16]),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(o,a){y(e,o,a),w(o,t,a),y(n,o,a),l=!0},p(o,[a]){const u=a&1030?ce(s,[a&1024&&be(o[10]),a&2&&{id:o[1]},a&4&&{disabled:o[2]}]):{};e.$set(u);const c={};a&32&&(c.options=o[5]),a&1&&(c.value=typeof o[0]<"u"?[o[0]]:[]),a&8&&(c.labelKey=o[3]),a&16&&(c.getLabel=o[4]),a&4&&(c.disabled=o[2]),a&128&&(c.checkEquality=o[7]),a&1179986&&(c.$$scope={dirty:a,ctx:o}),n.$set(c)},i(o){l||(p(e.$$.fragment,o),p(n.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),S(n,o)}}}function vT(r,e,t){const n=["id","disabled","labelKey","getLabel","options","value","class","valuesAreEqual","autoSelect","offsetOnFocus"];let l=Be(e,n),{$$slots:s={},$$scope:i}=e;const o=dt();let{id:a=fl()}=e,{disabled:u=!1}=e,{labelKey:c="label"}=e,{getLabel:f=A=>As(A,c)}=e,{options:m}=e,{value:d=void 0}=e,{class:_=""}=e,{valuesAreEqual:h=(A,N)=>A===N}=e,{autoSelect:b="first"}=e,{offsetOnFocus:v=0}=e;function k(A){t(0,[d]=A,d),o("change",d),o("input",d),o("artificialChange",d),o("artificialInput",d)}function T(A){if(b!=="none"){if(!A.length){d!==void 0&&k([]);return}(d===void 0||!A.some(N=>h(N,d)))&&(b==="first"?k(A):b==="clear"&&k([]))}}const E=(A,N)=>A.handleKeyDown(N);function P(A){ve.call(this,r,A)}function R(A){ve.call(this,r,A)}const L=A=>k(A.detail);return r.$$set=A=>{e=x(x({},e),ft(A)),t(10,l=Be(e,n)),"id"in A&&t(1,a=A.id),"disabled"in A&&t(2,u=A.disabled),"labelKey"in A&&t(3,c=A.labelKey),"getLabel"in A&&t(4,f=A.getLabel),"options"in A&&t(5,m=A.options),"value"in A&&t(0,d=A.value),"class"in A&&t(6,_=A.class),"valuesAreEqual"in A&&t(7,h=A.valuesAreEqual),"autoSelect"in A&&t(11,b=A.autoSelect),"offsetOnFocus"in A&&t(8,v=A.offsetOnFocus),"$$scope"in A&&t(17,i=A.$$scope)},r.$$.update=()=>{r.$$.dirty&32&&T(m)},[d,a,u,c,f,m,_,h,v,k,l,b,s,E,P,R,L,i]}class kT extends X{constructor(e){super(),Q(this,e,vT,wT,G,{id:1,disabled:2,labelKey:3,getLabel:4,options:5,value:0,class:6,valuesAreEqual:7,autoSelect:11,offsetOnFocus:8})}}function fu(r){let e,t,n,l,s,i,o;const a=r[12].default,u=De(a,r,r[11],null);let c=[{role:"tab"},{tabindex:"0"},{"aria-selected":r[3]},{"aria-disabled":t=!!r[1].disabled},{id:n=r[3]?`mtsr-${r[0]}-tab`:void 0},{"aria-controls":l=r[3]?`mtsr-${r[0]}-tabpanel`:void 0},r[6]],f={};for(let m=0;m<c.length;m+=1)f=x(f,c[m]);return{c(){e=I(r[7]),u&&u.c(),it(e,f)},m(m,d){w(m,e,d),u&&u.m(e,null),s=!0,i||(o=[Le(e,"focus",r[13]),Le(e,"blur",r[14]),Le(e,"mousedown",r[15]),Le(e,"click",r[16])],i=!0)},p(m,d){u&&u.p&&(!s||d&2048)&&Ee(u,a,m,m[11],s?Ie(a,m[11],d,null):Me(m[11]),null),it(e,f=ce(c,[{role:"tab"},{tabindex:"0"},(!s||d&8)&&{"aria-selected":m[3]},(!s||d&2&&t!==(t=!!m[1].disabled))&&{"aria-disabled":t},(!s||d&9&&n!==(n=m[3]?`mtsr-${m[0]}-tab`:void 0))&&{id:n},(!s||d&9&&l!==(l=m[3]?`mtsr-${m[0]}-tabpanel`:void 0))&&{"aria-controls":l},d&64&&m[6]]))},i(m){s||(p(u,m),s=!0)},o(m){g(u,m),s=!1},d(m){m&&$(e),u&&u.d(m),i=!1,Dt(o)}}}function Fd(r){let e,t,n;return{c(){e=I("button"),e.textContent="\xD7",D(e,"type","button"),D(e,"aria-label","remove"),D(e,"class","remove")},m(l,s){w(l,e,s),t||(n=Le(e,"click",r[17]),t=!0)},p:z,d(l){l&&$(e),t=!1,n()}}}function yT(r){let e,t=r[7],n,l,s,i=r[7]&&fu(r),o=r[4]&&Fd(r);return{c(){e=I("li"),i&&i.c(),n=O(),o&&o.c(),D(e,"role","presentation"),D(e,"class","tab"),D(e,"tabindex","-1"),D(e,"style",l=r[5]?`width:${Math.floor(100/r[2])}%;`:void 0),Z(e,"active",r[3])},m(a,u){w(a,e,u),i&&i.m(e,null),M(e,n),o&&o.m(e,null),s=!0},p(a,[u]){a[7]?t?G(t,a[7])?(i.d(1),i=fu(a),i.c(),i.m(e,n)):i.p(a,u):(i=fu(a),i.c(),i.m(e,n)):t&&(i.d(1),i=null),t=a[7],a[4]?o?o.p(a,u):(o=Fd(a),o.c(),o.m(e,null)):o&&(o.d(1),o=null),(!s||u&36&&l!==(l=a[5]?`width:${Math.floor(100/a[2])}%;`:void 0))&&D(e,"style",l),(!s||u&8)&&Z(e,"active",a[3])},i(a){s||(p(i),s=!0)},o(a){g(i),s=!1},d(a){a&&$(e),i&&i.d(a),o&&o.d()}}}function ST(r,e,t){let n,l,s,{$$slots:i={},$$scope:o}=e;const a=dt();let{componentId:u}=e,{tab:c}=e,{totalTabs:f}=e,{isActive:m=!1}=e,{allowRemoval:d=!1}=e,{uniformTabWidth:_=!0}=e,{link:h=void 0}=e;function b(P){ve.call(this,r,P)}function v(P){ve.call(this,r,P)}function k(P){ve.call(this,r,P)}function T(P){ve.call(this,r,P)}const E=P=>a("remove",P);return r.$$set=P=>{"componentId"in P&&t(0,u=P.componentId),"tab"in P&&t(1,c=P.tab),"totalTabs"in P&&t(2,f=P.totalTabs),"isActive"in P&&t(3,m=P.isActive),"allowRemoval"in P&&t(4,d=P.allowRemoval),"uniformTabWidth"in P&&t(5,_=P.uniformTabWidth),"link"in P&&t(9,h=P.link),"$$scope"in P&&t(11,o=P.$$scope)},r.$$.update=()=>{r.$$.dirty&512&&t(10,n=typeof h<"u"),r.$$.dirty&1024&&t(7,l=n?"a":"div"),r.$$.dirty&1536&&t(6,s=n?{href:h}:{})},[u,c,f,m,d,_,s,l,a,h,n,o,i,b,v,k,T,E]}class CT extends X{constructor(e){super(),Q(this,e,ST,yT,G,{componentId:0,tab:1,totalTabs:2,isActive:3,allowRemoval:4,uniformTabWidth:5,link:9})}}const TT=r=>({activeTab:r&2}),zd=r=>({activeTab:r[1]});function Hd(r,e,t){const n=r.slice();return n[21]=e[t],n[23]=t,n}const DT=r=>({tab:r&1,activeTab:r&2}),Vd=r=>({tab:r[21],activeTab:r[1]});function IT(r){let e=r[21][r[3]]+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&9&&e!==(e=n[21][n[3]]+"")&&he(t,e)},d(n){n&&$(t)}}}function ET(r){let e,t;const n=r[16].tab,l=De(n,r,r[19],Vd),s=l||IT(r);return{c(){s&&s.c(),e=O()},m(i,o){s&&s.m(i,o),w(i,e,o),t=!0},p(i,o){l?l.p&&(!t||o&524291)&&Ee(l,n,i,i[19],t?Ie(n,i[19],o,DT):Me(i[19]),Vd):s&&s.p&&(!t||o&9)&&s.p(i,t?o:-1)},i(i){t||(p(s,i),t=!0)},o(i){g(s,i),t=!1},d(i){s&&s.d(i),i&&$(e)}}}function qd(r,e){var o;let t,n,l;function s(...a){return e[17](e[21],...a)}function i(...a){return e[18](e[23],...a)}return n=new CT({props:{componentId:e[9],tab:e[21],allowRemoval:e[4],uniformTabWidth:e[7],link:e[13](e[21]),totalTabs:e[0].length,isActive:e[21][e[2]]===((o=e[1])==null?void 0:o[e[2]]),$$slots:{default:[ET]},$$scope:{ctx:e}}}),n.$on("focus",RT),n.$on("blur",PT),n.$on("click",e[12]),n.$on("mousedown",s),n.$on("remove",i),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(a,u){w(a,t,u),y(n,a,u),l=!0},p(a,u){var f;e=a;const c={};u&1&&(c.tab=e[21]),u&16&&(c.allowRemoval=e[4]),u&128&&(c.uniformTabWidth=e[7]),u&1&&(c.link=e[13](e[21])),u&1&&(c.totalTabs=e[0].length),u&7&&(c.isActive=e[21][e[2]]===((f=e[1])==null?void 0:f[e[2]])),u&524299&&(c.$$scope={dirty:u,ctx:e}),n.$set(c)},i(a){l||(p(n.$$.fragment,a),l=!0)},o(a){g(n.$$.fragment,a),l=!1},d(a){a&&$(t),S(n,a)}}}function Ud(r){let e;const t=r[16].default,n=De(t,r,r[19],zd);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&524290)&&Ee(n,t,l,l[19],e?Ie(t,l[19],s,TT):Me(l[19]),zd)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function MT(r){let e,t,n=[],l=new Map,s,i,o,a,u=r[0];const c=m=>m[21][m[2]]||m[21];for(let m=0;m<u.length;m+=1){let d=Hd(r,u,m),_=c(d);l.set(_,n[m]=qd(_,d))}let f=r[1]&&Ud(r);return{c(){e=I("div"),t=I("ul");for(let m=0;m<n.length;m+=1)n[m].c();s=O(),i=I("div"),o=I("div"),f&&f.c(),D(t,"role","tablist"),D(t,"class","tabs"),Z(t,"fill-tab-width",r[5]),D(o,"role","tabpanel"),D(o,"aria-hidden","false"),D(o,"id","mtsr-"+r[9]+"-tabpanel"),D(o,"aria-labelledby","mtsr-"+r[9]+"-tab"),D(o,"tabindex","0"),D(i,"class","tab-content-holder"),D(e,"class","tab-container"),D(e,"role","navigation"),Z(e,"fill-container-height",r[6]),Z(e,"compact",r[8]==="compact")},m(m,d){w(m,e,d),M(e,t);for(let _=0;_<n.length;_+=1)n[_].m(t,null);M(e,s),M(e,i),M(i,o),f&&f.m(o,null),a=!0},p(m,[d]){d&540319&&(u=m[0],q(),n=pt(n,d,c,1,m,u,l,t,ht,qd,null,Hd),U()),(!a||d&32)&&Z(t,"fill-tab-width",m[5]),m[1]?f?(f.p(m,d),d&2&&p(f,1)):(f=Ud(m),f.c(),p(f,1),f.m(o,null)):f&&(q(),g(f,1,1,()=>{f=null}),U()),(!a||d&64)&&Z(e,"fill-container-height",m[6]),(!a||d&256)&&Z(e,"compact",m[8]==="compact")},i(m){if(!a){for(let d=0;d<u.length;d+=1)p(n[d]);p(f),a=!0}},o(m){for(let d=0;d<n.length;d+=1)g(n[d]);g(f),a=!1},d(m){m&&$(e);for(let d=0;d<n.length;d+=1)n[d].d();f&&f.d()}}}let Wd=0;function AT(){return Wd+=1,Wd}function RT(r){r.target.parentElement.classList.add("focused")}function PT(r){r.target.parentElement.classList.remove("focused")}function OT(r,e,t){let{$$slots:n={},$$scope:l}=e;const s=dt(),i=AT();let{tabs:o=[]}=e,{activeTab:a=o[0]}=e,{idKey:u="id"}=e,{labelKey:c="label"}=e,{linkKey:f="href"}=e,{allowRemoval:m=!1}=e,{preventDefault:d=!1}=e,{fillTabWidth:_=!1}=e,{fillContainerHeight:h=!1}=e,{uniformTabWidth:b=!0}=e,{tabStyle:v="default"}=e;function k(A,N){!!N[f]||t(1,a=N),s("tabSelected",{tab:N,originalEvent:A})}function T(A,N){var K;const F=o.splice(N,1);(a==null?void 0:a[u])===((K=F[0])==null?void 0:K[u])&&(o[N]?t(1,a=o[N]):o[N-1]?t(1,a=o[N-1]):t(1,a=null)),t(0,o=[].concat(o)),s("tabRemoved",{removedTab:F[0],activeTab:a,originalEvent:A.detail})}function E(A){var N;if(d){A.preventDefault();const F=A.target.closest('a[role="tab"]');(N=F==null?void 0:F.focus)==null||N.call(F)}}function P(A){return A[f]}const R=(A,N)=>k(N,A),L=(A,N)=>T(N,A);return r.$$set=A=>{"tabs"in A&&t(0,o=A.tabs),"activeTab"in A&&t(1,a=A.activeTab),"idKey"in A&&t(2,u=A.idKey),"labelKey"in A&&t(3,c=A.labelKey),"linkKey"in A&&t(14,f=A.linkKey),"allowRemoval"in A&&t(4,m=A.allowRemoval),"preventDefault"in A&&t(15,d=A.preventDefault),"fillTabWidth"in A&&t(5,_=A.fillTabWidth),"fillContainerHeight"in A&&t(6,h=A.fillContainerHeight),"uniformTabWidth"in A&&t(7,b=A.uniformTabWidth),"tabStyle"in A&&t(8,v=A.tabStyle),"$$scope"in A&&t(19,l=A.$$scope)},[o,a,u,c,m,_,h,b,v,i,k,T,E,P,f,d,n,R,L,l]}class wa extends X{constructor(e){super(),Q(this,e,OT,MT,G,{tabs:0,activeTab:1,idKey:2,labelKey:3,linkKey:14,allowRemoval:4,preventDefault:15,fillTabWidth:5,fillContainerHeight:6,uniformTabWidth:7,tabStyle:8})}}const LT={body:"Are you sure?",proceedButton:{label:"Yes"},cancelButton:{label:"Cancel"},onProceed:()=>Promise.resolve(),onSuccess:()=>{},onError:()=>{}};class NT{constructor(e,t){re(this,"modal");re(this,"confirmationProps");re(this,"resolve",Ge(()=>{}));re(this,"canProceed",Ge(!0));this.modal=e,this.confirmationProps=Ge(t)}}function FT({confirmationModal:r,defaultConfirmationProps:e}){const t={...LT,...e},n=new NT(r,t);async function l(s){return new Promise(i=>{n.resolve.set(i),n.canProceed.set(!0),n.confirmationProps.set({...t,...s}),n.modal.open()})}return{confirm:l,confirmationController:n}}class Eo{constructor(e){re(this,"idSet");this.idSet=new Hr(e)}ids(){return this.idSet.values()}get size(){return this.idSet.size}has(e){return this.idSet.has(e)}isOnTop(e){return this.idSet.values().next().value===e}withModalOnTop(e){return new Eo(new Hr([e]).union(this.idSet).values())}without(e){return new Eo(this.idSet.without(e).values())}}function zT({modalId:r,modalStackStore:e}){return{subscribe(t){return e.subscribe(n=>{t(n.has(r))})},update(t){e.update(n=>{const l=n.has(r);return t(l)?n.withModalOnTop(r):l?n.without(r):n})},set(t){t?e.update(n=>n.withModalOnTop(r)):e.update(n=>n.without(r))}}}class z${constructor({modalId:e,modalStackStore:t}){re(this,"modalId");re(this,"modalStackStore");re(this,"isOpen");re(this,"isOnTop");this.modalId=e,this.modalStackStore=t,this.isOpen=zT({modalId:e,modalStackStore:t}),this.isOnTop=at(this.modalStackStore,n=>n.isOnTop(this.modalId))}open(){this.isOpen.set(!0)}close(){this.isOpen.set(!1)}}class HT{constructor(){re(this,"stack",Ge(new Eo));re(this,"isModalOpen");re(this,"maxId",0);this.isModalOpen=at(this.stack,e=>e.size>0)}getId(){return this.maxId+=1,this.maxId}getPropsForNewModal(){return{modalId:this.getId(),modalStackStore:this.stack}}spawnModalController(){return new z$(this.getPropsForNewModal())}}const VT=r=>({}),Bd=r=>({}),qT=r=>({}),jd=r=>({});function Yd(r){var f;let e,t,n,l=((f=r[0])!=null?f:"")+"",s,i,o;const a=r[6].title,u=De(a,r,r[7],jd);let c=r[1]&&Kd(r);return{c(){e=I("div"),t=I("div"),u&&u.c(),n=O(),s=B(l),i=O(),c&&c.c(),D(t,"class","title"),D(e,"class","title-bar")},m(m,d){w(m,e,d),M(e,t),u&&u.m(t,null),M(t,n),M(t,s),M(e,i),c&&c.m(e,null),o=!0},p(m,d){var _;u&&u.p&&(!o||d&128)&&Ee(u,a,m,m[7],o?Ie(a,m[7],d,qT):Me(m[7]),jd),(!o||d&1)&&l!==(l=((_=m[0])!=null?_:"")+"")&&he(s,l),m[1]?c?(c.p(m,d),d&2&&p(c,1)):(c=Kd(m),c.c(),p(c,1),c.m(e,null)):c&&(q(),g(c,1,1,()=>{c=null}),U())},i(m){o||(p(u,m),p(c),o=!0)},o(m){g(u,m),g(c),o=!1},d(m){m&&$(e),u&&u.d(m),c&&c.d()}}}function Kd(r){let e,t;return e=new ut({props:{appearance:"plain",class:"close-button",$$slots:{default:[UT]},$$scope:{ctx:r}}}),e.$on("click",r[4]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&128&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function UT(r){let e,t;const n=[bs];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[be(bs)]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function WT(r){let e,t,n,l,s,i,o=(r[5].title||r[0]||r[1])&&Yd(r);const a=r[6].default,u=De(a,r,r[7],null),c=r[6].footer,f=De(c,r,r[7],Bd);return{c(){e=I("div"),o&&o.c(),t=O(),n=I("div"),u&&u.c(),l=O(),s=I("div"),f&&f.c(),D(n,"class","body"),D(s,"class","footer"),D(e,"class","window"),Z(e,"can-scroll-body",r[2]),Z(e,"has-body-padding",r[3])},m(m,d){w(m,e,d),o&&o.m(e,null),M(e,t),M(e,n),u&&u.m(n,null),M(e,l),M(e,s),f&&f.m(s,null),i=!0},p(m,[d]){m[5].title||m[0]||m[1]?o?(o.p(m,d),d&35&&p(o,1)):(o=Yd(m),o.c(),p(o,1),o.m(e,t)):o&&(q(),g(o,1,1,()=>{o=null}),U()),u&&u.p&&(!i||d&128)&&Ee(u,a,m,m[7],i?Ie(a,m[7],d,null):Me(m[7]),null),f&&f.p&&(!i||d&128)&&Ee(f,c,m,m[7],i?Ie(c,m[7],d,VT):Me(m[7]),Bd),(!i||d&4)&&Z(e,"can-scroll-body",m[2]),(!i||d&8)&&Z(e,"has-body-padding",m[3])},i(m){i||(p(o),p(u,m),p(f,m),i=!0)},o(m){g(o),g(u,m),g(f,m),i=!1},d(m){m&&$(e),o&&o.d(),u&&u.d(m),f&&f.d(m)}}}function BT(r,e,t){let{$$slots:n={},$$scope:l}=e;const s=lr(n),i=dt();let{title:o=void 0}=e,{hasCloseButton:a=!0}=e,{canScrollBody:u=!0}=e,{hasBodyPadding:c=!0}=e;function f(){i("close")}return r.$$set=m=>{"title"in m&&t(0,o=m.title),"hasCloseButton"in m&&t(1,a=m.hasCloseButton),"canScrollBody"in m&&t(2,u=m.canScrollBody),"hasBodyPadding"in m&&t(3,c=m.hasBodyPadding),"$$scope"in m&&t(7,l=m.$$scope)},[o,a,u,c,f,s,n,l]}class H$ extends X{constructor(e){super(),Q(this,e,BT,WT,G,{title:0,hasCloseButton:1,canScrollBody:2,hasBodyPadding:3})}}const{window:jT}=ua,YT=r=>({}),Gd=r=>({}),KT=r=>({}),Qd=r=>({slot:"footer"});function Xd(r){let e,t,n,l,s,i,o,a,u,c=r[4]&&Jd(r);return l=new H$({props:{canScrollBody:r[5],hasCloseButton:r[6],$$slots:{footer:[XT],title:[QT],default:[GT]},$$scope:{ctx:r}}}),l.$on("close",r[7]),{c(){e=I("div"),c&&c.c(),t=O(),n=I("div"),C(l.$$.fragment),D(n,"class","window-positioner"),Z(n,"width-regular",r[3]==="regular"),Z(n,"width-medium",r[3]==="medium"),Z(n,"width-large",r[3]==="large"),D(e,"class","modal"),D(e,"data-modal-id",r[1])},m(f,m){w(f,e,m),c&&c.m(e,null),M(e,t),M(e,n),y(l,n,null),o=!0,a||(u=Dn(Rs.call(null,e)),a=!0)},p(f,m){f[4]?c?(c.p(f,m),m&16&&p(c,1)):(c=Jd(f),c.c(),p(c,1),c.m(e,t)):c&&(q(),g(c,1,1,()=>{c=null}),U());const d={};m&32&&(d.canScrollBody=f[5]),m&64&&(d.hasCloseButton=f[6]),m&8196&&(d.$$scope={dirty:m,ctx:f}),l.$set(d),(!o||m&8)&&Z(n,"width-regular",f[3]==="regular"),(!o||m&8)&&Z(n,"width-medium",f[3]==="medium"),(!o||m&8)&&Z(n,"width-large",f[3]==="large"),(!o||m&2)&&D(e,"data-modal-id",f[1])},i(f){o||(p(c),p(l.$$.fragment,f),mr(()=>{i&&i.end(1),s=oa(n,Vu,{y:20,duration:150}),s.start()}),o=!0)},o(f){g(c),g(l.$$.fragment,f),s&&s.invalidate(),i=Ri(n,Vu,{y:20,duration:150}),o=!1},d(f){f&&$(e),c&&c.d(),S(l),f&&i&&i.end(),a=!1,u()}}}function Jd(r){let e,t,n,l,s,i;return{c(){e=I("div"),D(e,"class","overlay")},m(o,a){w(o,e,a),l=!0,s||(i=Le(e,"click",r[9]),s=!0)},p:z,i(o){l||(mr(()=>{n&&n.end(1),t=oa(e,Dl,{duration:150}),t.start()}),l=!0)},o(o){t&&t.invalidate(),n=Ri(e,Dl,{duration:150}),l=!1},d(o){o&&$(e),o&&n&&n.end(),s=!1,i()}}}function GT(r){let e;const t=r[12].default,n=De(t,r,r[13],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8192)&&Ee(n,t,l,l[13],e?Ie(t,l[13],s,null):Me(l[13]),null)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function QT(r){var o;let e,t=((o=r[2])!=null?o:"")+"",n,l;const s=r[12].title,i=De(s,r,r[13],Gd);return{c(){e=I("div"),i&&i.c(),n=B(t),D(e,"slot","title")},m(a,u){w(a,e,u),i&&i.m(e,null),M(e,n),l=!0},p(a,u){var c;i&&i.p&&(!l||u&8192)&&Ee(i,s,a,a[13],l?Ie(s,a[13],u,YT):Me(a[13]),Gd),(!l||u&4)&&t!==(t=((c=a[2])!=null?c:"")+"")&&he(n,t)},i(a){l||(p(i,a),l=!0)},o(a){g(i,a),l=!1},d(a){a&&$(e),i&&i.d(a)}}}function XT(r){let e;const t=r[12].footer,n=De(t,r,r[13],Qd);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8192)&&Ee(n,t,l,l[13],e?Ie(t,l[13],s,KT):Me(l[13]),Qd)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function JT(r){let e,t,n,l,s=r[0]&&Xd(r);return{c(){s&&s.c(),e=ae()},m(i,o){s&&s.m(i,o),w(i,e,o),t=!0,n||(l=Le(jT,"keydown",r[8]),n=!0)},p(i,[o]){i[0]?s?(s.p(i,o),o&1&&p(s,1)):(s=Xd(i),s.c(),p(s,1),s.m(e.parentNode,e)):s&&(q(),g(s,1,1,()=>{s=null}),U())},i(i){t||(p(s),t=!0)},o(i){g(s),t=!1},d(i){s&&s.d(i),i&&$(e),n=!1,l()}}}function ZT(r,e,t){let n,l,s,{$$slots:i={},$$scope:o}=e;const a=dt();let{modalId:u=void 0}=e,{isOpen:c=!1}=e,{title:f=void 0}=e,{size:m="regular"}=e,{allowClose:d=!0}=e,{hasOverlay:_=!0}=e,{closeOn:h=["button"]}=e,{canScrollBody:b=!0}=e;function v(){t(0,c=!1)}function k(P){P.key==="Escape"&&c&&l&&v()}function T(){s&&v()}async function E(P){await Gt(),a(P?"open":"close")}return r.$$set=P=>{"modalId"in P&&t(1,u=P.modalId),"isOpen"in P&&t(0,c=P.isOpen),"title"in P&&t(2,f=P.title),"size"in P&&t(3,m=P.size),"allowClose"in P&&t(10,d=P.allowClose),"hasOverlay"in P&&t(4,_=P.hasOverlay),"closeOn"in P&&t(11,h=P.closeOn),"canScrollBody"in P&&t(5,b=P.canScrollBody),"$$scope"in P&&t(13,o=P.$$scope)},r.$$.update=()=>{r.$$.dirty&3072&&t(6,n=d&&h.includes("button")),r.$$.dirty&3072&&(l=d&&h.includes("esc")),r.$$.dirty&3072&&(s=d&&h.includes("overlay")),r.$$.dirty&1&&E(c)},[c,u,f,m,_,b,n,v,k,T,d,h,i,o]}class xT extends X{constructor(e){super(),Q(this,e,ZT,JT,G,{modalId:1,isOpen:0,title:2,size:3,allowClose:10,hasOverlay:4,closeOn:11,canScrollBody:5})}}const eD=r=>({}),Zd=r=>({slot:"title"}),tD=r=>({}),xd=r=>({slot:"footer"});function nD(r){let e;const t=r[10].default,n=De(t,r,r[14],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&16384)&&Ee(n,t,l,l[14],e?Ie(t,l[14],s,null):Me(l[14]),null)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function rD(r){let e;const t=r[10].title,n=De(t,r,r[14],Zd);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&16384)&&Ee(n,t,l,l[14],e?Ie(t,l[14],s,eD):Me(l[14]),Zd)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function lD(r){let e;const t=r[10].footer,n=De(t,r,r[14],xd);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&16384)&&Ee(n,t,l,l[14],e?Ie(t,l[14],s,tD):Me(l[14]),xd)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function sD(r){let e,t,n;function l(i){r[11](i)}let s={hasOverlay:r[9],title:r[1],size:r[2],allowClose:r[3]&&r[9],closeOn:r[4],canScrollBody:r[5],modalId:r[0].modalId,$$slots:{footer:[lD],title:[rD],default:[nD]},$$scope:{ctx:r}};return r[8]!==void 0&&(s.isOpen=r[8]),e=new xT({props:s}),ye.push(()=>Pe(e,"isOpen",l)),e.$on("open",r[12]),e.$on("close",r[13]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&512&&(a.hasOverlay=i[9]),o&2&&(a.title=i[1]),o&4&&(a.size=i[2]),o&520&&(a.allowClose=i[3]&&i[9]),o&16&&(a.closeOn=i[4]),o&32&&(a.canScrollBody=i[5]),o&1&&(a.modalId=i[0].modalId),o&16384&&(a.$$scope={dirty:o,ctx:i}),!t&&o&256&&(t=!0,a.isOpen=i[8],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function iD(r,e,t){let n,l,s,i=z,o=()=>(i(),i=se(n,R=>t(8,s=R)),n),a,u=z,c=()=>(u(),u=se(l,R=>t(9,a=R)),l);r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>u());let{$$slots:f={},$$scope:m}=e,{controller:d}=e,{title:_=void 0}=e,{size:h=void 0}=e,{allowClose:b=!0}=e,{closeOn:v=["button"]}=e,{canScrollBody:k=!0}=e;function T(R){s=R,n.set(s)}function E(R){ve.call(this,r,R)}function P(R){ve.call(this,r,R)}return r.$$set=R=>{"controller"in R&&t(0,d=R.controller),"title"in R&&t(1,_=R.title),"size"in R&&t(2,h=R.size),"allowClose"in R&&t(3,b=R.allowClose),"closeOn"in R&&t(4,v=R.closeOn),"canScrollBody"in R&&t(5,k=R.canScrollBody),"$$scope"in R&&t(14,m=R.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&o(t(7,{isOpen:n,isOnTop:l}=d,n,c(t(6,l))))},[d,_,h,b,v,k,l,n,s,a,f,T,E,P,m]}class Pl extends X{constructor(e){super(),Q(this,e,iD,sD,G,{controller:0,title:1,size:2,allowClose:3,closeOn:4,canScrollBody:5})}}function oD(r){let e,t;return e=new Ur({props:{arg:r[4]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.arg=n[4]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function e1(r){let e,t;return e=new Ur({props:{arg:r[5]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.arg=n[5]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function aD(r){let e,t,n=r[5]&&e1(r);return{c(){n&&n.c(),e=ae()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[5]?n?(n.p(l,s),s&32&&p(n,1)):(n=e1(l),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&$(e)}}}function uD(r){let e,t;return e=new _r({props:{slot:"footer",cancelButton:r[2],proceedButton:r[3],onCancel:r[10],onProceed:r[11],canProceed:r[9]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.cancelButton=n[2]),l&8&&(s.proceedButton=n[3]),l&512&&(s.canProceed=n[9]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function cD(r){let e,t;return e=new Pl({props:{controller:r[1],allowClose:r[0],$$slots:{footer:[uD],title:[aD],default:[oD]},$$scope:{ctx:r}}}),e.$on("close",r[12]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.controller=n[1]),l&1&&(s.allowClose=n[0]),l&524860&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function fD(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,_,h=z,b=()=>(h(),h=se(s,W=>t(18,_=W)),s),v,k=z,T=()=>(k(),k=se(l,W=>t(14,v=W)),l),E,P=z,R=()=>(P(),P=se(i,W=>t(9,E=W)),i);r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>k()),r.$$.on_destroy.push(()=>P());let{controller:L}=e,A=!0;function N(){_(!1),n.close()}async function F(){try{t(0,A=!1),await f(),m(),_(!0),n.close()}catch(W){d(W),n.close()}finally{t(0,A=!0)}}function K(){_(!1),t(0,A=!0)}return r.$$set=W=>{"controller"in W&&t(13,L=W.controller)},r.$$.update=()=>{r.$$.dirty&8192&&t(1,{modal:n,confirmationProps:l,resolve:s,canProceed:i}=L,n,T(t(8,l)),b(t(7,s)),R(t(6,i))),r.$$.dirty&16384&&t(5,{title:o,body:a,proceedButton:u,cancelButton:c,onProceed:f,onSuccess:m,onError:d}=v,o,(t(4,a),t(14,v)),(t(3,u),t(14,v)),(t(2,c),t(14,v)))},[A,n,c,u,a,o,i,s,l,E,N,F,K,L,v]}class mD extends X{constructor(e){super(),Q(this,e,fD,cD,G,{controller:13})}}function dD(r){return{text:r,isMatch:!0}}function mu(r){return{text:r,isMatch:!1}}function V$(r,e){if(r.length===0)return[];if(e.length===0)return[mu(r)];const t=ko(r),n=ko(e),l=[];let s=0;for(;;){const i=t.indexOf(n,s);if(i===-1){s<t.length&&l.push(mu(r.slice(s)));break}i>s&&l.push(mu(r.substring(s,i))),l.push(dD(r.substring(i,i+e.length))),s=i+e.length}return l}function q$(r){return r?"exactMatch":"noMatch"}function yc(r,e,t){if(!(r==null||r===""))return t&&t(e)===r?"exactMatch":q$(r===e||String(r)===String(e))}function pD(r){if(r.length!==0)return r.length===1?q$(r[0].isMatch):"substringMatch"}function _D(r){let e,t;const n=r[1].default,l=De(n,r,r[0],null);return{c(){e=I("span"),l&&l.c(),D(e,"class","match svelte-1hlowus")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,[i]){l&&l.p&&(!t||i&1)&&Ee(l,n,s,s[0],t?Ie(n,s[0],i,null):Me(s[0]),null)},i(s){t||(p(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&$(e),l&&l.d(s)}}}function gD(r,e,t){let{$$slots:n={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&t(0,l=s.$$scope)},[l,n]}class hD extends X{constructor(e){super(),Q(this,e,gD,_D,G,{})}}function t1(r,e,t){const n=r.slice();return n[3]=e[t],n}function bD(r){let e=r[3].text+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[3].text+"")&&he(t,e)},i:z,o:z,d(n){n&&$(t)}}}function $D(r){let e,t,n;var l=r[1];function s(i){return{props:{$$slots:{default:[wD]},$$scope:{ctx:i}}}}return l&&(e=new l(s(r))),{c(){e&&C(e.$$.fragment),t=ae()},m(i,o){e&&y(e,i,o),w(i,t,o),n=!0},p(i,o){const a={};if(o&65&&(a.$$scope={dirty:o,ctx:i}),l!==(l=i[1])){if(e){q();const u=e;g(u.$$.fragment,1,0,()=>{S(u,1)}),U()}l?(e=new l(s(i)),C(e.$$.fragment),p(e.$$.fragment,1),y(e,t.parentNode,t)):e=null}else l&&e.$set(a)},i(i){n||(e&&p(e.$$.fragment,i),n=!0)},o(i){e&&g(e.$$.fragment,i),n=!1},d(i){i&&$(t),e&&S(e,i)}}}function wD(r){let e=r[3].text+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[3].text+"")&&he(t,e)},d(n){n&&$(t)}}}function n1(r){let e,t,n,l;const s=[$D,bD],i=[];function o(a,u){return a[3].isMatch?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function vD(r){let e,t,n=r[0],l=[];for(let i=0;i<n.length;i+=1)l[i]=n1(t1(r,n,i));const s=i=>g(l[i],1,1,()=>{l[i]=null});return{c(){e=I("span");for(let i=0;i<l.length;i+=1)l[i].c();D(e,"class","match-highlighter")},m(i,o){w(i,e,o);for(let a=0;a<l.length;a+=1)l[a].m(e,null);t=!0},p(i,[o]){if(o&3){n=i[0];let a;for(a=0;a<n.length;a+=1){const u=t1(i,n,a);l[a]?(l[a].p(u,o),p(l[a],1)):(l[a]=n1(u),l[a].c(),p(l[a],1),l[a].m(e,null))}for(q(),a=n.length;a<l.length;a+=1)s(a);U()}},i(i){if(!t){for(let o=0;o<n.length;o+=1)p(l[o]);t=!0}},o(i){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)g(l[o]);t=!1},d(i){i&&$(e),Fn(l,i)}}}function kD(r,e,t){let n,{matchParts:l}=e,{matchComponent:s=void 0}=e;return r.$$set=i=>{"matchParts"in i&&t(0,l=i.matchParts),"matchComponent"in i&&t(2,s=i.matchComponent)},r.$$.update=()=>{r.$$.dirty&4&&t(1,n=s!=null?s:hD)},[l,n,s]}class Sc extends X{constructor(e){super(),Q(this,e,kD,vD,G,{matchParts:0,matchComponent:2})}}function yD(r){let e,t;return e=new Sc({props:{matchParts:r[1],matchComponent:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.matchParts=n[1]),l&1&&(s.matchComponent=n[0]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function SD(r,e,t){let n,{text:l}=e,{substring:s=""}=e,{matchComponent:i=void 0}=e;return r.$$set=o=>{"text"in o&&t(2,l=o.text),"substring"in o&&t(3,s=o.substring),"matchComponent"in o&&t(0,i=o.matchComponent)},r.$$.update=()=>{r.$$.dirty&12&&t(1,n=V$(l,s))},[i,n,l,s]}class U$ extends X{constructor(e){super(),Q(this,e,SD,yD,G,{text:2,substring:3,matchComponent:0})}}function CD(r){let e;return{c(){e=I("div"),D(e,"class","menu-divider")},m(t,n){w(t,e,n)},p:z,i:z,o:z,d(t){t&&$(e)}}}class Ni extends X{constructor(e){super(),Q(this,e,null,CD,G,{})}}function TD(r){let e,t;const n=r[2].default,l=De(n,r,r[1],null);let s=[{class:"menu-heading"},r[0]],i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return{c(){e=I("div"),l&&l.c(),it(e,i)},m(o,a){w(o,e,a),l&&l.m(e,null),t=!0},p(o,[a]){l&&l.p&&(!t||a&2)&&Ee(l,n,o,o[1],t?Ie(n,o[1],a,null):Me(o[1]),null),it(e,i=ce(s,[{class:"menu-heading"},a&1&&o[0]]))},i(o){t||(p(l,o),t=!0)},o(o){g(l,o),t=!1},d(o){o&&$(e),l&&l.d(o)}}}function DD(r,e,t){const n=[];let l=Be(e,n),{$$slots:s={},$$scope:i}=e;return r.$$set=o=>{e=x(x({},e),ft(o)),t(0,l=Be(e,n)),"$$scope"in o&&t(1,i=o.$$scope)},[l,i,s]}class zs extends X{constructor(e){super(),Q(this,e,DD,TD,G,{})}}const ID=r=>({}),r1=r=>({});function l1(r){let e,t;const n=[r[0],{hasNotificationDot:r[1]}];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&3?ce(n,[i&1&&be(s[0]),i&2&&{hasNotificationDot:s[1]}]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function ED(r){let e,t,n,l,s,i;const o=r[4].control,a=De(o,r,r[3],r1);let u=r[0]&&l1(r);const c=r[4].default,f=De(c,r,r[3],null);return{c(){e=I("div"),a&&a.c(),t=O(),n=I("div"),u&&u.c(),l=O(),s=I("div"),f&&f.c(),D(e,"class","control cell"),D(n,"class","icon cell"),D(s,"class","label cell")},m(m,d){w(m,e,d),a&&a.m(e,null),w(m,t,d),w(m,n,d),u&&u.m(n,null),w(m,l,d),w(m,s,d),f&&f.m(s,null),i=!0},p(m,[d]){a&&a.p&&(!i||d&8)&&Ee(a,o,m,m[3],i?Ie(o,m[3],d,ID):Me(m[3]),r1),m[0]?u?(u.p(m,d),d&1&&p(u,1)):(u=l1(m),u.c(),p(u,1),u.m(n,null)):u&&(q(),g(u,1,1,()=>{u=null}),U()),f&&f.p&&(!i||d&8)&&Ee(f,c,m,m[3],i?Ie(c,m[3],d,null):Me(m[3]),null)},i(m){i||(p(a,m),p(u),p(f,m),i=!0)},o(m){g(a,m),g(u),g(f,m),i=!1},d(m){m&&$(e),a&&a.d(m),m&&$(t),m&&$(n),u&&u.d(),m&&$(l),m&&$(s),f&&f.d(m)}}}function MD(r,e,t){let n,{$$slots:l={},$$scope:s}=e;const i=lr(l),o=w$(),a=Ge(!1);de(r,a,f=>t(5,n=f));let{icon:u=void 0}=e,{hasNotificationDot:c=!1}=e;return o&&(rn(()=>o.hasControlColumn.registerInput(i.control)),rn(()=>o.hasIconColumn.registerInput(a))),r.$$set=f=>{"icon"in f&&t(0,u=f.icon),"hasNotificationDot"in f&&t(1,c=f.hasNotificationDot),"$$scope"in f&&t(3,s=f.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&Zt(a,n=!!u,n)},[u,c,a,s,l]}class Mo extends X{constructor(e){super(),Q(this,e,MD,ED,G,{icon:0,hasNotificationDot:1})}}function du(r){let e,t,n,l,s;const i=r[6].default,o=De(i,r,r[5],null);let a=[r[4],{class:t="menu-item "+r[3]},{role:"menuitem"}],u={};for(let c=0;c<a.length;c+=1)u=x(u,a[c]);return{c(){e=I(r[0]),o&&o.c(),it(e,u),Z(e,"disabled",r[1]),Z(e,"danger",r[2])},m(c,f){w(c,e,f),o&&o.m(e,null),n=!0,l||(s=Le(e,"click",r[7]),l=!0)},p(c,f){o&&o.p&&(!n||f&32)&&Ee(o,i,c,c[5],n?Ie(i,c[5],f,null):Me(c[5]),null),it(e,u=ce(a,[f&16&&c[4],(!n||f&8&&t!==(t="menu-item "+c[3]))&&{class:t},{role:"menuitem"}])),Z(e,"disabled",c[1]),Z(e,"danger",c[2])},i(c){n||(p(o,c),n=!0)},o(c){g(o,c),n=!1},d(c){c&&$(e),o&&o.d(c),l=!1,s()}}}function AD(r){let e=r[0],t,n,l=r[0]&&du(r);return{c(){l&&l.c(),t=ae()},m(s,i){l&&l.m(s,i),w(s,t,i),n=!0},p(s,[i]){s[0]?e?G(e,s[0])?(l.d(1),l=du(s),l.c(),l.m(t.parentNode,t)):l.p(s,i):(l=du(s),l.c(),l.m(t.parentNode,t)):e&&(l.d(1),l=null),e=s[0]},i(s){n||(p(l),n=!0)},o(s){g(l),n=!1},d(s){s&&$(t),l&&l.d(s)}}}function RD(r,e,t){const n=["tag","disabled","danger","class"];let l=Be(e,n),{$$slots:s={},$$scope:i}=e,{tag:o="div"}=e,{disabled:a=!1}=e,{danger:u=!1}=e,{class:c=""}=e;function f(m){ve.call(this,r,m)}return r.$$set=m=>{e=x(x({},e),ft(m)),t(4,l=Be(e,n)),"tag"in m&&t(0,o=m.tag),"disabled"in m&&t(1,a=m.disabled),"danger"in m&&t(2,u=m.danger),"class"in m&&t(3,c=m.class),"$$scope"in m&&t(5,i=m.$$scope)},[o,a,u,c,l,i,s,f]}class W$ extends X{constructor(e){super(),Q(this,e,RD,AD,G,{tag:0,disabled:1,danger:2,class:3})}}function PD(r){let e;const t=r[7].default,n=De(t,r,r[8],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&256)&&Ee(n,t,l,l[8],e?Ie(t,l[8],s,null):Me(l[8]),null)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function OD(r){let e;return{c(){e=B(r[0])},m(t,n){w(t,e,n)},p(t,n){n&1&&he(e,t[0])},i:z,o:z,d(t){t&&$(e)}}}function LD(r){let e,t,n,l;const s=[OD,PD],i=[];function o(a,u){return a[0]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function ND(r){let e,t;return e=new Mo({props:{icon:r[1],hasNotificationDot:r[4],$$slots:{default:[LD]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.icon=n[1]),l&16&&(s.hasNotificationDot=n[4]),l&257&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function FD(r){let e,t;const n=[{tag:"button"},{class:"menu-item-button"},{disabled:r[2]},{danger:r[3]},r[6]];let l={$$slots:{default:[ND]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new W$({props:l}),e.$on("click",r[5]),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&76?ce(n,[n[0],n[1],i&4&&{disabled:s[2]},i&8&&{danger:s[3]},i&64&&be(s[6])]):{};i&275&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function zD(r,e,t){const n=["label","icon","disabled","danger","hasNotificationDot"];let l=Be(e,n),{$$slots:s={},$$scope:i}=e;const o=dt();let{label:a=void 0}=e,{icon:u=void 0}=e,{disabled:c=!1}=e,{danger:f=!1}=e,{hasNotificationDot:m=!1}=e;function d(){c||o("click")}return r.$$set=_=>{e=x(x({},e),ft(_)),t(6,l=Be(e,n)),"label"in _&&t(0,a=_.label),"icon"in _&&t(1,u=_.icon),"disabled"in _&&t(2,c=_.disabled),"danger"in _&&t(3,f=_.danger),"hasNotificationDot"in _&&t(4,m=_.hasNotificationDot),"$$scope"in _&&t(8,i=_.$$scope)},[a,u,c,f,m,d,l,s,i]}class xt extends X{constructor(e){super(),Q(this,e,zD,FD,G,{label:0,icon:1,disabled:2,danger:3,hasNotificationDot:4})}}function HD(r){let e;const t=r[6].default,n=De(t,r,r[7],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&128)&&Ee(n,t,l,l[7],e?Ie(t,l[7],s,null):Me(l[7]),null)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function VD(r){let e,t;return e=new Mo({props:{icon:r[0],hasNotificationDot:r[2],$$slots:{default:[HD]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.icon=n[0]),l&4&&(s.hasNotificationDot=n[2]),l&128&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function qD(r){let e,t;const n=[{tag:"a"},{class:"menu-item-link "+r[4]},{href:r[1]},{disabled:r[3]},r[5]];let l={$$slots:{default:[VD]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new W$({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&58?ce(n,[n[0],i&16&&{class:"menu-item-link "+s[4]},i&2&&{href:s[1]},i&8&&{disabled:s[3]},i&32&&be(s[5])]):{};i&133&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function UD(r,e,t){const n=["icon","href","hasNotificationDot","disabled","class"];let l=Be(e,n),{$$slots:s={},$$scope:i}=e,{icon:o=void 0}=e,{href:a}=e,{hasNotificationDot:u=!1}=e,{disabled:c=!1}=e,{class:f=""}=e;return r.$$set=m=>{e=x(x({},e),ft(m)),t(5,l=Be(e,n)),"icon"in m&&t(0,o=m.icon),"href"in m&&t(1,a=m.href),"hasNotificationDot"in m&&t(2,u=m.hasNotificationDot),"disabled"in m&&t(3,c=m.disabled),"class"in m&&t(4,f=m.class),"$$scope"in m&&t(7,i=m.$$scope)},[o,a,u,c,f,l,s,i]}class Ir extends X{constructor(e){super(),Q(this,e,UD,qD,G,{icon:0,href:1,hasNotificationDot:2,disabled:3,class:4})}}const WD={backgroundColor:"var(--sky-500)",textColor:"var(--slate-800)",progressColor:"rgba(255, 255, 255, 0.6)",lifetime:6e3,hasProgress:!0,initialProgress:1,finalProgress:0,allowPause:!0,allowDismiss:!0,onShow:()=>{},onDismiss:()=>{}};class BD{constructor({defaultProps:e}={defaultProps:{}}){re(this,"maxId",0);re(this,"defaultProps");re(this,"entriesMap");re(this,"entries");this.entriesMap=Ge(new Map),this.defaultProps={...WD,...e},this.entries=at(this.entriesMap,t=>[...t.values()])}makeId(){return this.maxId+=1,this.maxId}show(e={}){var a;const t={...this.defaultProps,...e},n=(a=t.id)!=null?a:this.makeId(),l=()=>this.dismiss(n),s=vy(t.initialProgress,{duration:200,easing:Yl}),i={id:n,progress:s,dismiss:l},o={id:n,props:t,controller:i};return this.entriesMap.update(u=>{const c=new Map(u);return c.set(n,o),c}),t.lifetime&&i.progress.set(t.finalProgress,{duration:t.lifetime}).then(i.dismiss),t.onShow(i),i}dismiss(e){this.entriesMap.update(t=>{const n=t.get(e);if(!n)return t;const l=new Map(t);return l.delete(e),n.props.onDismiss(),l})}}function ts(r){return typeof r=="string"?{title:r}:r}function jD(r={}){const e=new BD({defaultProps:r});function t(a={}){return e.show(ts({icon:Fu,...ts(a)}))}function n(a={}){return e.show({icon:zu,backgroundColor:"var(--green-100)",...ts(a)})}function l(a={}){return e.show({icon:el,backgroundColor:"var(--red-100)",...ts(a)})}function s(a){return l(a instanceof Error?a.message:"Something went wrong.")}function i(a={}){return e.show({icon:{...nr},lifetime:0,allowDismiss:!1,hasProgress:!1,...ts(a)})}function o(a={}){return e.show({lifetime:0,allowDismiss:!1,initialProgress:0,...ts(a)})}return{entries:e.entries,info:t,success:n,error:l,fromError:s,spinner:i,progress:o}}function YD(r,{from:e,to:t},n={}){const l=getComputedStyle(r),s=l.transform==="none"?"":l.transform,[i,o]=l.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*i/t.width-(t.left+i),u=e.top+e.height*o/t.height-(t.top+o),{delay:c=0,duration:f=d=>Math.sqrt(d)*120,easing:m=Z4}=n;return{delay:c,duration:Et(f)?f(Math.sqrt(a*a+u*u)):f,easing:m,css:(d,_)=>{const h=_*a,b=_*u,v=d+_*e.width/t.width,k=d+_*e.height/t.height;return`transform: ${s} translate(${h}px, ${b}px) scale(${v}, ${k});`}}}function s1(r){let e,t,n;const l=[r[6]];let s={};for(let i=0;i<l.length;i+=1)s=x(s,l[i]);return t=new Fe({props:s}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","icon")},m(i,o){w(i,e,o),y(t,e,null),n=!0},p(i,o){const a=o&64?ce(l,[be(i[6])]):{};t.$set(a)},i(i){n||(p(t.$$.fragment,i),n=!0)},o(i){g(t.$$.fragment,i),n=!1},d(i){i&&$(e),S(t)}}}function i1(r){let e,t;return{c(){e=I("div"),t=B(r[14]),D(e,"class","title")},m(n,l){w(n,e,l),M(e,t)},p(n,l){l&16384&&he(t,n[14])},d(n){n&&$(e)}}}function o1(r){let e,t,n,l,s;const i=[bs];let o={};for(let a=0;a<i.length;a+=1)o=x(o,i[a]);return t=new Fe({props:o}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","close-button"),D(e,"role","button"),D(e,"tabindex","-1")},m(a,u){w(a,e,u),y(t,e,null),n=!0,l||(s=Le(e,"click",function(){Et(r[13])&&r[13].apply(this,arguments)}),l=!0)},p(a,u){r=a;const c=u&0?ce(i,[be(bs)]):{};t.$set(c)},i(a){n||(p(t.$$.fragment,a),n=!0)},o(a){g(t.$$.fragment,a),n=!1},d(a){a&&$(e),S(t),l=!1,s()}}}function a1(r){let e,t,n,l;const s=[GD,KD],i=[];function o(a,u){return a[0].contentComponent?0:a[0].message?1:-1}return~(t=o(r))&&(n=i[t]=s[t](r)),{c(){e=I("div"),n&&n.c(),D(e,"class","message")},m(a,u){w(a,e,u),~t&&i[t].m(e,null),l=!0},p(a,u){let c=t;t=o(a),t===c?~t&&i[t].p(a,u):(n&&(q(),g(i[c],1,1,()=>{i[c]=null}),U()),~t?(n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),p(n,1),n.m(e,null)):n=null)},i(a){l||(p(n),l=!0)},o(a){g(n),l=!1},d(a){a&&$(e),~t&&i[t].d()}}}function KD(r){let e;return{c(){e=B(r[16])},m(t,n){w(t,e,n)},p(t,n){n&65536&&he(e,t[16])},i:z,o:z,d(t){t&&$(e)}}}function GD(r){let e,t,n;const l=[r[15]];var s=r[0].contentComponent;function i(o){let a={};for(let u=0;u<l.length;u+=1)a=x(a,l[u]);return{props:a}}return s&&(e=new s(i())),{c(){e&&C(e.$$.fragment),t=ae()},m(o,a){e&&y(e,o,a),w(o,t,a),n=!0},p(o,a){const u=a&32768?ce(l,[be(o[15])]):{};if(s!==(s=o[0].contentComponent)){if(e){q();const c=e;g(c.$$.fragment,1,0,()=>{S(c,1)}),U()}s?(e=new s(i()),C(e.$$.fragment),p(e.$$.fragment,1),y(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(o){n||(e&&p(e.$$.fragment,o),n=!0)},o(o){e&&g(e.$$.fragment,o),n=!1},d(o){o&&$(t),e&&S(e,o)}}}function u1(r){let e;return{c(){e=I("progress"),e.value=r[17]},m(t,n){w(t,e,n)},p(t,n){n&131072&&(e.value=t[17])},d(t){t&&$(e)}}}function QD(r){let e,t,n,l,s,i,o,a,u,c=r[6]&&s1(r),f=r[0].title&&i1(r),m=r[0].allowDismiss&&o1(r),d=(r[0].contentComponent||r[0].message)&&a1(r),_=r[0].hasProgress&&u1(r);return{c(){e=I("div"),t=I("div"),c&&c.c(),n=O(),f&&f.c(),l=O(),m&&m.c(),s=O(),d&&d.c(),i=O(),_&&_.c(),D(t,"class","header"),D(e,"class","toast-item"),D(e,"style",r[2])},m(h,b){w(h,e,b),M(e,t),c&&c.m(t,null),M(t,n),f&&f.m(t,null),M(t,l),m&&m.m(t,null),M(e,s),d&&d.m(e,null),M(e,i),_&&_.m(e,null),o=!0,a||(u=[Le(e,"mouseenter",function(){Et(r[12])&&r[12].apply(this,arguments)}),Le(e,"mouseleave",function(){Et(r[11])&&r[11].apply(this,arguments)})],a=!0)},p(h,[b]){r=h,r[6]?c?(c.p(r,b),b&64&&p(c,1)):(c=s1(r),c.c(),p(c,1),c.m(t,n)):c&&(q(),g(c,1,1,()=>{c=null}),U()),r[0].title?f?f.p(r,b):(f=i1(r),f.c(),f.m(t,l)):f&&(f.d(1),f=null),r[0].allowDismiss?m?(m.p(r,b),b&1&&p(m,1)):(m=o1(r),m.c(),p(m,1),m.m(t,null)):m&&(q(),g(m,1,1,()=>{m=null}),U()),r[0].contentComponent||r[0].message?d?(d.p(r,b),b&1&&p(d,1)):(d=a1(r),d.c(),p(d,1),d.m(e,i)):d&&(q(),g(d,1,1,()=>{d=null}),U()),r[0].hasProgress?_?_.p(r,b):(_=u1(r),_.c(),_.m(e,null)):_&&(_.d(1),_=null),(!o||b&4)&&D(e,"style",r[2])},i(h){o||(p(c),p(m),p(d),o=!0)},o(h){g(c),g(m),g(d),o=!1},d(h){h&&$(e),c&&c.d(),f&&f.d(),m&&m.d(),d&&d.d(),_&&_.d(),a=!1,Dt(u)}}}function XD(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,_,h,b,v,k,T=z,E=()=>(T(),T=se(b,we=>t(20,k=we)),b),P,R=z,L=()=>(R(),R=se(h,we=>t(21,P=we)),h),A,N=z,F=()=>(N(),N=se(_,we=>t(22,A=we)),_),K,W=z,j=()=>(W(),W=se(m,we=>t(23,K=we)),m),Y,oe=z,te=()=>(oe(),oe=se(u,we=>t(14,Y=we)),u),ne,H=z,ee=()=>(H(),H=se(f,we=>t(15,ne=we)),f),pe,ue=z,ie=()=>(ue(),ue=se(c,we=>t(16,pe=we)),c),me,Se=z,$e=()=>(Se(),Se=se(s,we=>t(17,me=we)),s);r.$$.on_destroy.push(()=>T()),r.$$.on_destroy.push(()=>R()),r.$$.on_destroy.push(()=>N()),r.$$.on_destroy.push(()=>W()),r.$$.on_destroy.push(()=>oe()),r.$$.on_destroy.push(()=>H()),r.$$.on_destroy.push(()=>ue()),r.$$.on_destroy.push(()=>Se());let{entry:He}=e;return r.$$set=we=>{"entry"in we&&t(18,He=we.entry)},r.$$.update=()=>{r.$$.dirty&262144&&t(0,{props:n,controller:l}=He,n,(t(19,l),t(18,He))),r.$$.dirty&524288&&$e(t(1,{progress:s,dismiss:i}=l,s,(t(13,i),t(19,l),t(18,He)))),r.$$.dirty&2&&t(12,{pause:o,resume:a}=s,o,(t(11,a),t(1,s),t(19,l),t(18,He))),r.$$.dirty&1&&te(t(10,u=Kn(n.title))),r.$$.dirty&1&&ie(t(9,c=Kn(n.message))),r.$$.dirty&1&&ee(t(8,f=Kn(n.contentComponentProps))),r.$$.dirty&1&&j(t(7,m=Kn(n.icon))),r.$$.dirty&8388608&&t(6,d=K),r.$$.dirty&1&&F(t(5,_=Kn(n.backgroundColor))),r.$$.dirty&1&&L(t(4,h=Kn(n.textColor))),r.$$.dirty&1&&E(t(3,b=Kn(n.progressColor))),r.$$.dirty&7340032&&t(2,v=`
    --toast-item-background-color: ${A};
    --toast-item-text-color: ${P};
    --toast-item-progress-color: ${k};
  `)},[n,s,v,b,h,_,d,m,f,c,u,a,o,i,Y,ne,pe,me,He,l,k,P,A,K]}class JD extends X{constructor(e){super(),Q(this,e,XD,QD,G,{entry:18})}}function c1(r,e,t){const n=r.slice();return n[4]=e[t],n}function f1(r,e){let t,n,l,s,i,o,a=z,u;const c=[e[3],{entry:e[4]}];var f=e[1];function m(d){let _={};for(let h=0;h<c.length;h+=1)_=x(_,c[h]);return{props:_}}return f&&(n=new f(m())),{key:r,first:null,c(){t=I("li"),n&&C(n.$$.fragment),l=O(),this.first=t},m(d,_){w(d,t,_),n&&y(n,t,null),M(t,l),u=!0},p(d,_){e=d;const h=_&12?ce(c,[_&8&&be(e[3]),_&4&&{entry:e[4]}]):{};if(f!==(f=e[1])){if(n){q();const b=n;g(b.$$.fragment,1,0,()=>{S(b,1)}),U()}f?(n=new f(m()),C(n.$$.fragment),p(n.$$.fragment,1),y(n,t,l)):n=null}else f&&n.$set(h)},r(){o=t.getBoundingClientRect()},f(){fy(t),a(),U4(t,o)},a(){a(),a=cy(t,o,YD,{duration:200})},i(d){u||(n&&p(n.$$.fragment,d),mr(()=>{i&&i.end(1),s=oa(t,Vu,{x:256}),s.start()}),u=!0)},o(d){n&&g(n.$$.fragment,d),s&&s.invalidate(),i=Ri(t,Dl,{}),u=!1},d(d){d&&$(t),n&&S(n),d&&i&&i.end()}}}function ZD(r){let e,t=[],n=new Map,l,s=r[2];const i=o=>o[4].id;for(let o=0;o<s.length;o+=1){let a=c1(r,s,o),u=i(a);n.set(u,t[o]=f1(u,a))}return{c(){e=I("ul");for(let o=0;o<t.length;o+=1)t[o].c();D(e,"class","toast-presenter")},m(o,a){w(o,e,a);for(let u=0;u<t.length;u+=1)t[u].m(e,null);l=!0},p(o,[a]){if(a&14){s=o[2],q();for(let u=0;u<t.length;u+=1)t[u].r();t=pt(t,a,i,1,o,s,n,e,py,f1,null,c1);for(let u=0;u<t.length;u+=1)t[u].a();U()}},i(o){if(!l){for(let a=0;a<s.length;a+=1)p(t[a]);l=!0}},o(o){for(let a=0;a<t.length;a+=1)g(t[a]);l=!1},d(o){o&&$(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function xD(r,e,t){const n=["entries","toastItemComponent"];let l=Be(e,n),s,i=z,o=()=>(i(),i=se(a,c=>t(2,s=c)),a);r.$$.on_destroy.push(()=>i());let{entries:a}=e;o();let{toastItemComponent:u=JD}=e;return r.$$set=c=>{e=x(x({},e),ft(c)),t(3,l=Be(e,n)),"entries"in c&&o(t(0,a=c.entries)),"toastItemComponent"in c&&t(1,u=c.toastItemComponent)},[a,u,s,l]}class eI extends X{constructor(e){super(),Q(this,e,xD,ZD,G,{entries:0,toastItemComponent:1})}}function tI(r,e,t){return e==="eq"?r===t:e==="neq"?r!==t:!1}function B$(r,e){var n,l;const{cases:t}=e;return(l=(n=t[String(r)])!=null?n:t.default)!=null?l:[]}function j$(r,e){var t;return tI(r,e.condition,e.value)?(t=e.elements)!=null?t:[]:[]}function Uu(r,e){const t=new Set;let n=[];if(r.type==="input"||r.type==="static")t.add(r.variable);else if(r.type==="switch"){const l=e[r.variable];n=B$(l,r)}else if(r.type==="if"){const l=e[r.variable];n=j$(l,r)}else(r.type==="layout"||!r.type)&&(n=r.elements);return n.forEach(l=>{Uu(l,e).forEach(s=>t.add(s))}),t}function Y$(r){const e=new Set;let t=[];if(r.type==="switch"){e.add(r.variable);const n=[];Object.keys(r.cases).forEach(l=>{n.push(...r.cases[l])}),t=n}else r.type==="if"?(e.add(r.variable),t=r.elements):(r.type==="layout"||!r.type)&&(t=r.elements);return t.forEach(n=>{Y$(n).forEach(l=>e.add(l))}),e}function K$(r,e,t){var c;const n=Y$(r.layout),l=new Map;(c=Object.keys(r.variables))==null||c.forEach(f=>{const m=typeof(e==null?void 0:e[f])<"u"?e[f]:r.variables[f].default,d=Ge(m);l.set(f,d)});function s(){const f={};return l.forEach((m,d)=>{f[d]=Qe(m)}),f}function i(){let f={},m=Uu(r.layout,s());return Tl(f,d=>{const _=[...l].map(([h,b])=>b.subscribe(()=>{const v=s();n.has(h)&&(m=Uu(r.layout,v)),f={},m.forEach(k=>{f[k]=v[k]}),d(f)}));return()=>_.forEach(h=>h())})}const o=i(),a=at(o,f=>{const m={isValid:!0,failedChecks:{}};return Object.keys(f).forEach(d=>{const _=f[d],h=r.variables[d],b=h==null?void 0:h.validation;if(h&&b){const{checks:v}=b;if(v.includes("isEmpty")){let k=typeof _<"u"&&_!==null;h.type==="string"&&(k=k&&_!==""),k||(m.failedChecks[d]||(m.failedChecks[d]=[]),m.failedChecks[d].push("isEmpty")),m.isValid=m.isValid&&k}}}),m});function u(){return Qe(a)}return{...r,stores:l,values:o,validationStore:a,getValidationResult:u,customComponents:t}}function m1(r,e,t){const n=r.slice();return n[7]=e[t],n}function nI(r){let e,t,n;const l=[r[5],{dataType:r[0]},{label:r[1]},{hasError:r[3].length>0}];function s(o){r[6](o)}let i={};for(let o=0;o<l.length;o+=1)i=x(i,l[o]);return r[4]!==void 0&&(i.value=r[4]),e=new Q9({props:i}),ye.push(()=>Pe(e,"value",s)),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){const u=a&43?ce(l,[a&32&&be(o[5]),a&1&&{dataType:o[0]},a&2&&{label:o[1]},a&8&&{hasError:o[3].length>0}]):{};!t&&a&16&&(t=!0,u.value=o[4],Ne(()=>t=!1)),e.$set(u)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function rI(r){let e=r[7]+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&8&&e!==(e=n[7]+"")&&he(t,e)},d(n){n&&$(t)}}}function lI(r){let e;return{c(){e=B("* This is a required field")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function d1(r,e){let t,n;function l(o,a){return o[7]==="isEmpty"?lI:rI}let s=l(e),i=s(e);return{key:r,first:null,c(){t=I("div"),i.c(),n=O(),D(t,"class","validation-error"),this.first=t},m(o,a){w(o,t,a),i.m(t,null),M(t,n)},p(o,a){e=o,s===(s=l(e))&&i?i.p(e,a):(i.d(1),i=s(e),i&&(i.c(),i.m(t,n)))},d(o){o&&$(t),i.d()}}}function sI(r){let e,t,n,l=[],s=new Map,i;t=new wn({props:{label:r[1],layout:r[0]==="boolean"?"inline-input-first":"stacked",$$slots:{default:[nI]},$$scope:{ctx:r}}});let o=r[3];const a=u=>u[7];for(let u=0;u<o.length;u+=1){let c=m1(r,o,u),f=a(c);s.set(f,l[u]=d1(f,c))}return{c(){e=I("div"),C(t.$$.fragment),n=O();for(let u=0;u<l.length;u+=1)l[u].c();D(e,"class","form-element form-input")},m(u,c){w(u,e,c),y(t,e,null),M(e,n);for(let f=0;f<l.length;f+=1)l[f].m(e,null);i=!0},p(u,[c]){const f={};c&2&&(f.label=u[1]),c&1&&(f.layout=u[0]==="boolean"?"inline-input-first":"stacked"),c&1083&&(f.$$scope={dirty:c,ctx:u}),t.$set(f),c&8&&(o=u[3],l=pt(l,c,a,1,u,o,s,e,ca,d1,null,m1))},i(u){i||(p(t.$$.fragment,u),i=!0)},o(u){g(t.$$.fragment,u),i=!1},d(u){u&&$(e),S(t);for(let c=0;c<l.length;c+=1)l[c].d()}}}function iI(r,e,t){const n=["type","label","store","validationErrors"];let l=Be(e,n),s,i=z,o=()=>(i(),i=se(c,d=>t(4,s=d)),c);r.$$.on_destroy.push(()=>i());let{type:a}=e,{label:u=void 0}=e,{store:c}=e;o();let{validationErrors:f}=e;function m(d){s=d,c.set(s)}return r.$$set=d=>{e=x(x({},e),ft(d)),t(5,l=Be(e,n)),"type"in d&&t(0,a=d.type),"label"in d&&t(1,u=d.label),"store"in d&&o(t(2,c=d.store)),"validationErrors"in d&&t(3,f=d.validationErrors)},[a,u,c,f,s,l,m]}class oI extends X{constructor(e){super(),Q(this,e,iI,sI,G,{type:0,label:1,store:2,validationErrors:3})}}function p1(r,e,t){const n=r.slice();return n[4]=e[t],n}const aI=r=>({element:r&2}),_1=r=>({element:r[4]});function g1(r,e){let t,n;const l=e[3].default,s=De(l,e,e[2],_1);return{key:r,first:null,c(){t=ae(),s&&s.c(),this.first=t},m(i,o){w(i,t,o),s&&s.m(i,o),n=!0},p(i,o){e=i,s&&s.p&&(!n||o&6)&&Ee(s,l,e,e[2],n?Ie(l,e[2],o,aI):Me(e[2]),_1)},i(i){n||(p(s,i),n=!0)},o(i){g(s,i),n=!1},d(i){i&&$(t),s&&s.d(i)}}}function uI(r){let e,t=[],n=new Map,l,s,i=r[1]||[];const o=a=>a[4];for(let a=0;a<i.length;a+=1){let u=p1(r,i,a),c=o(u);n.set(c,t[a]=g1(c,u))}return{c(){e=I("div");for(let a=0;a<t.length;a+=1)t[a].c();D(e,"class",l="form-element form-layout "+r[0])},m(a,u){w(a,e,u);for(let c=0;c<t.length;c+=1)t[c].m(e,null);s=!0},p(a,[u]){u&6&&(i=a[1]||[],q(),t=pt(t,u,o,1,a,i,n,e,ht,g1,null,p1),U()),(!s||u&1&&l!==(l="form-element form-layout "+a[0]))&&D(e,"class",l)},i(a){if(!s){for(let u=0;u<i.length;u+=1)p(t[u]);s=!0}},o(a){for(let u=0;u<t.length;u+=1)g(t[u]);s=!1},d(a){a&&$(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function cI(r,e,t){let{$$slots:n={},$$scope:l}=e,{orientation:s="vertical"}=e,{elements:i}=e;return r.$$set=o=>{"orientation"in o&&t(0,s=o.orientation),"elements"in o&&t(1,i=o.elements),"$$scope"in o&&t(2,l=o.$$scope)},[s,i,l,n]}class fI extends X{constructor(e){super(),Q(this,e,cI,uI,G,{orientation:0,elements:1})}}function h1(r,e,t){const n=r.slice();return n[6]=e[t],n}const mI=r=>({element:r&2}),b1=r=>({element:r[6]});function $1(r,e){let t,n;const l=e[5].default,s=De(l,e,e[4],b1);return{key:r,first:null,c(){t=ae(),s&&s.c(),this.first=t},m(i,o){w(i,t,o),s&&s.m(i,o),n=!0},p(i,o){e=i,s&&s.p&&(!n||o&18)&&Ee(s,l,e,e[4],n?Ie(l,e[4],o,mI):Me(e[4]),b1)},i(i){n||(p(s,i),n=!0)},o(i){g(s,i),n=!1},d(i){i&&$(t),s&&s.d(i)}}}function dI(r){let e=[],t=new Map,n,l,s=r[1];const i=o=>o[6];for(let o=0;o<s.length;o+=1){let a=h1(r,s,o),u=i(a);t.set(u,e[o]=$1(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=ae()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,[a]){a&18&&(s=o[1],q(),e=pt(e,a,i,1,o,s,t,n.parentNode,ht,$1,n,h1),U())},i(o){if(!l){for(let a=0;a<s.length;a+=1)p(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&$(n)}}}function pI(r,e,t){let n,l,s=z,i=()=>(s(),s=se(u,f=>t(3,l=f)),u);r.$$.on_destroy.push(()=>s());let{$$slots:o={},$$scope:a}=e,{store:u}=e;i();let{cases:c}=e;return r.$$set=f=>{"store"in f&&i(t(0,u=f.store)),"cases"in f&&t(2,c=f.cases),"$$scope"in f&&t(4,a=f.$$scope)},r.$$.update=()=>{r.$$.dirty&12&&t(1,n=B$(l,{cases:c}))},[u,n,c,l,a,o]}class _I extends X{constructor(e){super(),Q(this,e,pI,dI,G,{store:0,cases:2})}}function w1(r,e,t){const n=r.slice();return n[8]=e[t],n}const gI=r=>({element:r&2}),v1=r=>({element:r[8]});function k1(r,e){let t,n;const l=e[7].default,s=De(l,e,e[6],v1);return{key:r,first:null,c(){t=ae(),s&&s.c(),this.first=t},m(i,o){w(i,t,o),s&&s.m(i,o),n=!0},p(i,o){e=i,s&&s.p&&(!n||o&66)&&Ee(s,l,e,e[6],n?Ie(l,e[6],o,gI):Me(e[6]),v1)},i(i){n||(p(s,i),n=!0)},o(i){g(s,i),n=!1},d(i){i&&$(t),s&&s.d(i)}}}function hI(r){let e=[],t=new Map,n,l,s=r[1];const i=o=>o[8];for(let o=0;o<s.length;o+=1){let a=w1(r,s,o),u=i(a);t.set(u,e[o]=k1(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=ae()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,[a]){a&66&&(s=o[1],q(),e=pt(e,a,i,1,o,s,t,n.parentNode,ht,k1,n,w1),U())},i(o){if(!l){for(let a=0;a<s.length;a+=1)p(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&$(n)}}}function bI(r,e,t){let n,l,s=z,i=()=>(s(),s=se(u,d=>t(5,l=d)),u);r.$$.on_destroy.push(()=>s());let{$$slots:o={},$$scope:a}=e,{store:u}=e;i();let{condition:c="eq"}=e,{value:f}=e,{elements:m}=e;return r.$$set=d=>{"store"in d&&i(t(0,u=d.store)),"condition"in d&&t(2,c=d.condition),"value"in d&&t(3,f=d.value),"elements"in d&&t(4,m=d.elements),"$$scope"in d&&t(6,a=d.$$scope)},r.$$.update=()=>{r.$$.dirty&60&&t(1,n=j$(l,{condition:c,value:f,elements:m}))},[u,n,c,f,m,l,a,o]}class $I extends X{constructor(e){super(),Q(this,e,bI,hI,G,{store:0,condition:2,value:3,elements:4})}}function y1(r){var o;let e,t,n;const l=[(o=r[1])!=null?o:{},{store:r[3]},{stores:r[2]}];var s=r[4][r[0]];function i(a){let u={};for(let c=0;c<l.length;c+=1)u=x(u,l[c]);return{props:u}}return s&&(e=new s(i())),{c(){e&&C(e.$$.fragment),t=ae()},m(a,u){e&&y(e,a,u),w(a,t,u),n=!0},p(a,u){var f;const c=u&14?ce(l,[u&2&&be((f=a[1])!=null?f:{}),u&8&&{store:a[3]},u&4&&{stores:a[2]}]):{};if(s!==(s=a[4][a[0]])){if(e){q();const m=e;g(m.$$.fragment,1,0,()=>{S(m,1)}),U()}s?(e=new s(i()),C(e.$$.fragment),p(e.$$.fragment,1),y(e,t.parentNode,t)):e=null}else s&&e.$set(c)},i(a){n||(e&&p(e.$$.fragment,a),n=!0)},o(a){e&&g(e.$$.fragment,a),n=!1},d(a){a&&$(t),e&&S(e,a)}}}function wI(r){var l;let e,t,n=((l=r[4])==null?void 0:l[r[0]])&&y1(r);return{c(){n&&n.c(),e=ae()},m(s,i){n&&n.m(s,i),w(s,e,i),t=!0},p(s,[i]){var o;(o=s[4])!=null&&o[s[0]]?n?(n.p(s,i),i&17&&p(n,1)):(n=y1(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(s){t||(p(n),t=!0)},o(s){g(n),t=!1},d(s){n&&n.d(s),s&&$(e)}}}function vI(r,e,t){let{componentId:n}=e,{props:l=void 0}=e,{stores:s}=e,{store:i}=e,{customComponents:o}=e;return r.$$set=a=>{"componentId"in a&&t(0,n=a.componentId),"props"in a&&t(1,l=a.props),"stores"in a&&t(2,s=a.stores),"store"in a&&t(3,i=a.store),"customComponents"in a&&t(4,o=a.customComponents)},[n,l,s,i,o]}class kI extends X{constructor(e){super(),Q(this,e,vI,wI,G,{componentId:0,props:1,stores:2,store:3,customComponents:4})}}function yI(r){let e,t;return e=new fI({props:{orientation:r[0].orientation,elements:r[0].elements,$$slots:{default:[II,({element:n})=>({9:n}),({element:n})=>n?512:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.orientation=n[0].orientation),l&1&&(s.elements=n[0].elements),l&1792&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function SI(r){let e,t;const n=[{store:r[7]},r[0]];let l={$$slots:{default:[EI,({element:s})=>({9:s}),({element:s})=>s?512:0]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new $I({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&129?ce(n,[i&128&&{store:s[7]},i&1&&be(s[0])]):{};i&1792&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function CI(r){let e,t;return e=new _I({props:{store:r[7],cases:r[0].cases,$$slots:{default:[MI,({element:n})=>({9:n}),({element:n})=>n?512:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&128&&(s.store=n[7]),l&1&&(s.cases=n[0].cases),l&1792&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function TI(r){let e,t;const n=[r[0],{customComponents:r[3]},{store:r[7]},{stores:r[1]}];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new kI({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&139?ce(n,[i&1&&be(s[0]),i&8&&{customComponents:s[3]},i&128&&{store:s[7]},i&2&&{stores:s[1]}]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function DI(r){let e,t,n=r[6]&&r[6]!=="custom"&&S1(r);return{c(){n&&n.c(),e=ae()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[6]&&l[6]!=="custom"?n?(n.p(l,s),s&64&&p(n,1)):(n=S1(l),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&$(e)}}}function II(r){let e,t;const n=[r[8],{element:r[9]}];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new va({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&768?ce(n,[i&256&&be(s[8]),i&512&&{element:s[9]}]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function EI(r){let e,t;const n=[r[8],{element:r[9]}];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new va({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&768?ce(n,[i&256&&be(s[8]),i&512&&{element:s[9]}]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function MI(r){let e,t;const n=[r[8],{element:r[9]}];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new va({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&768?ce(n,[i&256&&be(s[8]),i&512&&{element:s[9]}]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function S1(r){let e,t;const n=[r[0],r[2][r[0].variable],{type:r[6]},{store:r[7]},{validationErrors:r[4].failedChecks[r[0].variable]||[]},{disabled:r[5]}];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new oI({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&245?ce(n,[i&1&&be(s[0]),i&5&&be(s[2][s[0].variable]),i&64&&{type:s[6]},i&128&&{store:s[7]},i&17&&{validationErrors:s[4].failedChecks[s[0].variable]||[]},i&32&&{disabled:s[5]}]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function AI(r){let e,t,n,l;const s=[DI,TI,CI,SI,yI],i=[];function o(a,u){return a[0].type==="input"&&a[7]?0:a[0].type==="static"&&a[7]?1:a[0].type==="switch"&&a[7]?2:a[0].type==="if"&&a[7]?3:a[0].type==="layout"||!a[0].type?4:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=ae()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(q(),g(i[c],1,1,()=>{i[c]=null}),U()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&$(n)}}}function RI(r,e,t){let n,l,{element:s}=e,{stores:i}=e,{variables:o}=e,{customComponents:a}=e,{validationResult:u}=e,{disabled:c=!1}=e;return r.$$set=f=>{t(8,e=x(x({},e),ft(f))),"element"in f&&t(0,s=f.element),"stores"in f&&t(1,i=f.stores),"variables"in f&&t(2,o=f.variables),"customComponents"in f&&t(3,a=f.customComponents),"validationResult"in f&&t(4,u=f.validationResult),"disabled"in f&&t(5,c=f.disabled)},r.$$.update=()=>{r.$$.dirty&3&&t(7,n="variable"in s?i.get(s.variable):void 0),r.$$.dirty&5&&t(6,l="variable"in s?o[s.variable].type:void 0)},e=ft(e),[s,i,o,a,u,c,l,n,e]}class va extends X{constructor(e){super(),Q(this,e,RI,AI,G,{element:0,stores:1,variables:2,customComponents:3,validationResult:4,disabled:5})}}function PI(r){let e,t,n,l,s,i;return n=new va({props:{stores:r[1].stores,variables:r[1].variables,element:r[1].layout,customComponents:r[1].customComponents,validationResult:r[3],disabled:r[0]}}),{c(){e=I("div"),t=I("form"),C(n.$$.fragment),D(e,"class","form-builder")},m(o,a){w(o,e,a),M(e,t),y(n,t,null),l=!0,s||(i=Le(t,"submit",ss(r[4])),s=!0)},p(o,[a]){const u={};a&2&&(u.stores=o[1].stores),a&2&&(u.variables=o[1].variables),a&2&&(u.element=o[1].layout),a&2&&(u.customComponents=o[1].customComponents),a&8&&(u.validationResult=o[3]),a&1&&(u.disabled=o[0]),n.$set(u)},i(o){l||(p(n.$$.fragment,o),l=!0)},o(o){g(n.$$.fragment,o),l=!1},d(o){o&&$(e),S(n),s=!1,i()}}}function OI(r,e,t){let n,l,s=z,i=()=>(s(),s=se(n,f=>t(3,l=f)),n);r.$$.on_destroy.push(()=>s());const o=dt();let{disabled:a=!1}=e,{form:u}=e;function c(){return o("submit"),!1}return r.$$set=f=>{"disabled"in f&&t(0,a=f.disabled),"form"in f&&t(1,u=f.form)},r.$$.update=()=>{r.$$.dirty&2&&i(t(2,n=u.validationStore))},[a,u,n,l,c]}class G$ extends X{constructor(e){super(),Q(this,e,OI,PI,G,{disabled:0,form:1})}}async function LI(r){var e,t;await Gt(),(t=(e=r.closest(".window"))==null?void 0:e.querySelector(":scope > .footer"))==null||t.appendChild(r)}function Cc(r){return LI(r),{destroy:()=>{var e;return(e=r.parentElement)==null?void 0:e.removeChild(r)}}}function Q$(r){const e=document.querySelector(r);if(!!(e!=null&&e.textContent))try{return JSON.parse(e.textContent)}catch(t){console.error(t)}}function X$(r){return Q$(`#${r}`)}function Ol(){return Q$("#common-data")}function NI(r){let e,t;const n=r[1].default,l=De(n,r,r[0],null);return{c(){e=I("span"),l&&l.c(),D(e,"class","identifier svelte-xmbz32")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,[i]){l&&l.p&&(!t||i&1)&&Ee(l,n,s,s[0],t?Ie(n,s[0],i,null):Me(s[0]),null)},i(s){t||(p(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&$(e),l&&l.d(s)}}}function FI(r,e,t){let{$$slots:n={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&t(0,l=s.$$scope)},[l,n]}class rl extends X{constructor(e){super(),Q(this,e,FI,NI,G,{})}}function C1(r){let e,t;return{c(){e=I("span"),t=B(r[1])},m(n,l){w(n,e,l),M(e,t)},p(n,l){l&2&&he(t,n[1])},d(n){n&&$(e)}}}function zI(r){let e;return{c(){e=B(r[0])},m(t,n){w(t,e,n)},p(t,n){n&1&&he(e,t[0])},d(t){t&&$(e)}}}function T1(r){let e,t;return{c(){e=I("span"),t=B(r[2])},m(n,l){w(n,e,l),M(e,t)},p(n,l){l&4&&he(t,n[2])},d(n){n&&$(e)}}}function HI(r){let e,t,n,l,s=r[1]&&C1(r);t=new rl({props:{$$slots:{default:[zI]},$$scope:{ctx:r}}});let i=r[2]&&T1(r);return{c(){s&&s.c(),e=ae(),C(t.$$.fragment),i&&i.c(),n=ae()},m(o,a){s&&s.m(o,a),w(o,e,a),y(t,o,a),i&&i.m(o,a),w(o,n,a),l=!0},p(o,[a]){o[1]?s?s.p(o,a):(s=C1(o),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null);const u={};a&9&&(u.$$scope={dirty:a,ctx:o}),t.$set(u),o[2]?i?i.p(o,a):(i=T1(o),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i(o){l||(p(t.$$.fragment,o),l=!0)},o(o){g(t.$$.fragment,o),l=!1},d(o){s&&s.d(o),o&&$(e),S(t,o),i&&i.d(o),o&&$(n)}}}function VI(r,e,t){let{identifier:n}=e,{pre:l=void 0}=e,{post:s=void 0}=e;return r.$$set=i=>{"identifier"in i&&t(0,n=i.identifier),"pre"in i&&t(1,l=i.pre),"post"in i&&t(2,s=i.post)},[n,l,s]}class J$ extends X{constructor(e){super(),Q(this,e,VI,HI,G,{identifier:0,pre:1,post:2})}}const qI={icon:[12,12,[],"","M4 0V1.33333H2V10.6667H4V12H0.666664V0H4ZM8 0H11.3333V12H8V10.6667H10V1.33333H8V0Z"]},UI={icon:[18,18,[],"","m7.387 0.4182c-0.141 0.3522-0.3215 0.7703-0.5131 1.13-0.2127 0.3993-0.738 0.9245-1.138 1.137-0.3605 0.1918-0.7797 0.3725-1.133 0.5136-0.4214 0.1684-0.4214 0.4069 1.816e-4 0.5754 0.353 0.1412 0.7722 0.322 1.133 0.514 0.3993 0.2126 0.9246 0.7379 1.137 1.137 0.1918 0.3602 0.3724 0.779 0.5134 1.132 0.1685 0.4214 0.4071 0.4214 0.5757-1.3e-4 0.1412-0.3528 0.3219-0.7716 0.5138-1.132 0.2127-0.3993 0.7379-0.9246 1.137-1.137 0.3597-0.1917 0.7778-0.3723 1.13-0.5133 0.4213-0.1688 0.4212-0.4076-2.47e-4 -0.5764-0.3522-0.1411-0.7703-0.3217-1.13-0.5134-0.3993-0.2128-0.9245-0.738-1.137-1.137-0.1916-0.3596-0.3722-0.7774-0.5133-1.129-0.1688-0.4213-0.4076-0.4211-0.5763 3.506e-4zm-4.805 6.427c-0.1056 0.2639-0.2409 0.5772-0.3845 0.8467-0.1594 0.2992-0.553 0.6928-0.8524 0.8521-0.2701 0.1438-0.5842 0.2792-0.8487 0.3849-0.3158 0.1262-0.3157 0.3049 1.36e-4 0.4312 0.2645 0.1058 0.5787 0.2413 0.8488 0.3851 0.2992 0.1593 0.6928 0.553 0.8521 0.8523 0.1437 0.2699 0.279 0.5837 0.3847 0.848 0.1263 0.3158 0.305 0.3157 0.4314-9.7e-5 0.1058-0.2643 0.2412-0.5782 0.385-0.8482 0.1594-0.2992 0.553-0.6929 0.8522-0.8523 0.2695-0.1436 0.5828-0.279 0.8467-0.3847 0.3157-0.1265 0.3156-0.3055-1.838e-4 -0.432-0.2639-0.1057-0.5772-0.241-0.8467-0.3847-0.2992-0.1594-0.6928-0.553-0.8523-0.8523-0.1436-0.2694-0.2789-0.5826-0.3846-0.8464-0.1265-0.3157-0.3054-0.3156-0.4318 2.627e-4zm9.262 0.691c-0.2263 0.5653-0.516 1.236-0.8235 1.814-0.3414 0.6409-1.185 1.484-1.826 1.825-0.5786 0.3079-1.251 0.598-1.818 0.8244-0.6765 0.2703-0.6763 0.6531 2.913e-4 0.9236 0.5667 0.2266 1.24 0.5169 1.818 0.825 0.641 0.3413 1.484 1.184 1.825 1.826 0.3078 0.5782 0.5977 1.25 0.8241 1.817 0.2705 0.6764 0.6534 0.6763 0.9241-2.09e-4 0.2266-0.5662 0.5167-1.239 0.8247-1.817 0.3414-0.641 1.184-1.484 1.826-1.826 0.5774-0.3077 1.248-0.5976 1.814-0.824 0.6763-0.2709 0.6761-0.6543-3.95e-4 -0.9253-0.5653-0.2264-1.236-0.5163-1.814-0.824-0.6408-0.3415-1.484-1.185-1.826-1.826-0.3076-0.5772-0.5974-1.248-0.8238-1.813-0.2709-0.6762-0.6542-0.676-0.925 5.627e-4z"]},WI={icon:[16,16,[],"",{fillRule:"evenodd",clipRule:"evenodd",path:"M15 1C15.5523 1 16 1.44771 16 2V13.5644C16 14.1166 15.5523 14.5644 15 14.5644H1C0.447715 14.5644 0 14.1166 0 13.5644V2C0 1.44772 0.447715 1 1 1H15ZM14.6 6.76282V9.3349C14.5517 9.32236 14.501 9.31568 14.4488 9.31568L11.4861 9.31568V6.78197L14.449 6.78197C14.5012 6.78197 14.5518 6.77532 14.6 6.76282ZM5.83926 9.31569L10.2861 9.31569V6.78197L5.83926 6.78196V9.31569ZM4.63926 9.31569L1.4 9.31569V6.78196L4.63926 6.78196V9.31569ZM4.63926 10.5157V13.1644H1.4V10.5157L4.63926 10.5157ZM5.83926 13.1644V10.5157L10.2861 10.5157V13.1644H5.83926ZM11.4861 10.5157V13.1644H14.6V10.4965C14.5517 10.509 14.501 10.5157 14.4488 10.5157L11.4861 10.5157ZM14.6 5.60112V2.4H1.4V5.58196L14.449 5.58197C14.5012 5.58197 14.5518 5.58862 14.6 5.60112Z"}]},BI={icon:[24,24,[],"",["M16.3776 8.27091C16.538 7.86412 16.1358 7.46189 15.729 7.62233L10.1173 9.83557C9.98843 9.88639 9.88643 9.98839 9.8356 10.1173L7.62237 15.729C7.46193 16.1358 7.86415 16.538 8.27094 16.3776L13.8827 14.1643C14.0115 14.1135 14.1135 14.0115 14.1644 13.8826L16.3776 8.27091Z",{fillRule:"evenodd",clipRule:"evenodd",path:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM22.5 12C22.5 17.799 17.799 22.5 12 22.5C6.20101 22.5 1.5 17.799 1.5 12C1.5 6.20101 6.20101 1.5 12 1.5C17.799 1.5 22.5 6.20101 22.5 12Z"}]]},jI={data:o$},Qt={data:g8},pu={data:S8},D1={data:p8},Ut={data:xy},I1={data:_c},vs={data:l5},io={data:y5},Ao={data:h8},E1={data:i$},M1={data:n8},YI={data:m5},A1={data:f$},Tc={data:Z5},R1={data:ma},P1={data:ma},Ro={data:s$},KI={data:N5},GI={data:da},O1={data:u$},ks={data:M5},QI={data:R5},Dc={data:V5},Po={data:A8},Z$={data:m$},Oo={data:l8},Lo={data:I5},No={data:K5},XI={data:s5},JI={data:a5},ZI={data:x5},xI={data:X5},Fo={data:_8},eE={data:u$},tE={data:d$},L1={data:L5},ys={data:g5},ll={data:I8},An={data:BI},N1={data:c$},zo={data:o$},Ss={data:f8},Ho={data:B5},nE={data:UI},hi={data:n5},Cs={data:d8},Ts={data:G5},F1={data:h5},z1={data:P5},Bl={data:WI},Ds={data:e5},ka={data:ma},H1={data:j5},Vo={data:da},bi={data:s$},x$={data:d5},rE={data:U5},lE={data:A5},sE={data:T5},V1={data:$5},iE={data:ma},q1={data:f5},oE={data:c5},aE={data:E8},uE={data:t8},cE={data:p5},fE={data:f$},mE={data:y8},dE={data:b5},pE={data:R8},_E={data:k8},ew={data:W5},gE={data:Q5},hE={data:O5},bE={data:i$},U1={data:qI},dr=new HT,At=jD(),$E=dr.spawnModalController(),{confirm:qo,confirmationController:Ic}=FT({confirmationModal:$E});function _l(r){const e=r.identifierType,t=`Delete${e?" ":""}${e}`;function n(){const l="?";return r.identifierName?{component:J$,props:{pre:`${t} `,identifier:r.identifierName,post:l}}:`${t}${l}`}return qo({title:n(),body:"Are you sure you want to proceed?",proceedButton:{label:t,icon:Ut},onError:l=>At.error(`Unable to ${t}. ${l.message}`),...r})}const tw=Symbol("ClipboardHandlerStore");function wE(){const r=Ge(void 0);return Un(tw,r),r}function vE(){return In(tw)}/*! js-cookie v3.0.1 | MIT */function oo(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)r[n]=t[n]}return r}var kE={read:function(r){return r[0]==='"'&&(r=r.slice(1,-1)),r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(r){return encodeURIComponent(r).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Wu(r,e){function t(l,s,i){if(!(typeof document>"u")){i=oo({},e,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),l=encodeURIComponent(l).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var a in i)!i[a]||(o+="; "+a,i[a]!==!0&&(o+="="+i[a].split(";")[0]));return document.cookie=l+"="+r.write(s,l)+o}}function n(l){if(!(typeof document>"u"||arguments.length&&!l)){for(var s=document.cookie?document.cookie.split("; "):[],i={},o=0;o<s.length;o++){var a=s[o].split("="),u=a.slice(1).join("=");try{var c=decodeURIComponent(a[0]);if(i[c]=r.read(u,c),l===c)break}catch(f){}}return l?i[l]:i}}return Object.create({set:t,get:n,remove:function(l,s){t(l,"",oo({},s,{expires:-1}))},withAttributes:function(l){return Wu(this.converter,oo({},this.attributes,l))},withConverter:function(l){return Wu(oo({},this.converter,l),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(r)}})}var nw=Wu(kE,{path:"/"});function yE(r){if(Rl(r,"code")){const{code:e}=r;if(typeof e=="string"||typeof e=="number")return e}}function SE(r){return{message:en(r),code:yE(r),field:fa(r,"field")?r.field:void 0,detail:Rl(r,"detail")?r.detail:void 0}}class Ec extends Error{constructor(t){const n=SE(t);super(n.message);re(this,"code");re(this,"field");re(this,"detail");this.name="ApiError",this.code=n.code,this.field=n.field,this.detail=n.detail}getSegregatedErrors(){return this.field?{commonErrors:[],fieldSpecificErrors:new vt([[this.field,[en(this)]]])}:{commonErrors:[en(this)],fieldSpecificErrors:new vt}}}class Hs extends Error{constructor(t){const l=(Array.isArray(t)?t:[t]).map(s=>new Ec(s));super(l.map(s=>s.message).join(" "));re(this,"errors");this.name="ApiMultiError",this.errors=l}getSegregatedErrors(){return this.errors.reduce((t,n)=>{const l=n.getSegregatedErrors();return{commonErrors:[...t.commonErrors,...l.commonErrors],fieldSpecificErrors:t.fieldSpecificErrors.withEntries(l.fieldSpecificErrors,(s,i)=>[...s,...i])}},{commonErrors:[],fieldSpecificErrors:new vt})}}function CE(r,e){if(r instanceof Hs||r instanceof Ec){const{commonErrors:t,fieldSpecificErrors:n}=r.getSegregatedErrors();return e?{commonErrors:t,fieldSpecificErrors:new vt([...n.entries()].map(([l,s])=>{var i;return[(i=e[l])!=null?i:l,s]}))}:{commonErrors:t,fieldSpecificErrors:n}}return{commonErrors:[en(r)],fieldSpecificErrors:new vt}}function TE(r){return r instanceof Hs?r.errors.map(e=>en(e)):[en(r)]}var St=(r=>(r.Idle="idle",r.Loading="loading",r.Done="done",r.Error="error",r))(St||{});const rw=["processing","failure","success"],DE=rw[0];function IE(r,e){for(const t of rw)if(r===t||e===t)return t;throw new Error("Invalid RequestStatus states.")}function EE(r){let e;for(const{state:t}of r){if(t===DE)return t;e=e?IE(t,e):t}return e}function lw(r){const e=Object.entries(r).map(([t,n])=>{const l=typeof n=="string"?n:JSON.stringify(n);return[t,l]});return new URLSearchParams(e).toString()}function Mc(r,e){return e?`${r}?${lw(e)}`:r}const sw=204,iw=new Set([200,201,sw]),ME=401;function AE(r){if(r.status===sw)return;const e=String(r.response);if(e.trim().length!==0)return JSON.parse(String(e))}function Fi(r,e,t){const n=new XMLHttpRequest;n.open(r,e),n.setRequestHeader("Content-Type","application/json");const l=nw.get("csrftoken");l&&n.setRequestHeader("X-CSRFToken",l),t?n.send(JSON.stringify(t)):n.send();let s=!1;return new Vr((i,o)=>{n.addEventListener("load",()=>{if(iw.has(n.status))i(AE(n));else{if(n.status===ME){window.location.reload();return}try{o(new Hs(JSON.parse(String(n.response))))}catch(a){const u=["When making an XHR request, the server responded with an","error, but the response body was not valid JSON."].join(" ");o(new Error(u))}}}),n.addEventListener("error",()=>{o(new Error("An unexpected error has occurred"))}),n.addEventListener("abort",()=>{s||o(new Error("Request was aborted"))})},()=>{s=!0,n.abort()})}function dn(r){return Fi("GET",r)}function un(r,e){return Fi("POST",r,e)}function Rr(r,e){return Fi("PATCH",r,e)}function RE(r,e){return Fi("PUT",r,e)}function gl(r,e){return Fi("DELETE",r,e)}function PE(r,e,t){const n=new XMLHttpRequest;n.open("POST",r);const l=nw.get("csrftoken");return l&&n.setRequestHeader("X-CSRFToken",l),n.upload.onprogress=s=>{const{loaded:i,total:o}=s,a=i/o*100;t==null||t({loaded:i,total:o,percentCompleted:a})},n.send(e),new Vr((s,i)=>{n.addEventListener("load",()=>{if(iw.has(n.status))try{const o=JSON.parse(String(n.response));s(o)}catch(o){s(n.response)}else i(new Error("An error has occurred while uploading a file."))})},()=>{n.abort()})}async function OE(r){const e=await fetch(r,{mode:"cors"});if(!!e.ok)return await e.json()}function LE(){return dn("/api/ui/v0/users/")}function NE(r){return dn(`/api/ui/v0/users/${r}/`)}function FE(r){return un("/api/ui/v0/users/",r)}function zE(r){return gl(`/api/ui/v0/users/${r}/`)}function HE(r,e){return Rr(`/api/ui/v0/users/${r}/`,e)}function VE(r,e){return un("/api/ui/v0/users/password_change/",{password:e,old_password:r})}function qE(r,e){return un(`/api/ui/v0/users/${r}/password_reset/`,{password:e})}function UE(r,e,t){return un("/api/ui/v0/database_roles/",{user:r,database:e,role:t})}function WE(r){return gl(`/api/ui/v0/database_roles/${r}/`)}function BE(r,e,t){return un("/api/ui/v0/schema_roles/",{user:r,schema:e,role:t})}function jE(r){return gl(`/api/ui/v0/schema_roles/${r}/`)}const Lr={list:LE,get:NE,add:FE,delete:zE,update:HE,changePassword:VE,resetPassword:qE,addDatabaseRole:UE,deleteDatabaseRole:WE,addSchemaRole:BE,deleteSchemaRole:jE},ow=new Set(["canViewLinkedEntities"]),YE=new Set([...ow,"canEditTableRecords","canEditMetadata"]);function KE(r,e){switch(r){case"manager":return!0;case"editor":return YE.has(e);case"viewer":return ow.has(e);default:throw new nl(r)}}function GE(r,e){return e.some(t=>KE(t,r))}function Bu(r){switch(r){case"manager":return"Manager";case"editor":return"Editor";case"viewer":return"Viewer";default:throw new nl(r)}}function W1(r){switch(r){case"manager":return"Manager Access";case"editor":return"Editor Access";case"viewer":return"Read-Only Access";default:throw new nl(r)}}const B1={viewer:1,editor:2,manager:3};function QE(r){const e=r.get("schema"),t=r.get("database");return e&&t?B1[e]>B1[t]?"schema":"database":e?"schema":(t,"database")}class kr{constructor(e){re(this,"id");re(this,"isSuperUser");re(this,"fullName");re(this,"email");re(this,"username");re(this,"databaseRoles");re(this,"schemaRoles");this.id=e.id,this.isSuperUser=e.is_superuser,this.databaseRoles=new Map(e.database_roles.map(t=>[t.database,t])),this.schemaRoles=new Map(e.schema_roles.map(t=>[t.schema,t])),this.fullName=e.full_name,this.email=e.email,this.username=e.username}hasPermission(e,t){if(this.isSuperUser)return!0;const{database:n,schema:l}=e;if(l&&!n)throw new Error("Schema needs to be accompanied by the database for permission checks");const s=[];if(l){const i=this.schemaRoles.get(l.id);i&&s.push(i.role)}if(n){const i=this.databaseRoles.get(n.id);i&&s.push(i.role)}return GE(t,s)}getRoleForDb(e){return this.databaseRoles.get(e.id)}getRoleForSchema(e){return this.schemaRoles.get(e.id)}hasDirectDbAccess(e){return this.databaseRoles.has(e.id)}hasDbAccess(e){return this.hasDirectDbAccess(e)||this.isSuperUser}hasDirectSchemaAccess(e){return this.schemaRoles.has(e.id)}hasSchemaAccess(e,t){return this.hasDbAccess(e)||this.hasDirectSchemaAccess(t)}getDisplayName(){return this.username}getUser(){return{id:this.id,is_superuser:this.isSuperUser,username:this.username,database_roles:[...this.databaseRoles.values()],schema_roles:[...this.schemaRoles.values()],full_name:this.fullName,email:this.email}}with(e){return new kr({...this.getUser(),...e})}withNewDatabaseRole(e){return new kr({...this.getUser(),database_roles:[...this.databaseRoles.values(),e]})}withoutDatabaseRole(e){return new kr({...this.getUser(),database_roles:[...this.databaseRoles.values()].filter(t=>t.database!==e.database)})}withNewSchemaRole(e){return new kr({...this.getUser(),schema_roles:[...this.schemaRoles.values(),e]})}withoutSchemaRole(e){return new kr({...this.getUser(),schema_roles:[...this.schemaRoles.values()].filter(t=>t.schema!==e.schema)})}}class XE extends kr{constructor(){super({id:0,is_superuser:!1,database_roles:[],schema_roles:[],username:"Anonymous",full_name:"Anonymous",email:null})}hasPermission(){return!1}}const aw=Symbol("users list store");class JE{constructor(){re(this,"requestStatus",Ge());re(this,"users",Ge([]));re(this,"count",Ge(0));re(this,"request");this.fetchUsers()}async fetchUsersSilently(){var t;(t=this.request)==null||t.cancel(),this.request=Lr.list();const e=await this.request;this.users.set(e.results.map(n=>new kr(n))),this.count.set(e.count)}async fetchUsers(){try{this.requestStatus.set({state:"processing"}),await this.fetchUsersSilently(),this.requestStatus.set({state:"success"})}catch(e){this.requestStatus.set({state:"failure",errors:[en(e)]})}}async getUserDetails(e){const t=Qe(this.requestStatus);if((t==null?void 0:t.state)==="success")return Qe(this.users).find(n=>n.id===e);if((t==null?void 0:t.state)==="processing"){const n=await this.request,l=n==null?void 0:n.results.find(s=>s.id===e);if(l)return new kr(l)}}async delete(e){this.requestStatus.set({state:"processing"}),await Lr.delete(e),this.users.update(t=>t.filter(n=>n.id!==e)),this.count.update(t=>t-1),this.requestStatus.set({state:"success"}),this.fetchUsersSilently()}async addDatabaseRoleForUser(e,t,n){const l=await Lr.addDatabaseRole(e,t.id,n);this.users.update(s=>s.map(i=>i.id===e?i.withNewDatabaseRole(l):i)),this.fetchUsersSilently()}async removeDatabaseAccessForUser(e,t){const n=Qe(this.users).find(s=>s.id===e),l=n==null?void 0:n.getRoleForDb(t);l&&(await Lr.deleteDatabaseRole(l.id),this.users.update(s=>s.map(i=>i.id===e?i.withoutDatabaseRole(l):i)),this.fetchUsersSilently())}async addSchemaRoleForUser(e,t,n){const l=await Lr.addSchemaRole(e,t.id,n);this.users.update(s=>s.map(i=>i.id===e?i.withNewSchemaRole(l):i)),this.fetchUsersSilently()}async removeSchemaAccessForUser(e,t){const n=Qe(this.users).find(s=>s.id===e),l=n==null?void 0:n.getRoleForSchema(t);l&&(await Lr.deleteSchemaRole(l.id),this.users.update(s=>s.map(i=>i.id===e?i.withoutSchemaRole(l):i)),this.fetchUsersSilently())}getUsersWithAccessToDb(e){return at(this.users,t=>t.filter(n=>n.hasDbAccess(e)))}getUsersWithoutAccessToDb(e){return at(this.users,t=>t.filter(n=>!n.hasDbAccess(e)))}getNormalUsersWithDirectSchemaRole(e){return at(this.users,t=>t.filter(n=>!n.isSuperUser&&n.hasDirectSchemaAccess(e)))}getNormalUsersWithoutDirectSchemaRole(e){return at(this.users,t=>t.filter(n=>!n.isSuperUser&&!n.hasDirectSchemaAccess(e)))}getUsersWithAccessToSchema(e,t){return at(this.users,n=>n.filter(l=>l.hasSchemaAccess(e,t)))}}function ya(){return In(aw)}function Ac(){if(ya()!==void 0)throw Error("UsersStore context has already been set");const r=new JE;return Un(aw,r),r}const uw=Symbol("UserProfileStore");function Xt(){return In(uw)}function ZE(r){if(Xt()!==void 0)throw Error("User profile store context has already been set");const e=Ge(r instanceof kr?r:new kr(r));return Un(uw,e),e}const xE="https://api.github.com/repos/centerofci/mathesar";function j1(r){return OE(`${xE}${r}`)}const Y1={fetchLatest(){return j1("/releases/latest")},fetchByTagName(r){return j1(`/releases/tags/${r}`)}};function eM(r){try{return JSON.parse(r)}catch(e){return}}function K1(){return Date.now()}class tM{constructor(e){re(this,"inputHash","");re(this,"cacheKey");re(this,"value");re(this,"fetch");re(this,"timeToLiveMs");re(this,"serializeValue",JSON.stringify);re(this,"deserializeValue",eM);re(this,"writableLoading",Ge(!1));re(this,"loading",this.writableLoading);e.inputHash&&(this.inputHash=e.inputHash),this.value=Ge(void 0),this.cacheKey=e.cacheKey,this.fetch=e.fetch,this.timeToLiveMs=e.timeToLiveMs,e.serialize&&(this.serializeValue=e.serialize),e.deserialize&&(this.deserializeValue=e.deserialize),this.cachedFetch()}serialize({inputHash:e,timestamp:t,value:n}){return JSON.stringify({inputHash:e,timestamp:t,value:this.serializeValue(n)})}deserialize(e){try{const t=JSON.parse(e),{inputHash:n,timestamp:l,value:s}=t;if(typeof n!="string"||typeof l!="number"||typeof s!="string")return;const i=this.deserializeValue(s);return i===void 0?void 0:{inputHash:n,timestamp:l,value:i}}catch(t){return}}fetchFromCache(){const e=localStorage.getItem(this.cacheKey);if(e===null)return"no-cache-found";const t=this.deserialize(e);return t===void 0?"no-cache-found":K1()-t.timestamp>this.timeToLiveMs?"cache-too-old":t.inputHash!==this.inputHash?"hash-change":(this.value.set(t),"cache-ok")}async forceFetch(){try{this.writableLoading.set(!0);const e=K1(),t=await this.fetch(),{inputHash:n}=this;localStorage.setItem(this.cacheKey,this.serialize({inputHash:n,timestamp:e,value:t})),this.value.set({inputHash:n,timestamp:e,value:t})}finally{this.writableLoading.set(!1)}}async cachedFetch(){if(this.fetchFromCache()!=="cache-ok")try{await this.forceFetch()}catch(t){}}subscribe(e){return this.value.subscribe(e)}}class Rc{constructor(e){re(this,"store");re(this,"key");re(this,"defaultValue");re(this,"serialize");re(this,"deserialize");var t,n;this.key=e.key,this.defaultValue=e.defaultValue,this.serialize=(t=e.serialize)!=null?t:JSON.stringify,this.deserialize=(n=e.deserialize)!=null?n:JSON.parse,this.store=Ge(this.getLocalStorageValue())}getLocalStorageValue(){const e=localStorage.getItem(this.key);if(e===null)return this.defaultValue;try{return this.deserialize(e)}catch(t){return this.defaultValue}}setLocalStorageValue(e){localStorage.setItem(this.key,this.serialize(e))}subscribe(e,t){return this.store.subscribe(e,t)}set(e){this.store.set(e),this.setLocalStorageValue(e)}update(e){this.store.update(t=>{const n=e(t);return this.setLocalStorageValue(n),n})}}const Sa={releaseData:"mathesar-release-data",tableInspectorWidth:"table-inspector-width",dataExplorerLeftSidebarWidth:"data-explorer-left-sidebar-width",dataExplorerRightSidebarWidth:"data-explorer-right-sidebar-width"},G1=new Rc({key:Sa.tableInspectorWidth,defaultValue:350}),Q1=new Rc({key:Sa.dataExplorerLeftSidebarWidth,defaultValue:400}),X1=new Rc({key:Sa.dataExplorerRightSidebarWidth,defaultValue:350});function J1(r){if(r!==void 0)return{id:r.id,tagName:r.tag_name,date:r.published_at,notesUrl:r.html_url}}function Z1(r){try{const[e,t,n]=r.split(".").map(l=>parseInt(l,10));return Number.isNaN(e)||Number.isNaN(t)||Number.isNaN(n)?void 0:e*1e6+t*1e3+n}catch(e){return}}function nM(r,e){if(r===void 0||e===void 0)return;const t=Z1(r.tagName),n=Z1(e.tagName);return t&&n&&n>t?"upgradable":"up-to-date"}class Ca{constructor({current:e,latest:t}){re(this,"current");re(this,"latest");re(this,"upgradeStatus");this.current=e,this.latest=t,this.upgradeStatus=nM(e,t)}serialize(){return JSON.stringify({current:this.current,latest:this.latest})}static deserialize(e){try{const t=JSON.parse(e),{current:n,latest:l}=t;return new Ca({current:n,latest:l})}catch(t){return}}}async function rM(r){return new Ca({current:J1(await Y1.fetchByTagName(r)),latest:J1(await Y1.fetchLatest())})}function lM(r){return new tM({inputHash:r,cacheKey:Sa.releaseData,timeToLiveMs:1e3*60*60*24,fetch:()=>rM(r),serialize:e=>e.serialize(),deserialize:e=>Ca.deserialize(e)})}const cw=Symbol("ReleaseDataStore");function Ta(){return In(cw)}function sM(r){if(Ta()!==void 0)throw Error("ReleaseDataStore context has already been set");Un(cw,lM(r))}class fw{constructor(e){re(this,"onOpen");re(this,"onClose");re(this,"nestingLevel");re(this,"purpose",Ge("dataEntry"));re(this,"isOpen",Ge(!1));re(this,"submit",()=>{});re(this,"cancel",()=>{});re(this,"tableId",Ge(void 0));re(this,"columnWithNestedSelectorOpen",Ge(void 0));var t,n;this.onOpen=(t=e.onOpen)!=null?t:()=>{},this.onClose=(n=e.onClose)!=null?n:()=>{},this.nestingLevel=e.nestingLevel}open(){this.isOpen.set(!0),this.onOpen()}close(){this.submit=()=>{},this.cancel=()=>{},this.isOpen.set(!1),this.onClose()}acquireUserInput({tableId:e}){return this.tableId.set(e),this.purpose.set("dataEntry"),this.open(),new Promise(t=>{this.submit=n=>{t(n),this.close()},this.cancel=()=>{t(void 0),this.close()}})}navigateToRecordPage({tableId:e}){this.tableId.set(e),this.purpose.set("navigation"),this.open(),this.cancel=()=>{this.close()}}}const mw={};function dw(r){Un(mw,r)}function zi(){return In(mw)}function ur(r){return`/db/${r}/`}function rr(r,e){return`${ur(r)}${e}/`}function pw(r,e){return`${rr(r,e)}tables/`}function _w(r,e){return`${rr(r,e)}explorations/`}function sl(r,e){return`${rr(r,e)}import/`}const gw="inference";function iM(r){return new URLSearchParams({[gw]:JSON.stringify(r.useColumnTypeInference)}).toString()}function oM(r){return{useColumnTypeInference:r[gw]==="true"}}function Da(r,e,t,n){const l=sl(r,e),s=iM(n);return`${l}${t}/?${s}`}function pr(r,e){return`${rr(r,e)}data-explorer/`}function Il(r,e,t){return`${_w(r,e)}${t}/`}function il(r,e,t){return`${Il(r,e,t)}edit/`}function hl(r,e,t){return`${pw(r,e)}${t}/`}function ju(r,e,t,n){return`${hl(r,e,t)}${String(n)}`}const hw="/profile/",Hi="/administration/",Pc=`${Hi}update/`,Ia=`${Hi}users/`,bw=`${Hi}users/new/`,aM="/auth/logout/";function $i(r){return`${Ia}${r}/`}function uM(r){return`/shares/tables/${r}/`}function cM(r){return`/shares/explorations/${r}/`}function Ea(r){return r.import_verified===!1&&r.data_files!==void 0&&r.data_files.length>0}function $w(r,e){const t=[...r.values()];let n=[];const{settings:l}=e;if(l){const{column_order:s}=l;s&&(n=s)}return t.forEach(s=>{n.includes(s.id)||n.push(s.id)}),n}function fM(r,e){const t=[...r.values()],n=new Map;return $w(t,e).forEach(s=>{const i=t.map(o=>o.id).indexOf(s);if(i!==-1){const o=t.splice(i,1)[0];n.set(o.id,o)}}),n}function Yu(r,e,t){return Ea(t)?Da(r,e,t.id,{useColumnTypeInference:!0}):hl(r,e,t.id)}function x1(r,e,t){const n=r.slice();return n[5]=e[t],n}function mM(r){let e,t,n=r[6],l=[];for(let i=0;i<n.length;i+=1)l[i]=ep(x1(r,n,i));const s=i=>g(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=ae()},m(i,o){for(let a=0;a<l.length;a+=1)l[a].m(i,o);w(i,e,o),t=!0},p(i,o){if(o&64){n=i[6];let a;for(a=0;a<n.length;a+=1){const u=x1(i,n,a);l[a]?(l[a].p(u,o),p(l[a],1)):(l[a]=ep(u),l[a].c(),p(l[a],1),l[a].m(e.parentNode,e))}for(q(),a=n.length;a<l.length;a+=1)s(a);U()}},i(i){if(!t){for(let o=0;o<n.length;o+=1)p(l[o]);t=!0}},o(i){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)g(l[o]);t=!1},d(i){Fn(l,i),i&&$(e)}}}function dM(r){let e,t;return e=new an({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ep(r){let e,t;const n=[r[5],{size:"min(1em, 0.75em + 0.25rem)"}];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&64?ce(n,[be(s[5]),n[1]]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function pM(r){let e;const t=r[7].default,n=De(t,r,r[9],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&512)&&Ee(n,t,l,l[9],e?Ie(t,l[9],s,null):Me(l[9]),null)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function _M(r){let e;return{c(){e=B(r[0])},m(t,n){w(t,e,n)},p(t,n){n&1&&he(e,t[0])},i:z,o:z,d(t){t&&$(e)}}}function gM(r){let e,t,n,l,s,i,o,a,u,c,f;const m=[dM,mM],d=[];function _(k,T){return k[1]?0:1}n=_(r),l=d[n]=m[n](r);const h=[_M,pM],b=[];function v(k,T){return k[0]?0:1}return o=v(r),a=b[o]=h[o](r),{c(){e=I("span"),t=I("span"),l.c(),s=B("\xA0"),i=I("span"),a.c(),D(t,"class","icon svelte-1byqy9q"),yn(t,"white-space","nowrap"),D(i,"class","name svelte-1byqy9q"),D(e,"class","name-with-icon svelte-1byqy9q"),Z(e,"boxed",r[2]),Z(e,"bold",r[4])},m(k,T){w(k,e,T),M(e,t),d[n].m(t,null),M(e,s),M(e,i),b[o].m(i,null),u=!0,c||(f=Le(e,"click",r[8]),c=!0)},p(k,T){let E=n;n=_(k),n===E?d[n].p(k,T):(q(),g(d[E],1,1,()=>{d[E]=null}),U(),l=d[n],l?l.p(k,T):(l=d[n]=m[n](k),l.c()),p(l,1),l.m(t,null));let P=o;o=v(k),o===P?b[o].p(k,T):(q(),g(b[P],1,1,()=>{b[P]=null}),U(),a=b[o],a?a.p(k,T):(a=b[o]=h[o](k),a.c()),p(a,1),a.m(i,null)),(!u||T&4)&&Z(e,"boxed",k[2]),(!u||T&16)&&Z(e,"bold",k[4])},i(k){u||(p(l),p(a),u=!0)},o(k){g(l),g(a),u=!1},d(k){k&&$(e),d[n].d(),b[o].d(),c=!1,f()}}}function hM(r){let e,t;return e=new Fs({props:{passthrough:!r[3],$$slots:{default:[gM]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&8&&(s.passthrough=!n[3]),l&599&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function bM(r,e,t){let n,{$$slots:l={},$$scope:s}=e,{icon:i}=e,{name:o=void 0}=e,{isLoading:a=!1}=e,{iconHasBox:u=!1}=e,{truncate:c=!0}=e,{bold:f=!1}=e;function m(d){ve.call(this,r,d)}return r.$$set=d=>{"icon"in d&&t(5,i=d.icon),"name"in d&&t(0,o=d.name),"isLoading"in d&&t(1,a=d.isLoading),"iconHasBox"in d&&t(2,u=d.iconHasBox),"truncate"in d&&t(3,c=d.truncate),"bold"in d&&t(4,f=d.bold),"$$scope"in d&&t(9,s=d.$$scope)},r.$$.update=()=>{r.$$.dirty&32&&t(6,n=Array.isArray(i)?i:[i])},[o,a,u,c,f,i,n,l,m,s]}class En extends X{constructor(e){super(),Q(this,e,bM,hM,G,{icon:5,name:0,isLoading:1,iconHasBox:2,truncate:3,bold:4})}}const $M=r=>({tableName:r&1}),tp=r=>({tableName:r[0].name});function wM(r){let e=r[0].name+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[0].name+"")&&he(t,e)},d(n){n&&$(t)}}}function np(r){let e;return{c(){e=B("*")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function vM(r){let e,t,n;const l=r[4].default,s=De(l,r,r[5],tp),i=s||wM(r);let o=r[2]&&np();return{c(){i&&i.c(),e=O(),o&&o.c(),t=ae()},m(a,u){i&&i.m(a,u),w(a,e,u),o&&o.m(a,u),w(a,t,u),n=!0},p(a,u){s?s.p&&(!n||u&33)&&Ee(s,l,a,a[5],n?Ie(l,a[5],u,$M):Me(a[5]),tp):i&&i.p&&(!n||u&1)&&i.p(a,n?u:-1),a[2]?o||(o=np(),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},i(a){n||(p(i,a),n=!0)},o(a){g(i,a),n=!1},d(a){i&&i.d(a),a&&$(e),o&&o.d(a),a&&$(t)}}}function kM(r){let e,t;const n=[{icon:Bl},{isLoading:r[1]},r[3]];let l={$$slots:{default:[vM]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new En({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&10?ce(n,[i&0&&{icon:Bl},i&2&&{isLoading:s[1]},i&8&&be(s[3])]):{};i&37&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function yM(r,e,t){let n;const l=["table","isLoading"];let s=Be(e,l),{$$slots:i={},$$scope:o}=e,{table:a}=e,{isLoading:u=!1}=e;return r.$$set=c=>{e=x(x({},e),ft(c)),t(3,s=Be(e,l)),"table"in c&&t(0,a=c.table),"isLoading"in c&&t(1,u=c.isLoading),"$$scope"in c&&t(5,o=c.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&t(2,n=Ea(a))},[a,u,n,s,i,o]}class Cn extends X{constructor(e){super(),Q(this,e,yM,kM,G,{table:0,isLoading:1})}}const Ye={Boolean:"boolean",Date:"date",Time:"time",DateTime:"datetime",Duration:"duration",Email:"email",Money:"money",Number:"number",Text:"text",Uri:"uri",JsonArray:"jsonlist",JsonObject:"map",Array:"array",Other:"other"},ar={VARCHAR:"character varying",CHAR:"character",TEXT:"text"},SM={variables:{restrictFieldSize:{type:"boolean",default:!1},length:{type:"integer",default:255,validation:{checks:["isEmpty"]}}},layout:{orientation:"vertical",elements:[{type:"input",variable:"restrictFieldSize",label:"Set a maximum length"},{type:"if",variable:"restrictFieldSize",condition:"eq",value:!0,elements:[{type:"input",variable:"length",label:"Field Size Limit"}]}]}};function CM(r,e){if(r.restrictFieldSize){const{length:t}=r;return(typeof t=="string"||typeof t=="number")&&(typeof t=="string"?parseInt(t,10):t)>255?ar.VARCHAR:e===ar.CHAR?ar.CHAR:ar.VARCHAR}return ar.TEXT}function TM(r,e){const t=CM(r,e),n={};return(t===ar.CHAR||t===ar.VARCHAR)&&(n.length=r.length),{dbType:t,typeOptions:n}}function DM(r,e){var t;switch(r){case ar.CHAR:case ar.VARCHAR:return{length:(t=e==null?void 0:e.length)!=null?t:null,restrictFieldSize:!0};default:return{restrictFieldSize:!1}}}const IM={getIcon:()=>({...ew,label:"Text"}),defaultDbType:ar.VARCHAR,cellInfo:{type:"string",config:{multiLine:!0},conditionalConfig:{[ar.CHAR]:{multiLine:!1}}},getDbConfig:()=>({form:SM,determineDbTypeAndOptions:TM,constructDbFormValuesFromTypeOptions:DM})},tn={DECIMAL:"decimal",NUMERIC:"numeric",INTEGER:"integer",SMALLINT:"smallint",BIGINT:"bigint",REAL:"real",DOUBLE_PRECISION:"double precision"},EM={variables:{numberType:{type:"string",enum:["Integer","Decimal","Float"],default:"Decimal"},integerDataSize:{type:"string",enum:["default","bigInt","smallInt"],default:"default"},decimalPlaces:{type:"integer",default:null},maxDigits:{type:"integer",default:null},floatingPointType:{type:"string",enum:["real","doublePrecision"],default:"real"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"numberType",label:"Number Type"},{type:"switch",variable:"numberType",cases:{Integer:[{type:"input",variable:"integerDataSize",label:"Integer Data Size",interfaceType:"select",options:{default:{label:"Default (4 bytes)"},bigInt:{label:"Big Integer (8 bytes)"},smallInt:{label:"Small Integer (2 bytes)"}}}],Decimal:[{type:"layout",orientation:"horizontal",elements:[{type:"input",variable:"decimalPlaces",label:"Decimal Places"},{type:"input",variable:"maxDigits",label:"Max Digits"}]}],Float:[{type:"input",variable:"floatingPointType",label:"Floating Point Type",interfaceType:"select",options:{real:{label:"Real (6 digits)"},doublePrecision:{label:"Double Precision (15 digits)"}}}]}}]}};function MM(r,e){switch(r.numberType){case"Integer":switch(r.integerDataSize){case"smallInt":return tn.SMALLINT;case"bigInt":return tn.BIGINT;default:return tn.INTEGER}case"Float":switch(r.floatingPointType){case"real":return tn.REAL;case"doublePrecision":default:return tn.DOUBLE_PRECISION}case"Decimal":default:return e===tn.DECIMAL?tn.DECIMAL:tn.NUMERIC}}function AM(r,e){const t=MM(r,e),n={};return(t===tn.DECIMAL||t===tn.NUMERIC)&&(r.maxDigits!==null&&(n.precision=r.maxDigits),r.decimalPlaces!==null&&(n.scale=r.decimalPlaces)),{dbType:t,typeOptions:n}}function RM(r,e){var t,n;switch(r){case tn.SMALLINT:return{numberType:"Integer",integerDataSize:"smallInt"};case tn.BIGINT:return{numberType:"Integer",integerDataSize:"bigInt"};case tn.REAL:return{numberType:"Float",floatingPointType:"real"};case tn.DOUBLE_PRECISION:return{numberType:"Float",floatingPointType:"doublePrecision"};case tn.INTEGER:return{numberType:"Integer",integerDataSize:"default"};case tn.DECIMAL:case tn.NUMERIC:default:return{numberType:"Decimal",maxDigits:(t=e==null?void 0:e.precision)!=null?t:null,decimalPlaces:(n=e==null?void 0:e.scale)!=null?n:null}}}const PM={variables:{decimalPlaces:{type:"integer",default:null},useGrouping:{type:"string",enum:["true","false"],default:"false"},numberFormat:{type:"string",enum:["none","english","german","french","hindi","swiss"],default:"none"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"decimalPlaces",label:"Decimal Places"},{type:"input",variable:"useGrouping",label:"Digit Grouping",options:{true:{label:"On"},false:{label:"Off"}}},{type:"input",variable:"numberFormat",label:"Format",options:{none:{label:"Use browser locale"},english:{label:"1,234,567.89"},german:{label:"1.234.567,89"},french:{label:"1 234 567,89"},hindi:{label:"12,34,567.89"},swiss:{label:"1'234'567.89"}}}]}};function OM(r){var n;const e=r.decimalPlaces;return{number_format:r.numberFormat==="none"?void 0:r.numberFormat,use_grouping:(n=r.useGrouping)!=null?n:"false",minimum_fraction_digits:e!=null?e:void 0,maximum_fraction_digits:e!=null?e:void 0}}function ww(r,e){return r===null&&e===null?null:r===null?e:e===null?r:Math.max(r,e)}function LM(r){var l,s,i,o;const e=r,t=ww((l=e==null?void 0:e.minimum_fraction_digits)!=null?l:null,(s=e==null?void 0:e.maximum_fraction_digits)!=null?s:null);return{numberFormat:(i=e==null?void 0:e.number_format)!=null?i:"none",useGrouping:(o=e==null?void 0:e.use_grouping)!=null?o:"false",decimalPlaces:t}}const NM={getIcon:()=>({..._E,label:"Number"}),cellInfo:{type:"number",conditionalConfig:{[tn.DECIMAL]:{floatAllowanceStrategy:"scale-based"},[tn.NUMERIC]:{floatAllowanceStrategy:"scale-based"},[tn.INTEGER]:{floatAllowanceStrategy:"never"},[tn.SMALLINT]:{floatAllowanceStrategy:"never"},[tn.BIGINT]:{floatAllowanceStrategy:"never"},[tn.REAL]:{floatAllowanceStrategy:"always"},[tn.DOUBLE_PRECISION]:{floatAllowanceStrategy:"always"}}},defaultDbType:tn.NUMERIC,getDbConfig:()=>({form:EM,determineDbTypeAndOptions:AM,constructDbFormValuesFromTypeOptions:RM}),getDisplayConfig:()=>({form:PM,determineDisplayOptions:OM,constructDisplayFormValuesFromDisplayOptions:LM})},FM={MONEY:"MONEY",MATHESAR_TYPES__MATHESAR_MONEY:"MATHESAR_TYPES.MATHESAR_MONEY"},zM={variables:{currencySymbol:{type:"string",default:"$"},currencySymbolLocation:{type:"string",enum:["after-minus","end-with-space"],default:"after-minus"},numberFormat:{type:"string",enum:["none","english","german","french","hindi","swiss"],default:"none"},decimalPlaces:{type:"integer",default:null},useGrouping:{type:"string",enum:["true","false"],default:"true"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"currencySymbol",label:"Currency Symbol"},{type:"input",variable:"currencySymbolLocation",label:"Currency Symbol Location",options:{"after-minus":{label:"Start"},"end-with-space":{label:"End"}}},{type:"input",variable:"decimalPlaces",label:"Decimal Places"},{type:"input",variable:"useGrouping",label:"Digit Grouping",options:{true:{label:"On"},false:{label:"Off"}}},{type:"input",variable:"numberFormat",label:"Number Format",options:{none:{label:"Use browser locale"},english:{label:"1,234,567.89"},german:{label:"1.234.567,89"},french:{label:"1 234 567,89"},hindi:{label:"12,34,567.89"},swiss:{label:"1'234'567.89"}}}]}};function HM(r){var n,l;const e=r;return{currency_symbol:e.currencySymbol,currency_symbol_location:e.currencySymbolLocation,number_format:e.numberFormat==="none"?null:e.numberFormat,use_grouping:e.useGrouping,minimum_fraction_digits:(n=e.decimalPlaces)!=null?n:void 0,maximum_fraction_digits:(l=e.decimalPlaces)!=null?l:void 0}}function VM(r){var l,s,i,o,a,u;const e=r,t=ww((l=e==null?void 0:e.minimum_fraction_digits)!=null?l:null,(s=e==null?void 0:e.maximum_fraction_digits)!=null?s:null);return{numberFormat:(i=e==null?void 0:e.number_format)!=null?i:"none",currencySymbol:(o=e==null?void 0:e.currency_symbol)!=null?o:"",decimalPlaces:t,currencySymbolLocation:(a=e==null?void 0:e.currency_symbol_location)!=null?a:"after-minus",useGrouping:(u=e==null?void 0:e.use_grouping)!=null?u:"true"}}const qM={getIcon:()=>pE,cellInfo:{type:"money"},defaultDbType:FM.MATHESAR_TYPES__MATHESAR_MONEY,getDisplayConfig:()=>({form:zM,determineDisplayOptions:HM,constructDisplayFormValuesFromDisplayOptions:VM})},UM={getIcon:()=>({...fE,label:"Email"}),defaultDbType:"mathesar_types.email",cellInfo:{type:"string"}},WM={variables:{displayAs:{type:"string",enum:["checkbox","dropdown"],default:"checkbox"},useCustomLabels:{type:"boolean",default:!1},trueLabel:{type:"string",default:"true",validation:{checks:["isEmpty"]}},falseLabel:{type:"string",default:"false",validation:{checks:["isEmpty"]}}},layout:{orientation:"vertical",elements:[{type:"input",variable:"displayAs",label:"Display as",options:{checkbox:{label:"Checkbox"},dropdown:{label:"Dropdown"}}},{type:"if",variable:"displayAs",condition:"eq",value:"dropdown",elements:[{type:"input",variable:"useCustomLabels",label:"Use Custom Labels"},{type:"if",variable:"useCustomLabels",condition:"eq",value:!0,elements:[{type:"input",variable:"trueLabel",label:"Label for TRUE"},{type:"input",variable:"falseLabel",label:"Label for FALSE"}]}]}]}};function BM(r){const e={input:r.displayAs};return r.displayAs==="dropdown"&&r.useCustomLabels&&(e.custom_labels={TRUE:r.trueLabel,FALSE:r.falseLabel}),e}function jM(r){var n;const e=r,t={displayAs:(n=e==null?void 0:e.input)!=null?n:"checkbox"};return typeof(e==null?void 0:e.custom_labels)=="object"&&e.custom_labels!==null&&(t.useCustomLabels=!0,t.trueLabel=e.custom_labels.TRUE,t.falseLabel=e.custom_labels.FALSE),t}const YM={getIcon:()=>({...oE,label:"Boolean"}),cellInfo:{type:"boolean"},getDisplayConfig:()=>({form:WM,determineDisplayOptions:BM,constructDisplayFormValuesFromDisplayOptions:jM})},KM={MATHESAR_TYPES__URI:"mathesar_types.uri"},GM={getIcon:()=>bE,defaultDbType:KM.MATHESAR_TYPES__URI,cellInfo:{type:"uri"}},vl=["d","h","m","s","ms"],_u={max:"m",min:"s"},rp={d:"D",h:"HH",m:"mm",s:"ss",ms:"SSS"};class wi{constructor(e){re(this,"min");re(this,"max");var t,n;this.min=(t=e==null?void 0:e.min)!=null?t:_u.min,this.max=(n=e==null?void 0:e.max)!=null?n:_u.max}getUnitsInRange(){return vl.slice(vl.indexOf(this.max),vl.indexOf(this.min)+1)}getHigherUnit(e){const t=vl[vl.indexOf(e)-1];return!t||vl.indexOf(t)<vl.indexOf(this.max)?null:t}getFormattingString(){const e=this.getUnitsInRange().map(t=>rp[t]);return e.length===1?e[0]:e[e.length-1]===rp.ms?[e.slice(0,e.length-1).join(":"),e[e.length-1]].join("."):e.join(":")}static getAllUnits(){return vl}static getDefaults(){return _u}}const QM=/^((\.?\d+)|(\d+(\.\d+)?))$/;function XM(r,e){var c,f,m,d;let t=r.getUnitsInRange();t[t.length-1]==="ms"&&(t=t.slice(0,t.length-1));let n=e.trim();if(n==="")return null;n[0]===":"&&(n=`0${n}`);const s=n[n.length-1];if((s===":"||s===".")&&(n=`${n}0`),n.split(":").length>t.length)throw new Error("Duration exceeds specified unit range");const o=n.split(":").map(_=>{let h=_;h.length>1&&h[h.length-1]==="."&&(h=`${h}0`);const b=parseFloat(h);if(Number.isNaN(b)||!QM.test(h))throw new Error("Unable to parse duration");return b}).slice(-t.length),a=t.slice(-o.length),u={};return a.forEach((_,h)=>{var b;u[_]=(b=o[h])!=null?b:0}),nn.duration({years:0,months:0,days:(c=u.d)!=null?c:0,hours:(f=u.h)!=null?f:0,minutes:(m=u.m)!=null?m:0,seconds:(d=u.s)!=null?d:0}).toISOString()}const gu={ms:{convert:r=>r.asMilliseconds(),unitName:"milliseconds",decimalCorrection:0},s:{convert:r=>r.asSeconds(),unitName:"seconds"},m:{convert:r=>r.asMinutes(),unitName:"minutes"},h:{convert:r=>r.asHours(),unitName:"hours"},d:{convert:r=>r.asDays(),unitName:"days"}};function JM(r,e){var o;const t={},n=nn.duration(r),l=e.getUnitsInRange().reverse();if(l.length===0)throw new Error("Invalid duration specification");let s=gu[l[0]],i=s.convert(n);for(const a of l){const u=e.getHigherUnit(a);let c=0;if(u){const f=gu[u];c=Math.floor(f.convert(nn.duration(i,s.unitName))),i-=s.convert(nn.duration(c,f.unitName))}t[s.unitName]=parseFloat(i.toFixed((o=s.decimalCorrection)!=null?o:3)),u&&(i=c,s=gu[u])}return nn.duration(t).format(e.getFormattingString())}class ZM{constructor(e){re(this,"specification");this.specification=e}parse(e){return{value:XM(this.specification,e),intermediateDisplay:e}}format(e){return JM(e,this.specification)}}const Uo=wi.getDefaults(),xM={variables:{durationConfig:{type:"custom",default:{max:Uo.max,min:Uo.min}}},layout:{orientation:"vertical",elements:[{type:"static",variable:"durationConfig",componentId:"duration-config-menu"}]}};function eA(r){return{...r.durationConfig,show_units:!1}}function tA(r){var n,l;const e=r;return{durationConfig:{max:(n=e==null?void 0:e.max)!=null?n:Uo.max,min:(l=e==null?void 0:e.min)!=null?l:Uo.min}}}const nA={getIcon:()=>({...cE,label:"Duration"}),cellInfo:{type:"duration"},getDisplayConfig:()=>({form:xM,determineDisplayOptions:eA,constructDisplayFormValuesFromDisplayOptions:tA})};function Vl(r,e,t){const n=[];return r.forEach(l=>{e.forEach(s=>{n.push(t(l,s))})}),n}function rA(){return{none:new Date("1999-12-25T00:00").toLocaleDateString().replace("25","DD").replace("12","MM").replace("1999","YYYY"),us:"MM/DD/YYYY",eu:"DD/MM/YYYY",friendly:"D MMM YYYY",iso:"YYYY-MM-DD"}}const ao=rA(),lp=new Map([["us",["M/D/YYYY","M/D/YY"]],["eu",["D/M/YYYY","D/M/YY"]],["friendly",["D MMM YY"]]]),hu={"24hr":"HH:mm","24hrLong":"HH:mm:ss","12hr":"hh:mm a","12hrLong":"hh:mm:ss a"},Wo=["hh:mm:ss a","HH:mm:ss","hh:mm a","HH:mm"],sp=[...Wo,...Vl(Wo,[" Z",".Z","Z"],(r,e)=>`${r}${e}`)];class Vi{constructor(e){re(this,"type");re(this,"isTimeZoneType");re(this,"dateFormat");re(this,"timeFormat");var t,n,l;this.type=(t=e==null?void 0:e.type)!=null?t:"timestamp",this.dateFormat=(n=e==null?void 0:e.dateFormat)!=null?n:"none",this.timeFormat=(l=e==null?void 0:e.timeFormat)!=null?l:"24hr",this.isTimeZoneType=this.type==="timeWithTZ"||this.type==="timestampWithTZ"}getFormattingString(){switch(this.type){case"date":return ao[this.dateFormat];case"time":case"timeWithTZ":return hu[this.timeFormat];case"timestamp":case"timestampWithTZ":default:return`${ao[this.dateFormat]} ${hu[this.timeFormat]}`}}getCommonFormattingStrings(){var t,n;const e=[ao[this.dateFormat],...(t=lp.get(this.dateFormat))!=null?t:[]];return this.type==="date"?(n=lp.get(this.dateFormat))!=null?n:[]:this.type==="time"?Wo:this.type==="timeWithTZ"?sp:this.type==="timestamp"?Vl(e,Wo,(l,s)=>`${l} ${s}`):this.type==="timestampWithTZ"?Vl(e,sp,(l,s)=>`${l} ${s}`):[]}getCanonicalFormattingStrings(){const e=["YYYY-MM-DD"],t=[...e,"YYYY-MM-DD [AD]","YYYY-MM-DD [BC]"],n=["HH:mm:ss"],l=["HH:mm:ss.Z","HH:mm:ss Z","HH:mm:ss.ZZ","HH:mm:ss ZZ"],s=Vl(e,n,(u,c)=>`${u} ${c}`),i=[...s,...Vl(s,["[AD]","[BC]"],(u,c)=>`${u} ${c}`)],o=Vl(e,l,(u,c)=>`${u} ${c}`),a=[...o,...Vl(o,["[AD]","[BC]"],(u,c)=>`${u} ${c}`)];switch(this.type){case"date":return t;case"time":return n;case"timeWithTZ":return l;case"timestamp":return i;case"timestampWithTZ":return a;default:return[]}}getCanonicalString(e){return this.type==="date"?nn(e).format("YYYY-MM-DD"):this.type==="time"?nn(e).format("HH:mm:ss"):this.type==="timeWithTZ"?nn(e).format("HH:mm:ss Z"):this.type==="timestamp"?nn(e).format("YYYY-MM-DD HH:mm:ss"):this.type==="timestampWithTZ"?nn(e).format("YYYY-MM-DD HH:mm:ss Z"):e.toISOString()}hasSecondsInTime(){return this.type==="date"?!1:this.timeFormat==="12hrLong"||this.timeFormat==="24hrLong"}isTime24Hr(){return this.type==="date"?!1:this.timeFormat==="24hr"||this.timeFormat==="24hrLong"}static getDateFormattingStringMap(){return ao}static getTimeFormattingStringMap(){return hu}}class Oc{constructor(e){re(this,"specification");this.specification=e}parse(e){const t=[this.specification.getFormattingString(),...this.specification.getCommonFormattingStrings(),...this.specification.getCanonicalFormattingStrings()];let n=nn(e,t,!0);return n.isValid()||(n=nn(e,this.specification.getCanonicalFormattingStrings())),{value:n.isValid()?this.specification.getCanonicalString(n.toDate()):e,intermediateDisplay:e}}format(e){const t=nn(e,this.specification.getCanonicalFormattingStrings());return t.isValid()?t.format(this.specification.getFormattingString()):e}parseAndFormat(e){const{value:t}=this.parse(e);return mn(t)?this.format(t):e}}function vw(){const r=nn("2001-12-31"),e=Vi.getDateFormattingStringMap();return{none:{label:`Infer from browser (${r.format(e.none)})`},us:{label:`US (${r.format(e.us)})`},eu:{label:`European (${r.format(e.eu)})`},friendly:{label:`Friendly (${r.format(e.friendly)})`},iso:{label:`Standard (${r.format(e.iso)})`}}}function kw(){const r=nn(),e=Vi.getTimeFormattingStringMap();return{"24hr":{label:`Short time 24 hr (${r.format(e["24hr"])})`},"24hrLong":{label:`Long time 24 hr (${r.format(e["24hrLong"])})`},"12hr":{label:`Short time 12 hr (${r.format(e["12hr"])})`},"12hrLong":{label:`Long time 12 hr (${r.format(e["12hrLong"])})`}}}const lA={variables:{format:{type:"string",enum:["none","us","eu","friendly","iso"],default:"none"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"format",label:"Date Format",options:vw()}]}};function sA(r){return{format:r.format}}function iA(r){var n;const e=r;return{format:(n=e==null?void 0:e.format)!=null?n:"none"}}const oA={getIcon:()=>({...aE,label:"Date"}),cellInfo:{type:"date"},getDisplayConfig:()=>({form:lA,determineDisplayOptions:sA,constructDisplayFormValuesFromDisplayOptions:iA})},ds={TIME_WITH_TZ:"time with time zone",TIME_WITHOUT_TZ:"time without time zone"},aA={variables:{supportTimeZones:{type:"boolean",default:!1}},layout:{orientation:"vertical",elements:[{type:"input",variable:"supportTimeZones",label:"Support Time Zones"}]}};function uA(r){return{dbType:r.supportTimeZones?ds.TIME_WITH_TZ:ds.TIME_WITHOUT_TZ,typeOptions:{}}}function cA(r){return{supportTimeZones:r===ds.TIME_WITH_TZ}}const fA={variables:{format:{type:"string",enum:["24hr","24hrLong","12hr","12hrLong"],default:"24hr"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"format",label:"Time Format",options:kw()}]}};function mA(r){return{format:r.format}}function dA(r){var n;const e=r;return{format:(n=e==null?void 0:e.format)!=null?n:"24hr"}}const pA={getIcon:()=>({...gE,label:"Time"}),defaultDbType:ds.TIME_WITH_TZ,cellInfo:{type:"time",conditionalConfig:{[ds.TIME_WITH_TZ]:{supportTimeZone:!0},[ds.TIME_WITHOUT_TZ]:{supportTimeZone:!1}}},getDbConfig:()=>({form:aA,determineDbTypeAndOptions:uA,constructDbFormValuesFromTypeOptions:cA}),getDisplayConfig:()=>({form:fA,determineDisplayOptions:mA,constructDisplayFormValuesFromDisplayOptions:dA})},ps={TIMESTAMP_WITH_TZ:"timestamp with time zone",TIMESTAMP_WITHOUT_TZ:"timestamp without time zone"},_A={variables:{supportTimeZones:{type:"boolean",default:!1}},layout:{orientation:"vertical",elements:[{type:"input",variable:"supportTimeZones",label:"Support Time Zones"}]}};function gA(r){return{dbType:r.supportTimeZones?ps.TIMESTAMP_WITH_TZ:ps.TIMESTAMP_WITHOUT_TZ,typeOptions:{}}}function hA(r){return{supportTimeZones:r===ps.TIMESTAMP_WITH_TZ}}const bA={variables:{dateFormat:{type:"string",enum:["none","us","eu","friendly","iso"],default:"none"},timeFormat:{type:"string",enum:["24hr","24hrLong","12hr","12hrLong"],default:"24hr"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"dateFormat",label:"Date Format",options:vw()},{type:"input",variable:"timeFormat",label:"Time Format",options:kw()}]}};function $A(r){return{date_format:r.dateFormat,time_format:r.timeFormat}}function wA(r){var n,l;const e=r;return{dateFormat:(n=e==null?void 0:e.date_format)!=null?n:"none",timeFormat:(l=e==null?void 0:e.time_format)!=null?l:"24hr"}}const vA={getIcon:()=>({...uE,label:"Date & Time"}),defaultDbType:ps.TIMESTAMP_WITH_TZ,cellInfo:{type:"datetime",conditionalConfig:{[ps.TIMESTAMP_WITH_TZ]:{supportTimeZone:!0},[ps.TIMESTAMP_WITHOUT_TZ]:{supportTimeZone:!1}}},getDbConfig:()=>({form:_A,determineDbTypeAndOptions:gA,constructDbFormValuesFromTypeOptions:hA}),getDisplayConfig:()=>({form:bA,determineDisplayOptions:$A,constructDisplayFormValuesFromDisplayOptions:wA})},yw={getIcon:()=>({...hE,label:"Unknown column type"}),cellInfo:{type:"string"}},kA=()=>({getIcon:()=>mE,defaultDbType:"mathesar_types.mathesar_json_array",cellInfo:{type:"string"}}),yA=()=>({getIcon:()=>dE,defaultDbType:"mathesar_types.mathesar_json_object",cellInfo:{type:"string"}}),Sw={name:"Other",identifier:"other",...yw,dbTypes:new Set([])};function Ku(r,e){let t;for(const[,n]of e)if(n.dbTypes.has(r)){t=n;break}return t}function Ql(r,e){let t=Ku(r,e);return t||(t=Sw),t}const SA=r=>({getIcon:e=>{const t={...U1,label:"Array"};if(e&&e.typeOptions){const n=e.typeOptions,l=Ql(n.item_type,r);if(l){const s=l.getIcon(),i=Array.isArray(s)?s:[s];return[{...U1,label:"Array"},...i]}}return t},cellInfo:{type:"array"}}),CA={[Ye.Text]:IM,[Ye.Money]:qM,[Ye.Email]:UM,[Ye.Number]:NM,[Ye.Boolean]:YM,[Ye.Uri]:GM,[Ye.Duration]:nA,[Ye.Date]:oA,[Ye.Time]:pA,[Ye.DateTime]:vA},Cw={[Ye.Array]:SA,[Ye.JsonArray]:kA,[Ye.JsonObject]:yA},Gu=ar.TEXT;function Tw(r){const e=new Map,t=[];r.forEach(l=>{if(l.identifier==="other")return;const s={identifier:l.identifier,name:l.name,dbTypes:new Set(l.db_types)},i=CA[l.identifier];if(i){e.set(l.identifier,{...s,...i});return}const o=Cw[l.identifier];if(o){t.push({...s,factory:o});return}e.set(l.identifier,{...s,...yw})});const n=new Map(e);return t.forEach(l=>{n.set(l.identifier,{identifier:l.identifier,name:l.name,dbTypes:l.dbTypes,...l.factory(e)})}),n}function TA(r,e,t){const n=new Set,l=Ku(r,t);l&&n.add(l),e.forEach(i=>{const o=Ku(i,t);o&&n.add(o)});const s=[...n].sort((i,o)=>i.name.localeCompare(o.name));return l||s.push(Sw),s}function DA(r){return[...r.values()].filter(e=>!Cw[e.identifier]).sort((e,t)=>e.name.localeCompare(t.name))}function IA(r){return r.defaultDbType?r.defaultDbType:r.dbTypes.size>0?[...r.dbTypes][0]:Gu}function EA(){return dn("/api/db/v0/databases/?limit=500")}const MA={list:EA},_s=Ol();var P4;const gs=Ge((P4=_s==null?void 0:_s.current_db)!=null?P4:void 0);var O4;const qi=Ge({preload:!0,state:St.Loading,data:(O4=_s==null?void 0:_s.databases)!=null?O4:[]}),gn=at([gs,qi],([r,e])=>{const t=e.data;if(!!(t!=null&&t.length))return t==null?void 0:t.find(n=>n.name===r)}),uo=Ol(),Qu=new Map,ip=new Map;async function op(r){var t;const e=Qu.get(r);if(!e){console.error(`DB Types store for db: ${r} not found.`);return}try{e.update(i=>({...i,state:St.Loading})),(t=ip.get(r))==null||t.cancel();const n=dn(`/api/ui/v0/databases/${r}/types/`);ip.set(r,n);const l=await n,s=Tw(l);return e.update(i=>({...i,state:St.Done,data:s})),s}catch(n){e.update(l=>({...l,state:St.Error,error:n instanceof Error?n.message:"Error in fetching schemas"}));return}}let ap=!0;function AA(r){let e=Qu.get(r.id);return e?Qe(e).error&&op(r.id):(e=Ge({state:St.Loading,data:new Map}),Qu.set(r.id,e),ap&&(uo==null?void 0:uo.current_db)===r.name?e.update(t=>({...t,state:St.Done,data:Tw(uo.abstract_types)})):op(r.id),ap=!1),e}const sr=at(gn,(r,e)=>{let t;return r?t=AA(r).subscribe(l=>{e(l)}):e({state:St.Done,data:new Map}),()=>{t==null||t()}}),Zs=[Ye.Date,Ye.Time,Ye.DateTime],co={[Ye.DateTime]:[Ye.DateTime],[Ye.Date]:[Ye.Date],[Ye.Time]:[Ye.Time],[Ye.Duration]:[Ye.Duration],[Ye.Number]:[Ye.Number],[Ye.Money]:[Ye.Money]};function xs(r,e){const t=new Map(r.map(n=>[n,e]));return Object.fromEntries(t)}function bu(r){const e=Object.values(Ye),t=new Map(e.map(n=>[n,r(n)]));return Object.fromEntries(t)}const Dw=[{id:"equal",name:"equals",aliases:xs(Zs,"is same as"),uiTypeParameterMap:bu(r=>[r]),hasParams:!0},{id:"null",name:"is empty",uiTypeParameterMap:bu(()=>[]),hasParams:!1},{id:"not_null",name:"is not empty",uiTypeParameterMap:bu(()=>[]),hasParams:!1}],Iw=[...Dw,{id:"contains_case_insensitive",name:"contains",uiTypeParameterMap:{[Ye.Text]:[Ye.Text],[Ye.Email]:[Ye.Text],[Ye.Uri]:[Ye.Text]},hasParams:!0},{id:"starts_with_case_insensitive",name:"starts with",uiTypeParameterMap:{[Ye.Text]:[Ye.Text],[Ye.Email]:[Ye.Text],[Ye.Uri]:[Ye.Text]},hasParams:!0},{id:"uri_scheme_equals",name:"URI scheme is",uiTypeParameterMap:{[Ye.Uri]:[Ye.Text]},hasParams:!0},{id:"uri_authority_contains",name:"URI authority contains",uiTypeParameterMap:{[Ye.Uri]:[Ye.Text]},hasParams:!0},{id:"json_array_length_equals",name:"number of elements is",uiTypeParameterMap:{[Ye.JsonArray]:[Ye.Number]},hasParams:!0},{id:"json_array_length_greater_than",name:"number of elements >",uiTypeParameterMap:{[Ye.JsonArray]:[Ye.Number]},hasParams:!0},{id:"json_array_length_greater_or_equal",name:"number of elements >=",uiTypeParameterMap:{[Ye.JsonArray]:[Ye.Number]},hasParams:!0},{id:"json_array_length_less_than",name:"number of elements <",uiTypeParameterMap:{[Ye.JsonArray]:[Ye.Number]},hasParams:!0},{id:"json_array_length_less_or_equal",name:"number of elements <=",uiTypeParameterMap:{[Ye.JsonArray]:[Ye.Number]},hasParams:!0},{id:"json_array_not_empty",name:"array is not empty",uiTypeParameterMap:{[Ye.JsonArray]:[]},hasParams:!1},{id:"json_array_contains",name:"array contains",uiTypeParameterMap:{[Ye.JsonArray]:[Ye.Text]},hasParams:!0},{id:"email_domain_equals",name:"email domain is",uiTypeParameterMap:{[Ye.Email]:[Ye.Text]},hasParams:!0},{id:"email_domain_contains",name:"email domain contains",uiTypeParameterMap:{[Ye.Email]:[Ye.Text]},hasParams:!0},{id:"lesser",name:"is lesser than",aliases:xs(Zs,"is before"),uiTypeParameterMap:co,hasParams:!0},{id:"greater",name:"is greater than",aliases:xs(Zs,"is after"),uiTypeParameterMap:co,hasParams:!0},{id:"lesser_or_equal",name:"is lesser or equal to",aliases:xs(Zs,"is before or same as"),uiTypeParameterMap:co,hasParams:!0},{id:"greater_or_equal",name:"is greater or equal to",aliases:xs(Zs,"is after or same as"),uiTypeParameterMap:co,hasParams:!0}];function Ew(r){const e=Object.values(Ye),t=new Map;return e.forEach(n=>{t.has(n)||t.set(n,[]);const l=t.get(n);r.forEach(s=>{var i,o,a;s.uiTypeParameterMap[n]&&(l==null||l.push({id:s.id,name:(o=(i=s.aliases)==null?void 0:i[n])!=null?o:s.name,parameters:(a=s.uiTypeParameterMap[n])!=null?a:[]}))})}),t}const RA=Ew(Dw),PA=Ew(Iw);function OA(r){var t;const e=new Map;return(t=RA.get(r))==null||t.forEach(n=>{e.set(n.id,n)}),e}function Mw(r){var t;const e=new Map;return(t=PA.get(r))==null||t.forEach(n=>{e.set(n.id,n)}),e}function LA(r){const e=Iw.find(t=>t.id===r);if(e)return{id:e.id,name:e.name,hasAliases:!!e.aliases,hasParams:e.hasParams}}const NA=[{id:"truncate_to_day",name:"Year, Month, Day",appliesTo:[Ye.DateTime],returns:Ye.Text},{id:"truncate_to_year",name:"Year",appliesTo:[Ye.Date,Ye.DateTime],returns:Ye.Number},{id:"truncate_to_month",name:"Year, Month",appliesTo:[Ye.Date,Ye.DateTime],returns:Ye.Text},{id:"extract_uri_scheme",name:"URI scheme",appliesTo:[Ye.Uri],returns:Ye.Text},{id:"extract_uri_authority",name:"URI Authority",appliesTo:[Ye.Uri],returns:Ye.Text},{id:"extract_email_domain",name:"Domain",appliesTo:[Ye.Email],returns:Ye.Text}];function FA(){const r=Object.values(Ye),e=new Map;return r.forEach(t=>{e.has(t)||e.set(t,[]);const n=e.get(t);NA.forEach(l=>{l.appliesTo.includes(t)&&(n==null||n.push({id:l.id,name:l.name,returns:l.returns,possibleReturnValues:l.possibleReturnValues}))})}),e}const zA=FA();function Aw(r){var e;return(e=zA.get(r))!=null?e:[]}const HA=["distinct_aggregate_to_array","count","sum","median","mode","percentage_true","max","min","mean","peak_time","peak_month"];function up(r){return Object.fromEntries(Object.values(Ye).map(e=>[e,r]))}function fo(){return Object.fromEntries(Object.values(Ye).map(r=>[r,r]))}const VA={distinct_aggregate_to_array:{label:"List",inputOutputTypeMap:up(Ye.Array)},count:{label:"Count",inputOutputTypeMap:up(Ye.Number)},sum:{label:"Sum",inputOutputTypeMap:{[Ye.Number]:Ye.Number,[Ye.Money]:Ye.Money,[Ye.Duration]:Ye.Duration}},median:{label:"Median",inputOutputTypeMap:fo()},mode:{label:"Mode",inputOutputTypeMap:fo()},percentage_true:{label:"Percentage True",inputOutputTypeMap:{[Ye.Boolean]:Ye.Number}},max:{label:"Max",inputOutputTypeMap:fo()},min:{label:"Min",inputOutputTypeMap:fo()},mean:{label:"Mean",inputOutputTypeMap:{[Ye.Number]:Ye.Number,[Ye.Money]:Ye.Money,[Ye.Duration]:Ye.Duration}},peak_time:{label:"Peak time",inputOutputTypeMap:{[Ye.DateTime]:Ye.Time,[Ye.Time]:Ye.Time}},peak_month:{label:"Peak month",inputOutputTypeMap:{[Ye.DateTime]:Ye.Number,[Ye.Date]:Ye.Number}}};function qA(r){const e=[];for(const t of HA){const{label:n,inputOutputTypeMap:l}=VA[t],s=l[r];s&&e.push({id:t,label:n,inputType:r,outputType:s})}return e}const UA=new Set(["a","e","i","o","u"]);function cp(r){var e;return UA.has((e=r[0])==null?void 0:e.toLowerCase())?"an":"a"}function Rw(r){return r.length>1?r.replace(/s$/i,""):r}function Pw(r){var e,t;return((t=(e=r[0])==null?void 0:e.toLocaleUpperCase())!=null?t:"")+r.slice(1)}function WA(r){return r.split(" ").map(Pw).join(" ")}function Lc(r){if(typeof r=="number")return r;if(r instanceof Array)return r.length;if("size"in r)return r.size;if(typeof r=="object"&&typeof r[Symbol.iterator]=="function"){let e=0;for(const t of r)e+=1;return e}return 0}function BA(r,e="en-US"){return typeof Intl=="object"&&typeof Intl.PluralRules=="function"?new Intl.PluralRules(e).select(r):r===0?"zero":r===1?"one":r===2?"two":"many"}function jA(r,e="en-US"){return BA(Lc(r),e)}function ir(r,e){return{zero:e,one:r,two:e,few:e,many:e,other:e}}const YA={cells:ir("cell","cells"),columns:ir("column","columns"),explorations:ir("exploration","explorations"),filters:ir("filter","filters"),matches:ir("match","matches"),records:ir("record","records"),rows:ir("row","rows"),results:ir("result","results"),schemas:ir("schema","schemas"),tables:ir("table","tables"),times:ir("time","times"),values:ir("value","values")};function KA(r,e="lower"){switch(e){case"title":return WA(r);case"sentence":return Pw(r);default:return r}}function Er(r,e,t="lower"){const n=YA[e][jA(r)];return KA(n,t)}function GA(r,e,t){if(r===0){if(e==="numeric")return String(r);if("word"in e)return e.word;pn(e)}if(r===1){if(t==="numeric")return String(r);if(t==="hidden")return"";if("word"in t)return t.word;pn(t)}return String(r)}function Yt(r,e,{casing:t,countWhenZero:n="numeric",countWhenSingular:l="numeric"}={}){const s=Lc(r),i=GA(s,n,l),o=Er(s,e,t);return[i,o].filter(Boolean).join(" ")}function fp(r,e){const t=Lc(r);return t===1?"once":t===2?"twice":Yt(r,"times",{casing:e})}const Ow=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],["'","&#39;"],['"',"&quot;"]]),QA=new RegExp(`[${[...Ow.keys()].join("")}]`,"g");function XA(r){var e;return(e=Ow.get(r))!=null?e:""}function JA(r){return r.replace(QA,XA)}const ZA=/\{[0-9_a-z]+\}/g,Lw="\uF000",Nw=new RegExp(Lw,"g");function Fw(r){return r===void 0?"":r===null?Lw:typeof r=="string"?r:JSON.stringify(r)}function zw(r,e){function t(n){var l;return(l=e.get(n.slice(1,-1)))!=null?l:n}return r.replace(ZA,t)}function Nc(r){const e=Object.entries(r);return new vt(e.map(([t,n])=>[t,Fw(n)]))}function xA(r){const e=Object.entries(r.data);return new vt(e.map(([t,n])=>[t,zw(r.template,Nc(n))]))}function eR(r,e){return r.withEntries(e)}function Fc(r){return new vt(r.map(e=>[String(e.column),xA(e)]))}function mp(r,e){return r.withEntries(e,eR)}function Hw(r,e=Fw){return new vt([...r].map(([t,n])=>[String(t),e(n)]))}function Ma({template:r,inputData:e,transitiveData:t}){function n(l){var o;const s=e.get(l);if(s===void 0)return;const i=t.get(l);return i===void 0?s:(o=i.get(s))!=null?o:s}return zw(r,{get:n})}function tR({template:r,record:e,transitiveData:t}){const l=Object.entries(e).map(([i,o])=>[Number(i),o]),s=Hw(l);return Ma({template:r,inputData:s,transitiveData:t})}const nR="NULL",rR='<span class="postgres-keyword">NULL</span>';function lR(r){return r.replace(Nw,nR)}function dp(r){return JA(r).replace(Nw,rR)}class Vw{constructor(){re(this,"fetched",Ge(new vt));re(this,"bespoke",Ge(new vt));re(this,"combined");this.combined=at([this.bespoke,this.fetched],([e,t])=>mp(e,t))}subscribe(e,t){return this.combined.subscribe(e,t)}setFetchedSummaries(e){this.fetched.set(e)}addBespokeRecordSummary({columnId:e,recordId:t,recordSummary:n}){const l=new vt([[e,new vt([[t,n]])]]);this.bespoke.update(s=>mp(s,l))}}var zc={exports:{}},qw={exports:{}};(function(r){var e=function(t){var n=Object.prototype,l=n.hasOwnProperty,s,i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(H,ee,pe){return Object.defineProperty(H,ee,{value:pe,enumerable:!0,configurable:!0,writable:!0}),H[ee]}try{c({},"")}catch(H){c=function(ee,pe,ue){return ee[pe]=ue}}function f(H,ee,pe,ue){var ie=ee&&ee.prototype instanceof k?ee:k,me=Object.create(ie.prototype),Se=new oe(ue||[]);return me._invoke=K(H,pe,Se),me}t.wrap=f;function m(H,ee,pe){try{return{type:"normal",arg:H.call(ee,pe)}}catch(ue){return{type:"throw",arg:ue}}}var d="suspendedStart",_="suspendedYield",h="executing",b="completed",v={};function k(){}function T(){}function E(){}var P={};P[o]=function(){return this};var R=Object.getPrototypeOf,L=R&&R(R(te([])));L&&L!==n&&l.call(L,o)&&(P=L);var A=E.prototype=k.prototype=Object.create(P);T.prototype=A.constructor=E,E.constructor=T,T.displayName=c(E,u,"GeneratorFunction");function N(H){["next","throw","return"].forEach(function(ee){c(H,ee,function(pe){return this._invoke(ee,pe)})})}t.isGeneratorFunction=function(H){var ee=typeof H=="function"&&H.constructor;return ee?ee===T||(ee.displayName||ee.name)==="GeneratorFunction":!1},t.mark=function(H){return Object.setPrototypeOf?Object.setPrototypeOf(H,E):(H.__proto__=E,c(H,u,"GeneratorFunction")),H.prototype=Object.create(A),H},t.awrap=function(H){return{__await:H}};function F(H,ee){function pe(me,Se,$e,He){var we=m(H[me],H,Se);if(we.type==="throw")He(we.arg);else{var je=we.arg,Re=je.value;return Re&&typeof Re=="object"&&l.call(Re,"__await")?ee.resolve(Re.__await).then(function(Oe){pe("next",Oe,$e,He)},function(Oe){pe("throw",Oe,$e,He)}):ee.resolve(Re).then(function(Oe){je.value=Oe,$e(je)},function(Oe){return pe("throw",Oe,$e,He)})}}var ue;function ie(me,Se){function $e(){return new ee(function(He,we){pe(me,Se,He,we)})}return ue=ue?ue.then($e,$e):$e()}this._invoke=ie}N(F.prototype),F.prototype[a]=function(){return this},t.AsyncIterator=F,t.async=function(H,ee,pe,ue,ie){ie===void 0&&(ie=Promise);var me=new F(f(H,ee,pe,ue),ie);return t.isGeneratorFunction(ee)?me:me.next().then(function(Se){return Se.done?Se.value:me.next()})};function K(H,ee,pe){var ue=d;return function(me,Se){if(ue===h)throw new Error("Generator is already running");if(ue===b){if(me==="throw")throw Se;return ne()}for(pe.method=me,pe.arg=Se;;){var $e=pe.delegate;if($e){var He=W($e,pe);if(He){if(He===v)continue;return He}}if(pe.method==="next")pe.sent=pe._sent=pe.arg;else if(pe.method==="throw"){if(ue===d)throw ue=b,pe.arg;pe.dispatchException(pe.arg)}else pe.method==="return"&&pe.abrupt("return",pe.arg);ue=h;var we=m(H,ee,pe);if(we.type==="normal"){if(ue=pe.done?b:_,we.arg===v)continue;return{value:we.arg,done:pe.done}}else we.type==="throw"&&(ue=b,pe.method="throw",pe.arg=we.arg)}}}function W(H,ee){var pe=H.iterator[ee.method];if(pe===s){if(ee.delegate=null,ee.method==="throw"){if(H.iterator.return&&(ee.method="return",ee.arg=s,W(H,ee),ee.method==="throw"))return v;ee.method="throw",ee.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var ue=m(pe,H.iterator,ee.arg);if(ue.type==="throw")return ee.method="throw",ee.arg=ue.arg,ee.delegate=null,v;var ie=ue.arg;if(!ie)return ee.method="throw",ee.arg=new TypeError("iterator result is not an object"),ee.delegate=null,v;if(ie.done)ee[H.resultName]=ie.value,ee.next=H.nextLoc,ee.method!=="return"&&(ee.method="next",ee.arg=s);else return ie;return ee.delegate=null,v}N(A),c(A,u,"Generator"),A[o]=function(){return this},A.toString=function(){return"[object Generator]"};function j(H){var ee={tryLoc:H[0]};1 in H&&(ee.catchLoc=H[1]),2 in H&&(ee.finallyLoc=H[2],ee.afterLoc=H[3]),this.tryEntries.push(ee)}function Y(H){var ee=H.completion||{};ee.type="normal",delete ee.arg,H.completion=ee}function oe(H){this.tryEntries=[{tryLoc:"root"}],H.forEach(j,this),this.reset(!0)}t.keys=function(H){var ee=[];for(var pe in H)ee.push(pe);return ee.reverse(),function ue(){for(;ee.length;){var ie=ee.pop();if(ie in H)return ue.value=ie,ue.done=!1,ue}return ue.done=!0,ue}};function te(H){if(H){var ee=H[o];if(ee)return ee.call(H);if(typeof H.next=="function")return H;if(!isNaN(H.length)){var pe=-1,ue=function ie(){for(;++pe<H.length;)if(l.call(H,pe))return ie.value=H[pe],ie.done=!1,ie;return ie.value=s,ie.done=!0,ie};return ue.next=ue}}return{next:ne}}t.values=te;function ne(){return{value:s,done:!0}}return oe.prototype={constructor:oe,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(Y),!H)for(var ee in this)ee.charAt(0)==="t"&&l.call(this,ee)&&!isNaN(+ee.slice(1))&&(this[ee]=s)},stop:function(){this.done=!0;var H=this.tryEntries[0],ee=H.completion;if(ee.type==="throw")throw ee.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var ee=this;function pe(He,we){return me.type="throw",me.arg=H,ee.next=He,we&&(ee.method="next",ee.arg=s),!!we}for(var ue=this.tryEntries.length-1;ue>=0;--ue){var ie=this.tryEntries[ue],me=ie.completion;if(ie.tryLoc==="root")return pe("end");if(ie.tryLoc<=this.prev){var Se=l.call(ie,"catchLoc"),$e=l.call(ie,"finallyLoc");if(Se&&$e){if(this.prev<ie.catchLoc)return pe(ie.catchLoc,!0);if(this.prev<ie.finallyLoc)return pe(ie.finallyLoc)}else if(Se){if(this.prev<ie.catchLoc)return pe(ie.catchLoc,!0)}else if($e){if(this.prev<ie.finallyLoc)return pe(ie.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(H,ee){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var ue=this.tryEntries[pe];if(ue.tryLoc<=this.prev&&l.call(ue,"finallyLoc")&&this.prev<ue.finallyLoc){var ie=ue;break}}ie&&(H==="break"||H==="continue")&&ie.tryLoc<=ee&&ee<=ie.finallyLoc&&(ie=null);var me=ie?ie.completion:{};return me.type=H,me.arg=ee,ie?(this.method="next",this.next=ie.finallyLoc,v):this.complete(me)},complete:function(H,ee){if(H.type==="throw")throw H.arg;return H.type==="break"||H.type==="continue"?this.next=H.arg:H.type==="return"?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):H.type==="normal"&&ee&&(this.next=ee),v},finish:function(H){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var pe=this.tryEntries[ee];if(pe.finallyLoc===H)return this.complete(pe.completion,pe.afterLoc),Y(pe),v}},catch:function(H){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var pe=this.tryEntries[ee];if(pe.tryLoc===H){var ue=pe.completion;if(ue.type==="throw"){var ie=ue.arg;Y(pe)}return ie}}throw new Error("illegal catch attempt")},delegateYield:function(H,ee,pe){return this.delegate={iterator:te(H),resultName:ee,nextLoc:pe},this.method==="next"&&(this.arg=s),v}},t}(r.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}})(qw);(function(r){r.exports=qw.exports})(zc);var Zn={},Uw={exports:{}};(function(r){function e(t,n,l){return n in t?Object.defineProperty(t,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[n]=l,t}r.exports=e,r.exports.default=r.exports,r.exports.__esModule=!0})(Uw);var Hc={exports:{}},Ww={exports:{}},Vc={exports:{}};(function(r){function e(t,n){(n==null||n>t.length)&&(n=t.length);for(var l=0,s=new Array(n);l<n;l++)s[l]=t[l];return s}r.exports=e,r.exports.default=r.exports,r.exports.__esModule=!0})(Vc);(function(r){var e=Vc.exports;function t(n){if(Array.isArray(n))return e(n)}r.exports=t,r.exports.default=r.exports,r.exports.__esModule=!0})(Ww);var Bw={exports:{}};(function(r){function e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}r.exports=e,r.exports.default=r.exports,r.exports.__esModule=!0})(Bw);var jw={exports:{}};(function(r){var e=Vc.exports;function t(n,l){if(!!n){if(typeof n=="string")return e(n,l);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return e(n,l)}}r.exports=t,r.exports.default=r.exports,r.exports.__esModule=!0})(jw);var Yw={exports:{}};(function(r){function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}r.exports=e,r.exports.default=r.exports,r.exports.__esModule=!0})(Yw);(function(r){var e=Ww.exports,t=Bw.exports,n=jw.exports,l=Yw.exports;function s(i){return e(i)||t(i)||n(i)||l()}r.exports=s,r.exports.default=r.exports,r.exports.__esModule=!0})(Hc);var qc={},Uc={};function sR(r){return typeof r<"u"}Uc.notUndefined=sR;var iR=Uc,oR=iR.notUndefined;function aR(r){return r!=null&&oR(r[Symbol.iterator])}qc.isIterable=aR;var Kw={};Kw.isLoopable=qc.isIterable;var Gw={},uR=Uc,cR=uR.notUndefined;function fR(r){return r==null||cR(r[Symbol.iterator])}Gw.isWrappable=fR;var Wc={},Aa=zc.exports,mR=Aa.mark(Qw),dR=Aa.mark(Xw);function Qw(r){return Aa.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(r,"t0",1);case 1:case"end":return t.stop()}},mR)}Wc.wrap=Qw;function Xw(r){return Aa.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r==null){t.next=2;break}return t.delegateYield(r,"t0",2);case 2:case"end":return t.stop()}},dR)}Wc.nullableWrap=Xw;var Bc={},Bo=Hc.exports;function Jw(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.length,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return function(){for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return e<=l.length?r.apply(void 0,Bo(t).concat(l)):Jw(r,e-l.length,[].concat(Bo(t),l))}}Bc.curry=Jw;function pR(r,e){var t=r.fn,n=r.validateArgs,l=r.variadic,s=r.reduces,i=r.growRight,o=r.minArgs,a=r.maxArgs,u=r.isIterable,c=r.iterableType,f=r.applyOnIterableArgs,m=r.IterableClass;if(e.length>o){var d=!0,_=l?e.findIndex(function(P,R){return u(P)&&R>=o}):Math.min(a,e.length-1),h=l?e.length:_+1;if(l)for(var b=_;b<e.length;b++)d=d&&u(e[b]);else d=u(e[_]);if(e.length>a&&(_===-1||!d)){var v=l?"...".concat(c,"s"):c,k="".concat(t.name," takes up to ").concat(a," arguments, followed by ").concat(v,". ")+"You already passed ".concat(e.length," arguments");throw l?new Error("".concat(k," and the following arguments were not all ").concat(c,"s")):new Error("".concat(k," and the last argument was not ").concat(c))}if(_>=0&&d){for(var T=_;T<h;T++)e[T]=f(e[T]);var E=l?e.slice(_):e[_];return e.splice(_),i||e.reverse(),e.unshift(E),n(e),s?t.apply(void 0,Bo(e)):new m(t,e)}}return Zw(r,e)}function Zw(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return function(){for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];if(n.length===0)throw new Error("Cannot make a partial application with no arguments");return n.unshift.apply(n,Bo(e)),pR(r,n)}}Bc.variadicCurryWithValidation=Zw;var Ra={},_R=Symbol.for("_");Ra._=_R;var gR=Symbol("__iterate");Ra.__iterate=gR;var hR=Symbol("split");Ra.split=hR;var ei=Uw.exports,xw=Hc.exports,ns,bR=qc,ev=bR.isIterable,$R=Kw,wR=$R.isLoopable,vR=Gw,jc=vR.isWrappable,kR=Wc,tv=kR.nullableWrap,yR=Bc,SR=yR.variadicCurryWithValidation,nv=Ra,ti=nv._,ni=nv.__iterate;Zn.wrap=tv;Zn.isIterable=ev;Zn.isLoopable=wR;Zn.isWrappable=jc;function rv(r){if(jc(r))return ev(r)?r:tv(r);throw typeof r.next=="function"?new TypeError("iter-tools received a value that looked like an iterator but was not iterable. Get help fixing this: https://github.com/iter-tools/iter-tools/wiki/Making-iterators-iterable"):new TypeError("Expected an iterable, null, or undefined")}Zn.ensureIterable=rv;function CR(r){"return"in r&&r.return()}Zn.callReturn=CR;function vi(r,e){this[ti]={fn:r,args:e,staticIterator:null}}Zn.BaseIterableIterator=vi;Object.assign(vi.prototype,(ns={constructor:vi},ei(ns,ni,function(){var r=this[ti],e=r.fn,t=r.args;return e.apply(void 0,xw(t))}),ei(ns,"next",function(){var e=this[ti];return e.staticIterator=e.staticIterator||this[ni](),e.staticIterator.next()}),ei(ns,"return",function(e){var t=this[ti];return t.staticIterator=t.staticIterator||this[ni](),t.staticIterator.return(e)}),ei(ns,"throw",function(e){var t=this[ti];return t.staticIterator=t.staticIterator||this[ni](),t.staticIterator.throw(e)}),ns));function ki(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];vi.apply(this,e)}Zn.IterableIterator=ki;ki.prototype=Object.assign(Object.create(vi.prototype),ei({constructor:ki},Symbol.iterator,function(){return this[ni]()}));function TR(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.validateArgs,n=t===void 0?function(b){}:t,l=e.variadic,s=l===void 0?!1:l,i=e.reduces,o=i===void 0?!1:i,a=e.growRight,u=a===void 0?!1:a,c=e.minArgs,f=c===void 0?r.length-1:c,m=e.maxArgs,d=m===void 0?r.length-1:m,_=e.applyOnIterableArgs,h=_===void 0?rv:_;return{fn:r,validateArgs:n,variadic:s,reduces:o,growRight:u,minArgs:f,maxArgs:d,isIterable:jc,iterableType:"iterable",applyOnIterableArgs:h,IterableClass:ki}}function DR(r){return xw(r)}Zn.cache=DR;function IR(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.validateArgs,n=t===void 0?function(l){return l}:t;return function(){for(var l=arguments.length,s=new Array(l),i=0;i<l;i++)s[i]=arguments[i];return n(s),new ki(r,s)}}Zn.wrapWithIterableIterator=IR;var ER=function(e,t){return SR(TR(e,t))};Zn.iterableCurry=ER;var Yc={},lv=zc.exports,MR=lv.mark(Kc),sv=Zn,AR=sv.wrapWithIterableIterator,RR=sv.ensureIterable;function Kc(){var r,e,t,n,l,s,i=arguments;return lv.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(r=i.length,e=new Array(r),t=0;t<r;t++)e[t]=i[t];n=0,l=e;case 2:if(!(n<l.length)){a.next=8;break}return s=l[n],a.delegateYield(RR(s),"t0",5);case 5:n++,a.next=2;break;case 8:case"end":return a.stop()}},MR)}Yc.__concat=Kc;var PR=AR(Kc);Yc.concat=PR;var Gc={},Qc={};function OR(r,e){var t;if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(t=LR(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,l=function(){};return{s:l,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(u){throw u},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,i=!1,o;return{s:function(){t=r[Symbol.iterator]()},n:function(){var u=t.next();return s=u.done,u},e:function(u){i=!0,o=u},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(i)throw o}}}}function LR(r,e){if(!!r){if(typeof r=="string")return pp(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pp(r,e)}}function pp(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var NR=Zn,FR=NR.iterableCurry;function iv(r,e){var t=e,n=OR(r),l;try{for(n.s();!(l=n.n()).done;){var s=l.value;t=s}}catch(i){n.e(i)}finally{n.f()}return t}Qc.__takeLastOr=iv;var zR=FR(iv,{reduces:!0});Qc.takeLastOr=zR;var HR=Zn,VR=HR.iterableCurry,qR=Qc,UR=qR.__takeLastOr;function ov(r){return UR(r,void 0)}Gc.__takeLast=ov;var WR=VR(ov,{reduces:!0});Gc.takeLast=WR;var BR=Yc.concat;const jR=BR;var YR=Gc.takeLast;const KR=YR,jo=-1,Xu=-2,Ju="::";function Yo(r,e){return`${String(r)}${Ju}${e}`}function si(r){return r.split(Ju).slice(0,-1).join(Ju)}const GR="This row contains a cell with an error.";function QR({cellClientSideErrors:r,cellModificationStatus:e,rowCreationStatus:t,rowDeletionStatus:n}){const l=[...r.keys()].map(si),s=[...e].reduce((c,[f,m])=>m.state==="failure"?c.with(si(f)):c,new Hr),i=new vt([...l,...s].map(c=>[c,{errorsFromWholeRowAndCells:[GR]}])),o=t.withEntries(n).mapValues(c=>({wholeRowState:c.state,errorsFromWholeRowAndCells:c.state==="failure"?c.errors:[]}));function a(c,f){var m,d,_;return{wholeRowState:(m=c.wholeRowState)!=null?m:f.wholeRowState,errorsFromWholeRowAndCells:[...(d=c.errorsFromWholeRowAndCells)!=null?d:[],...(_=f.errorsFromWholeRowAndCells)!=null?_:[]]}}function u(c){return{errorsFromWholeRowAndCells:[],...c}}return i.withEntries(o,a).mapValues(u)}function XR(r){const e=jR(r.cellModificationStatus.values(),r.rowCreationStatus.values(),r.rowDeletionStatus.values());return EE(e)}function JR(r,e){const t=[];return r===null&&!e.nullable&&t.push("Cell value cannot be NULL for this column."),r===void 0&&!e.default&&t.push("This column requires an initial value."),t}function ZR({cellValue:r,column:e,cellKey:t,cellClientSideErrors:n}){const l=JR(r,e);l.length?n.set(t,l):n.delete(t)}function xR({row:r,rowKey:e,columns:t,cellClientSideErrors:n}){t.forEach(l=>{ZR({cellValue:r.record[String(l.id)],column:l,cellKey:Yo(e,l.id),cellClientSideErrors:n})})}function eP(r){var n;const t={...{...r.pagination.recordsRequestParams(),...r.sorting.recordsRequestParamsIncludingGrouping(r.grouping),...r.grouping.recordsRequestParams(),...r.filtering.recordsRequestParams(),...r.searchFuzzy.recordsRequestParams()},...(n=r.shareConsumer)==null?void 0:n.getQueryParams()};return lw(t)}function tP(r){return{count:r.count,eqValue:r.eq_value,firstValue:r.first_value,lastValue:r.last_value,resultIndices:r.result_indices}}function nP(r){var e,t;return{columnIds:r.columns,preprocIds:(e=r.preproc)!=null?e:[],mode:r.mode,groups:((t=r.groups)!=null?t:[]).map(tP)}}function Cr(r){return"record"in r}function Xc(r){return"record"in r&&"isNew"in r&&r.isNew}function av(r){return"isNewHelpText"in r}function ii(r){return"group"in r}function Tr(r){return"isAddPlaceholder"in r}function as(r){return Xc(r)&&!Tr(r)}function rP(r){return r.filter(e=>Cr(e))}function _p(r){return Cr(r)&&Object.entries(r.record).length>0}function Kr(r,e){if(Cr(r)&&e!==void 0){const t=r.record[e];if(mn(t))return String(t)}return r.identifier}function Jc(r,e){const t=e.find(l=>l.primary_key);if(!t)throw new Error("No primary key column found.");const n=r[t.id];if(!(typeof n=="string"||typeof n=="number"))throw new Error("Primary key value is not a string or number.");return n}function Ko(r,e,t){return`__${e}_${r}_${t}`}function gp(r,e,t){return{record:r,identifier:Ko("normal",t,e),rowIndex:e}}function lP({records:r,offset:e,grouping:t}){var s;if(((s=t==null?void 0:t.columnIds)!=null?s:[]).length>0){const i=[];let o=0;return t==null||t.groups.forEach((a,u)=>{const c={};t.columnIds.forEach(f=>{a.eqValue[f]!==void 0?c[f]=a.eqValue[f]:c[f]=a.firstValue[f]}),i.push({group:a,identifier:Ko("groupHeader",e,u),groupValues:c}),a.resultIndices.forEach(f=>{const m=r[f];i.push(gp(m,o,e)),o+=1})}),i}return r.map((i,o)=>gp(i,o,e))}class sP{constructor({tableId:e,meta:t,columnsDataStore:n,contextualFilters:l,shareConsumer:s}){re(this,"tableId");re(this,"url");re(this,"meta");re(this,"columnsDataStore");re(this,"state");re(this,"savedRecords");re(this,"savedRecordRowsWithGroupHeaders");re(this,"newRecords");re(this,"recordSummaries",new Vw);re(this,"grouping");re(this,"totalCount");re(this,"error");re(this,"promise");re(this,"createPromises");re(this,"updatePromises");re(this,"fetchCallback");re(this,"requestParamsUnsubscriber");re(this,"contextualFilters");re(this,"shareConsumer");this.tableId=e,this.shareConsumer=s,this.state=Ge(St.Loading),this.savedRecordRowsWithGroupHeaders=Ge([]),this.newRecords=Ge([]),this.savedRecords=at(this.savedRecordRowsWithGroupHeaders,i=>i.filter(o=>!ii(o))),this.grouping=Ge(void 0),this.totalCount=Ge(void 0),this.error=Ge(void 0),this.meta=t,this.columnsDataStore=n,this.contextualFilters=l,this.url=`/api/db/v0/tables/${this.tableId}/records/`,this.fetch(),this.requestParamsUnsubscriber=this.meta.recordsRequestParamsData.subscribe(()=>{this.fetch()})}async fetch(e=!1){var n,l;(n=this.promise)==null||n.cancel();const{offset:t}=Qe(this.meta.pagination);this.savedRecordRowsWithGroupHeaders.update(s=>{let i=[...s];i.length=Math.min(i.length,Qe(this.meta.pagination).size);let o=-1;return i=i.map(a=>(o+=1,!e||!a?{state:"loading",identifier:Ko("dummy",t,o),rowIndex:o,record:{}}:a)),i}),this.error.set(void 0),e||(this.state.set(St.Loading),this.newRecords.set([]),this.meta.clearAllStatusesAndErrors());try{const s=Qe(this.meta.recordsRequestParamsData),i=[...this.contextualFilters].map(([d,_])=>({columnId:d,conditionId:"equal",value:_})),o=eP({...s,filtering:s.filtering.withEntries(i),shareConsumer:this.shareConsumer});this.promise=dn(`${this.url}?${o}`);const a=await this.promise,u=a.count||0,c=a.grouping?nP(a.grouping):void 0;a.preview_data&&this.recordSummaries.setFetchedSummaries(Fc(a.preview_data));const f=lP({records:a.results,offset:t,grouping:c}),m={state:St.Done,savedRecordRowsWithGroupHeaders:f,grouping:c,totalCount:u};return this.savedRecordRowsWithGroupHeaders.set(f),this.state.set(St.Done),this.grouping.set(c),this.totalCount.set(u),this.error.set(void 0),(l=this.fetchCallback)==null||l.call(this,m),m}catch(s){this.state.set(St.Error),this.error.set(s instanceof Error?s.message:"Unable to load records")}}async deleteSelected(e){const t=this.getRecordRows(),n=Qe(this.columnsDataStore.pkColumn),l=[],s=[];e.forEach(d=>{const _=t[d];if(_){const h=Kr(_,n==null?void 0:n.id);(n==null?void 0:n.id)&&mn(_.record[n==null?void 0:n.id])?l.push(h):s.push(h)}});const i=[...l,...s];if(i.length===0)return;this.meta.rowDeletionStatus.setMultiple(i,{state:"processing"});const o=new Set,a=new Map;s.length>0&&s.forEach(d=>o.add(d));const u=l;let c=o.size>0;if(u.length>0){const d=[...u],_=`/api/ui/v0/tables/${this.tableId}/records/delete/`;try{await gl(_,{pks:d}),u.forEach(h=>o.add(h))}catch(h){a.set(u.join(","),en(h))}c=!0}const f=Qe(this.savedRecords),m=new Set(f.map(d=>Kr(d,n==null?void 0:n.id)));if(this.newRecords.set([]),c&&await this.fetch(!0),this.meta.rowCreationStatus.delete(Array.from(m,String)),this.meta.clearAllStatusesAndErrorsForRows([...o]),this.meta.rowDeletionStatus.setEntries([...a.entries()].map(([d,_])=>[d,{state:"failure",errors:[_]}])),this.meta.rowDeletionStatus.clear(),a.size>0){const d=`Unable to delete ${Er(u,"rows")}.`,_=[...a.values()].join(`
`);throw new Error(`${d} ${_}`)}}async updateCell(e,t){var u,c;const{record:n}=e,l=Qe(this.columnsDataStore.pkColumn);if(l===void 0)return console.error("Unable to update record for a row without a primary key"),e;const s=n[l.id];if(s===void 0)return console.error("Unable to update record for a row with a missing primary key value"),e;const i=Kr(e,l.id),o=Yo(i,t.id);this.meta.cellModificationStatus.set(o,{state:"processing"}),(c=(u=this.updatePromises)==null?void 0:u.get(o))==null||c.cancel();const a=Rr(`${this.url}${String(s)}/`,{[t.id]:n[t.id]});this.updatePromises||(this.updatePromises=new Map),this.updatePromises.set(o,a);try{const f=await a;return this.meta.cellModificationStatus.set(o,{state:"success"}),{...e,record:f.results[0]}}catch(f){this.meta.cellModificationStatus.set(o,{state:"failure",errors:[`Unable to save cell. ${en(f)}`]})}finally{this.updatePromises.get(o)===a&&this.updatePromises.delete(o)}return e}getNewEmptyRecord(){const{offset:e}=Qe(this.meta.pagination),t=this.getRecordRows(),n=Ko("new",e,fl());return{record:Object.fromEntries(Qe(this.columnsDataStore.columns).filter(i=>i.default===null).map(i=>[String(i.id),null])),identifier:n,isNew:!0,rowIndex:t.length}}async createRecord(e){var a,u;const t=Qe(this.columnsDataStore.pkColumn),n=Qe(this.columnsDataStore.columns),l=Kr(e,t==null?void 0:t.id);if(xR({row:e,rowKey:l,columns:n,cellClientSideErrors:this.meta.cellClientSideErrors}),Qe(this.meta.rowsWithClientSideErrors).has(l))return e;const s=Kr(e,t==null?void 0:t.id);this.meta.rowCreationStatus.set(s,{state:"processing"}),(u=(a=this.createPromises)==null?void 0:a.get(s))==null||u.cancel();const i={...Object.fromEntries(this.contextualFilters),...e.record},o=un(this.url,i);this.createPromises||(this.createPromises=new Map),this.createPromises.set(s,o);try{const f=(await o).results[0];let m={...e,record:f};if(Tr(m)){const{isAddPlaceholder:_,...h}=m;m=h}const d=Kr(m,t==null?void 0:t.id);return this.meta.rowCreationStatus.delete(s),this.meta.rowCreationStatus.set(d,{state:"success"}),this.newRecords.update(_=>_.map(h=>h.identifier===e.identifier?m:h)),this.totalCount.update(_=>(_!=null?_:0)+1),m}catch(c){this.meta.rowCreationStatus.set(s,{state:"failure",errors:[en(c)]})}finally{this.createPromises.get(s)===o&&this.createPromises.delete(s)}return e}async createOrUpdateRecord(e,t){const n=Qe(this.columnsDataStore.pkColumn);!Qe(this.newRecords).find(i=>i.identifier===e.identifier)&&Tr(e)&&this.newRecords.update(i=>{const{isAddPlaceholder:o,...a}=e;return[...i,a]});let s;return(n==null?void 0:n.id)&&Xc(e)&&e.record[n==null?void 0:n.id]===void 0?s=await this.createRecord(e):s=await this.updateCell(e,t),s}async addEmptyRecord(){const e=this.getNewEmptyRecord();this.newRecords.update(t=>t.concat(e)),await this.createRecord(e)}getRecordRows(){return[...Qe(this.savedRecords),...Qe(this.newRecords)]}destroy(){var e;(e=this.promise)==null||e.cancel(),this.promise=void 0,this.requestParamsUnsubscriber()}}function iP(r){return{get(e){const t=Mc(r,e);return dn(t)},add(e){return un(r,e)},remove(e){return gl(`${r}${e}/`)},update(e,t){return Rr(`${r}${e}/`,t)}}}class Zc extends K4{constructor({tableId:t,hiddenColumns:n,shareConsumer:l}){super();re(this,"tableId");re(this,"promise");re(this,"api");re(this,"fetchedColumns",Ge([]));re(this,"fetchStatus",Ge(void 0));re(this,"hiddenColumns");re(this,"columns");re(this,"pkColumn");re(this,"shareConsumer");this.tableId=t,this.shareConsumer=l,this.api=iP(`/api/db/v0/tables/${this.tableId}/columns/`),this.hiddenColumns=new vo(n),this.columns=at([this.fetchedColumns,this.hiddenColumns],([s,i])=>s.filter(o=>!i.has(o.id))),this.pkColumn=at(this.fetchedColumns,s=>s.find(i=>i.primary_key)),this.fetch()}async fetch(){var t,n;try{this.fetchStatus.set({state:"processing"}),(t=this.promise)==null||t.cancel(),this.promise=this.api.get({limit:500,...(n=this.shareConsumer)==null?void 0:n.getQueryParams()});const s=(await this.promise).results;return this.fetchedColumns.set(s),this.fetchStatus.set({state:"success"}),await this.dispatch("columnsFetched",s),s}catch(l){this.fetchStatus.set({state:"failure",errors:[en(l)]});return}finally{this.promise=void 0}}async add(t){const n=await this.api.add(t);return await this.dispatch("columnAdded",n),await this.fetch(),n}async rename(t,n){await this.api.update(t,{name:n}),await this.dispatch("columnRenamed",t)}async setNullabilityOfColumn(t,n){if(t.primary_key)throw new Error(`Column "${t.name}" cannot allow NULL because it is a primary key.`);await this.api.update(t.id,{nullable:n}),await this.fetch()}async patch(t,n){const l=await this.api.update(t,{...n});return await this.fetch(),await this.dispatch("columnPatched",l),l}destroy(){var t;(t=this.promise)==null||t.cancel(),this.promise=void 0,super.destroy()}async deleteColumn(t){await this.api.remove(t),await this.dispatch("columnDeleted",t),await this.fetch()}}const oP=500;class Mr{constructor({page:e,size:t}={}){re(this,"page");re(this,"size");re(this,"offset");re(this,"leftBound");re(this,"rightBound");this.page=e!=null?e:1,this.size=t!=null?t:oP,this.offset=(this.page-1)*this.size,this.leftBound=this.offset+1,this.rightBound=this.offset+this.size}recordsRequestParams(){return{limit:this.size,offset:this.offset}}terse(){return[this.page,this.size]}static fromTerse(e){return new Mr({page:e[0],size:e[1]})}}class Pa{static encode(e){return btoa(unescape(encodeURIComponent(e))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}static decode(e){const t=e.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(escape(atob(t)))}}function aP(r){const e=[{column_id:[r.columnId]}];return typeof r.value<"u"&&e.push({literal:[r.value]}),{[r.conditionId]:e}}function uP(r){return[r.columnId,r.conditionId,r.value]}function cP(r){return{columnId:r[0],conditionId:r[1],value:r[2]}}const xc=["and","or"],Zu=xc[0];class Xr{constructor({combination:e,entries:t}={}){re(this,"combination");re(this,"entries");this.combination=e!=null?e:Zu,this.entries=t!=null?t:[]}withEntries(e){return new Xr({combination:this.combination,entries:[...this.entries,...e]})}withEntry(e){return this.withEntries([e])}withoutEntry(e){return new Xr({combination:this.combination,entries:[...this.entries.slice(0,e),...this.entries.slice(e+1)]})}withoutColumns(e){return new Xr({combination:this.combination,entries:this.entries.filter(t=>!e.includes(t.columnId))})}withCombination(e){return new Xr({combination:e,entries:this.entries})}equals(e){if(this.entries.length!==e.entries.length||this.combination!==e.combination)return!1;for(let t=0;t<e.entries.length;t+=1){const n=this.entries[t],l=e.entries[t];if(n.columnId!==l.columnId||n.conditionId!==l.conditionId||n.value!==l.value)return!1}return!0}recordsRequestParams(){if(!this.entries.length)return{};const e=this.entries.map(aP);return e.length===1?{filter:e[0]}:{filter:this.combination==="and"?{and:e}:{or:e}}}terse(){return[this.combination,this.entries.map(uP)]}static fromTerse(e){var t;return new Xr({combination:(t=xc.find(n=>n===e[0]))!=null?t:Zu,entries:e[1].map(cP)})}}class Gr{constructor({entries:e}={}){re(this,"entries");this.entries=e!=null?e:[]}hasColumn(e){return this.entries.some(t=>t.columnId===e)}withEntry(e){return new Gr({entries:[...this.entries,e]})}withReplacedEntry(e,t){return new Gr({entries:this.entries.map((n,l)=>l===e?t:n)})}withoutEntry(e){return new Gr({entries:[...this.entries.slice(0,e),...this.entries.slice(e+1)]})}withoutColumns(e){return new Gr({entries:this.entries.filter(t=>!e.includes(t.columnId))})}withPreprocForColumn(e,t){return new Gr({entries:this.entries.map(n=>n.columnId===e?{columnId:e,preprocFnId:t}:n)})}recordsRequestParams(){var t;if(!this.entries.length)return{};const e={columns:[],preproc:[]};return this.entries.forEach(n=>{var l,s;e.columns.push(n.columnId),(s=e.preproc)==null||s.push((l=n.preprocFnId)!=null?l:null)}),(t=e.preproc)!=null&&t.every(n=>!mn(n))&&(e.preproc=null),{grouping:e}}terse(){return this.entries.map(e=>e.preprocFnId?[e.columnId,e.preprocFnId]:[e.columnId])}static fromTerse(e){return new Gr({entries:e.map(t=>{var n;return{columnId:t[0],preprocFnId:(n=t[1])!=null?n:void 0}})})}}const uv=["ASCENDING","DESCENDING"];function cv(r,e){return e?{ASCENDING:"Ascending ID",DESCENDING:"Descending ID"}:["string","uri"].includes(r)?{ASCENDING:"A-Z",DESCENDING:"Z-A"}:["date","datetime","time"].includes(r)?{ASCENDING:"Oldest-Newest",DESCENDING:"Newest-Oldest"}:["number"].includes(r)?{ASCENDING:"0-9",DESCENDING:"9-0"}:{ASCENDING:"Ascending",DESCENDING:"Descending"}}function fP(r){return uv.includes(r)}const mP=new Map([["ASCENDING","asc"],["DESCENDING","desc"]]);function dP(r){const e=mP.get(r);if(!e)throw new Error(`Invalid sort direction: ${r}`);return e}class yi extends vt{constructor(e=[]){[...e].forEach(([,t])=>{if(!fP(t))throw new Error(`Invalid sort direction: ${t}`)}),super(e)}recordsRequestParams(){const e=[...this].map(([t,n])=>({field:t,direction:dP(n)}));return e.length?{order_by:e}:{}}recordsRequestParamsIncludingGrouping(e){return new yi(e.entries.map(n=>[n.columnId,"ASCENDING"])).withEntries(this).recordsRequestParams()}terse(){return[...this].map(([e,t])=>[e,t])}static fromTerse(e){return new yi(e.map(([t,n])=>[t,n]))}}function pP(r){return typeof r=="string"?r.trim().length>0:r!=null}class _P extends vt{constructor(e=[]){super(e),this.valueIsValid=pP}recordsRequestParams(){return this.size===0?{}:{search_fuzzy:[...this].map(([e,t])=>({field:e,literal:t}))}}}function ef(r){var e,t,n,l;return{pagination:(e=r==null?void 0:r.pagination)!=null?e:new Mr,sorting:(t=r==null?void 0:r.sorting)!=null?t:new yi,grouping:(n=r==null?void 0:r.grouping)!=null?n:new Gr,filtering:(l=r==null?void 0:r.filtering)!=null?l:new Xr}}function gP(r){return{pagination:Mr.fromTerse(r[0]),sorting:yi.fromTerse(r[1]),grouping:Gr.fromTerse(r[2]),filtering:Xr.fromTerse(r[3])}}function hP(r){const e=ef(r);return[e.pagination.terse(),e.sorting.terse(),e.grouping.terse(),e.filtering.terse()]}function fv(r){return Pa.encode(JSON.stringify(hP(r)))}function bP(r){return gP(JSON.parse(Pa.decode(r)))}const $P=fv(ef());class Xl{constructor(e){re(this,"pagination");re(this,"sorting");re(this,"grouping");re(this,"filtering");re(this,"searchFuzzy");re(this,"cellClientSideErrors",new os);re(this,"rowsWithClientSideErrors");re(this,"cellModificationStatus",new os);re(this,"rowDeletionStatus",new os);re(this,"rowCreationStatus",new os);re(this,"rowStatus");re(this,"sheetState");re(this,"serialization");re(this,"recordsRequestParamsData");const t=ef(e);this.pagination=Ge(t.pagination),this.sorting=Ge(t.sorting),this.grouping=Ge(t.grouping),this.filtering=Ge(t.filtering),this.searchFuzzy=Ge(new _P),this.rowsWithClientSideErrors=at(this.cellClientSideErrors,n=>new Hr([...n.keys()].map(si))),this.rowStatus=at([this.cellClientSideErrors,this.cellModificationStatus,this.rowDeletionStatus,this.rowCreationStatus],([n,l,s,i])=>QR({cellClientSideErrors:n,cellModificationStatus:l,rowDeletionStatus:s,rowCreationStatus:i})),this.sheetState=at([this.cellModificationStatus,this.rowDeletionStatus,this.rowCreationStatus],([n,l,s])=>XR({cellModificationStatus:n,rowDeletionStatus:l,rowCreationStatus:s})),this.serialization=at([this.pagination,this.sorting,this.grouping,this.filtering],([n,l,s,i])=>{const o=fv({pagination:n,sorting:l,grouping:s,filtering:i});return o===$P?"":o}),this.recordsRequestParamsData=at([this.pagination,this.sorting,this.grouping,this.filtering,this.searchFuzzy],([n,l,s,i,o])=>({pagination:n,sorting:l,grouping:s,filtering:i,searchFuzzy:o}))}clearAllStatusesAndErrorsForRows(e){this.rowCreationStatus.delete(e),this.rowDeletionStatus.delete(e);const t=new Set(e);this.cellClientSideErrors.delete([...this.cellClientSideErrors.getKeys()].filter(([n])=>t.has(si(n)))),this.cellModificationStatus.delete([...this.cellModificationStatus.getKeys()].filter(([n])=>t.has(si(n))))}clearAllStatusesAndErrors(){this.rowCreationStatus.clear(),this.rowDeletionStatus.clear(),this.cellClientSideErrors.clear(),this.cellModificationStatus.clear()}static fromSerialization(e){try{return new Xl(bP(e))}catch(t){return}}}const wP=160;class vP{constructor(e,t,n){re(this,"meta");re(this,"columnsDataStore");re(this,"recordsData");re(this,"scrollOffset");re(this,"horizontalScrollOffset");re(this,"isTableInspectorVisible");re(this,"customizedColumnWidths");re(this,"columnPlacements");re(this,"rowWidth");re(this,"displayableRecords");this.meta=e,this.columnsDataStore=t,this.recordsData=n,this.horizontalScrollOffset=Ge(0),this.scrollOffset=Ge(0),this.isTableInspectorVisible=Ge(!0),this.customizedColumnWidths=new os,this.columnPlacements=at([this.columnsDataStore.columns,this.customizedColumnWidths],([i,o])=>{let a=0;const u=new Map;return i.forEach(({id:c})=>{var m;const f=(m=o.get(c))!=null?m:wP;u.set(c,{width:f,left:a}),a+=f}),u}),this.rowWidth=at(this.columnPlacements,i=>[...i.values()].reduce((o,a)=>o+a.width,0));const{savedRecordRowsWithGroupHeaders:l,newRecords:s}=this.recordsData;this.displayableRecords=at([l,s],([i,o])=>{let a=i;const u=rP(a);return o.length>0&&(a=a.concat({identifier:"__new_help_text",isNewHelpText:!0}).concat(o)),a=a.concat({...this.recordsData.getNewEmptyRecord(),rowIndex:u.length+o.length,isAddPlaceholder:!0}),a})}}const mv=160,dv={};function kP(r,e,t,n){let l=0;const s=new Map;r.forEach(o=>{var c;const a=e(o),u=(c=t.get(a))!=null?c:mv;s.set(a,{left:l,width:u,styleString:`width: ${u}px; left: ${l}px;`}),l+=u});const i=l+n;return{columnStyleMap:s,rowWidth:i}}function yP(r){Un(dv,r)}function Vs(){return In(dv)}function hp(r){let e;const t=r[17].default,n=De(t,r,r[16],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&65536)&&Ee(n,t,l,l[16],e?Ie(t,l[16],s,null):Me(l[16]),null)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function SP(r){let e,t,n,l,s=r[0].length&&hp(r);return{c(){e=I("div"),s&&s.c(),D(e,"class","sheet svelte-hyqkst"),D(e,"style",r[4]),Z(e,"has-border",r[3]),Z(e,"uses-virtual-list",r[1]),Z(e,"set-to-row-width",r[2])},m(i,o){w(i,e,o),s&&s.m(e,null),t=!0,n||(l=[Le(e,"click",r[18]),Le(e,"focusin",r[5]),Le(e,"focusout",r[6])],n=!0)},p(i,[o]){i[0].length?s?(s.p(i,o),o&1&&p(s,1)):(s=hp(i),s.c(),p(s,1),s.m(e,null)):s&&(q(),g(s,1,1,()=>{s=null}),U()),(!t||o&16)&&D(e,"style",i[4]),(!t||o&8)&&Z(e,"has-border",i[3]),(!t||o&2)&&Z(e,"uses-virtual-list",i[1]),(!t||o&4)&&Z(e,"set-to-row-width",i[2])},i(i){t||(p(s),t=!0)},o(i){g(s),t=!1},d(i){i&&$(e),s&&s.d(),n=!1,Dt(l)}}}function CP(r,e,t){let n,l,s,{$$slots:i={},$$scope:o}=e;const a=vE();let{columns:u}=e,{usesVirtualList:c=!1}=e,{restrictWidthToRowWidth:f=!1}=e,{hasBorder:m=!1}=e,{hasPaddingRight:d=!1}=e,{clipboardHandler:_=void 0}=e,{getColumnIdentifier:h}=e,{scrollOffset:b=0}=e,{horizontalScrollOffset:v=0}=e,{paddingRight:k=d?100:0}=e,{columnWidths:T=new vt}=e;function E(F){const K=T.get(F);return typeof K<"u"?K:u.some(j=>h(j)===F)?mv:0}const P={getColumnWidth:E,setColumnWidth:(F,K)=>{t(9,T=T.with(F,K))},resetColumnWidth:F=>{t(9,T=T.without(F))},setHorizontalScrollOffset:F=>{t(8,v=F)},setScrollOffset:F=>{t(7,b=F)}},R={columnStyleMap:Ge(n),rowWidth:Ge(l),horizontalScrollOffset:Ge(v),scrollOffset:Ge(b),paddingRight:Ge(k)};yP({stores:R,api:P});function L(){a==null||a.set(_)}function A(){a==null||a.set(void 0)}function N(F){ve.call(this,r,F)}return r.$$set=F=>{"columns"in F&&t(0,u=F.columns),"usesVirtualList"in F&&t(1,c=F.usesVirtualList),"restrictWidthToRowWidth"in F&&t(2,f=F.restrictWidthToRowWidth),"hasBorder"in F&&t(3,m=F.hasBorder),"hasPaddingRight"in F&&t(10,d=F.hasPaddingRight),"clipboardHandler"in F&&t(11,_=F.clipboardHandler),"getColumnIdentifier"in F&&t(12,h=F.getColumnIdentifier),"scrollOffset"in F&&t(7,b=F.scrollOffset),"horizontalScrollOffset"in F&&t(8,v=F.horizontalScrollOffset),"paddingRight"in F&&t(13,k=F.paddingRight),"columnWidths"in F&&t(9,T=F.columnWidths),"$$scope"in F&&t(16,o=F.$$scope)},r.$$.update=()=>{r.$$.dirty&12801&&t(15,{columnStyleMap:n,rowWidth:l}=kP(u,h,T,k),n,(t(14,l),t(0,u),t(12,h),t(9,T),t(13,k))),r.$$.dirty&16384&&R.rowWidth.set(l),r.$$.dirty&32768&&R.columnStyleMap.set(n),r.$$.dirty&256&&R.horizontalScrollOffset.set(v),r.$$.dirty&128&&R.scrollOffset.set(b),r.$$.dirty&8192&&R.paddingRight.set(k),r.$$.dirty&16388&&t(4,s=f?`width:${l}px;`:void 0)},[u,c,f,m,s,L,A,b,v,T,d,_,h,k,l,n,o,i,N]}class tf extends X{constructor(e){super(),Q(this,e,CP,SP,G,{columns:0,usesVirtualList:1,restrictWidthToRowWidth:2,hasBorder:3,hasPaddingRight:10,clipboardHandler:11,getColumnIdentifier:12,scrollOffset:7,horizontalScrollOffset:8,paddingRight:13,columnWidths:9})}}function TP(r){let e,t,n=`${r[2]}px`,l;const s=r[7].default,i=De(s,r,r[6],null);return{c(){e=I("div"),t=I("div"),i&&i.c(),D(t,"class","svelte-1w4nhl1"),yn(t,"width",n,!1),D(e,"data-sheet-element","header"),D(e,"class","svelte-1w4nhl1"),Z(e,"inherit-font-style",r[0])},m(o,a){w(o,e,a),M(e,t),i&&i.m(t,null),r[8](e),l=!0},p(o,[a]){i&&i.p&&(!l||a&64)&&Ee(i,s,o,o[6],l?Ie(s,o[6],a,null):Me(o[6]),null),a&4&&n!==(n=`${o[2]}px`)&&yn(t,"width",n,!1),(!l||a&1)&&Z(e,"inherit-font-style",o[0])},i(o){l||(p(i,o),l=!0)},o(o){g(i,o),l=!1},d(o){o&&$(e),i&&i.d(o),r[8](null)}}}function DP(r,e,t){let n,l,{$$slots:s={},$$scope:i}=e;const{stores:o,api:a}=Vs(),{horizontalScrollOffset:u}=o;de(r,u,b=>t(5,n=b));const{rowWidth:c}=o;de(r,c,b=>t(2,l=b));let{inheritFontStyle:f=!1}=e,m;function d(b){m&&t(1,m.scrollLeft=b,m)}function _(b){n!==b&&a.setHorizontalScrollOffset(b)}rn(()=>{d(n);const b=v=>{const{scrollLeft:k}=v.target;_(k)};return m.addEventListener("scroll",b),()=>{m.removeEventListener("scroll",b)}});function h(b){ye[b?"unshift":"push"](()=>{m=b,t(1,m)})}return r.$$set=b=>{"inheritFontStyle"in b&&t(0,f=b.inheritFontStyle),"$$scope"in b&&t(6,i=b.$$scope)},r.$$.update=()=>{r.$$.dirty&32&&d(n)},[f,m,l,u,c,n,i,s,h]}class nf extends X{constructor(e){super(),Q(this,e,DP,TP,G,{inheritFontStyle:0})}}const IP=r=>({htmlAttributes:r&1,style:r&2}),bp=r=>{var e;return{htmlAttributes:r[0],style:(e=r[1])==null?void 0:e.styleString}};function EP(r){let e;const t=r[8].default,n=De(t,r,r[7],bp);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,[s]){n&&n.p&&(!e||s&131)&&Ee(n,t,l,l[7],e?Ie(t,l[7],s,IP):Me(l[7]),bp)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function MP(r,e,t){let n,l,s,{$$slots:i={},$$scope:o}=e;const{stores:a}=Vs(),{columnStyleMap:u}=a;de(r,u,d=>t(6,s=d));let{columnIdentifierKey:c}=e,{isStatic:f=!1}=e,{isControlCell:m=!1}=e;return r.$$set=d=>{"columnIdentifierKey"in d&&t(3,c=d.columnIdentifierKey),"isStatic"in d&&t(4,f=d.isStatic),"isControlCell"in d&&t(5,m=d.isControlCell),"$$scope"in d&&t(7,o=d.$$scope)},r.$$.update=()=>{r.$$.dirty&72&&t(1,n=s.get(c)),r.$$.dirty&48&&t(0,l={"data-sheet-element":"cell","data-cell-static":f?!0:void 0,"data-cell-control":m?!0:void 0})},[l,n,u,c,f,m,s,o,i]}class Pr extends X{constructor(e){super(),Q(this,e,MP,EP,G,{columnIdentifierKey:3,isStatic:4,isControlCell:5})}}const AP=r=>({htmlAttributes:r&1,style:r&2}),$p=r=>({htmlAttributes:r[0],style:r[1]});function RP(r){let e;const t=r[8].default,n=De(t,r,r[7],$p);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,[s]){n&&n.p&&(!e||s&131)&&Ee(n,t,l,l[7],e?Ie(t,l[7],s,AP):Me(l[7]),$p)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function PP(r,e,t){let n,l,s,{$$slots:i={},$$scope:o}=e;const{stores:a}=Vs(),{columnStyleMap:u}=a;de(r,u,_=>t(6,s=_));let{index:c}=e,{columnSpan:f=1}=e;function m(_,h,b){var R,L;const v=[..._.values()],k=v[c]?c:0,T=(L=(R=v[k])==null?void 0:R.left)!=null?L:0;let E=v[k+b-1];E=E!=null?E:v[v.length-1];const P=E?E.left+E.width-T:0;return`left: ${T}px; width: ${P}px`}let{isStatic:d=!1}=e;return r.$$set=_=>{"index"in _&&t(3,c=_.index),"columnSpan"in _&&t(4,f=_.columnSpan),"isStatic"in _&&t(5,d=_.isStatic),"$$scope"in _&&t(7,o=_.$$scope)},r.$$.update=()=>{r.$$.dirty&88&&t(1,n=m(s,c,f)),r.$$.dirty&32&&t(0,l={"data-sheet-element":"cell","data-cell-static":d?!0:void 0})},[l,n,u,c,f,d,s,o,i]}class pv extends X{constructor(e){super(),Q(this,e,PP,RP,G,{index:3,columnSpan:4,isStatic:5})}}function OP(r){let e,t,n,l;return{c(){e=I("div"),e.innerHTML='<div class="indicator svelte-19pm5e"></div>',D(e,"class","column-resizer svelte-19pm5e"),Z(e,"is-resizing",r[2])},m(s,i){w(s,e,i),n||(l=[Dn(t=l$.call(null,e,{getStartingValue:r[4],onMove:r[5],onStart:r[6],onStop:r[7],min:r[0]})),Le(e,"dblclick",r[8])],n=!0)},p(s,[i]){t&&Et(t.update)&&i&7&&t.update.call(null,{getStartingValue:s[4],onMove:s[5],onStart:s[6],onStop:s[7],min:s[0]}),i&4&&Z(e,"is-resizing",s[2])},i:z,o:z,d(s){s&&$(e),n=!1,Dt(l)}}}function LP(r,e,t){const{api:n}=Vs();let{minColumnWidth:l=50}=e,{columnIdentifierKey:s}=e,i=!1;const o=()=>n.getColumnWidth(s),a=m=>n.setColumnWidth(s,m),u=()=>{t(2,i=!0)},c=()=>{t(2,i=!1)},f=()=>n.resetColumnWidth(s);return r.$$set=m=>{"minColumnWidth"in m&&t(0,l=m.minColumnWidth),"columnIdentifierKey"in m&&t(1,s=m.columnIdentifierKey)},[l,s,i,n,o,a,u,c,f]}class rf extends X{constructor(e){super(),Q(this,e,LP,OP,G,{minColumnWidth:0,columnIdentifierKey:1})}}const El=32,NP=24,FP=64,_v=50;function zP(){const r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)};return e=>r(e)}function HP(){const r=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return e=>r(e)}function $u(r){const e=r.__resizeTriggers__,t=e.firstElementChild,n=e.lastElementChild,l=t.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,l.style.width=t.offsetWidth+1+"px",l.style.height=t.offsetHeight+1+"px",t.scrollLeft=t.scrollWidth,t.scrollTop=t.scrollHeight}function VP(r){return r.offsetWidth!==r.__resizeLast__.width||r.offsetHeight!==r.__resizeLast__.height}function qP(){const r=zP(),e=HP();function t(b){var T,E,P,R;const v=b.target;if(((E=(T=v.className)==null?void 0:T.indexOf)==null?void 0:E.call(T,"contract-trigger"))<0&&((R=(P=v.className)==null?void 0:P.indexOf)==null?void 0:R.call(P,"expand-trigger"))<0)return;const k=this;$u(this),this.__resizeRAF__&&e(this.__resizeRAF__),this.__resizeRAF__=r(()=>{VP(k)&&(k.__resizeLast__.width=k.offsetWidth,k.__resizeLast__.height=k.offsetHeight,k.__resizeListeners__.forEach(L=>{L.call(k,b)}))})}let n=!1,l="",s="animationstart",i="";const o="Webkit Moz O ms".split(" "),a="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),u=document.createElement("fakeelement");if(u.style.animationName!==void 0&&(n=!0),n===!1){for(let b=0;b<o.length;b+=1)if(u.style[o[b]+"AnimationName"]!==void 0){i=o[b],l="-"+i.toLowerCase()+"-",s=a[b],n=!0;break}}const c="resizeanim",f="@"+l+"keyframes "+c+" { from { opacity: 0; } to { opacity: 0; } } ",m=l+"animation: 1ms "+c+"; ";function d(b){if(!b.getElementById("detectElementResize")){const v=(f!=null?f:"")+".resize-triggers { "+(m!=null?m:"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; }.resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',k=b.head||b.getElementsByTagName("head")[0],T=b.createElement("style");T.id="detectElementResize",T.type="text/css",T.styleSheet?T.styleSheet.cssText=v:T.appendChild(b.createTextNode(v)),k.appendChild(T)}}function _(b,v){if(!b.__resizeTriggers__){const k=b.ownerDocument,T=window.getComputedStyle(b);T&&T.position==="static"&&(b.style.position="relative"),d(k),b.__resizeLast__={},b.__resizeListeners__=[],(b.__resizeTriggers__=k.createElement("div")).className="resize-triggers";const E=k.createElement("div");E.className="expand-trigger",E.appendChild(k.createElement("div"));const P=k.createElement("div");P.className="contract-trigger",b.__resizeTriggers__.appendChild(E),b.__resizeTriggers__.appendChild(P),b.appendChild(b.__resizeTriggers__),$u(b),b.addEventListener("scroll",t,!0),s&&(b.__resizeTriggers__.__animationListener__=function(L){L.animationName===c&&$u(b)},b.__resizeTriggers__.addEventListener(s,b.__resizeTriggers__.__animationListener__))}b.__resizeListeners__.push(v)}function h(b,v){if(b.__resizeListeners__.splice(b.__resizeListeners__.indexOf(v),1),!b.__resizeListeners__.length){b.removeEventListener("scroll",t,!0),b.__resizeTriggers__.__animationListener__&&(b.__resizeTriggers__.removeEventListener(s,b.__resizeTriggers__.__animationListener__),b.__resizeTriggers__.__animationListener__=null);try{b.__resizeTriggers__=!b.removeChild(b.__resizeTriggers__)}catch(k){}}}return{addResizeListener:_,removeResizeListener:h}}const UP=r=>({height:r&1}),wp=r=>({height:r[0]});function vp(r){let e;const t=r[6].default,n=De(t,r,r[5],wp);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&33)&&Ee(n,t,l,l[5],e?Ie(t,l[5],s,UP):Me(l[5]),wp)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function WP(r){let e,t,n=!r[2]&&vp(r);return{c(){e=I("div"),n&&n.c(),D(e,"class",r[3])},m(l,s){w(l,e,s),n&&n.m(e,null),r[7](e),t=!0},p(l,[s]){l[2]?n&&(q(),g(n,1,1,()=>{n=null}),U()):n?(n.p(l,s),s&4&&p(n,1)):(n=vp(l),n.c(),p(n,1),n.m(e,null)),(!t||s&8)&&D(e,"class",l[3])},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){l&&$(e),n&&n.d(),r[7](null)}}}function BP(r,e,t){let n,{$$slots:l={},$$scope:s}=e,{class:i="default"}=e,o,a,u=!1,c=0;function f(){if(a){const _=a.offsetHeight||0,h=window.getComputedStyle(a)||{},b=parseInt(h.paddingTop,10)||0,v=parseInt(h.paddingBottom,10)||0,k=_-b-v;c!==k&&t(0,c=_-b-v)}}rn(()=>{let _;return o!=null&&o.parentNode&&(a=o.parentNode,_=qP(),_.addResizeListener(a,f),f()),()=>{_&&a&&_.removeResizeListener(a,f)}});function m(_){t(2,u=_===0)}function d(_){ye[_?"unshift":"push"](()=>{o=_,t(1,o)})}return r.$$set=_=>{"class"in _&&t(4,i=_.class),"$$scope"in _&&t(5,s=_.$$scope)},r.$$.update=()=>{r.$$.dirty&16&&t(3,n=["virtual-list","resizer",i].join(" ")),r.$$.dirty&1&&m(c)},[c,o,u,n,i,s,l,d]}class jP extends X{constructor(e){super(),Q(this,e,BP,WP,G,{class:4})}}/*!
 * perfect-scrollbar v1.5.3
 * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */function zr(r){return getComputedStyle(r)}function Xn(r,e){for(var t in e){var n=e[t];typeof n=="number"&&(n=n+"px"),r.style[t]=n}return r}function mo(r){var e=document.createElement("div");return e.className=r,e}var kp=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function yl(r,e){if(!kp)throw new Error("No element matching method supported");return kp.call(r,e)}function us(r){r.remove?r.remove():r.parentNode&&r.parentNode.removeChild(r)}function yp(r,e){return Array.prototype.filter.call(r.children,function(t){return yl(t,e)})}var vn={main:"ps",rtl:"ps__rtl",element:{thumb:function(r){return"ps__thumb-"+r},rail:function(r){return"ps__rail-"+r},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(r){return"ps--active-"+r},scrolling:function(r){return"ps--scrolling-"+r}}},gv={x:null,y:null};function hv(r,e){var t=r.element.classList,n=vn.state.scrolling(e);t.contains(n)?clearTimeout(gv[e]):t.add(n)}function bv(r,e){gv[e]=setTimeout(function(){return r.isAlive&&r.element.classList.remove(vn.state.scrolling(e))},r.settings.scrollingThreshold)}function YP(r,e){hv(r,e),bv(r,e)}var Ui=function(e){this.element=e,this.handlers={}},$v={isEmpty:{configurable:!0}};Ui.prototype.bind=function(e,t){typeof this.handlers[e]>"u"&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)};Ui.prototype.unbind=function(e,t){var n=this;this.handlers[e]=this.handlers[e].filter(function(l){return t&&l!==t?!0:(n.element.removeEventListener(e,l,!1),!1)})};Ui.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)};$v.isEmpty.get=function(){var r=this;return Object.keys(this.handlers).every(function(e){return r.handlers[e].length===0})};Object.defineProperties(Ui.prototype,$v);var qs=function(){this.eventElements=[]};qs.prototype.eventElement=function(e){var t=this.eventElements.filter(function(n){return n.element===e})[0];return t||(t=new Ui(e),this.eventElements.push(t)),t};qs.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)};qs.prototype.unbind=function(e,t,n){var l=this.eventElement(e);l.unbind(t,n),l.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(l),1)};qs.prototype.unbindAll=function(){this.eventElements.forEach(function(e){return e.unbindAll()}),this.eventElements=[]};qs.prototype.once=function(e,t,n){var l=this.eventElement(e),s=function(i){l.unbind(t,s),n(i)};l.bind(t,s)};function po(r){if(typeof window.CustomEvent=="function")return new CustomEvent(r);var e=document.createEvent("CustomEvent");return e.initCustomEvent(r,!1,!1,void 0),e}function Go(r,e,t,n,l){n===void 0&&(n=!0),l===void 0&&(l=!1);var s;if(e==="top")s=["contentHeight","containerHeight","scrollTop","y","up","down"];else if(e==="left")s=["contentWidth","containerWidth","scrollLeft","x","left","right"];else throw new Error("A proper axis should be provided");KP(r,t,s,n,l)}function KP(r,e,t,n,l){var s=t[0],i=t[1],o=t[2],a=t[3],u=t[4],c=t[5];n===void 0&&(n=!0),l===void 0&&(l=!1);var f=r.element;r.reach[a]=null,f[o]<1&&(r.reach[a]="start"),f[o]>r[s]-r[i]-1&&(r.reach[a]="end"),e&&(f.dispatchEvent(po("ps-scroll-"+a)),e<0?f.dispatchEvent(po("ps-scroll-"+u)):e>0&&f.dispatchEvent(po("ps-scroll-"+c)),n&&YP(r,a)),r.reach[a]&&(e||l)&&f.dispatchEvent(po("ps-"+a+"-reach-"+r.reach[a]))}function fn(r){return parseInt(r,10)||0}function GP(r){return yl(r,"input,[contenteditable]")||yl(r,"select,[contenteditable]")||yl(r,"textarea,[contenteditable]")||yl(r,"button,[contenteditable]")}function QP(r){var e=zr(r);return fn(e.width)+fn(e.paddingLeft)+fn(e.paddingRight)+fn(e.borderLeftWidth)+fn(e.borderRightWidth)}var is={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function ol(r){var e=r.element,t=Math.floor(e.scrollTop),n=e.getBoundingClientRect();r.containerWidth=Math.round(n.width),r.containerHeight=Math.round(n.height),r.contentWidth=e.scrollWidth,r.contentHeight=e.scrollHeight,e.contains(r.scrollbarXRail)||(yp(e,vn.element.rail("x")).forEach(function(l){return us(l)}),e.appendChild(r.scrollbarXRail)),e.contains(r.scrollbarYRail)||(yp(e,vn.element.rail("y")).forEach(function(l){return us(l)}),e.appendChild(r.scrollbarYRail)),!r.settings.suppressScrollX&&r.containerWidth+r.settings.scrollXMarginOffset<r.contentWidth?(r.scrollbarXActive=!0,r.railXWidth=r.containerWidth-r.railXMarginWidth,r.railXRatio=r.containerWidth/r.railXWidth,r.scrollbarXWidth=Sp(r,fn(r.railXWidth*r.containerWidth/r.contentWidth)),r.scrollbarXLeft=fn((r.negativeScrollAdjustment+e.scrollLeft)*(r.railXWidth-r.scrollbarXWidth)/(r.contentWidth-r.containerWidth))):r.scrollbarXActive=!1,!r.settings.suppressScrollY&&r.containerHeight+r.settings.scrollYMarginOffset<r.contentHeight?(r.scrollbarYActive=!0,r.railYHeight=r.containerHeight-r.railYMarginHeight,r.railYRatio=r.containerHeight/r.railYHeight,r.scrollbarYHeight=Sp(r,fn(r.railYHeight*r.containerHeight/r.contentHeight)),r.scrollbarYTop=fn(t*(r.railYHeight-r.scrollbarYHeight)/(r.contentHeight-r.containerHeight))):r.scrollbarYActive=!1,r.scrollbarXLeft>=r.railXWidth-r.scrollbarXWidth&&(r.scrollbarXLeft=r.railXWidth-r.scrollbarXWidth),r.scrollbarYTop>=r.railYHeight-r.scrollbarYHeight&&(r.scrollbarYTop=r.railYHeight-r.scrollbarYHeight),XP(e,r),r.scrollbarXActive?e.classList.add(vn.state.active("x")):(e.classList.remove(vn.state.active("x")),r.scrollbarXWidth=0,r.scrollbarXLeft=0,e.scrollLeft=r.isRtl===!0?r.contentWidth:0),r.scrollbarYActive?e.classList.add(vn.state.active("y")):(e.classList.remove(vn.state.active("y")),r.scrollbarYHeight=0,r.scrollbarYTop=0,e.scrollTop=0)}function Sp(r,e){return r.settings.minScrollbarLength&&(e=Math.max(e,r.settings.minScrollbarLength)),r.settings.maxScrollbarLength&&(e=Math.min(e,r.settings.maxScrollbarLength)),e}function XP(r,e){var t={width:e.railXWidth},n=Math.floor(r.scrollTop);e.isRtl?t.left=e.negativeScrollAdjustment+r.scrollLeft+e.containerWidth-e.contentWidth:t.left=r.scrollLeft,e.isScrollbarXUsingBottom?t.bottom=e.scrollbarXBottom-n:t.top=e.scrollbarXTop+n,Xn(e.scrollbarXRail,t);var l={top:n,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?l.right=e.contentWidth-(e.negativeScrollAdjustment+r.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:l.right=e.scrollbarYRight-r.scrollLeft:e.isRtl?l.left=e.negativeScrollAdjustment+r.scrollLeft+e.containerWidth*2-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:l.left=e.scrollbarYLeft+r.scrollLeft,Xn(e.scrollbarYRail,l),Xn(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),Xn(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}function JP(r){r.element,r.event.bind(r.scrollbarY,"mousedown",function(e){return e.stopPropagation()}),r.event.bind(r.scrollbarYRail,"mousedown",function(e){var t=e.pageY-window.pageYOffset-r.scrollbarYRail.getBoundingClientRect().top,n=t>r.scrollbarYTop?1:-1;r.element.scrollTop+=n*r.containerHeight,ol(r),e.stopPropagation()}),r.event.bind(r.scrollbarX,"mousedown",function(e){return e.stopPropagation()}),r.event.bind(r.scrollbarXRail,"mousedown",function(e){var t=e.pageX-window.pageXOffset-r.scrollbarXRail.getBoundingClientRect().left,n=t>r.scrollbarXLeft?1:-1;r.element.scrollLeft+=n*r.containerWidth,ol(r),e.stopPropagation()})}function ZP(r){Cp(r,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),Cp(r,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function Cp(r,e){var t=e[0],n=e[1],l=e[2],s=e[3],i=e[4],o=e[5],a=e[6],u=e[7],c=e[8],f=r.element,m=null,d=null,_=null;function h(k){k.touches&&k.touches[0]&&(k[l]=k.touches[0].pageY),f[a]=m+_*(k[l]-d),hv(r,u),ol(r),k.stopPropagation(),k.type.startsWith("touch")&&k.changedTouches.length>1&&k.preventDefault()}function b(){bv(r,u),r[c].classList.remove(vn.state.clicking),r.event.unbind(r.ownerDocument,"mousemove",h)}function v(k,T){m=f[a],T&&k.touches&&(k[l]=k.touches[0].pageY),d=k[l],_=(r[n]-r[t])/(r[s]-r[o]),T?r.event.bind(r.ownerDocument,"touchmove",h):(r.event.bind(r.ownerDocument,"mousemove",h),r.event.once(r.ownerDocument,"mouseup",b),k.preventDefault()),r[c].classList.add(vn.state.clicking),k.stopPropagation()}r.event.bind(r[i],"mousedown",function(k){v(k)}),r.event.bind(r[i],"touchstart",function(k){v(k,!0)})}function xP(r){var e=r.element,t=function(){return yl(e,":hover")},n=function(){return yl(r.scrollbarX,":focus")||yl(r.scrollbarY,":focus")};function l(s,i){var o=Math.floor(e.scrollTop);if(s===0){if(!r.scrollbarYActive)return!1;if(o===0&&i>0||o>=r.contentHeight-r.containerHeight&&i<0)return!r.settings.wheelPropagation}var a=e.scrollLeft;if(i===0){if(!r.scrollbarXActive)return!1;if(a===0&&s<0||a>=r.contentWidth-r.containerWidth&&s>0)return!r.settings.wheelPropagation}return!0}r.event.bind(r.ownerDocument,"keydown",function(s){if(!(s.isDefaultPrevented&&s.isDefaultPrevented()||s.defaultPrevented)&&!(!t()&&!n())){var i=document.activeElement?document.activeElement:r.ownerDocument.activeElement;if(i){if(i.tagName==="IFRAME")i=i.contentDocument.activeElement;else for(;i.shadowRoot;)i=i.shadowRoot.activeElement;if(GP(i))return}var o=0,a=0;switch(s.which){case 37:s.metaKey?o=-r.contentWidth:s.altKey?o=-r.containerWidth:o=-30;break;case 38:s.metaKey?a=r.contentHeight:s.altKey?a=r.containerHeight:a=30;break;case 39:s.metaKey?o=r.contentWidth:s.altKey?o=r.containerWidth:o=30;break;case 40:s.metaKey?a=-r.contentHeight:s.altKey?a=-r.containerHeight:a=-30;break;case 32:s.shiftKey?a=r.containerHeight:a=-r.containerHeight;break;case 33:a=r.containerHeight;break;case 34:a=-r.containerHeight;break;case 36:a=r.contentHeight;break;case 35:a=-r.contentHeight;break;default:return}r.settings.suppressScrollX&&o!==0||r.settings.suppressScrollY&&a!==0||(e.scrollTop-=a,e.scrollLeft+=o,ol(r),l(o,a)&&s.preventDefault())}})}function eO(r){var e=r.element;function t(i,o){var a=Math.floor(e.scrollTop),u=e.scrollTop===0,c=a+e.offsetHeight===e.scrollHeight,f=e.scrollLeft===0,m=e.scrollLeft+e.offsetWidth===e.scrollWidth,d;return Math.abs(o)>Math.abs(i)?d=u||c:d=f||m,d?!r.settings.wheelPropagation:!0}function n(i){var o=i.deltaX,a=-1*i.deltaY;return(typeof o>"u"||typeof a>"u")&&(o=-1*i.wheelDeltaX/6,a=i.wheelDeltaY/6),i.deltaMode&&i.deltaMode===1&&(o*=10,a*=10),o!==o&&a!==a&&(o=0,a=i.wheelDelta),i.shiftKey?[-a,-o]:[o,a]}function l(i,o,a){if(!is.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(i))return!1;for(var u=i;u&&u!==e;){if(u.classList.contains(vn.element.consuming))return!0;var c=zr(u);if(a&&c.overflowY.match(/(scroll|auto)/)){var f=u.scrollHeight-u.clientHeight;if(f>0&&(u.scrollTop>0&&a<0||u.scrollTop<f&&a>0))return!0}if(o&&c.overflowX.match(/(scroll|auto)/)){var m=u.scrollWidth-u.clientWidth;if(m>0&&(u.scrollLeft>0&&o<0||u.scrollLeft<m&&o>0))return!0}u=u.parentNode}return!1}function s(i){var o=n(i),a=o[0],u=o[1];if(!l(i.target,a,u)){var c=!1;r.settings.useBothWheelAxes?r.scrollbarYActive&&!r.scrollbarXActive?(u?e.scrollTop-=u*r.settings.wheelSpeed:e.scrollTop+=a*r.settings.wheelSpeed,c=!0):r.scrollbarXActive&&!r.scrollbarYActive&&(a?e.scrollLeft+=a*r.settings.wheelSpeed:e.scrollLeft-=u*r.settings.wheelSpeed,c=!0):(e.scrollTop-=u*r.settings.wheelSpeed,e.scrollLeft+=a*r.settings.wheelSpeed),ol(r),c=c||t(a,u),c&&!i.ctrlKey&&(i.stopPropagation(),i.preventDefault())}}typeof window.onwheel<"u"?r.event.bind(e,"wheel",s):typeof window.onmousewheel<"u"&&r.event.bind(e,"mousewheel",s)}function tO(r){if(!is.supportsTouch&&!is.supportsIePointer)return;var e=r.element;function t(_,h){var b=Math.floor(e.scrollTop),v=e.scrollLeft,k=Math.abs(_),T=Math.abs(h);if(T>k){if(h<0&&b===r.contentHeight-r.containerHeight||h>0&&b===0)return window.scrollY===0&&h>0&&is.isChrome}else if(k>T&&(_<0&&v===r.contentWidth-r.containerWidth||_>0&&v===0))return!0;return!0}function n(_,h){e.scrollTop-=h,e.scrollLeft-=_,ol(r)}var l={},s=0,i={},o=null;function a(_){return _.targetTouches?_.targetTouches[0]:_}function u(_){return _.pointerType&&_.pointerType==="pen"&&_.buttons===0?!1:!!(_.targetTouches&&_.targetTouches.length===1||_.pointerType&&_.pointerType!=="mouse"&&_.pointerType!==_.MSPOINTER_TYPE_MOUSE)}function c(_){if(!!u(_)){var h=a(_);l.pageX=h.pageX,l.pageY=h.pageY,s=new Date().getTime(),o!==null&&clearInterval(o)}}function f(_,h,b){if(!e.contains(_))return!1;for(var v=_;v&&v!==e;){if(v.classList.contains(vn.element.consuming))return!0;var k=zr(v);if(b&&k.overflowY.match(/(scroll|auto)/)){var T=v.scrollHeight-v.clientHeight;if(T>0&&(v.scrollTop>0&&b<0||v.scrollTop<T&&b>0))return!0}if(h&&k.overflowX.match(/(scroll|auto)/)){var E=v.scrollWidth-v.clientWidth;if(E>0&&(v.scrollLeft>0&&h<0||v.scrollLeft<E&&h>0))return!0}v=v.parentNode}return!1}function m(_){if(u(_)){var h=a(_),b={pageX:h.pageX,pageY:h.pageY},v=b.pageX-l.pageX,k=b.pageY-l.pageY;if(f(_.target,v,k))return;n(v,k),l=b;var T=new Date().getTime(),E=T-s;E>0&&(i.x=v/E,i.y=k/E,s=T),t(v,k)&&_.preventDefault()}}function d(){r.settings.swipeEasing&&(clearInterval(o),o=setInterval(function(){if(r.isInitialized){clearInterval(o);return}if(!i.x&&!i.y){clearInterval(o);return}if(Math.abs(i.x)<.01&&Math.abs(i.y)<.01){clearInterval(o);return}if(!r.element){clearInterval(o);return}n(i.x*30,i.y*30),i.x*=.8,i.y*=.8},10))}is.supportsTouch?(r.event.bind(e,"touchstart",c),r.event.bind(e,"touchmove",m),r.event.bind(e,"touchend",d)):is.supportsIePointer&&(window.PointerEvent?(r.event.bind(e,"pointerdown",c),r.event.bind(e,"pointermove",m),r.event.bind(e,"pointerup",d)):window.MSPointerEvent&&(r.event.bind(e,"MSPointerDown",c),r.event.bind(e,"MSPointerMove",m),r.event.bind(e,"MSPointerUp",d)))}var nO=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},rO={"click-rail":JP,"drag-thumb":ZP,keyboard:xP,wheel:eO,touch:tO},Wi=function(e,t){var n=this;if(t===void 0&&(t={}),typeof e=="string"&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=e,e.classList.add(vn.main),this.settings=nO();for(var l in t)this.settings[l]=t[l];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var s=function(){return e.classList.add(vn.state.focus)},i=function(){return e.classList.remove(vn.state.focus)};this.isRtl=zr(e).direction==="rtl",this.isRtl===!0&&e.classList.add(vn.rtl),this.isNegativeScroll=function(){var u=e.scrollLeft,c=null;return e.scrollLeft=-1,c=e.scrollLeft<0,e.scrollLeft=u,c}(),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new qs,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=mo(vn.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=mo(vn.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",i),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var o=zr(this.scrollbarXRail);this.scrollbarXBottom=parseInt(o.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=fn(o.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=fn(o.borderLeftWidth)+fn(o.borderRightWidth),Xn(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=fn(o.marginLeft)+fn(o.marginRight),Xn(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=mo(vn.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=mo(vn.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",i),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var a=zr(this.scrollbarYRail);this.scrollbarYRight=parseInt(a.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=fn(a.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?QP(this.scrollbarY):null,this.railBorderYWidth=fn(a.borderTopWidth)+fn(a.borderBottomWidth),Xn(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=fn(a.marginTop)+fn(a.marginBottom),Xn(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(u){return rO[u](n)}),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",function(u){return n.onScroll(u)}),ol(this)};Wi.prototype.update=function(){!this.isAlive||(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,Xn(this.scrollbarXRail,{display:"block"}),Xn(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=fn(zr(this.scrollbarXRail).marginLeft)+fn(zr(this.scrollbarXRail).marginRight),this.railYMarginHeight=fn(zr(this.scrollbarYRail).marginTop)+fn(zr(this.scrollbarYRail).marginBottom),Xn(this.scrollbarXRail,{display:"none"}),Xn(this.scrollbarYRail,{display:"none"}),ol(this),Go(this,"top",0,!1,!0),Go(this,"left",0,!1,!0),Xn(this.scrollbarXRail,{display:""}),Xn(this.scrollbarYRail,{display:""}))};Wi.prototype.onScroll=function(e){!this.isAlive||(ol(this),Go(this,"top",this.element.scrollTop-this.lastScrollTop),Go(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)};Wi.prototype.destroy=function(){!this.isAlive||(this.event.unbindAll(),us(this.scrollbarX),us(this.scrollbarY),us(this.scrollbarXRail),us(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)};Wi.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(e){return!e.match(/^ps([-_].+|)$/)}).join(" ")};const lO=typeof performance=="object"&&typeof performance.now=="function",Tp=lO?()=>performance.now():()=>Date.now();function Dp(r){r.id!==void 0&&cancelAnimationFrame(r.id)}function sO(r,e){const t=Tp(),n={id:void 0};function l(){Tp()-t>=e?r.call(void 0):n.id=requestAnimationFrame(l)}return n.id=requestAnimationFrame(l),n}const iO=r=>r;function Si(r,e){const{itemSize:t,instanceProps:n}=r,{itemMetadataMap:l,lastMeasuredIndex:s}=n;if(e>s){let i=0;if(s>=0){const o=l[s];i=o.offset+o.size}for(let o=s+1;o<=e;o+=1){const a=t(o);l[o]={offset:i,size:a},i+=a}n.lastMeasuredIndex=e}return l[e]}function wv(r,e,t){const{scrollOffset:n}=r;let l=e,s=t;for(;s<=l;){const i=s+Math.floor((l-s)/2),o=Si(r,i).offset;if(o===n)return i;o<n?s=i+1:o>n&&(l=i-1)}return s>0?s-1:0}function oO(r,e){const{itemCount:t,scrollOffset:n}=r;let l=1,s=e;for(;s<t&&Si(r,s).offset<n;)s+=l,l*=2;return wv(r,Math.min(s,t-1),Math.floor(s/2))}function aO(r){const{instanceProps:e,scrollOffset:t}=r,{itemMetadataMap:n,lastMeasuredIndex:l}=e;return(l>0?n[l].offset:0)>=t?wv(r,l,0):oO(r,Math.max(0,l))}function uO(r,e){const{height:t,itemCount:n,scrollOffset:l}=r,s=Si(r,e),i=l+t;let o=s.offset+s.size,a=e;for(;a<n-1&&o<i;)a+=1,o+=Si(r,a).size;return a}function cO(r){const{isScrolling:e,scrollDirection:t,itemCount:n,overscanCount:l}=r;if(n===0)return[0,0,0,0];const s=aO(r),i=uO(r,s),o=!e||t==="backward"?Math.max(1,l):1,a=!e||t==="forward"?Math.max(1,l):1;return[Math.max(0,s-o),Math.max(0,Math.min(n-1,i+a)),s,i]}function fO(r,e){const{instanceProps:t}=r,{styleCache:n}=t;let l;if(Object.prototype.hasOwnProperty.call(n,e))l=n[e];else{const{offset:s}=Si(r,e),{size:i}=t.itemMetadataMap[e];l={position:"absolute",left:0,top:s,height:i,width:"100%"},n[e]=l}return l}function mO(r){const{itemKey:e,itemCount:t,isScrolling:n}=r,[l,s]=cO(r),i=[];if(t>0)for(let o=l;o<=s;o+=1)i.push({key:e(o),index:o,isScrolling:n,style:fO(r,o)});return{items:i,startIndex:l,stopIndex:s}}function dO(r){const{instanceProps:e,itemCount:t,estimatedItemSize:n}=r,{lastMeasuredIndex:l,itemMetadataMap:s}=e;let i=l,o=0;if(i>=t&&(i=t-1),i>=0){const c=s[i];o=c.offset+c.size}const u=(t-i-1)*n;return o+u}const wu={defaultItemKey:iO,getItemsInfo:mO,getEstimatedTotalSize:dO};const pO=r=>({items:r[0]&2}),Ip=r=>({items:r[1],api:r[5]});function _O(r){let e,t,n;const l=r[25].default,s=De(l,r,r[24],Ip);return{c(){e=I("div"),t=I("div"),s&&s.c(),D(t,"style",r[3]),D(e,"class",r[4]),yn(e,"height",r[0]+"px"),yn(e,"width","100%"),yn(e,"direction","ltr"),D(e,"data-sheet-body-element","list")},m(i,o){w(i,e,o),M(e,t),s&&s.m(t,null),r[26](e),n=!0},p(i,o){s&&s.p&&(!n||o[0]&16777218)&&Ee(s,l,i,i[24],n?Ie(l,i[24],o,pO):Me(i[24]),Ip),(!n||o[0]&8)&&D(t,"style",i[3]),(!n||o[0]&16)&&D(e,"class",i[4]),(!n||o[0]&1)&&yn(e,"height",i[0]+"px")},i(i){n||(p(s,i),n=!0)},o(i){g(s,i),n=!1},d(i){i&&$(e),s&&s.d(i),r[26](null)}}}const gO=150,hO=30;function bO(r,e,t){let n,l,{$$slots:s={},$$scope:i}=e;const o=dt();let{class:a="default"}=e,{estimatedItemSize:u=hO}=e,{height:c}=e,{scrollOffset:f=0}=e,{itemCount:m}=e,{overscanCount:d=2}=e,{itemSize:_=()=>u}=e,{paddingBottom:h=0}=e,{horizontalScrollOffset:b=0}=e,{itemKey:v=wu.defaultItemKey}=e,{width:k=void 0}=e,T={lastMeasuredIndex:-1,itemMetadataMap:{},styleCache:{}},E=!1,P="forward",R=c,L=[],A,N,F=!1,K,W=!1,j,Y;function oe(we){Y=wu.getItemsInfo(we),t(1,L=Y.items),t(23,A=wu.getEstimatedTotalSize(we)),R!==c&&(R=c,o("refetch",Y))}function te(we){N&&typeof we=="number"&&N.scrollLeft!==we&&t(2,N.scrollLeft=we,N)}function ne(we){const{clientHeight:je,scrollHeight:Re,scrollTop:Oe,scrollLeft:Ze}=we.target;if(F=!0,b!==Ze&&(t(7,b=Ze),o("h-scroll",b)),f!==Oe){const Ke=Math.max(0,Math.min(Oe,Re-je));t(21,E=!0),t(22,P=f<Ke?"forward":"backward"),t(6,f=Ke),o("scroll",f)}}function H(we){const{scrollLeft:je}=we.target;b!==je&&(t(7,b=je),o("h-scroll",b))}rn(()=>{typeof f=="number"&&t(2,N.scrollTop=f,N),te(b),j=new Wi(N,{minScrollbarLength:40,wheelPropagation:!1});const we=Re=>{ne(Re)},je=Re=>{H(Re)};return o("refetch",Y),N.addEventListener("ps-scroll-y",we),N.addEventListener("ps-scroll-x",je),()=>{N.removeEventListener("ps-scroll-y",we),N.removeEventListener("ps-scroll-x",je),j==null||j.destroy()}});const ee=()=>{K=void 0,t(21,E=!1),W=!0,o("refetch",Y)};function pe(){K!==void 0&&Dp(K),K=sO(ee,gO)}W4(()=>{F&&(F=!1,pe()),W&&(W=!1,t(20,T.styleCache={},T)),j&&j.update()}),cl(()=>{K!==void 0&&Dp(K)});function ue(we){t(20,T={...T,lastMeasuredIndex:Math.min(T.lastMeasuredIndex,(we!=null?we:0)-1),styleCache:{}})}function ie(we,je){if(N&&j){const Re=Math.max(we,0),Oe=Math.max(je,0);let Ze=!1;f!==Re&&(t(2,N.scrollTop=Re,N),Ze=!0),b!==Oe&&(t(2,N.scrollLeft=Oe,N),Ze=!0),Ze&&j.update()}}function me(){N&&j&&(t(2,N.scrollTop=N.scrollHeight,N),j.update())}function Se(){N&&j&&(t(2,N.scrollTop=0,N),j.update())}const $e={scrollToTop:Se,scrollToBottom:me,scrollToPosition:ie,recalculateHeightsAfterIndex:ue};function He(we){ye[we?"unshift":"push"](()=>{N=we,t(2,N)})}return r.$$set=we=>{"class"in we&&t(8,a=we.class),"estimatedItemSize"in we&&t(9,u=we.estimatedItemSize),"height"in we&&t(0,c=we.height),"scrollOffset"in we&&t(6,f=we.scrollOffset),"itemCount"in we&&t(10,m=we.itemCount),"overscanCount"in we&&t(11,d=we.overscanCount),"itemSize"in we&&t(12,_=we.itemSize),"paddingBottom"in we&&t(13,h=we.paddingBottom),"horizontalScrollOffset"in we&&t(7,b=we.horizontalScrollOffset),"itemKey"in we&&t(14,v=we.itemKey),"width"in we&&t(15,k=we.width),"$$scope"in we&&t(24,i=we.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&256&&t(4,n=["virtual-list","outerElement",a].join(" ")),r.$$.dirty[0]&7364161&&oe({itemSize:_,instanceProps:T,isScrolling:E,scrollDirection:P,itemCount:m,overscanCount:d,scrollOffset:f,height:c,itemKey:v,estimatedItemSize:u}),r.$$.dirty[0]&10526720&&t(3,l=`height:${A+h}px;width:${k?`${k}px`:"100%"};${E?"pointer-events:none;":""}`),r.$$.dirty[0]&128&&te(b)},[c,L,N,l,n,$e,f,b,a,u,m,d,_,h,v,k,ue,ie,me,Se,T,E,P,A,i,s,He]}class $O extends X{constructor(e){super(),Q(this,e,bO,_O,G,{class:8,estimatedItemSize:9,height:0,scrollOffset:6,itemCount:10,overscanCount:11,itemSize:12,paddingBottom:13,horizontalScrollOffset:7,itemKey:14,width:15,recalculateHeightsAfterIndex:16,scrollToPosition:17,scrollToBottom:18,scrollToTop:19},null,[-1,-1])}get recalculateHeightsAfterIndex(){return this.$$.ctx[16]}get scrollToPosition(){return this.$$.ctx[17]}get scrollToBottom(){return this.$$.ctx[18]}get scrollToTop(){return this.$$.ctx[19]}}const wO=r=>({items:r&131072,api:r&1024}),Ep=r=>({items:r[17],api:r[10]});function vO(r){let e;const t=r[11].default,n=De(t,r,r[14],Ep);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&148480)&&Ee(n,t,l,l[14],e?Ie(t,l[14],s,wO):Me(l[14]),Ep)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function kO(r){let e,t;return e=new $O({props:{horizontalScrollOffset:r[4],scrollOffset:r[5],height:r[16],width:r[6],itemCount:r[0],paddingBottom:r[2],itemSize:r[1],estimatedItemSize:El,itemKey:r[3],$$slots:{default:[vO,({items:n,api:l})=>({17:n,10:l}),({items:n,api:l})=>(n?131072:0)|(l?1024:0)]},$$scope:{ctx:r}}}),e.$on("scroll",r[12]),e.$on("h-scroll",r[13]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.horizontalScrollOffset=n[4]),l&32&&(s.scrollOffset=n[5]),l&65536&&(s.height=n[16]),l&64&&(s.width=n[6]),l&1&&(s.itemCount=n[0]),l&4&&(s.paddingBottom=n[2]),l&2&&(s.itemSize=n[1]),l&8&&(s.itemKey=n[3]),l&148480&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function yO(r){let e,t,n;return t=new jP({props:{$$slots:{default:[kO,({height:l})=>({16:l}),({height:l})=>l?65536:0]},$$scope:{ctx:r}}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"data-sheet-element","body"),D(e,"tabindex","-1"),D(e,"class","svelte-1sm73pn")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,[s]){const i={};s&82047&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function SO(r,e,t){let n,l,s,{$$slots:i={},$$scope:o}=e;const{stores:a,api:u}=Vs(),{rowWidth:c,horizontalScrollOffset:f,scrollOffset:m}=a;de(r,c,T=>t(6,s=T)),de(r,f,T=>t(4,n=T)),de(r,m,T=>t(5,l=T));let{itemCount:d}=e,{itemSize:_}=e,{paddingBottom:h=0}=e,{itemKey:b=void 0}=e;const v=T=>{u.setScrollOffset(T.detail)},k=T=>{u.setHorizontalScrollOffset(T.detail)};return r.$$set=T=>{"itemCount"in T&&t(0,d=T.itemCount),"itemSize"in T&&t(1,_=T.itemSize),"paddingBottom"in T&&t(2,h=T.paddingBottom),"itemKey"in T&&t(3,b=T.itemKey),"$$scope"in T&&t(14,o=T.$$scope)},[d,_,h,b,n,l,s,c,f,m,u,i,v,k,o]}class vv extends X{constructor(e){super(),Q(this,e,SO,yO,G,{itemCount:0,itemSize:1,paddingBottom:2,itemKey:3})}}const CO=r=>({styleString:r&1}),Mp=r=>({htmlAttributes:r[2],styleString:r[0]});function TO(r){let e;const t=r[6].default,n=De(t,r,r[5],Mp);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,[s]){n&&n.p&&(!e||s&33)&&Ee(n,t,l,l[5],e?Ie(t,l[5],s,CO):Me(l[5]),Mp)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function DO(r,e){return`position:${r.position};left:${r.left}px;top:${r.top}px;height:${r.height}px;width:${e}px`}function IO(r,e,t){let n,l,{$$slots:s={},$$scope:i}=e;const{stores:o}=Vs(),{rowWidth:a}=o;de(r,a,f=>t(4,l=f));let{style:u}=e;const c={"data-sheet-element":"row","data-sheet-section":"body"};return r.$$set=f=>{"style"in f&&t(3,u=f.style),"$$scope"in f&&t(5,i=f.$$scope)},r.$$.update=()=>{r.$$.dirty&24&&t(0,n=DO(u,l))},[n,a,c,u,l,i,s]}class lf extends X{constructor(e){super(),Q(this,e,IO,TO,G,{style:3})}}function EO(r){const{key:e}=r,t=r.shiftKey;switch(!0){case(t&&e==="Tab"):return"left";case t:return;case e==="ArrowUp":return"up";case e==="ArrowDown":return"down";case e==="ArrowLeft":return"left";case e==="ArrowRight":case e==="Tab":return"right";default:return}}function MO(r){switch(r){case"left":return-1;case"right":return 1;default:return 0}}function AO(r){switch(r){case"up":return-1;case"down":return 1;default:return 0}}function kv(r,e,t){return r&&(r==null?void 0:r.columnId)===t.id&&r.rowIndex===e.rowIndex}function yv(r){const e=r==null?void 0:r.parentElement,t=document.querySelector('[data-sheet-body-element="list"]');if(!(!t||!e)){if(e.offsetTop+e.clientHeight+40>t.scrollTop+t.clientHeight){const n=t.getBoundingClientRect().bottom-e.getBoundingClientRect().bottom-40;t.scrollTop-=n}else e.offsetTop-30<t.scrollTop&&(t.scrollTop=e.offsetTop-30);if(r.offsetLeft+e.clientWidth+30>t.scrollLeft+t.clientWidth){const n=t.getBoundingClientRect().right-r.getBoundingClientRect().right-30;t.scrollLeft-=n}else r.offsetLeft-30<t.scrollLeft&&(t.scrollLeft=r.offsetLeft-30)}}function Sv(){const r=document.querySelector('[data-sheet-element="cell"].is-active');yv(r)}function RO(){const r=document.querySelector('[data-sheet-element="cell"].is-selected');yv(r)}const Qo="-",Cv=({rowIndex:r},{id:e})=>`${r}${Qo}${e}`,PO=(r,e)=>r.valuesArray().some(t=>t.startsWith(`${e.rowIndex}-`)),Is=(r,e,t)=>e.has(t.id)||r.valuesArray().some(n=>n.endsWith(`-${t.id}`)),Ci=(r,e,t)=>r.has(Cv(e,t));function OO(r){return r.split(Qo).slice(1).join(Qo)}function Ap(r){const e=OO(r),t=Number(e);return Number.isNaN(t)?e:t}function xu(r){return Number(r.split(Qo)[0])}class Tv{constructor(e){re(this,"getColumns");re(this,"getColumnOrder");re(this,"getRows");re(this,"getMaxSelectionRowIndex");re(this,"activeCell");re(this,"selectionBounds");re(this,"activeCellUnsubscriber");re(this,"selectedCells");re(this,"columnsSelectedWhenTheTableIsEmpty");re(this,"freezeSelection");re(this,"selectionInProgress");this.selectedCells=new vo,this.columnsSelectedWhenTheTableIsEmpty=new vo,this.getColumns=e.getColumns,this.getColumnOrder=e.getColumnOrder,this.getRows=e.getRows,this.getMaxSelectionRowIndex=e.getMaxSelectionRowIndex,this.freezeSelection=!1,this.selectionInProgress=Ge(!1),this.activeCell=Ge(void 0),document.addEventListener("mouseup",()=>{this.onEndSelection()}),this.activeCellUnsubscriber=this.activeCell.subscribe(t=>{if(t){const n=this.getRows().find(s=>s.rowIndex===t.rowIndex),l=this.getColumns().find(s=>s.id===t.columnId);n&&l?(this.selectionBounds=void 0,this.selectMultipleCells([[n,l]])):this.resetSelection()}else this.resetSelection()})}onStartSelection(e,t){if(this.freezeSelection)return;this.selectionInProgress.set(!0),this.selectionBounds={startColumnId:t.id,endColumnId:t.id,startRowIndex:e.rowIndex,endRowIndex:e.rowIndex};const n=this.getIncludedCells(this.selectionBounds);this.selectMultipleCells(n)}onMouseEnterCellWhileSelection(e,t){const{rowIndex:n}=e,{id:l}=t;if(!this.selectionBounds||this.freezeSelection)return;this.selectionBounds.endRowIndex=n,this.selectionBounds.endColumnId=l;const s=this.getIncludedCells(this.selectionBounds);this.selectMultipleCells(s)}onEndSelection(){if(this.selectionBounds){const e=this.getIncludedCells(this.selectionBounds);this.selectMultipleCells(e),this.selectionBounds=void 0}this.selectionInProgress.set(!1)}selectAndActivateFirstCellIfExists(){const e=this.getRows()[0],t=this.getColumns()[0];e&&t&&(this.selectMultipleCells([[e,t]]),this.activateCell(e,t))}selectAndActivateFirstDataEntryCellInLastRow(){const e=this.getRows(),t=this.getColumns();e.length>0&&t.length>1&&this.activateCell(e[e.length-1],t[1])}getIncludedCells(e){const{startRowIndex:t,endRowIndex:n,startColumnId:l,endColumnId:s}=e,i=Math.min(t,n),o=Math.max(t,n),a=this.getColumnOrder(),u=a.findIndex(b=>b===l),c=a.findIndex(b=>b===s),f=Math.min(u,c),m=Math.max(u,c),d=a.slice(f,m+1),_=this.getColumns(),h=[];return this.getRows().forEach(b=>{const{rowIndex:v}=b;v>=i&&v<=o&&d.forEach(k=>{const T=_.find(E=>E.id===k);T&&h.push([b,T])})}),h}selectMultipleCells(e){const t=e.map(([n,l])=>Cv(n,l));this.selectedCells.reconstruct(t)}resetSelection(){this.selectionBounds=void 0,this.columnsSelectedWhenTheTableIsEmpty.clear(),this.selectedCells.clear()}isCompleteColumnSelected(e){return this.getRows().length?this.columnsSelectedWhenTheTableIsEmpty.getHas(e.id)||this.getRows().every(t=>Ci(Qe(this.selectedCells),t,e)):this.columnsSelectedWhenTheTableIsEmpty.getHas(e.id)}isCompleteRowSelected(e){const t=this.getColumns();return t.length>0&&t.every(n=>Ci(Qe(this.selectedCells),e,n))}isAnyColumnCompletelySelected(){const e=Qe(this.selectedCells).valuesArray(),t=[];for(const n of e){const l=Ap(n);if(!t.includes(l)){if(this.isCompleteColumnSelected({id:l}))return!0;t.push(l)}}return!1}isAnyRowCompletelySelected(){const e=Qe(this.selectedCells).valuesArray(),t=[];for(const n of e){const l=xu(n);if(!t.includes(l)){if(this.isCompleteRowSelected({rowIndex:l}))return!0;t.push(l)}}return!1}intersectSelectedRowsWithGivenColumns(e){const t=this.getSelectedUniqueRowsId(new Hr(this.selectedCells.getValues())),n=[];e.forEach(l=>{t.forEach(s=>{const i=this.getRows()[s];n.push([i,l])})}),this.selectMultipleCells(n)}toggleColumnSelection(e){const t=this.isCompleteColumnSelected(e);if(this.activateCell({rowIndex:0},e),t)return this.resetSelection(),!1;const n=this.getRows();if(n.length===0)return this.resetSelection(),this.columnsSelectedWhenTheTableIsEmpty.add(e.id),!0;const l=[];return n.forEach(s=>{l.push([s,e])}),this.resetSelection(),this.selectMultipleCells(l),!0}toggleRowSelection(e){if(this.isCompleteRowSelected(e))this.resetSelection();else{const n=[];this.getColumns().forEach(l=>{n.push([e,l])}),this.resetSelection(),this.selectMultipleCells(n)}}onColumnSelectionStart(e){if(!this.isCompleteColumnSelected(e)){this.activateCell({rowIndex:0},{id:e.id});const t=this.getRows();if(t.length===0)return this.resetSelection(),this.columnsSelectedWhenTheTableIsEmpty.add(e.id),!0;this.onStartSelection(t[0],e),this.onMouseEnterCellWhileSelection(t[t.length-1],e)}return!0}onMouseEnterColumnHeaderWhileSelection(e){const t=this.getRows();return t.length===0?(this.resetSelection(),this.columnsSelectedWhenTheTableIsEmpty.add(e.id),!0):(this.onMouseEnterCellWhileSelection(t[t.length-1],e),!0)}onRowSelectionStart(e){const t=this.getColumns(),n=this.getColumnOrder();t.length;const l=n[0],s=n[n.length-1],i=t.find(a=>a.id===l),o=t.find(a=>a.id===s);return i&&o&&(this.activateCell(e,i),this.onStartSelection(e,i),this.onMouseEnterCellWhileSelection(e,o)),!0}onMouseEnterRowHeaderWhileSelection(e){const t=this.getColumns();t.length;const n=t[t.length-1];return this.onMouseEnterCellWhileSelection(e,n),!0}resetActiveCell(){this.activeCell.set(void 0)}activateCell(e,t){this.activeCell.set({rowIndex:e.rowIndex,columnId:t.id})}focusCell(e,t){var s;const l=document.querySelectorAll(`[data-column-identifier="${t.id}"]`).item(e.rowIndex);(s=l==null?void 0:l.querySelector(".cell-wrapper"))==null||s.focus()}getAdjacentCell(e,t){const n=this.getColumnOrder(),l=(()=>{const i=AO(t);if(i===0)return e.rowIndex;const o=0,a=this.getMaxSelectionRowIndex(),u=e.rowIndex+i;if(!(u<o||u>a))return u})();if(l===void 0)return;const s=(()=>{const i=MO(t);if(i===0)return e.columnId;if(e.columnId){const o=n.findIndex(u=>u===e.columnId);return n[o+i]}return""})();if(!!s)return{rowIndex:l,columnId:s}}handleKeyEventsOnActiveCell(e){const t=EO(e);if(!t)return;let n=!1;return this.activeCell.update(l=>{if(!l)return;const s=this.getAdjacentCell(l,t);return s?(n=!0,s):l}),n?"moved":void 0}activateFirstCellInSelectedColumn(){const e=Qe(this.activeCell);e&&this.activateCell({rowIndex:0},{id:e.columnId})}getSelectedUniqueColumnsId(e,t){const n=new Set([...[...e].map(Ap),...t]);return Array.from(n)}getSelectedUniqueRowsId(e){const t=new Set([...[...e].map(xu)]);return Array.from(t)}destroy(){this.activeCellUnsubscriber()}}function LO(r,e){function t(n){return n.columns.length!==e.length?!1:n.columns.every(l=>e.includes(l))}return r.filter(t)}function NO(r){return at(r,({constraints:e})=>new Set(e.filter(t=>t.type==="unique"&&t.columns.length===1).map(t=>t.columns[0])))}function FO(r){return{get(e){const t=Mc(r,e);return dn(t)},add(e){return un(r,e)},remove(e){return gl(`${r}${e}/`)}}}class Dv{constructor({tableId:e,shareConsumer:t}){re(this,"tableId");re(this,"store");re(this,"promise");re(this,"api");re(this,"shareConsumer");re(this,"uniqueColumns");this.tableId=e,this.shareConsumer=t,this.store=Ge({state:St.Loading,constraints:[]}),this.uniqueColumns=NO(this.store),this.api=FO(`/api/db/v0/tables/${this.tableId}/constraints/`),this.fetch()}set(e){this.store.set(e)}update(e){this.store.update(e)}subscribe(e){return this.store.subscribe(e)}get(){return Qe(this.store)}async fetch(){var e,t;this.update(n=>({...n,state:St.Loading}));try{(e=this.promise)==null||e.cancel(),this.promise=this.api.get({limit:500,...(t=this.shareConsumer)==null?void 0:t.getQueryParams()});const n=await this.promise,l={state:St.Done,constraints:n.results};return this.set(l),l}catch(n){this.set({state:St.Error,error:n instanceof Error?n.message:void 0,constraints:[]})}finally{this.promise=void 0}}async add(e){const t=await this.api.add(e);return await this.fetch(),t}async remove(e){await this.api.remove(e),await this.fetch()}async setUniquenessOfColumn(e,t){if(e.primary_key){if(!t)throw new Error(`Column "${e.name}" must remain unique because it is a primary key.`);return}const n=Qe(this.uniqueColumns).has(e.id);if(t===n)return;if(t){await this.add({type:"unique",columns:[e.id]});return}const{constraints:l}=Qe(this.store),s=LO(l,[e.id]).filter(i=>i.type==="unique");await Promise.all(s.map(i=>this.api.remove(i.id))),await this.fetch()}destroy(){var e;(e=this.promise)==null||e.cancel(),this.promise=void 0}}function zO(r){let e,t;const n=r[1].default,l=De(n,r,r[0],null);return{c(){e=I("span"),l&&l.c(),D(e,"class","postgres-keyword")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,[i]){l&&l.p&&(!t||i&1)&&Ee(l,n,s,s[0],t?Ie(n,s[0],i,null):Me(s[0]),null)},i(s){t||(p(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&$(e),l&&l.d(s)}}}function HO(r,e,t){let{$$slots:n={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&t(0,l=s.$$scope)},[l,n]}class Iv extends X{constructor(e){super(),Q(this,e,HO,zO,G,{})}}function VO(r){let e;return{c(){e=B("DEFAULT")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function qO(r){let e,t;return e=new Iv({props:{$$slots:{default:[VO]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}class Oa extends X{constructor(e){super(),Q(this,e,null,qO,G,{})}}function UO(r){let e;return{c(){e=B("NULL")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function WO(r){let e,t;return e=new Iv({props:{$$slots:{default:[UO]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}class Us extends X{constructor(e){super(),Q(this,e,null,WO,G,{})}}function BO(r){let e;const t=r[3].default,n=De(t,r,r[2],null),l=n||GO(r);return{c(){l&&l.c()},m(s,i){l&&l.m(s,i),e=!0},p(s,i){n?n.p&&(!e||i&4)&&Ee(n,t,s,s[2],e?Ie(t,s[2],i,null):Me(s[2]),null):l&&l.p&&(!e||i&1)&&l.p(s,e?i:-1)},i(s){e||(p(l,s),e=!0)},o(s){g(l,s),e=!1},d(s){l&&l.d(s)}}}function jO(r){let e,t;return e=new Sc({props:{matchParts:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.matchParts=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function YO(r){let e,t;return e=new Oa({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function KO(r){let e,t;return e=new Us({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function GO(r){let e;return{c(){e=B(r[0])},m(t,n){w(t,e,n)},p(t,n){n&1&&he(e,t[0])},d(t){t&&$(e)}}}function QO(r){let e,t,n,l;const s=[KO,YO,jO,BO],i=[];function o(a,u){return a[0]===null?0:a[0]===void 0?1:a[1]?2:3}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function XO(r,e,t){let{$$slots:n={},$$scope:l}=e,{value:s}=e,{matchParts:i=void 0}=e;return r.$$set=o=>{"value"in o&&t(0,s=o.value),"matchParts"in o&&t(1,i=o.matchParts),"$$scope"in o&&t(2,l=o.$$scope)},[s,i,l,n]}class Bi extends X{constructor(e){super(),Q(this,e,XO,QO,G,{value:0,matchParts:1})}}function Rp(r){let e,t,n;return{c(){e=I("div"),D(e,"class",t=Xf(`cell-background ${r[2]}`)+" svelte-hwy11c"),D(e,"style",n=`background-color: ${r[1]};`)},m(l,s){w(l,e,s)},p(l,s){s&4&&t!==(t=Xf(`cell-background ${l[2]}`)+" svelte-hwy11c")&&D(e,"class",t),s&2&&n!==(n=`background-color: ${l[1]};`)&&D(e,"style",n)},d(l){l&&$(e)}}}function JO(r){let e,t=r[0]&&Rp(r);return{c(){t&&t.c(),e=ae()},m(n,l){t&&t.m(n,l),w(n,e,l)},p(n,[l]){n[0]?t?t.p(n,l):(t=Rp(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:z,o:z,d(n){t&&t.d(n),n&&$(e)}}}function ZO(r,e,t){let{when:n=!0}=e,{color:l}=e,{class:s=""}=e;return r.$$set=i=>{"when"in i&&t(0,n=i.when),"color"in i&&t(1,l=i.color),"class"in i&&t(2,s=i.class)},[n,l,s]}class cr extends X{constructor(e){super(),Q(this,e,ZO,JO,G,{when:0,color:1,class:2})}}function Pp(r){let e,t,n,l;return e=new cr({props:{color:"rgba(14, 101, 235, 0.1)",when:r[2]}}),n=new cr({props:{color:"var(--cell-background-color)",when:r[7]!=="noMatch"}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&4&&(o.when=s[2]),e.$set(o);const a={};i&128&&(a.when=s[7]!=="noMatch"),n.$set(a)},i(s){l||(p(e.$$.fragment,s),p(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&$(t),S(n,s)}}}function xO(r){let e,t,n,l,s,i,o=r[4]!=="edit"&&Pp(r);const a=r[16].default,u=De(a,r,r[15],null);let c=[{class:"cell-wrapper"},{tabindex:n=-1},r[14]],f={};for(let m=0;m<c.length;m+=1)f=x(f,c[m]);return{c(){e=I("div"),o&&o.c(),t=O(),u&&u.c(),it(e,f),Z(e,"is-active",r[1]),Z(e,"is-focused",r[10]),Z(e,"disabled",r[3]),Z(e,"is-edit-mode",r[4]==="edit"),Z(e,"truncate",r[5]&&!r[8]),Z(e,"h-align-right",r[9]==="right"&&!r[8]),Z(e,"has-padding",r[6]&&!r[8]),Z(e,"exact-match",r[7]==="exactMatch"),Z(e,"substring-match",r[7]==="substringMatch"),Z(e,"no-match",r[7]==="noMatch"),Z(e,"svelte-89fo8v",!0)},m(m,d){w(m,e,d),o&&o.m(e,null),M(e,t),u&&u.m(e,null),r[22](e),l=!0,s||(i=[Le(e,"click",r[17]),Le(e,"dblclick",r[18]),Le(e,"mousedown",r[19]),Le(e,"mouseenter",r[20]),Le(e,"keydown",r[21]),Le(e,"copy",r[13]),Le(e,"focus",r[11]),Le(e,"blur",r[12])],s=!0)},p(m,[d]){m[4]!=="edit"?o?(o.p(m,d),d&16&&p(o,1)):(o=Pp(m),o.c(),p(o,1),o.m(e,t)):o&&(q(),g(o,1,1,()=>{o=null}),U()),u&&u.p&&(!l||d&32768)&&Ee(u,a,m,m[15],l?Ie(a,m[15],d,null):Me(m[15]),null),it(e,f=ce(c,[{class:"cell-wrapper"},{tabindex:n},d&16384&&m[14]])),Z(e,"is-active",m[1]),Z(e,"is-focused",m[10]),Z(e,"disabled",m[3]),Z(e,"is-edit-mode",m[4]==="edit"),Z(e,"truncate",m[5]&&!m[8]),Z(e,"h-align-right",m[9]==="right"&&!m[8]),Z(e,"has-padding",m[6]&&!m[8]),Z(e,"exact-match",m[7]==="exactMatch"),Z(e,"substring-match",m[7]==="substringMatch"),Z(e,"no-match",m[7]==="noMatch"),Z(e,"svelte-89fo8v",!0)},i(m){l||(p(o),p(u,m),l=!0)},o(m){g(o),g(u,m),l=!1},d(m){m&&$(e),o&&o.d(),u&&u.d(m),r[22](null),s=!1,Dt(i)}}}function eL(r,e,t){const n=["element","isActive","isSelectedInRange","disabled","mode","multiLineTruncate","hasPadding","valueComparisonOutcome","isIndependentOfSheet","horizontalAlignment"];let l=Be(e,n),{$$slots:s={},$$scope:i}=e,{element:o=void 0}=e,{isActive:a=!1}=e,{isSelectedInRange:u=!1}=e,{disabled:c=!1}=e,{mode:f="default"}=e,{multiLineTruncate:m=!1}=e,{hasPadding:d=!0}=e,{valueComparisonOutcome:_=void 0}=e,{isIndependentOfSheet:h=!1}=e,{horizontalAlignment:b="left"}=e,v=!1;function k(j,Y){return!(!j||Y==="edit"||!o||o.contains(document.activeElement))}async function T(j,Y){await Gt(),k(j,Y)&&(o==null||o.focus())}function E(){t(10,v=!0)}function P(){t(10,v=!1)}function R(j){j.target!==o&&j.stopPropagation()}function L(j){ve.call(this,r,j)}function A(j){ve.call(this,r,j)}function N(j){ve.call(this,r,j)}function F(j){ve.call(this,r,j)}function K(j){ve.call(this,r,j)}function W(j){ye[j?"unshift":"push"](()=>{o=j,t(0,o)})}return r.$$set=j=>{e=x(x({},e),ft(j)),t(14,l=Be(e,n)),"element"in j&&t(0,o=j.element),"isActive"in j&&t(1,a=j.isActive),"isSelectedInRange"in j&&t(2,u=j.isSelectedInRange),"disabled"in j&&t(3,c=j.disabled),"mode"in j&&t(4,f=j.mode),"multiLineTruncate"in j&&t(5,m=j.multiLineTruncate),"hasPadding"in j&&t(6,d=j.hasPadding),"valueComparisonOutcome"in j&&t(7,_=j.valueComparisonOutcome),"isIndependentOfSheet"in j&&t(8,h=j.isIndependentOfSheet),"horizontalAlignment"in j&&t(9,b=j.horizontalAlignment),"$$scope"in j&&t(15,i=j.$$scope)},r.$$.update=()=>{r.$$.dirty&18&&T(a,f)},[o,a,u,c,f,m,d,_,h,b,v,E,P,R,l,i,s,L,A,N,F,K,W]}class Ws extends X{constructor(e){super(),Q(this,e,eL,xO,G,{element:0,isActive:1,isSelectedInRange:2,disabled:3,mode:4,multiLineTruncate:5,hasPadding:6,valueComparisonOutcome:7,isIndependentOfSheet:8,horizontalAlignment:9})}}const tL=r=>({value:r&1,formatValue:r&32,matchParts:r&512}),Op=r=>({value:r[0],formatValue:r[5],matchParts:r[9],handleInputBlur:r[17],handleInputKeydown:r[16]}),nL=r=>({}),Lp=r=>({handleInputBlur:r[17],handleInputKeydown:r[16]});function rL(r){let e,t,n;return t=new Fs({props:{lines:r[1]&&r[4]?2:1,passthrough:!r[8],$$slots:{default:[iL]},$$scope:{ctx:r}}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","content svelte-kb88kg"),Z(e,"nowrap",!r[1]&&!r[7]),Z(e,"truncate",r[1]&&r[4]&&!r[7])},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&18&&(i.lines=l[1]&&l[4]?2:1),s&256&&(i.passthrough=!l[8]),s&16785953&&(i.$$scope={dirty:s,ctx:l}),t.$set(i),(!n||s&130)&&Z(e,"nowrap",!l[1]&&!l[7]),(!n||s&146)&&Z(e,"truncate",l[1]&&l[4]&&!l[7])},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function lL(r){let e;const t=r[21].default,n=De(t,r,r[24],Lp);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&16777216)&&Ee(n,t,l,l[24],e?Ie(t,l[24],s,nL):Me(l[24]),Lp)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function sL(r){let e,t;return e=new Bi({props:{value:r[13],matchParts:r[9]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8192&&(s.value=n[13]),l&512&&(s.matchParts=n[9]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function iL(r){let e;const t=r[21].content,n=De(t,r,r[24],Op),l=n||sL(r);return{c(){l&&l.c()},m(s,i){l&&l.m(s,i),e=!0},p(s,i){n?n.p&&(!e||i&16777761)&&Ee(n,t,s,s[24],e?Ie(t,s[24],i,tL):Me(s[24]),Op):l&&l.p&&(!e||i&8704)&&l.p(s,e?i:-1)},i(s){e||(p(l,s),e=!0)},o(s){g(l,s),e=!1},d(s){l&&l.d(s)}}}function oL(r){let e,t,n,l;const s=[lL,rL],i=[];function o(a,u){return a[11]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function aL(r){let e,t,n;function l(i){r[22](i)}let s={isActive:r[1],isSelectedInRange:r[2],disabled:r[3],mode:r[11]?"edit":"default",multiLineTruncate:r[4],horizontalAlignment:r[6],valueComparisonOutcome:r[12],isIndependentOfSheet:r[7],$$slots:{default:[oL]},$$scope:{ctx:r}};return r[10]!==void 0&&(s.element=r[10]),e=new Ws({props:s}),ye.push(()=>Pe(e,"element",l)),e.$on("dblclick",r[14]),e.$on("keydown",r[15]),e.$on("mousedown",r[18]),e.$on("mouseenter",r[23]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.isActive=i[1]),o&4&&(a.isSelectedInRange=i[2]),o&8&&(a.disabled=i[3]),o&2048&&(a.mode=i[11]?"edit":"default"),o&16&&(a.multiLineTruncate=i[4]),o&64&&(a.horizontalAlignment=i[6]),o&4096&&(a.valueComparisonOutcome=i[12]),o&128&&(a.isIndependentOfSheet=i[7]),o&16788403&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1024&&(t=!0,a.element=i[10],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function uL(r,e,t){let n,l,s,{$$slots:i={},$$scope:o}=e;const a=dt();let{isActive:u}=e,{isSelectedInRange:c}=e,{value:f}=e,{disabled:m}=e,{multiLineTruncate:d=!1}=e,{formatValue:_=void 0}=e,{horizontalAlignment:h=void 0}=e,{searchValue:b=void 0}=e,{isIndependentOfSheet:v=!1}=e,{showTruncationPopover:k=!1}=e,{highlightSubstringMatches:T=!0}=e,E,P=!1,R;function L(){m||t(11,P=!0)}function A(){t(11,P=!1)}function N(){t(0,f=R)}function F(){R=f}function K(H){switch(H.key){case"Enter":P?A():L(),H.preventDefault();break;case"Escape":N(),A();break;case"Tab":A(),a("movementKeyDown",{originalEvent:H,key:H.key});break;case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":P||a("movementKeyDown",{originalEvent:H,key:H.key});break}}function W(){f!==R&&(F(),a("update",{value:f}))}function j(H){switch(H.key){case"Escape":N();break;case"Enter":case"Tab":W();break}}function Y(){W(),A()}function oe(){u||a("activate")}rn(F);function te(H){E=H,t(10,E)}function ne(H){ve.call(this,r,H)}return r.$$set=H=>{"isActive"in H&&t(1,u=H.isActive),"isSelectedInRange"in H&&t(2,c=H.isSelectedInRange),"value"in H&&t(0,f=H.value),"disabled"in H&&t(3,m=H.disabled),"multiLineTruncate"in H&&t(4,d=H.multiLineTruncate),"formatValue"in H&&t(5,_=H.formatValue),"horizontalAlignment"in H&&t(6,h=H.horizontalAlignment),"searchValue"in H&&t(19,b=H.searchValue),"isIndependentOfSheet"in H&&t(7,v=H.isIndependentOfSheet),"showTruncationPopover"in H&&t(8,k=H.showTruncationPopover),"highlightSubstringMatches"in H&&t(20,T=H.highlightSubstringMatches),"$$scope"in H&&t(24,o=H.$$scope)},r.$$.update=()=>{var H;r.$$.dirty&33&&t(13,n=(H=_==null?void 0:_(f))!=null?H:f),r.$$.dirty&1572865&&t(9,l=(()=>{if(!(!T||typeof f!="string"||typeof b!="string"))return V$(f,b)})()),r.$$.dirty&524833&&t(12,s=(()=>l?pD(l):yc(b,f,pe=>{var ue;return pe==null?"":(ue=_==null?void 0:_(pe))!=null?ue:""}))())},[f,u,c,m,d,_,h,v,k,l,E,P,s,n,L,K,j,Y,oe,b,T,i,te,ne,o]}class Jl extends X{constructor(e){super(),Q(this,e,uL,aL,G,{isActive:1,isSelectedInRange:2,value:0,disabled:3,multiLineTruncate:4,formatValue:5,horizontalAlignment:6,searchValue:19,isIndependentOfSheet:7,showTruncationPopover:8,highlightSubstringMatches:20})}}function cL(r){let e,t,n;function l(i){r[8](i)}let s={focusOnMount:!0,maxlength:mi(r[7]),disabled:r[3]};return r[0]!==void 0&&(s.value=r[0]),e=new $n({props:s}),ye.push(()=>Pe(e,"value",l)),e.$on("blur",function(){Et(r[14])&&r[14].apply(this,arguments)}),e.$on("keydown",function(){Et(r[15])&&r[15].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){r=i;const a={};o&128&&(a.maxlength=mi(r[7])),o&8&&(a.disabled=r[3]),!t&&o&1&&(t=!0,a.value=r[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function fL(r){let e,t,n;function l(i){r[9](i)}let s={isActive:r[1],isSelectedInRange:r[2],disabled:r[3],searchValue:r[4],isIndependentOfSheet:r[5],showTruncationPopover:r[6],$$slots:{default:[cL,({handleInputBlur:i,handleInputKeydown:o})=>({14:i,15:o}),({handleInputBlur:i,handleInputKeydown:o})=>(i?16384:0)|(o?32768:0)]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new Jl({props:s}),ye.push(()=>Pe(e,"value",l)),e.$on("movementKeyDown",r[10]),e.$on("activate",r[11]),e.$on("mouseenter",r[12]),e.$on("update",r[13]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.isActive=i[1]),o&4&&(a.isSelectedInRange=i[2]),o&8&&(a.disabled=i[3]),o&16&&(a.searchValue=i[4]),o&32&&(a.isIndependentOfSheet=i[5]),o&64&&(a.showTruncationPopover=i[6]),o&114825&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.value=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function mL(r,e,t){let{isActive:n}=e,{isSelectedInRange:l}=e,{value:s=void 0}=e,{disabled:i}=e,{searchValue:o=void 0}=e,{isIndependentOfSheet:a}=e,{showTruncationPopover:u=!1}=e,{length:c=void 0}=e;function f(v){s=v,t(0,s)}function m(v){s=v,t(0,s)}function d(v){ve.call(this,r,v)}function _(v){ve.call(this,r,v)}function h(v){ve.call(this,r,v)}function b(v){ve.call(this,r,v)}return r.$$set=v=>{"isActive"in v&&t(1,n=v.isActive),"isSelectedInRange"in v&&t(2,l=v.isSelectedInRange),"value"in v&&t(0,s=v.value),"disabled"in v&&t(3,i=v.disabled),"searchValue"in v&&t(4,o=v.searchValue),"isIndependentOfSheet"in v&&t(5,a=v.isIndependentOfSheet),"showTruncationPopover"in v&&t(6,u=v.showTruncationPopover),"length"in v&&t(7,c=v.length)},[s,n,l,i,o,a,u,c,f,m,d,_,h,b]}class dL extends X{constructor(e){super(),Q(this,e,mL,fL,G,{isActive:1,isSelectedInRange:2,value:0,disabled:3,searchValue:4,isIndependentOfSheet:5,showTruncationPopover:6,length:7})}}function pL(r){let e,t,n;function l(o){r[8](o)}function s(...o){return r[9](r[16],...o)}let i={focusOnMount:!0,maxlength:mi(r[7]),disabled:r[3],addNewLineOnEnterKeyCombinations:!0};return r[0]!==void 0&&(i.value=r[0]),e=new Gl({props:i}),ye.push(()=>Pe(e,"value",l)),e.$on("blur",function(){Et(r[15])&&r[15].apply(this,arguments)}),e.$on("processedKeyDown",s),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){r=o;const u={};a&128&&(u.maxlength=mi(r[7])),a&8&&(u.disabled=r[3]),!t&&a&1&&(t=!0,u.value=r[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function _L(r){let e,t,n;function l(i){r[10](i)}let s={isActive:r[1],isSelectedInRange:r[2],disabled:r[3],searchValue:r[4],isIndependentOfSheet:r[5],showTruncationPopover:r[6],multiLineTruncate:!0,$$slots:{default:[pL,({handleInputBlur:i,handleInputKeydown:o})=>({15:i,16:o}),({handleInputBlur:i,handleInputKeydown:o})=>(i?32768:0)|(o?65536:0)]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new Jl({props:s}),ye.push(()=>Pe(e,"value",l)),e.$on("movementKeyDown",r[11]),e.$on("activate",r[12]),e.$on("mouseenter",r[13]),e.$on("update",r[14]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.isActive=i[1]),o&4&&(a.isSelectedInRange=i[2]),o&8&&(a.disabled=i[3]),o&16&&(a.searchValue=i[4]),o&32&&(a.isIndependentOfSheet=i[5]),o&64&&(a.showTruncationPopover=i[6]),o&229513&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.value=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function gL(r,e){const{type:t,originalEvent:n}=r;t==="newlineWithEnterKeyCombination"?n.stopPropagation():e(n)}function hL(r,e,t){let{isActive:n}=e,{isSelectedInRange:l}=e,{value:s=void 0}=e,{disabled:i}=e,{searchValue:o=void 0}=e,{isIndependentOfSheet:a}=e,{showTruncationPopover:u=!1}=e,{length:c=void 0}=e;function f(k){s=k,t(0,s)}const m=(k,T)=>gL(T.detail,k);function d(k){s=k,t(0,s)}function _(k){ve.call(this,r,k)}function h(k){ve.call(this,r,k)}function b(k){ve.call(this,r,k)}function v(k){ve.call(this,r,k)}return r.$$set=k=>{"isActive"in k&&t(1,n=k.isActive),"isSelectedInRange"in k&&t(2,l=k.isSelectedInRange),"value"in k&&t(0,s=k.value),"disabled"in k&&t(3,i=k.disabled),"searchValue"in k&&t(4,o=k.searchValue),"isIndependentOfSheet"in k&&t(5,a=k.isIndependentOfSheet),"showTruncationPopover"in k&&t(6,u=k.showTruncationPopover),"length"in k&&t(7,c=k.length)},[s,n,l,i,o,a,u,c,f,m,d,_,h,b,v]}class bL extends X{constructor(e){super(),Q(this,e,hL,_L,G,{isActive:1,isSelectedInRange:2,value:0,disabled:3,searchValue:4,isIndependentOfSheet:5,showTruncationPopover:6,length:7})}}const $L={initialInputValue:"",get:(r,e)=>{var l;const t=(l=r.type_options)!=null?l:{};return{component:e!=null&&e.multiLine?bL:dL,props:t}},getInput:(r,e)=>{var n;return{component:e!=null&&e.multiLine?Gl:$n,props:{maxlength:mi((n=r.type_options)==null?void 0:n.length)}}},getDisplayFormatter:()=>String};function wL(r){let e,t,n;function l(i){r[13](i)}let s={allowIndeterminate:!0,disabled:r[3]||r[4]};return r[0]!==void 0&&(s.checked=r[0]),e=new Oi({props:s}),ye.push(()=>Pe(e,"checked",l)),e.$on("change",r[8]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&24&&(a.disabled=i[3]||i[4]),!t&&o&1&&(t=!0,a.checked=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function vL(r){let e,t;return e=new Oa({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function kL(r){let e,t,n,l;const s=[vL,wL],i=[];function o(a,u){return a[0]===void 0?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function yL(r){let e,t,n;function l(i){r[14](i)}let s={isActive:r[1],isSelectedInRange:r[2],disabled:r[3],isIndependentOfSheet:r[5],valueComparisonOutcome:r[7],$$slots:{default:[kL]},$$scope:{ctx:r}};return r[6]!==void 0&&(s.element=r[6]),e=new Ws({props:s}),ye.push(()=>Pe(e,"element",l)),e.$on("mouseenter",r[15]),e.$on("keydown",r[9]),e.$on("click",r[10]),e.$on("mousedown",r[11]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.isActive=i[1]),o&4&&(a.isSelectedInRange=i[2]),o&8&&(a.disabled=i[3]),o&32&&(a.isIndependentOfSheet=i[5]),o&128&&(a.valueComparisonOutcome=i[7]),o&262169&&(a.$$scope={dirty:o,ctx:i}),!t&&o&64&&(t=!0,a.element=i[6],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function SL(r,e,t){let n;const l=dt();let{isActive:s}=e,{isSelectedInRange:i}=e,{value:o=void 0}=e,{disabled:a}=e,{searchValue:u=void 0}=e,{isProcessing:c}=e,{isIndependentOfSheet:f}=e,m,d=!1;function _(){l("update",{value:o})}function h(P){switch(P.key){case"Enter":s&&(t(0,o=!o),_());break;case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":l("movementKeyDown",{originalEvent:P,key:P.key});break}}function b(P){!a&&s&&P.target===m&&!d&&(t(0,o=!o),_()),d=!1,m==null||m.focus()}function v(){s||(d=!0,l("activate"))}function k(P){o=P,t(0,o)}function T(P){m=P,t(6,m)}function E(P){ve.call(this,r,P)}return r.$$set=P=>{"isActive"in P&&t(1,s=P.isActive),"isSelectedInRange"in P&&t(2,i=P.isSelectedInRange),"value"in P&&t(0,o=P.value),"disabled"in P&&t(3,a=P.disabled),"searchValue"in P&&t(12,u=P.searchValue),"isProcessing"in P&&t(4,c=P.isProcessing),"isIndependentOfSheet"in P&&t(5,f=P.isIndependentOfSheet)},r.$$.update=()=>{r.$$.dirty&4097&&t(7,n=yc(u,o))},[o,s,i,a,c,f,m,n,_,h,b,v,u,k,T,E]}class CL extends X{constructor(e){super(),Q(this,e,SL,yL,G,{isActive:1,isSelectedInRange:2,value:0,disabled:3,searchValue:12,isProcessing:4,isIndependentOfSheet:5})}}function TL(r){var n;let e=r[6]((n=r[0])!=null?n:void 0)+"",t;return{c(){t=B(e)},m(l,s){w(l,t,s)},p(l,s){var i;s&65&&e!==(e=l[6]((i=l[0])!=null?i:void 0)+"")&&he(t,e)},d(l){l&&$(t)}}}function Np(r){let e,t,n;const l=[Jn];let s={};for(let i=0;i<l.length;i+=1)s=x(s,l[i]);return t=new Fe({props:s}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","icon svelte-j6pzvy")},m(i,o){w(i,e,o),y(t,e,null),n=!0},p(i,o){const a=o&0?ce(l,[be(Jn)]):{};t.$set(a)},i(i){n||(p(t.$$.fragment,i),n=!0)},o(i){g(t.$$.fragment,i),n=!1},d(i){i&&$(e),S(t)}}}function DL(r){let e,t,n,l,s;n=new Bi({props:{value:r[0],$$slots:{default:[TL]},$$scope:{ctx:r}}});let i=r[1]&&Np();return{c(){e=I("div"),t=I("div"),C(n.$$.fragment),l=O(),i&&i.c(),D(t,"class","value svelte-j6pzvy"),Z(t,"active",r[1]),D(e,"class","cell svelte-j6pzvy")},m(o,a){w(o,e,a),M(e,t),y(n,t,null),M(e,l),i&&i.m(e,null),s=!0},p(o,a){const u={};a&1&&(u.value=o[0]),a&16777281&&(u.$$scope={dirty:a,ctx:o}),n.$set(u),(!s||a&2)&&Z(t,"active",o[1]),o[1]?i?(i.p(o,a),a&2&&p(i,1)):(i=Np(),i.c(),p(i,1),i.m(e,null)):i&&(q(),g(i,1,1,()=>{i=null}),U())},i(o){s||(p(n.$$.fragment,o),p(i),s=!0)},o(o){g(n.$$.fragment,o),g(i),s=!1},d(o){o&&$(e),S(n),i&&i.d()}}}function IL(r){let e,t;return e=new Ls({props:{id:r[8]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function EL(r){let e,t,n,l,s;function i(f){r[14](f)}function o(){return r[16](r[22])}function a(...f){return r[17](r[22],r[23],...f)}let u={"aria-controls":r[8],"aria-haspopup":"listbox",isActive:r[1],isSelectedInRange:r[2],disabled:r[3],isIndependentOfSheet:r[4],$$slots:{default:[DL]},$$scope:{ctx:r}};r[7]!==void 0&&(u.element=r[7]),e=new Ws({props:u}),ye.push(()=>Pe(e,"element",i)),e.$on("mousedown",r[10]),e.$on("mouseenter",r[15]),e.$on("click",o),e.$on("keydown",a);function c(){return r[18](r[22])}return l=new Kl({props:{trigger:r[7],isOpen:r[23],class:"single-select-cell-dropdown retain-active-cell",$$slots:{default:[IL]},$$scope:{ctx:r}}}),l.$on("close",c),{c(){C(e.$$.fragment),n=O(),C(l.$$.fragment)},m(f,m){y(e,f,m),w(f,n,m),y(l,f,m),s=!0},p(f,m){r=f;const d={};m&2&&(d.isActive=r[1]),m&4&&(d.isSelectedInRange=r[2]),m&8&&(d.disabled=r[3]),m&16&&(d.isIndependentOfSheet=r[4]),m&16777283&&(d.$$scope={dirty:m,ctx:r}),!t&&m&128&&(t=!0,d.element=r[7],Ne(()=>t=!1)),e.$set(d);const _={};m&128&&(_.trigger=r[7]),m&8388608&&(_.isOpen=r[23]),m&16777216&&(_.$$scope={dirty:m,ctx:r}),l.$set(_)},i(f){s||(p(e.$$.fragment,f),p(l.$$.fragment,f),s=!0)},o(f){g(e.$$.fragment,f),g(l.$$.fragment,f),s=!1},d(f){S(e,f),f&&$(n),S(l,f)}}}function ML(r){let e,t;return e=new ha({props:{options:r[5],getLabel:r[6],disabled:r[3],selectionType:"single",value:mn(r[0])?[r[0]]:[],$$slots:{default:[EL,({api:n,isOpen:l})=>({22:n,23:l}),({api:n,isOpen:l})=>(n?4194304:0)|(l?8388608:0)]},$$scope:{ctx:r}}}),e.$on("change",r[19]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&32&&(s.options=n[5]),l&64&&(s.getLabel=n[6]),l&8&&(s.disabled=n[3]),l&1&&(s.value=mn(n[0])?[n[0]]:[]),l&29360351&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function AL(r,e,t){const n=dt(),l=fl();let{isActive:s}=e,{isSelectedInRange:i}=e,{value:o=void 0}=e,{disabled:a}=e,{isIndependentOfSheet:u}=e,{options:c=[]}=e,{getLabel:f=N=>As(N)}=e,m,d=!1;function _(N){s&&!d&&N.toggle(),d=!1}function h(){s||(d=!0,n("activate"))}function b(N,F,K){if(["Tab","ArrowLeft","ArrowRight"].includes(N.key)){n("movementKeyDown",{originalEvent:N,key:N.key}),F.close();return}if(K){F.handleKeyDown(N);return}switch(N.key){case"Enter":a||F.handleKeyDown(N);break;case"ArrowDown":case"ArrowUp":n("movementKeyDown",{originalEvent:N,key:N.key});break}}function v(N){t(0,[o]=N,o),n("update",{value:o})}function k(N){N.close(),m==null||m.focus()}function T(N){m=N,t(7,m)}function E(N){ve.call(this,r,N)}const P=N=>_(N),R=(N,F,K)=>b(K,N,F),L=N=>k(N),A=N=>v(N.detail);return r.$$set=N=>{"isActive"in N&&t(1,s=N.isActive),"isSelectedInRange"in N&&t(2,i=N.isSelectedInRange),"value"in N&&t(0,o=N.value),"disabled"in N&&t(3,a=N.disabled),"isIndependentOfSheet"in N&&t(4,u=N.isIndependentOfSheet),"options"in N&&t(5,c=N.options),"getLabel"in N&&t(6,f=N.getLabel)},[o,s,i,a,u,c,f,m,l,_,h,b,v,k,T,E,P,R,L,A]}class RL extends X{constructor(e){super(),Q(this,e,AL,ML,G,{isActive:1,isSelectedInRange:2,value:0,disabled:3,isIndependentOfSheet:4,options:5,getLabel:6})}}function Ev(r){var t,n,l;const e=(t=r==null?void 0:r.custom_labels)!=null?t:void 0;return[(n=e==null?void 0:e.TRUE)!=null?n:"true",(l=e==null?void 0:e.FALSE)!=null?l:"false"]}function Mv(r,e){return mn(e)?e?r[0]:r[1]:""}function Fp(r){const e=Ev(r.display_options);return{options:[null,!0,!1],getLabel:t=>Mv(e,t)}}const PL={initialInputValue:null,get:r=>{var t;const e=(t=r.display_options)!=null?t:void 0;return e&&e.input==="dropdown"?{component:RL,props:Fp(r)}:{component:CL,props:{}}},getInput:r=>({component:Sn,props:Fp(r)}),getDisplayFormatter(r){const e=Ev(r.display_options);return t=>t==null||typeof t=="boolean"?Mv(e,t):""}};function OL(r){let e,t;const n=[r[3],{value:r[1]},{cssVariables:r[2]}];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new O$({props:l}),e.$on("blur",r[4]),e.$on("focus",r[5]),e.$on("keydown",r[6]),e.$on("artificialInput",r[7]),e.$on("artificialInput",r[8]),e.$on("artificialChange",r[9]),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&14?ce(n,[i&8&&be(s[3]),i&2&&{value:s[1]},i&4&&{cssVariables:s[2]}]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function LL(r){return r==null?null:String(r)}function NL(r,e,t){let n;const l=["value"];let s=Be(e,l),{value:i=void 0}=e,o=null;function a(h){t(1,o=LL(h))}function u(h){ve.call(this,r,h)}function c(h){ve.call(this,r,h)}function f(h){ve.call(this,r,h)}const m=({detail:h})=>{t(0,i=h)};function d(h){ve.call(this,r,h)}function _(h){ve.call(this,r,h)}return r.$$set=h=>{e=x(x({},e),ft(h)),t(3,s=Be(e,l)),"value"in h&&t(0,i=h.value)},r.$$.update=()=>{r.$$.dirty&1&&a(i),t(2,n={"--input-element-text-align":"right",...s.cssVariables||{}})},[i,o,n,s,u,c,f,m,d,_]}class Av extends X{constructor(e){super(),Q(this,e,NL,OL,G,{value:0})}}function FL(r){let e,t,n;const l=[{focusOnMount:!0},{disabled:r[3]},r[5]];function s(o){r[10](o)}let i={};for(let o=0;o<l.length;o+=1)i=x(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new Av({props:i}),ye.push(()=>Pe(e,"value",s)),e.$on("blur",function(){Et(r[16])&&r[16].apply(this,arguments)}),e.$on("keydown",function(){Et(r[17])&&r[17].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){r=o;const u=a&40?ce(l,[l[0],a&8&&{disabled:r[3]},a&32&&be(r[5])]):{};!t&&a&1&&(t=!0,u.value=r[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function zL(r){let e,t,n;function l(i){r[11](i)}let s={isActive:r[1],isSelectedInRange:r[2],disabled:r[3],isIndependentOfSheet:r[7],showTruncationPopover:r[8],searchValue:r[4],formatValue:r[9],horizontalAlignment:r[6],$$slots:{default:[FL,({handleInputBlur:i,handleInputKeydown:o})=>({16:i,17:o}),({handleInputBlur:i,handleInputKeydown:o})=>(i?65536:0)|(o?131072:0)]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new Jl({props:s}),ye.push(()=>Pe(e,"value",l)),e.$on("movementKeyDown",r[12]),e.$on("activate",r[13]),e.$on("mouseenter",r[14]),e.$on("update",r[15]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.isActive=i[1]),o&4&&(a.isSelectedInRange=i[2]),o&8&&(a.disabled=i[3]),o&128&&(a.isIndependentOfSheet=i[7]),o&256&&(a.showTruncationPopover=i[8]),o&16&&(a.searchValue=i[4]),o&512&&(a.formatValue=i[9]),o&64&&(a.horizontalAlignment=i[6]),o&458793&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.value=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function HL(r,e,t){let{isActive:n}=e,{isSelectedInRange:l}=e,{value:s}=e,{disabled:i}=e,{searchValue:o=void 0}=e,{formatterOptions:a}=e,{horizontalAlignment:u="right"}=e,{isIndependentOfSheet:c}=e,{showTruncationPopover:f=!1}=e,{formatForDisplay:m}=e;function d(T){s=T,t(0,s)}function _(T){s=T,t(0,s)}function h(T){ve.call(this,r,T)}function b(T){ve.call(this,r,T)}function v(T){ve.call(this,r,T)}function k(T){ve.call(this,r,T)}return r.$$set=T=>{"isActive"in T&&t(1,n=T.isActive),"isSelectedInRange"in T&&t(2,l=T.isSelectedInRange),"value"in T&&t(0,s=T.value),"disabled"in T&&t(3,i=T.disabled),"searchValue"in T&&t(4,o=T.searchValue),"formatterOptions"in T&&t(5,a=T.formatterOptions),"horizontalAlignment"in T&&t(6,u=T.horizontalAlignment),"isIndependentOfSheet"in T&&t(7,c=T.isIndependentOfSheet),"showTruncationPopover"in T&&t(8,f=T.showTruncationPopover),"formatForDisplay"in T&&t(9,m=T.formatForDisplay)},[s,n,l,i,o,a,u,c,f,m,d,_,h,b,v,k]}class VL extends X{constructor(e){super(),Q(this,e,HL,zL,G,{isActive:1,isSelectedInRange:2,value:0,disabled:3,searchValue:4,formatterOptions:5,horizontalAlignment:6,isIndependentOfSheet:7,showTruncationPopover:8,formatForDisplay:9})}}const qL=new Map([["english","en"],["german","de"],["french","fr"],["hindi","hi"],["swiss","de-CH"]]);function UL(r,e){var t,n;return e==="scale-based"?((n=(t=r.type_options)==null?void 0:t.scale)!=null?n:1/0)!==0:e!=="never"}function Rv(r){switch(r){case"true":return!0;case"false":default:return!1}}function Pv(r,e){var u,c,f,m;const t=r.display_options,n=(u=t==null?void 0:t.number_format)!=null?u:null,l=(c=n&&qL.get(n))!=null?c:void 0,s=Rv((f=t==null?void 0:t.use_grouping)!=null?f:"false"),i=UL(r,e==null?void 0:e.floatAllowanceStrategy),o=!0,a=(m=t==null?void 0:t.minimum_fraction_digits)!=null?m:void 0;return{locale:l,allowFloat:i,allowNegative:o,useGrouping:s,minimumFractionDigits:a}}function zp(r,e){var o;const t=Pv(r,e),n=r.display_options,l=(o=n==null?void 0:n.maximum_fraction_digits)!=null?o:void 0,s={...t,maximumFractionDigits:l},i=new wc(s);return{formatterOptions:s,formatForDisplay:a=>mn(a)?i.format(String(a)):a}}const WL={get(r,e){return{component:VL,props:zp(r,e)}},getInput(r,e){return{component:Av,props:Pv(r,e)}},getDisplayFormatter(r,e){return t=>zp(r,e).formatForDisplay(String(t))}};function BL(r){let e,t;const n=[r[3],{value:r[1]},{cssVariables:r[2]}];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new O$({props:l}),e.$on("blur",r[4]),e.$on("focus",r[5]),e.$on("keydown",r[6]),e.$on("artificialInput",r[7]),e.$on("artificialInput",r[8]),e.$on("artificialChange",r[9]),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&14?ce(n,[i&8&&be(s[3]),i&2&&{value:s[1]},i&4&&{cssVariables:s[2]}]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function jL(r){return r==null?null:String(r)}function YL(r,e,t){let n;const l=["value"];let s=Be(e,l),{value:i=void 0}=e,o=null;function a(h){t(1,o=jL(h))}function u(h){ve.call(this,r,h)}function c(h){ve.call(this,r,h)}function f(h){ve.call(this,r,h)}const m=({detail:h})=>{t(0,i=h)};function d(h){ve.call(this,r,h)}function _(h){ve.call(this,r,h)}return r.$$set=h=>{e=x(x({},e),ft(h)),t(3,s=Be(e,l)),"value"in h&&t(0,i=h.value)},r.$$.update=()=>{r.$$.dirty&1&&a(i),t(2,n={"--input-element-text-align":"right",...s.cssVariables||{}})},[i,o,n,s,u,c,f,m,d,_]}class Ov extends X{constructor(e){super(),Q(this,e,YL,BL,G,{value:0})}}function KL(r){let e,t,n;const l=[{focusOnMount:!0},{disabled:r[3]},r[5]];function s(o){r[9](o)}let i={};for(let o=0;o<l.length;o+=1)i=x(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new Ov({props:i}),ye.push(()=>Pe(e,"value",s)),e.$on("blur",function(){Et(r[15])&&r[15].apply(this,arguments)}),e.$on("keydown",function(){Et(r[16])&&r[16].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){r=o;const u=a&40?ce(l,[l[0],a&8&&{disabled:r[3]},a&32&&be(r[5])]):{};!t&&a&1&&(t=!0,u.value=r[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function GL(r){let e,t,n;function l(i){r[10](i)}let s={isActive:r[1],isSelectedInRange:r[2],disabled:r[3],searchValue:r[4],isIndependentOfSheet:r[7],showTruncationPopover:r[8],formatValue:r[6],horizontalAlignment:"right",$$slots:{default:[KL,({handleInputBlur:i,handleInputKeydown:o})=>({15:i,16:o}),({handleInputBlur:i,handleInputKeydown:o})=>(i?32768:0)|(o?65536:0)]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new Jl({props:s}),ye.push(()=>Pe(e,"value",l)),e.$on("movementKeyDown",r[11]),e.$on("mouseenter",r[12]),e.$on("activate",r[13]),e.$on("update",r[14]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.isActive=i[1]),o&4&&(a.isSelectedInRange=i[2]),o&8&&(a.disabled=i[3]),o&16&&(a.searchValue=i[4]),o&128&&(a.isIndependentOfSheet=i[7]),o&256&&(a.showTruncationPopover=i[8]),o&64&&(a.formatValue=i[6]),o&229417&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.value=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function QL(r,e,t){let{isActive:n}=e,{isSelectedInRange:l}=e,{value:s}=e,{disabled:i}=e,{searchValue:o=void 0}=e,{formatterOptions:a}=e,{formatForDisplay:u}=e,{isIndependentOfSheet:c}=e,{showTruncationPopover:f=!1}=e;function m(k){s=k,t(0,s)}function d(k){s=k,t(0,s)}function _(k){ve.call(this,r,k)}function h(k){ve.call(this,r,k)}function b(k){ve.call(this,r,k)}function v(k){ve.call(this,r,k)}return r.$$set=k=>{"isActive"in k&&t(1,n=k.isActive),"isSelectedInRange"in k&&t(2,l=k.isSelectedInRange),"value"in k&&t(0,s=k.value),"disabled"in k&&t(3,i=k.disabled),"searchValue"in k&&t(4,o=k.searchValue),"formatterOptions"in k&&t(5,a=k.formatterOptions),"formatForDisplay"in k&&t(6,u=k.formatForDisplay),"isIndependentOfSheet"in k&&t(7,c=k.isIndependentOfSheet),"showTruncationPopover"in k&&t(8,f=k.showTruncationPopover)},[s,n,l,i,o,a,u,c,f,m,d,_,h,b,v]}class XL extends X{constructor(e){super(),Q(this,e,QL,GL,G,{isActive:1,isSelectedInRange:2,value:0,disabled:3,searchValue:4,formatterOptions:5,formatForDisplay:6,isIndependentOfSheet:7,showTruncationPopover:8})}}const JL="$",ZL="after-minus",xL=new Map([["english","en"],["german","de"],["french","fr"],["hindi","hi"],["swiss","de-CH"]]);function eN(r){var e,t;return((t=(e=r.type_options)==null?void 0:e.scale)!=null?t:1/0)===0}function Lv(r){var n,l,s,i,o,a,u;const e=r.display_options,t=(n=e==null?void 0:e.number_format)!=null?n:null;return{locale:(l=t&&xL.get(t))!=null?l:void 0,useGrouping:Rv((s=e==null?void 0:e.use_grouping)!=null?s:"true"),allowFloat:!eN(r),allowNegative:!0,minimumFractionDigits:(i=e==null?void 0:e.minimum_fraction_digits)!=null?i:void 0,maximumFractionDigits:(o=e==null?void 0:e.maximum_fraction_digits)!=null?o:void 0,currencySymbol:(a=e==null?void 0:e.currency_symbol)!=null?a:JL,currencySymbolLocation:(u=e==null?void 0:e.currency_symbol_location)!=null?u:ZL}}function Hp(r){const e=Lv(r),t=new wc(e),n=(()=>{switch(e.currencySymbolLocation){case"after-minus":return l=>l.replace(/^(-?)/,`$1${e.currencySymbol}`);case"end-with-space":return l=>`${l} ${e.currencySymbol}`;default:return l=>l}})();return{formatterOptions:e,formatForDisplay:l=>mn(l)?n(t.format(String(l))):l}}const tN={get(r){return{component:XL,props:Hp(r)}},getInput(r){return{component:Ov,props:{...Lv(r),maximumFractionDigits:void 0}}},getDisplayFormatter(r){return e=>Hp(r).formatForDisplay(String(e))}};function nN(r){let e,t;const n=r[4].default,l=De(n,r,r[3],null);let s=[r[1]],i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return{c(){e=I("a"),l&&l.c(),it(e,i),Z(e,"link",r[0]),yn(e,"pointer-events",r[0]?"auto":"none",!1),Z(e,"svelte-1f5kace",!0)},m(o,a){w(o,e,a),l&&l.m(e,null),t=!0},p(o,[a]){l&&l.p&&(!t||a&8)&&Ee(l,n,o,o[3],t?Ie(n,o[3],a,null):Me(o[3]),null),it(e,i=ce(s,[a&2&&o[1]])),Z(e,"link",o[0]),yn(e,"pointer-events",o[0]?"auto":"none",!1),Z(e,"svelte-1f5kace",!0)},i(o){t||(p(l,o),t=!0)},o(o){g(l,o),t=!1},d(o){o&&$(e),l&&l.d(o)}}}function rN(r,e,t){let n,{$$slots:l={},$$scope:s}=e,{isActive:i=!1}=e,{value:o}=e;return r.$$set=a=>{"isActive"in a&&t(0,i=a.isActive),"value"in a&&t(2,o=a.value),"$$scope"in a&&t(3,s=a.$$scope)},r.$$.update=()=>{r.$$.dirty&5&&t(1,n=i&&o?{href:o,target:"_blank"}:{})},[i,n,o,s,l]}class lN extends X{constructor(e){super(),Q(this,e,rN,nN,G,{isActive:0,value:2})}}function sN(r){let e,t,n;function l(i){r[7](i)}let s={focusOnMount:!0,disabled:r[3]};return r[0]!==void 0&&(s.value=r[0]),e=new $n({props:s}),ye.push(()=>Pe(e,"value",l)),e.$on("blur",function(){Et(r[13])&&r[13].apply(this,arguments)}),e.$on("keydown",function(){Et(r[14])&&r[14].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){r=i;const a={};o&8&&(a.disabled=r[3]),!t&&o&1&&(t=!0,a.value=r[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function iN(r){let e;return{c(){e=B(r[0])},m(t,n){w(t,e,n)},p(t,n){n&1&&he(e,t[0])},i:z,o:z,d(t){t&&$(e)}}}function oN(r){let e,t;return e=new Sc({props:{matchParts:r[15]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32768&&(s.matchParts=n[15]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function aN(r){let e,t,n,l;const s=[oN,iN],i=[];function o(a,u){return a[15]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function uN(r){let e,t;return e=new lN({props:{value:r[0],isActive:r[1],$$slots:{default:[aN]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.value=n[0]),l&2&&(s.isActive=n[1]),l&98305&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function cN(r){let e,t,n;return t=new Bi({props:{value:r[0],$$slots:{default:[uN]},$$scope:{ctx:r}}}),{c(){e=I("span"),C(t.$$.fragment),D(e,"slot","content")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&1&&(i.value=l[0]),s&98307&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function fN(r){let e,t,n;function l(i){r[8](i)}let s={isActive:r[1],isSelectedInRange:r[2],disabled:r[3],searchValue:r[4],isIndependentOfSheet:r[5],showTruncationPopover:r[6],$$slots:{content:[cN,({matchParts:i,handleInputBlur:o,handleInputKeydown:a})=>({15:i,13:o,14:a}),({matchParts:i,handleInputBlur:o,handleInputKeydown:a})=>(i?32768:0)|(o?8192:0)|(a?16384:0)],default:[sN,({handleInputBlur:i,handleInputKeydown:o})=>({13:i,14:o}),({handleInputBlur:i,handleInputKeydown:o})=>(i?8192:0)|(o?16384:0)]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new Jl({props:s}),ye.push(()=>Pe(e,"value",l)),e.$on("movementKeyDown",r[9]),e.$on("activate",r[10]),e.$on("mouseenter",r[11]),e.$on("update",r[12]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.isActive=i[1]),o&4&&(a.isSelectedInRange=i[2]),o&8&&(a.disabled=i[3]),o&16&&(a.searchValue=i[4]),o&32&&(a.isIndependentOfSheet=i[5]),o&64&&(a.showTruncationPopover=i[6]),o&122891&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.value=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function mN(r,e,t){let{isActive:n}=e,{isSelectedInRange:l}=e,{value:s=void 0}=e,{disabled:i}=e,{searchValue:o=void 0}=e,{isIndependentOfSheet:a}=e,{showTruncationPopover:u=!1}=e;function c(b){s=b,t(0,s)}function f(b){s=b,t(0,s)}function m(b){ve.call(this,r,b)}function d(b){ve.call(this,r,b)}function _(b){ve.call(this,r,b)}function h(b){ve.call(this,r,b)}return r.$$set=b=>{"isActive"in b&&t(1,n=b.isActive),"isSelectedInRange"in b&&t(2,l=b.isSelectedInRange),"value"in b&&t(0,s=b.value),"disabled"in b&&t(3,i=b.disabled),"searchValue"in b&&t(4,o=b.searchValue),"isIndependentOfSheet"in b&&t(5,a=b.isIndependentOfSheet),"showTruncationPopover"in b&&t(6,u=b.showTruncationPopover)},[s,n,l,i,o,a,u,c,f,m,d,_,h]}class dN extends X{constructor(e){super(),Q(this,e,mN,fN,G,{isActive:1,isSelectedInRange:2,value:0,disabled:3,searchValue:4,isIndependentOfSheet:5,showTruncationPopover:6})}}const pN={initialInputValue:"",get:()=>({component:dN}),getInput:()=>({component:$n}),getDisplayFormatter:()=>String};function _N(r){let e,t,n;const l=[{focusOnMount:!0},r[9],{formatter:r[6]},{cssVariables:r[8]}];function s(o){r[10](o)}let i={};for(let o=0;o<l.length;o+=1)i=x(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new Os({props:i}),ye.push(()=>Pe(e,"value",s)),e.$on("blur",function(){Et(r[16])&&r[16].apply(this,arguments)}),e.$on("keydown",function(){Et(r[17])&&r[17].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){r=o;const u=a&832?ce(l,[l[0],a&512&&be(r[9]),a&64&&{formatter:r[6]},a&256&&{cssVariables:r[8]}]):{};!t&&a&1&&(t=!0,u.value=r[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function gN(r){let e,t,n;function l(i){r[11](i)}let s={isActive:r[1],isSelectedInRange:r[2],disabled:r[3],isIndependentOfSheet:r[4],showTruncationPopover:r[5],horizontalAlignment:"right",formatValue:r[7],$$slots:{default:[_N,({handleInputBlur:i,handleInputKeydown:o})=>({16:i,17:o}),({handleInputBlur:i,handleInputKeydown:o})=>(i?65536:0)|(o?131072:0)]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new Jl({props:s}),ye.push(()=>Pe(e,"value",l)),e.$on("movementKeyDown",r[12]),e.$on("activate",r[13]),e.$on("mouseenter",r[14]),e.$on("update",r[15]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.isActive=i[1]),o&4&&(a.isSelectedInRange=i[2]),o&8&&(a.disabled=i[3]),o&16&&(a.isIndependentOfSheet=i[4]),o&32&&(a.showTruncationPopover=i[5]),o&128&&(a.formatValue=i[7]),o&459585&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.value=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function hN(r,e,t){let n;const l=["isActive","isSelectedInRange","value","disabled","isIndependentOfSheet","showTruncationPopover","formatter","formatForDisplay"];let s=Be(e,l),{isActive:i}=e,{isSelectedInRange:o}=e,{value:a}=e,{disabled:u}=e,{isIndependentOfSheet:c}=e,{showTruncationPopover:f=!1}=e,{formatter:m}=e,{formatForDisplay:d}=e;function _(E){a=E,t(0,a)}function h(E){a=E,t(0,a)}function b(E){ve.call(this,r,E)}function v(E){ve.call(this,r,E)}function k(E){ve.call(this,r,E)}function T(E){ve.call(this,r,E)}return r.$$set=E=>{e=x(x({},e),ft(E)),t(9,s=Be(e,l)),"isActive"in E&&t(1,i=E.isActive),"isSelectedInRange"in E&&t(2,o=E.isSelectedInRange),"value"in E&&t(0,a=E.value),"disabled"in E&&t(3,u=E.disabled),"isIndependentOfSheet"in E&&t(4,c=E.isIndependentOfSheet),"showTruncationPopover"in E&&t(5,f=E.showTruncationPopover),"formatter"in E&&t(6,m=E.formatter),"formatForDisplay"in E&&t(7,d=E.formatForDisplay)},r.$$.update=()=>{t(8,n={"--input-element-text-align":"right",...s.cssVariables||{}})},[a,i,o,u,c,f,m,d,n,s,_,h,b,v,k,T]}class bN extends X{constructor(e){super(),Q(this,e,hN,gN,G,{isActive:1,isSelectedInRange:2,value:0,disabled:3,isIndependentOfSheet:4,showTruncationPopover:5,formatter:6,formatForDisplay:7})}}function vu(r){var i,o,a,u;const e=wi.getDefaults(),t=(o=(i=r.display_options)==null?void 0:i.max)!=null?o:e.max,n=(u=(a=r.display_options)==null?void 0:a.min)!=null?u:e.min,l=new wi({max:t,min:n}),s=new ZM(l);return{formatter:s,placeholder:l.getFormattingString(),formatForDisplay:c=>mn(c)?s.format(c):c}}const $N={get:r=>({component:bN,props:vu(r)}),getInput:r=>({component:Os,props:vu(r)}),getDisplayFormatter(r){return e=>vu(r).formatForDisplay(String(e))}};function Vp(r,e,t){const n=r.slice();return n[9]=e[t],n}function wN(r){let e,t=r[4][r[9]].absoluteDate+"",n,l,s,i,o=r[4][r[9]].label+"",a,u;return{c(){e=I("span"),n=B(t),l=O(),s=I("span"),i=B("("),a=B(o),u=B(")"),D(s,"class","tag-label absolute-date svelte-1kzbgml")},m(c,f){w(c,e,f),M(e,n),w(c,l,f),w(c,s,f),M(s,i),M(s,a),M(s,u)},p(c,f){f&4&&t!==(t=c[4][c[9]].absoluteDate+"")&&he(n,t),f&4&&o!==(o=c[4][c[9]].label+"")&&he(a,o)},d(c){c&&$(e),c&&$(l),c&&$(s)}}}function vN(r){let e,t=r[4][r[9]].label+"",n;return{c(){e=I("span"),n=B(t),D(e,"class","tag-label")},m(l,s){w(l,e,s),M(e,n)},p(l,s){s&4&&t!==(t=l[4][l[9]].label+"")&&he(n,t)},d(l){l&&$(e)}}}function kN(r){let e;function t(s,i){return s[1]?vN:wN}let n=t(r),l=n(r);return{c(){l.c(),e=O()},m(s,i){l.m(s,i),w(s,e,i)},p(s,i){n===(n=t(s))&&l?l.p(s,i):(l.d(1),l=n(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&$(e)}}}function qp(r,e){var i;let t,n,l;function s(){return e[7](e[9])}return n=new ut({props:{appearance:((i=e[0])==null?void 0:i.trim())===e[9]?"primary":"plain",$$slots:{default:[kN]},$$scope:{ctx:e}}}),n.$on("click",s),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(o,a){w(o,t,a),y(n,o,a),l=!0},p(o,a){var c;e=o;const u={};a&5&&(u.appearance=((c=e[0])==null?void 0:c.trim())===e[9]?"primary":"plain"),a&4102&&(u.$$scope={dirty:a,ctx:e}),n.$set(u)},i(o){l||(p(n.$$.fragment,o),l=!0)},o(o){g(n.$$.fragment,o),l=!1},d(o){o&&$(t),S(n,o)}}}function yN(r){let e,t=[],n=new Map,l,s=r[2];const i=o=>o[9];for(let o=0;o<s.length;o+=1){let a=Vp(r,s,o),u=i(a);n.set(u,t[o]=qp(u,a))}return{c(){e=I("div");for(let o=0;o<t.length;o+=1)t[o].c();D(e,"class","presets svelte-1kzbgml"),Z(e,"is-relative",r[1])},m(o,a){w(o,e,a);for(let u=0;u<t.length;u+=1)t[u].m(e,null);l=!0},p(o,[a]){a&31&&(s=o[2],q(),t=pt(t,a,i,1,o,s,n,e,ht,qp,null,Vp),U()),(!l||a&2)&&Z(e,"is-relative",o[1])},i(o){if(!l){for(let a=0;a<s.length;a+=1)p(t[a]);l=!0}},o(o){for(let a=0;a<t.length;a+=1)g(t[a]);l=!1},d(o){o&&$(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function SN(r,e,t){let n;const l=dt();let{type:s}=e,{value:i}=e,{formattingString:o}=e,{isRelative:a=!1}=e;const u={now:{label:"Now",absoluteDate:nn().format(o)},today:{label:"Today",absoluteDate:nn().startOf("day").format(o)},yesterday:{label:"Yesterday",absoluteDate:nn().startOf("day").subtract(1,"day").format(o)}},c={date:["today","yesterday"],datetime:["now","today"],time:["now"]},f=m=>{t(0,i=m),l("change",i)};return r.$$set=m=>{"type"in m&&t(5,s=m.type),"value"in m&&t(0,i=m.value),"formattingString"in m&&t(6,o=m.formattingString),"isRelative"in m&&t(1,a=m.isRelative)},r.$$.update=()=>{r.$$.dirty&32&&t(2,n=c[s])},[i,a,n,l,u,s,o,f]}class CN extends X{constructor(e){super(),Q(this,e,SN,yN,G,{type:5,value:0,formattingString:6,isRelative:1})}}function TN(r){let e,t,n,l,s;e=new i9({props:{type:r[1],value:r[9],format:r[2],timeShow24Hr:r[4],timeEnableSeconds:r[5]}}),e.$on("change",r[23]),e.$on("dateChange",r[11]);function i(a){r[24](a)}let o={isRelative:r[6],type:r[1],formattingString:r[2]};return r[0]!==void 0&&(o.value=r[0]),n=new CN({props:o}),ye.push(()=>Pe(n,"value",i)),n.$on("change",r[11]),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(a,u){y(e,a,u),w(a,t,u),y(n,a,u),s=!0},p(a,u){const c={};u&2&&(c.type=a[1]),u&512&&(c.value=a[9]),u&4&&(c.format=a[2]),u&16&&(c.timeShow24Hr=a[4]),u&32&&(c.timeEnableSeconds=a[5]),e.$set(c);const f={};u&64&&(f.isRelative=a[6]),u&2&&(f.type=a[1]),u&4&&(f.formattingString=a[2]),!l&&u&1&&(l=!0,f.value=a[0],Ne(()=>l=!1)),n.$set(f)},i(a){s||(p(e.$$.fragment,a),p(n.$$.fragment,a),s=!0)},o(a){g(e.$$.fragment,a),g(n.$$.fragment,a),s=!1},d(a){S(e,a),a&&$(t),S(n,a)}}}function DN(r){let e,t,n,l,s,i,o;const a=[r[16],{formatter:r[3]},{placeholder:r[2]}];function u(_){r[17](_)}function c(_){r[18](_)}let f={};for(let _=0;_<a.length;_+=1)f=x(f,a[_]);r[0]!==void 0&&(f.value=r[0]),r[7]!==void 0&&(f.element=r[7]),e=new Os({props:f}),ye.push(()=>Pe(e,"value",u)),ye.push(()=>Pe(e,"element",c)),e.$on("focus",r[10]),e.$on("focus",r[19]),e.$on("blur",r[12]),e.$on("keydown",r[13]),e.$on("keydown",r[20]),e.$on("artificialInput",r[21]),e.$on("artificialChange",r[22]);function m(_){r[25](_)}let d={class:"retain-active-cell no-max-height",trigger:r[7],$$slots:{default:[TN]},$$scope:{ctx:r}};return r[8]!==void 0&&(d.isOpen=r[8]),s=new Kl({props:d}),ye.push(()=>Pe(s,"isOpen",m)),s.$on("close",r[14]),{c(){C(e.$$.fragment),l=O(),C(s.$$.fragment)},m(_,h){y(e,_,h),w(_,l,h),y(s,_,h),o=!0},p(_,[h]){const b=h&65548?ce(a,[h&65536&&be(_[16]),h&8&&{formatter:_[3]},h&4&&{placeholder:_[2]}]):{};!t&&h&1&&(t=!0,b.value=_[0],Ne(()=>t=!1)),!n&&h&128&&(n=!0,b.element=_[7],Ne(()=>n=!1)),e.$set(b);const v={};h&128&&(v.trigger=_[7]),h&268436087&&(v.$$scope={dirty:h,ctx:_}),!i&&h&256&&(i=!0,v.isOpen=_[8],Ne(()=>i=!1)),s.$set(v)},i(_){o||(p(e.$$.fragment,_),p(s.$$.fragment,_),o=!0)},o(_){g(e.$$.fragment,_),g(s.$$.fragment,_),o=!1},d(_){S(e,_),_&&$(l),S(s,_)}}}function IN(r,e,t){let n;const l=["type","formattingString","formatter","value","timeShow24Hr","timeEnableSeconds","allowRelativePresets"];let s=Be(e,l);const i=dt();let{type:o}=e,{formattingString:a}=e,{formatter:u}=e,{value:c}=e,{timeShow24Hr:f=!0}=e,{timeEnableSeconds:m=!0}=e,{allowRelativePresets:d=!1}=e,_,h=!1;function b(te){if(mn(te)){const ne=u.parseAndFormat(te);if(nn(ne,a,!0).isValid())return ne}}function v(){t(8,h=!0)}function k(){t(8,h=!1)}function T(){h||i("blur")}function E(te){te.key==="Tab"&&k()}function P(){i("blur")}function R(te){t(0,c=u.parse(te).value),i("artificialInput",c),i("artificialChange",c)}function L(te){c=te,t(0,c)}function A(te){_=te,t(7,_)}function N(te){ve.call(this,r,te)}function F(te){ve.call(this,r,te)}function K(te){ve.call(this,r,te)}function W(te){ve.call(this,r,te)}const j=te=>R(te.detail);function Y(te){c=te,t(0,c)}function oe(te){h=te,t(8,h)}return r.$$set=te=>{e=x(x({},e),ft(te)),t(16,s=Be(e,l)),"type"in te&&t(1,o=te.type),"formattingString"in te&&t(2,a=te.formattingString),"formatter"in te&&t(3,u=te.formatter),"value"in te&&t(0,c=te.value),"timeShow24Hr"in te&&t(4,f=te.timeShow24Hr),"timeEnableSeconds"in te&&t(5,m=te.timeEnableSeconds),"allowRelativePresets"in te&&t(6,d=te.allowRelativePresets)},r.$$.update=()=>{r.$$.dirty&1&&t(9,n=b(c))},[c,o,a,u,f,m,d,_,h,n,v,k,T,E,P,R,s,L,A,N,F,K,W,j,Y,oe]}class La extends X{constructor(e){super(),Q(this,e,IN,DN,G,{type:1,formattingString:2,formatter:3,value:0,timeShow24Hr:4,timeEnableSeconds:5,allowRelativePresets:6})}}function EN(r){let e,t,n;function l(i){r[12](i)}let s={focusOnMount:!0,type:r[6],formattingString:r[7],formatter:r[8],timeShow24Hr:r[9],timeEnableSeconds:r[10]};return r[0]!==void 0&&(s.value=r[0]),e=new La({props:s}),ye.push(()=>Pe(e,"value",l)),e.$on("blur",function(){Et(r[18])&&r[18].apply(this,arguments)}),e.$on("keydown",function(){Et(r[19])&&r[19].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){r=i;const a={};o&64&&(a.type=r[6]),o&128&&(a.formattingString=r[7]),o&256&&(a.formatter=r[8]),o&512&&(a.timeShow24Hr=r[9]),o&1024&&(a.timeEnableSeconds=r[10]),!t&&o&1&&(t=!0,a.value=r[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function MN(r){let e,t,n;function l(i){r[13](i)}let s={isActive:r[1],isSelectedInRange:r[2],disabled:r[3],highlightSubstringMatches:!1,isIndependentOfSheet:r[4],showTruncationPopover:r[5],formatValue:r[11],$$slots:{default:[EN,({handleInputBlur:i,handleInputKeydown:o})=>({18:i,19:o}),({handleInputBlur:i,handleInputKeydown:o})=>(i?262144:0)|(o?524288:0)]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new Jl({props:s}),ye.push(()=>Pe(e,"value",l)),e.$on("movementKeyDown",r[14]),e.$on("activate",r[15]),e.$on("mouseenter",r[16]),e.$on("update",r[17]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.isActive=i[1]),o&4&&(a.isSelectedInRange=i[2]),o&8&&(a.disabled=i[3]),o&16&&(a.isIndependentOfSheet=i[4]),o&32&&(a.showTruncationPopover=i[5]),o&2048&&(a.formatValue=i[11]),o&1836993&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.value=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function AN(r,e,t){let{isActive:n}=e,{isSelectedInRange:l}=e,{value:s}=e,{disabled:i}=e,{isIndependentOfSheet:o}=e,{showTruncationPopover:a=!1}=e,{type:u}=e,{formattingString:c}=e,{formatter:f}=e,{timeShow24Hr:m=!0}=e,{timeEnableSeconds:d=!0}=e,{formatForDisplay:_}=e;function h(P){s=P,t(0,s)}function b(P){s=P,t(0,s)}function v(P){ve.call(this,r,P)}function k(P){ve.call(this,r,P)}function T(P){ve.call(this,r,P)}function E(P){ve.call(this,r,P)}return r.$$set=P=>{"isActive"in P&&t(1,n=P.isActive),"isSelectedInRange"in P&&t(2,l=P.isSelectedInRange),"value"in P&&t(0,s=P.value),"disabled"in P&&t(3,i=P.disabled),"isIndependentOfSheet"in P&&t(4,o=P.isIndependentOfSheet),"showTruncationPopover"in P&&t(5,a=P.showTruncationPopover),"type"in P&&t(6,u=P.type),"formattingString"in P&&t(7,c=P.formattingString),"formatter"in P&&t(8,f=P.formatter),"timeShow24Hr"in P&&t(9,m=P.timeShow24Hr),"timeEnableSeconds"in P&&t(10,d=P.timeEnableSeconds),"formatForDisplay"in P&&t(11,_=P.formatForDisplay)},[s,n,l,i,o,a,u,c,f,m,d,_,h,b,v,k,T,E]}class sf extends X{constructor(e){super(),Q(this,e,AN,MN,G,{isActive:1,isSelectedInRange:2,value:0,disabled:3,isIndependentOfSheet:4,showTruncationPopover:5,type:6,formattingString:7,formatter:8,timeShow24Hr:9,timeEnableSeconds:10,formatForDisplay:11})}}function ku(r){var s,i;const t=(i=((s=r.display_options)!=null?s:{}).format)!=null?i:"none",n=new Vi({type:"date",dateFormat:t}),l=new Oc(n);return{type:"date",formattingString:n.getFormattingString(),formatter:l,formatForDisplay:o=>mn(o)?l.parseAndFormat(o):o}}const RN={get:r=>({component:sf,props:ku(r)}),getInput:r=>({component:La,props:{...ku(r),allowRelativePresets:!0}}),getDisplayFormatter(r){return e=>ku(r).formatForDisplay(String(e))}};function yu(r,e){var i,o;const n=(o=((i=r.display_options)!=null?i:{}).format)!=null?o:"24hr",l=new Vi({type:e?"timeWithTZ":"time",timeFormat:n}),s=new Oc(l);return{type:"time",formattingString:l.getFormattingString(),formatter:s,timeEnableSeconds:l.hasSecondsInTime(),timeShow24Hr:l.isTime24Hr(),formatForDisplay:a=>mn(a)?s.parseAndFormat(a):a}}const PN={get:(r,e)=>{var t;return{component:sf,props:yu(r,(t=e==null?void 0:e.supportTimeZone)!=null?t:!1)}},getInput:(r,e)=>{var t;return{component:La,props:{...yu(r,(t=e==null?void 0:e.supportTimeZone)!=null?t:!1),allowRelativePresets:!0}}},getDisplayFormatter(r,e){var n;const t=(n=e==null?void 0:e.supportTimeZone)!=null?n:!1;return l=>yu(r,t).formatForDisplay(String(l))}};function Su(r,e){var o,a,u;const t=(o=r.display_options)!=null?o:{},n=(a=t.date_format)!=null?a:"none",l=(u=t.time_format)!=null?u:"24hr",s=new Vi({type:e?"timestampWithTZ":"timestamp",dateFormat:n,timeFormat:l}),i=new Oc(s);return{type:"datetime",formattingString:s.getFormattingString(),formatter:i,timeEnableSeconds:s.hasSecondsInTime(),timeShow24Hr:s.isTime24Hr(),formatForDisplay:c=>mn(c)?i.parseAndFormat(c):c}}const ON={get:(r,e)=>{var t;return{component:sf,props:Su(r,(t=e==null?void 0:e.supportTimeZone)!=null?t:!1)}},getInput:(r,e)=>{var t;return{component:La,props:{...Su(r,(t=e==null?void 0:e.supportTimeZone)!=null?t:!1),allowRelativePresets:!0}}},getDisplayFormatter(r,e){return t=>{var n;return Su(r,(n=e==null?void 0:e.supportTimeZone)!=null?n:!1).formatForDisplay(String(t))}}};function Up(r,e,t){const n=r.slice();return n[10]=e[t],n}function Wp(r){let e,t,n,l=r[4]&&Bp(r),s=r[2],i=[];for(let a=0;a<s.length;a+=1)i[a]=jp(Up(r,s,a));const o=a=>g(i[a],1,1,()=>{i[a]=null});return{c(){l&&l.c(),e=O(),t=I("div");for(let a=0;a<i.length;a+=1)i[a].c()},m(a,u){l&&l.m(a,u),w(a,e,u),w(a,t,u);for(let c=0;c<i.length;c+=1)i[c].m(t,null);n=!0},p(a,u){if(a[4]?l?l.p(a,u):(l=Bp(a),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),u&52){s=a[2];let c;for(c=0;c<s.length;c+=1){const f=Up(a,s,c);i[c]?(i[c].p(f,u),p(i[c],1)):(i[c]=jp(f),i[c].c(),p(i[c],1),i[c].m(t,null))}for(q(),c=s.length;c<i.length;c+=1)o(c);U()}},i(a){if(!n){for(let u=0;u<s.length;u+=1)p(i[u]);n=!0}},o(a){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)g(i[u]);n=!1},d(a){l&&l.d(a),a&&$(e),a&&$(t),Fn(i,a)}}}function Bp(r){let e,t=Yt(r[2],"values")+"",n;return{c(){e=I("div"),n=B(t),D(e,"class","count svelte-1gbu1gr")},m(l,s){w(l,e,s),M(e,n)},p(l,s){s&4&&t!==(t=Yt(l[2],"values")+"")&&he(n,t)},d(l){l&&$(e)}}}function LN(r){let e=r[5](r[10])+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&36&&e!==(e=n[5](n[10])+"")&&he(t,e)},i:z,o:z,d(n){n&&$(t)}}}function NN(r){let e,t;return e=new Us({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function FN(r){let e,t,n,l;const s=[NN,LN],i=[];function o(a,u){return a[10]===null?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=O()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function jp(r){let e,t;return e=new b$({props:{display:r[4]?"inline-block":"inline",background:"var(--slate-200)",$$slots:{default:[FN]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.display=n[4]?"inline-block":"inline"),l&8228&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function zN(r){let e=mn(r[2]),t,n,l=e&&Wp(r);return{c(){l&&l.c(),t=ae()},m(s,i){l&&l.m(s,i),w(s,t,i),n=!0},p(s,i){i&4&&(e=mn(s[2])),e?l?(l.p(s,i),i&4&&p(l,1)):(l=Wp(s),l.c(),p(l,1),l.m(t.parentNode,t)):l&&(q(),g(l,1,1,()=>{l=null}),U())},i(s){n||(p(l),n=!0)},o(s){g(l),n=!1},d(s){l&&l.d(s),s&&$(t)}}}function HN(r){let e,t;return e=new Bi({props:{value:r[2],$$slots:{default:[zN]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.value=n[2]),l&8244&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function VN(r){let e,t;return e=new Ws({props:{isActive:r[0],isSelectedInRange:r[1],disabled:r[3],isIndependentOfSheet:r[4],$$slots:{default:[HN]},$$scope:{ctx:r}}}),e.$on("mouseenter",r[8]),e.$on("keydown",r[6]),e.$on("mousedown",r[7]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.isActive=n[0]),l&2&&(s.isSelectedInRange=n[1]),l&8&&(s.disabled=n[3]),l&16&&(s.isIndependentOfSheet=n[4]),l&8244&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function qN(r,e,t){const n=dt();let{isActive:l}=e,{isSelectedInRange:s}=e,{value:i=void 0}=e,{disabled:o}=e,{isIndependentOfSheet:a}=e,{formatElementForDisplay:u}=e;function c(d){switch(d.key){case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":n("movementKeyDown",{originalEvent:d,key:d.key});break}}function f(){l||n("activate")}function m(d){ve.call(this,r,d)}return r.$$set=d=>{"isActive"in d&&t(0,l=d.isActive),"isSelectedInRange"in d&&t(1,s=d.isSelectedInRange),"value"in d&&t(2,i=d.value),"disabled"in d&&t(3,o=d.disabled),"isIndependentOfSheet"in d&&t(4,a=d.isIndependentOfSheet),"formatElementForDisplay"in d&&t(5,u=d.formatElementForDisplay)},[l,s,i,o,a,u,c,f,m]}class UN extends X{constructor(e){super(),Q(this,e,qN,VN,G,{isActive:0,isSelectedInRange:1,value:2,disabled:3,isIndependentOfSheet:4,formatElementForDisplay:5})}}function Na(r){var t;const e=Ql(r,(t=Qe(sr))==null?void 0:t.data);return e==null?void 0:e.cellInfo}function Fa(r,e){var l,s,i;const t=(l=e==null?void 0:e.config)!=null?l:{},n=(i=(s=e==null?void 0:e.conditionalConfig)==null?void 0:s[r])!=null?i:{};return{...t,...n}}function Yp(r,e){var o,a;const t=(a=(o=e.type_options)==null?void 0:o.item_type)!=null?a:"string",n=Na(t),l=Fa(t,n),s=!n||n.type==="array"?"string":n.type,i=r[s];return u=>mn(u)&&i.getDisplayFormatter?i.getDisplayFormatter({type:t,type_options:null,display_options:e.display_options},l)(u):String(u)}function WN(r){return{get:e=>({component:UN,props:{formatElementForDisplay:Yp(r,e)}}),getInput:()=>({component:$n}),getDisplayFormatter:e=>{const t=Yp(r,e);return n=>Array.isArray(n)?n.map(t).join(", "):t(n)}}}const Nv={string:$L,boolean:PL,number:WL,money:tN,uri:pN,duration:$N,date:RN,time:PN,datetime:ON},BN={array:WN(Nv)},za={...Nv,...BN};function jN(r){let e,t=dp(r[0])+"",n;return{c(){e=new iy(!1),n=ae(),e.a=n},m(l,s){e.m(t,l,s),w(l,n,s)},p(l,[s]){s&1&&t!==(t=dp(l[0])+"")&&e.p(t)},i:z,o:z,d(l){l&&$(n),l&&e.d()}}}function YN(r,e,t){let{recordSummary:n}=e;return r.$$set=l=>{"recordSummary"in l&&t(0,n=l.recordSummary)},[n]}class Ha extends X{constructor(e){super(),Q(this,e,YN,jN,G,{recordSummary:0})}}function KN(r){let e,t,n;return t=new Ha({props:{recordSummary:r[6]}}),{c(){e=I("span"),C(t.$$.fragment),D(e,"class","record-summary svelte-wsjoli")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&64&&(i.recordSummary=l[6]),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function GN(r){let e,t,n,l,s;return t=new Ha({props:{recordSummary:r[6]}}),{c(){e=I("a"),C(t.$$.fragment),D(e,"class","record-summary record-page-link svelte-wsjoli"),D(e,"title","Go to record"),D(e,"href",r[1]),D(e,"tabindex","-1")},m(i,o){w(i,e,o),y(t,e,null),n=!0,l||(s=[Le(e,"mouseenter",r[11]),Le(e,"mouseleave",r[12]),Le(e,"click",XN)],l=!0)},p(i,o){const a={};o&64&&(a.recordSummary=i[6]),t.$set(a),(!n||o&2)&&D(e,"href",i[1])},i(i){n||(p(t.$$.fragment,i),n=!0)},o(i){g(t.$$.fragment,i),n=!1},d(i){i&&$(e),S(t),l=!1,Dt(s)}}}function Kp(r){let e,t,n,l,s;const i=[I1];let o={};for(let a=0;a<i.length;a+=1)o=x(o,i[a]);return t=new Fe({props:o}),{c(){e=I("span"),C(t.$$.fragment),D(e,"class","delete-button svelte-wsjoli"),D(e,"role","button"),D(e,"tabindex","-1"),D(e,"aria-label","Clear value"),D(e,"title","Clear value")},m(a,u){w(a,e,u),y(t,e,null),n=!0,l||(s=[Le(e,"click",kl(r[7])),Le(e,"mouseenter",r[13]),Le(e,"mouseleave",r[14])],l=!0)},p(a,u){const c=u&0?ce(i,[be(I1)]):{};t.$set(c)},i(a){n||(p(t.$$.fragment,a),n=!0)},o(a){g(t.$$.fragment,a),n=!1},d(a){a&&$(e),S(t),l=!1,Dt(s)}}}function QN(r){let e,t,n,l,s,i,o,a,u;const c=[GN,KN],f=[];function m(_,h){return _[1]?0:1}t=m(r),n=f[t]=c[t](r);let d=r[0]&&Kp(r);return{c(){e=I("span"),n.c(),l=O(),d&&d.c(),s=O(),i=I("span"),D(i,"class","background svelte-wsjoli"),D(e,"class","linked-record svelte-wsjoli"),Z(e,"is-hovering-delete",r[4]),Z(e,"is-hovering-record-page-link",r[5]),Z(e,"exact-match",r[2]==="exactMatch"),Z(e,"no-match",r[2]==="noMatch"),Z(e,"disabled",r[3])},m(_,h){w(_,e,h),f[t].m(e,null),M(e,l),d&&d.m(e,null),M(e,s),M(e,i),o=!0,a||(u=Le(e,"click",r[10]),a=!0)},p(_,[h]){let b=t;t=m(_),t===b?f[t].p(_,h):(q(),g(f[b],1,1,()=>{f[b]=null}),U(),n=f[t],n?n.p(_,h):(n=f[t]=c[t](_),n.c()),p(n,1),n.m(e,l)),_[0]?d?(d.p(_,h),h&1&&p(d,1)):(d=Kp(_),d.c(),p(d,1),d.m(e,s)):d&&(q(),g(d,1,1,()=>{d=null}),U()),(!o||h&16)&&Z(e,"is-hovering-delete",_[4]),(!o||h&32)&&Z(e,"is-hovering-record-page-link",_[5]),(!o||h&4)&&Z(e,"exact-match",_[2]==="exactMatch"),(!o||h&4)&&Z(e,"no-match",_[2]==="noMatch"),(!o||h&8)&&Z(e,"disabled",_[3])},i(_){o||(p(n),p(d),o=!0)},o(_){g(n),g(d),o=!1},d(_){_&&$(e),f[t].d(),d&&d.d(),a=!1,u()}}}const XN=r=>r.stopPropagation();function JN(r,e,t){let n;const l=dt();let{recordId:s=void 0}=e,{recordSummary:i=void 0}=e,{hasDeleteButton:o=!1}=e,{recordPageHref:a=void 0}=e,{valueComparisonOutcome:u=void 0}=e,{disabled:c=!1}=e,f=!1,m=!1;function d(){l("delete")}function _(T){ve.call(this,r,T)}const h=()=>{t(5,m=!0)},b=()=>{t(5,m=!1)},v=()=>{t(4,f=!0)},k=()=>{t(4,f=!1)};return r.$$set=T=>{"recordId"in T&&t(8,s=T.recordId),"recordSummary"in T&&t(9,i=T.recordSummary),"hasDeleteButton"in T&&t(0,o=T.hasDeleteButton),"recordPageHref"in T&&t(1,a=T.recordPageHref),"valueComparisonOutcome"in T&&t(2,u=T.valueComparisonOutcome),"disabled"in T&&t(3,c=T.disabled)},r.$$.update=()=>{r.$$.dirty&768&&t(6,n=(()=>i||(s!==void 0?String(s):"(Unknown)"))())},[o,a,u,c,f,m,n,d,s,i,_,h,b,v,k]}class Va extends X{constructor(e){super(),Q(this,e,JN,QN,G,{recordId:8,recordSummary:9,hasDeleteButton:0,recordPageHref:1,valueComparisonOutcome:2,disabled:3})}}function ZN(r){let e,t;return e=new Us({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function xN(r){let e,t;return e=new Oa({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function eF(r){let e,t;return e=new Va({props:{recordId:r[0],recordSummary:r[3],valueComparisonOutcome:r[7]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.recordId=n[0]),l&8&&(s.recordSummary=n[3]),l&128&&(s.valueComparisonOutcome=n[7]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Gp(r){let e,t,n,l,s;const i=[Jn];let o={};for(let a=0;a<i.length;a+=1)o=x(o,i[a]);return t=new Fe({props:o}),{c(){e=I("button"),C(t.$$.fragment),D(e,"class","dropdown-button passthrough svelte-161jfap"),D(e,"aria-label","Pick a record"),D(e,"title","Pick a record")},m(a,u){w(a,e,u),y(t,e,null),n=!0,l||(s=Le(e,"click",r[9]),l=!0)},p(a,u){const c=u&0?ce(i,[be(Jn)]):{};t.$set(c)},i(a){n||(p(t.$$.fragment,a),n=!0)},o(a){g(t.$$.fragment,a),n=!1},d(a){a&&$(e),S(t),l=!1,s()}}}function tF(r){let e,t,n,l,s,i;const o=[eF,xN,ZN],a=[];function u(f,m){return f[8]?0:f[0]===void 0?1:2}n=u(r),l=a[n]=o[n](r);let c=!r[4]&&Gp(r);return{c(){e=I("div"),t=I("div"),l.c(),s=O(),c&&c.c(),D(t,"class","value svelte-161jfap"),D(e,"class","linked-record-cell svelte-161jfap"),Z(e,"disabled",r[4])},m(f,m){w(f,e,m),M(e,t),a[n].m(t,null),M(e,s),c&&c.m(e,null),i=!0},p(f,m){let d=n;n=u(f),n===d?a[n].p(f,m):(q(),g(a[d],1,1,()=>{a[d]=null}),U(),l=a[n],l?l.p(f,m):(l=a[n]=o[n](f),l.c()),p(l,1),l.m(t,null)),f[4]?c&&(q(),g(c,1,1,()=>{c=null}),U()):c?(c.p(f,m),m&16&&p(c,1)):(c=Gp(f),c.c(),p(c,1),c.m(e,null)),(!i||m&16)&&Z(e,"disabled",f[4])},i(f){i||(p(l),p(c),i=!0)},o(f){g(l),g(c),i=!1},d(f){f&&$(e),a[n].d(),c&&c.d()}}}function nF(r){let e,t,n;function l(i){r[16](i)}let s={isActive:r[1],isSelectedInRange:r[2],disabled:r[4],isIndependentOfSheet:r[5],hasPadding:!1,$$slots:{default:[tF]},$$scope:{ctx:r}};return r[6]!==void 0&&(s.element=r[6]),e=new Ws({props:s}),ye.push(()=>Pe(e,"element",l)),e.$on("mouseenter",r[17]),e.$on("keydown",r[10]),e.$on("mousedown",r[11]),e.$on("click",r[12]),e.$on("dblclick",r[9]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.isActive=i[1]),o&4&&(a.isSelectedInRange=i[2]),o&16&&(a.disabled=i[4]),o&32&&(a.isIndependentOfSheet=i[5]),o&2097561&&(a.$$scope={dirty:o,ctx:i}),!t&&o&64&&(t=!0,a.element=i[6],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function rF(r,e,t){let n,l;const s=dt(),i=zi();let{isActive:o}=e,{isSelectedInRange:a}=e,{value:u=void 0}=e,{searchValue:c=void 0}=e,{recordSummary:f=void 0}=e,{setRecordSummary:m=()=>{}}=e,{disabled:d}=e,{tableId:_}=e,{isIndependentOfSheet:h}=e,b=!1,v;async function k(A){if(d)return;A==null||A.stopPropagation();const N=await i.acquireUserInput({tableId:_});N&&(t(0,u=N.recordId),m(String(N.recordId),N.recordSummary),s("update",{value:u})),v.focus()}function T(A){switch(A.key){case"Enter":o&&k();break;case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":s("movementKeyDown",{originalEvent:A,key:A.key});break}}function E(){b=o,s("activate")}function P(){b&&k()}function R(A){v=A,t(6,v)}function L(A){ve.call(this,r,A)}return r.$$set=A=>{"isActive"in A&&t(1,o=A.isActive),"isSelectedInRange"in A&&t(2,a=A.isSelectedInRange),"value"in A&&t(0,u=A.value),"searchValue"in A&&t(13,c=A.searchValue),"recordSummary"in A&&t(3,f=A.recordSummary),"setRecordSummary"in A&&t(14,m=A.setRecordSummary),"disabled"in A&&t(4,d=A.disabled),"tableId"in A&&t(15,_=A.tableId),"isIndependentOfSheet"in A&&t(5,h=A.isIndependentOfSheet)},r.$$.update=()=>{r.$$.dirty&1&&t(8,n=u!=null),r.$$.dirty&8193&&t(7,l=yc(c,u))},[u,o,a,f,d,h,v,l,n,k,T,E,P,c,m,_,R,L]}class lF extends X{constructor(e){super(),Q(this,e,rF,nF,G,{isActive:1,isSelectedInRange:2,value:0,searchValue:13,recordSummary:3,setRecordSummary:14,disabled:4,tableId:15,isIndependentOfSheet:5})}}const Qr=Ol();var L4;const Dr=Ge((L4=Qr==null?void 0:Qr.current_schema)!=null?L4:void 0),al=new Map,Qp=new Map;function sF(r){return[...al.values()].find(e=>Qe(e).data.has(r))}function Fv(r,e){const t=new Map;e.forEach(s=>{t.set(s.id,s)});const n={state:St.Done,data:t,error:void 0};let l=al.get(r);return l?l.set(n):(l=Ge(n),al.set(r,l)),l}function zv(r,e){const t=al.get(r);t&&t.update(n=>{var l;return(l=n.data)==null||l.set(e.id,e),{...n,data:new Map(n.data)}})}function iF(r,e){const t=al.get(r);t&&t.update(n=>{var l;return(l=n.data)==null||l.delete(e),{...n,data:new Map(n.data)}})}function Hv(r,e,t){const n=al.get(r.name);n&&n.update(l=>{const s=l.data.get(e.id);return s&&(s.num_tables+=t,l.data.set(e.id,s)),{...l,data:new Map(l.data)}})}function Vv(r,e){const t=sF(r);t&&t.update(n=>{const l=n.data.get(r);return l&&(l.num_queries+=e,n.data.set(r,l)),{...n,data:new Map(n.data)}})}async function Xp(r){var t;const e=al.get(r);if(!e){console.error(`DB Schemas store for db: ${r} not found.`);return}try{e.update(o=>({...o,state:St.Loading})),(t=Qp.get(r))==null||t.cancel();const n=dn(`/api/db/v0/schemas/?database=${r}&limit=500`);Qp.set(r,n);const l=await n,s=(l==null?void 0:l.results)||[],i=Fv(r,s);return Qe(i)}catch(n){e.update(l=>({...l,state:St.Error,error:n instanceof Error?n.message:"Error in fetching schemas"}));return}}let Jp=!0;function oF(r){let e=al.get(r);return e?Qe(e).error&&Xp(r):(e=Ge({state:St.Loading,data:new Map}),al.set(r,e),Jp&&(Qr==null?void 0:Qr.current_db)===r?e=Fv(r,(Qr==null?void 0:Qr.schemas)||[]):Xp(r),Jp=!1),e}async function aF(r,e,t){const n=await un("/api/db/v0/schemas/",{name:e,description:t,database:r});return zv(r,n),n}async function uF(r,e){const t=`/api/db/v0/schemas/${e.id}/`,n=await Rr(t,{name:e.name,description:e.description});return zv(r,n),n}async function cF(r,e){await gl(`/api/db/v0/schemas/${e}/`),iF(r,e)}const ji=at(gs,(r,e)=>{let t;return r?t=oF(r).subscribe(l=>{e(l)}):e({state:St.Done,data:new Map}),()=>{t==null||t()}}),hn=at([Dr,ji],([r,e])=>r?e.data.get(r):void 0);function fF(r){return r.type==="invalid"}function mF(r){return r.type==="valid"}function qa(){return{type:"valid"}}function of(r){return{type:"invalid",errorMsg:r}}function Yi(r,e){return t=>r(t)?qa():of(e)}function Ki(r,e){return t=>r(t)?of(e):qa()}function qv(r){return r!=null&&r!==""&&(Array.isArray(r)?r.length!==0:!0)}const dF="Value cannot be empty.";function pF(r,e){return Array.isArray(r)?r.includes(e):r.has(e)}function af(r,e="This value already exists."){return Ki(t=>pF(r,t),e)}function _F(r,e){return Yi(t=>!!t.match(r),e)}function gF(r,e){return Yi(t=>t.length<=r,e!=null?e:`Value cannot be longer than ${r} characters.`)}const hF=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function bF(r="The email address is invalid."){return Yi(e=>!!e.toLowerCase().match(hF),r)}function $F({value:r,isRequired:e,validators:t}){if(!qv(r))return e?[dF]:[];if(!t)return[];const n=r;return t.map(l=>l(n)).filter(fF).map(({errorMsg:l})=>l)}function wF(r){return r.field.isRequired&&!qv(r.value)}function uf(r,e){return t=>{const n=r.map(s=>{var i;return(i=t.find(o=>o.field===s))!=null?i:{field:s,value:Qe(s)}});if(n.map(wF).some(s=>s))return{outcome:qa(),fields:r};const l=n.map(s=>s.value);return{outcome:e(l),fields:r}}}function vF(r,e,t){return uf(r,Ki(e,t))}function kF(r,e,t){return uf(r,Yi(e,t))}function yF(r){let e=r[0];for(const t of r){if(t!==e)return!1;e=t}return!0}function SF(r,e){return kF(r,yF,e)}function Zp(r){let e,t,n;const l=[r[0]];let s={};for(let i=0;i<l.length;i+=1)s=x(s,l[i]);return t=new Fe({props:s}),{c(){e=I("span"),C(t.$$.fragment),D(e,"class","icon svelte-n8w9ju")},m(i,o){w(i,e,o),y(t,e,null),n=!0},p(i,o){const a=o&1?ce(l,[be(i[0])]):{};t.$set(a)},i(i){n||(p(t.$$.fragment,i),n=!0)},o(i){g(t.$$.fragment,i),n=!1},d(i){i&&$(e),S(t)}}}function CF(r){let e,t,n,l,s=r[0]&&Zp(r);const i=r[4].default,o=De(i,r,r[3],null);return{c(){e=I("div"),s&&s.c(),t=O(),n=I("div"),o&&o.c(),D(n,"class","content trim-child-margins"),D(e,"class","message-box svelte-n8w9ju"),D(e,"style",r[1]),Z(e,"has-icon",!!r[0]),Z(e,"full-width",r[2])},m(a,u){w(a,e,u),s&&s.m(e,null),M(e,t),M(e,n),o&&o.m(n,null),l=!0},p(a,[u]){a[0]?s?(s.p(a,u),u&1&&p(s,1)):(s=Zp(a),s.c(),p(s,1),s.m(e,t)):s&&(q(),g(s,1,1,()=>{s=null}),U()),o&&o.p&&(!l||u&8)&&Ee(o,i,a,a[3],l?Ie(i,a[3],u,null):Me(a[3]),null),(!l||u&2)&&D(e,"style",a[1]),(!l||u&1)&&Z(e,"has-icon",!!a[0]),(!l||u&4)&&Z(e,"full-width",a[2])},i(a){l||(p(s),p(o,a),l=!0)},o(a){g(s),g(o,a),l=!1},d(a){a&&$(e),s&&s.d(),o&&o.d(a)}}}function TF(r,e,t){let{$$slots:n={},$$scope:l}=e,{icon:s=void 0}=e,{style:i=void 0}=e,{fullWidth:o=!1}=e;return r.$$set=a=>{"icon"in a&&t(0,s=a.icon),"style"in a&&t(1,i=a.style),"fullWidth"in a&&t(2,o=a.fullWidth),"$$scope"in a&&t(3,l=a.$$scope)},[s,i,o,l,n]}class Ua extends X{constructor(e){super(),Q(this,e,TF,CF,G,{icon:0,style:1,fullWidth:2})}}function DF(r){let e;const t=r[1].default,n=De(t,r,r[2],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&4)&&Ee(n,t,l,l[2],e?Ie(t,l[2],s,null):Me(l[2]),null)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function IF(r){let e,t,n;const l=[{icon:el},r[0]];let s={$$slots:{default:[DF]},$$scope:{ctx:r}};for(let i=0;i<l.length;i+=1)s=x(s,l[i]);return t=new Ua({props:s}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","error-box svelte-1mnk8w0")},m(i,o){w(i,e,o),y(t,e,null),n=!0},p(i,[o]){const a=o&1?ce(l,[o&0&&{icon:el},o&1&&be(i[0])]):{};o&4&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(p(t.$$.fragment,i),n=!0)},o(i){g(t.$$.fragment,i),n=!1},d(i){i&&$(e),S(t)}}}function EF(r,e,t){const n=[];let l=Be(e,n),{$$slots:s={},$$scope:i}=e;return r.$$set=o=>{e=x(x({},e),ft(o)),t(0,l=Be(e,n)),"$$scope"in o&&t(2,i=o.$$scope)},[l,s,i]}class zn extends X{constructor(e){super(),Q(this,e,EF,IF,G,{})}}function xp(r,e,t){const n=r.slice();return n[1]=e[t],n}function e_(r){let e,t;return e=new zn({props:{$$slots:{default:[RF]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&17&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function MF(r){let e,t=[],n=new Map,l=r[0];const s=i=>i[1];for(let i=0;i<l.length;i+=1){let o=xp(r,l,i),a=s(o);n.set(a,t[i]=t_(a,o))}return{c(){e=I("ul");for(let i=0;i<t.length;i+=1)t[i].c();D(e,"class","list svelte-h6g81w")},m(i,o){w(i,e,o);for(let a=0;a<t.length;a+=1)t[a].m(e,null)},p(i,o){o&1&&(l=i[0],t=pt(t,o,s,1,i,l,n,e,ca,t_,null,xp))},d(i){i&&$(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function AF(r){let e=r[0][0]+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[0][0]+"")&&he(t,e)},d(n){n&&$(t)}}}function t_(r,e){let t,n=e[1]+"",l;return{key:r,first:null,c(){t=I("li"),l=B(n),this.first=t},m(s,i){w(s,t,i),M(t,l)},p(s,i){e=s,i&1&&n!==(n=e[1]+"")&&he(l,n)},d(s){s&&$(t)}}}function RF(r){let e;function t(s,i){return s[0].length===1?AF:MF}let n=t(r),l=n(r);return{c(){l.c(),e=ae()},m(s,i){l.m(s,i),w(s,e,i)},p(s,i){n===(n=t(s))&&l?l.p(s,i):(l.d(1),l=n(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&$(e)}}}function PF(r){let e,t,n=r[0].length&&e_(r);return{c(){n&&n.c(),e=ae()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,[s]){l[0].length?n?(n.p(l,s),s&1&&p(n,1)):(n=e_(l),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&$(e)}}}function OF(r,e,t){let{errors:n}=e;return r.$$set=l=>{"errors"in l&&t(0,n=l.errors)},[n]}class cf extends X{constructor(e){super(),Q(this,e,OF,PF,G,{errors:0})}}function n_(r){let e,t,n;return t=new cf({props:{errors:r[4]}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","field-errors svelte-1upnxsj"),Z(e,"has-margin",r[0])},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&16&&(i.errors=l[4]),t.$set(i),(!n||s&1)&&Z(e,"has-margin",l[0])},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function LF(r){let e,t,n=r[3]&&n_(r);return{c(){n&&n.c(),e=ae()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,[s]){l[3]?n?(n.p(l,s),s&8&&p(n,1)):(n=n_(l),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&$(e)}}}function NF(r,e,t){let n,l,s,i=z,o=()=>(i(),i=se(l,d=>t(3,s=d)),l),a,u=z,c=()=>(u(),u=se(n,d=>t(4,a=d)),n);r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>u());let{field:f}=e,{hasMargin:m=!0}=e;return r.$$set=d=>{"field"in d&&t(5,f=d.field),"hasMargin"in d&&t(0,m=d.hasMargin)},r.$$.update=()=>{r.$$.dirty&32&&c(t(2,{errors:n,showsError:l}=f,n,o(t(1,l))))},[m,l,n,s,a,f]}class ff extends X{constructor(e){super(),Q(this,e,NF,LF,G,{field:5,hasMargin:0})}}function FF(r){let e,t;const n=r[1].default,l=De(n,r,r[0],null);return{c(){e=I("span"),l&&l.c(),D(e,"class","field svelte-11cqsyc")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,[i]){l&&l.p&&(!t||i&1)&&Ee(l,n,s,s[0],t?Ie(n,s[0],i,null):Me(s[0]),null)},i(s){t||(p(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&$(e),l&&l.d(s)}}}function zF(r,e,t){let{$$slots:n={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&t(0,l=s.$$scope)},[l,n]}class fr extends X{constructor(e){super(),Q(this,e,zF,FF,G,{})}}const HF=r=>({}),r_=r=>({slot:"label"}),VF=r=>({}),l_=r=>({slot:"help"});function qF(r){let e,t,n,l;const s=[{hasError:r[9]},{disabled:r[10]},r[6]];function i(u){r[15](u)}var o=r[7];function a(u){let c={$$slots:{default:[WF]},$$scope:{ctx:u}};for(let f=0;f<s.length;f+=1)c=x(c,s[f]);return u[8]!==void 0&&(c.value=u[8]),{props:c}}return o&&(e=new o(a(r)),ye.push(()=>Pe(e,"value",i))),{c(){e&&C(e.$$.fragment),n=ae()},m(u,c){e&&y(e,u,c),w(u,n,c),l=!0},p(u,c){const f=c&1600?ce(s,[c&512&&{hasError:u[9]},c&1024&&{disabled:u[10]},c&64&&be(u[6])]):{};if(c&65536&&(f.$$scope={dirty:c,ctx:u}),!t&&c&256&&(t=!0,f.value=u[8],Ne(()=>t=!1)),o!==(o=u[7])){if(e){q();const m=e;g(m.$$.fragment,1,0,()=>{S(m,1)}),U()}o?(e=new o(a(u)),ye.push(()=>Pe(e,"value",i)),C(e.$$.fragment),p(e.$$.fragment,1),y(e,n.parentNode,n)):e=null}else o&&e.$set(f)},i(u){l||(e&&p(e.$$.fragment,u),l=!0)},o(u){e&&g(e.$$.fragment,u),l=!1},d(u){u&&$(n),e&&S(e,u)}}}function UF(r){let e,t;return e=new wn({props:{label:r[1],layout:r[3],help:r[2],$$slots:{help:[YF],label:[jF],default:[BF]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.label=n[1]),l&8&&(s.layout=n[3]),l&4&&(s.help=n[2]),l&67520&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function WF(r){let e;const t=r[13].default,n=De(t,r,r[16],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&65536)&&Ee(n,t,l,l[16],e?Ie(t,l[16],s,null):Me(l[16]),null)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function BF(r){let e,t,n,l;const s=[{hasError:r[9]},{disabled:r[10]},r[6]];function i(u){r[14](u)}var o=r[7];function a(u){let c={};for(let f=0;f<s.length;f+=1)c=x(c,s[f]);return u[8]!==void 0&&(c.value=u[8]),{props:c}}return o&&(e=new o(a(r)),ye.push(()=>Pe(e,"value",i))),{c(){e&&C(e.$$.fragment),n=ae()},m(u,c){e&&y(e,u,c),w(u,n,c),l=!0},p(u,c){const f=c&1600?ce(s,[c&512&&{hasError:u[9]},c&1024&&{disabled:u[10]},c&64&&be(u[6])]):{};if(!t&&c&256&&(t=!0,f.value=u[8],Ne(()=>t=!1)),o!==(o=u[7])){if(e){q();const m=e;g(m.$$.fragment,1,0,()=>{S(m,1)}),U()}o?(e=new o(a(u)),ye.push(()=>Pe(e,"value",i)),C(e.$$.fragment),p(e.$$.fragment,1),y(e,n.parentNode,n)):e=null}else o&&e.$set(f)},i(u){l||(e&&p(e.$$.fragment,u),l=!0)},o(u){e&&g(e.$$.fragment,u),l=!1},d(u){u&&$(n),e&&S(e,u)}}}function jF(r){let e;const t=r[13].label,n=De(t,r,r[16],r_);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&65536)&&Ee(n,t,l,l[16],e?Ie(t,l[16],s,HF):Me(l[16]),r_)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function YF(r){let e;const t=r[13].help,n=De(t,r,r[16],l_);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&65536)&&Ee(n,t,l,l[16],e?Ie(t,l[16],s,VF):Me(l[16]),l_)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function KF(r){let e,t,n,l,s;const i=[UF,qF],o=[];function a(u,c){return u[1]||u[11].label?0:1}return e=a(r),t=o[e]=i[e](r),l=new ff({props:{field:r[0]}}),{c(){t.c(),n=O(),C(l.$$.fragment)},m(u,c){o[e].m(u,c),w(u,n,c),y(l,u,c),s=!0},p(u,c){let f=e;e=a(u),e===f?o[e].p(u,c):(q(),g(o[f],1,1,()=>{o[f]=null}),U(),t=o[e],t?t.p(u,c):(t=o[e]=i[e](u),t.c()),p(t,1),t.m(n.parentNode,n));const m={};c&1&&(m.field=u[0]),l.$set(m)},i(u){s||(p(t),p(l.$$.fragment,u),s=!0)},o(u){g(t),g(l.$$.fragment,u),s=!1},d(u){o[e].d(u),u&&$(n),S(l,u)}}}function GF(r){let e,t;return e=new fr({props:{$$slots:{default:[KF]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&69583&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function QF(r,e,t){let n,l,s,i,o,a=z,u=()=>(a(),a=se(T,F=>t(8,o=F)),T),c,f=z,m=()=>(f(),f=se(s,F=>t(9,c=F)),s),d,_=z,h=()=>(_(),_=se(i,F=>t(10,d=F)),i);r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>_());let{$$slots:b={},$$scope:v}=e;const k=lr(b);let{field:T}=e;u();let{input:E=void 0}=e,{label:P=void 0}=e,{help:R=void 0}=e,{layout:L=void 0}=e;function A(F){o=F,T.set(o)}function N(F){o=F,T.set(o)}return r.$$set=F=>{"field"in F&&u(t(0,T=F.field)),"input"in F&&t(12,E=F.input),"label"in F&&t(1,P=F.label),"help"in F&&t(2,R=F.help),"layout"in F&&t(3,L=F.layout),"$$scope"in F&&t(16,v=F.$$scope)},r.$$.update=()=>{var F,K;r.$$.dirty&4096&&t(7,n=(F=E==null?void 0:E.component)!=null?F:$n),r.$$.dirty&4096&&t(6,l=(K=E==null?void 0:E.props)!=null?K:{}),r.$$.dirty&1&&m(t(5,{showsError:s,disabled:i}=T,s,h(t(4,i))))},[T,P,R,L,i,s,l,n,o,c,d,k,E,b,A,N,v]}class _n extends X{constructor(e){super(),Q(this,e,QF,GF,G,{field:0,input:12,label:1,help:2,layout:3})}}function s_(r){let e,t;const n=[{onProceed:r[9]},{canProceed:r[1]&&r[6]},{onCancel:r[3]},r[10]];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new _r({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&1610?ce(n,[i&512&&{onProceed:s[9]},i&66&&{canProceed:s[1]&&s[6]},i&8&&{onCancel:s[3]},i&1024&&be(s[10])]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function i_(r){let e,t,n;return t=new cf({props:{errors:r[5]}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","errors svelte-eylvex")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&32&&(i.errors=l[5]),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function XF(r){let e,t,n,l=(!r[2]||r[7])&&s_(r),s=r[4]&&i_(r);return{c(){e=I("div"),l&&l.c(),t=O(),s&&s.c(),D(e,"class","form-submit svelte-eylvex")},m(i,o){w(i,e,o),l&&l.m(e,null),M(e,t),s&&s.m(e,null),n=!0},p(i,[o]){!i[2]||i[7]?l?(l.p(i,o),o&132&&p(l,1)):(l=s_(i),l.c(),p(l,1),l.m(e,t)):l&&(q(),g(l,1,1,()=>{l=null}),U()),i[4]?s?(s.p(i,o),o&16&&p(s,1)):(s=i_(i),s.c(),p(s,1),s.m(e,null)):s&&(q(),g(s,1,1,()=>{s=null}),U())},i(i){n||(p(l),p(s),n=!0)},o(i){g(l),g(s),n=!1},d(i){i&&$(e),l&&l.d(),s&&s.d()}}}function JF(r,e,t){let n,l,s,i;const o=["form","canProceed","initiallyHidden","onProceed","onCancel","getErrorMessages","catchErrors"];let a=Be(e,o),u,c=z,f=()=>(c(),c=se(h,L=>t(13,u=L)),h),m,d=z,_=()=>(d(),d=se(n,L=>t(14,m=L)),n);r.$$.on_destroy.push(()=>c()),r.$$.on_destroy.push(()=>d());let{form:h}=e;f();let{canProceed:b=!0}=e,{initiallyHidden:v=!1}=e,{onProceed:k=()=>{}}=e,{onCancel:T=()=>h.reset()}=e,{getErrorMessages:E=L=>[en(L)]}=e,{catchErrors:P=!1}=e;async function R(){h.clearServerErrors(),h.requestStatus.set({state:"processing"});const L=u.values;if(!P){await k(L),h.requestStatus.set(void 0);return}try{await k(L),h.requestStatus.set({state:"success"})}catch(A){h.requestStatus.set({state:"failure",errors:E(A)})}}return r.$$set=L=>{e=x(x({},e),ft(L)),t(10,a=Be(e,o)),"form"in L&&f(t(0,h=L.form)),"canProceed"in L&&t(1,b=L.canProceed),"initiallyHidden"in L&&t(2,v=L.initiallyHidden),"onProceed"in L&&t(11,k=L.onProceed),"onCancel"in L&&t(3,T=L.onCancel),"getErrorMessages"in L&&t(12,E=L.getErrorMessages),"catchErrors"in L&&t(4,P=L.catchErrors)},r.$$.update=()=>{r.$$.dirty&1&&_(t(8,{requestStatus:n}=h,n)),r.$$.dirty&8192&&t(7,{hasChanges:l,canSubmit:s}=u,l,(t(6,s),t(13,u))),r.$$.dirty&16384&&t(5,i=(m==null?void 0:m.state)==="failure"?m.errors:[])},[h,b,v,T,P,i,s,l,n,R,a,k,E,u,m]}class bl extends X{constructor(e){super(),Q(this,e,JF,XF,G,{form:0,canProceed:1,initiallyHidden:2,onProceed:11,onCancel:3,getErrorMessages:12,catchErrors:4})}}const ec=Symbol("comboErrors"),Uv=Symbol("disabled");function Wv(r){const e=Ge(r.initialValue),t=Ge([]),n=at(e,d=>d!==r.initialValue),l=at(e,d=>(t.set([]),$F({...r,value:d}))),s=Ge([]),i=Ge(!1),o=at(s,d=>d),u=at([l,o,t],d=>d.flat()),c=at(u,d=>d.length===0),f=at([l,o],d=>d.flat().length===0),m=at([n,l,o,t],([d,_,h,b])=>h.length||b.length?!0:d?_.length>0:!1);return{isRequired:r.isRequired,initialValue:r.initialValue,hasChanges:n,fieldErrors:l,[ec]:s,[Uv]:i,disabled:i,comboErrors:o,serverErrors:t,errors:u,isValid:c,canSubmit:f,showsError:m,subscribe(d,_){return e.subscribe(d,_)},set(d){e.set(d)},update(d){e.update(d)},reset(){e.set(r.initialValue)}}}function Ti(r,e=[]){return Wv({initialValue:r,validators:e,isRequired:!1})}function qt(r,e=[]){return Wv({initialValue:r,validators:e,isRequired:!0})}function ZF(r,e){const t=new Map;e.forEach(n=>{const{outcome:l,fields:s}=n(r);s.forEach(i=>{var u;const o=(u=t.get(i))!=null?u:[],a=mF(l)?[]:[l.errorMsg];t.set(i,[...o,...a])})});for(const[n,l]of t){const s=Qe(n[ec]);JSON.stringify(s)!==JSON.stringify(l)&&n[ec].set(l)}}function Vn(r,e=[]){const t=Js(Object.entries(r).map(([d,_])=>at(_,h=>({name:d,field:_,value:h})))),n=at(t,d=>(ZF(d,e),Object.fromEntries(d.map(({name:_,value:h})=>[_,h])))),l=Ge(void 0),s=at(l,d=>(d==null?void 0:d.state)==="processing"),i=at(Js(Object.values(r).map(d=>d.isValid)),d=>d.every(_=>_)),o=at(Js(Object.values(r).map(d=>d.canSubmit)),d=>d.every(_=>_)),a=at(Js(Object.values(r).map(d=>d.hasChanges)),d=>d.some(_=>_));function u(){l.update(d=>(d==null?void 0:d.state)==="failure"?void 0:d),Object.values(r).forEach(d=>{d.serverErrors.set([])})}function c(){u(),Object.values(r).forEach(d=>{d.reset()})}const f=at([n,i,o,a],([d,_,h,b])=>({values:d,isValid:_,canSubmit:h,hasChanges:b}));return{...Cy(f,[()=>l.subscribe(d=>{Object.values(r).forEach(_=>{_[Uv].set((d==null?void 0:d.state)==="processing")})})]),fields:r,reset:c,clearServerErrors:u,requestStatus:l,isSubmitting:s}}const rs=Ol(),qr=new Map,o_=new Map;function Wa(r){return[...r].sort((e,t)=>e.name.localeCompare(t.name))}function Bv(r,e){const t=new Map;e&&Wa(e).forEach(s=>{t.set(s.id,s)});const n={state:St.Done,data:t,error:void 0};let l=qr.get(r);return l?l.set(n):(l=Ge(n),qr.set(r,l)),l}function xF(r){qr.delete(r)}async function Di(r){var t;const e=qr.get(r);if(!e){console.error(`Tables store for schema: ${r} not found.`);return}try{e.update(o=>({...o,state:St.Loading})),(t=o_.get(r))==null||t.cancel();const n=dn(`/api/db/v0/tables/?schema=${r}&limit=500`);o_.set(r,n);const s=(await n).results||[],i=Bv(r,s);return Qe(i)}catch(n){e.update(l=>({...l,state:St.Error,error:n instanceof Error?n.message:"Error in fetching schemas"}));return}}let a_=!0;function ez(r){var t;let e=qr.get(r);return e?Qe(e).error&&Di(r):(e=Ge({state:St.Loading,data:new Map}),qr.set(r,e),a_&&(rs==null?void 0:rs.current_schema)===r?e=Bv(r,(t=rs==null?void 0:rs.tables)!=null?t:[]):Di(r),a_=!1),e}function jv(r){return[...qr.values()].find(e=>Qe(e).data.has(r))}function Yv(r,e){var t;(t=jv(r))==null||t.update(n=>{const l=n.data.get(r),s={...l!=null?l:{},...e};n.data.set(r,s);const i=new Map;return Wa([...n.data.values()]).forEach(o=>{i.set(o.id,o)}),{...n,data:i}})}function Ba(r,e,t){const n=gl(`/api/db/v0/tables/${t}/`);return new Vr((l,s)=>{n.then(i=>{var o;return Hv(r,e,-1),(o=qr.get(e.id))==null||o.update(a=>(a.data.delete(t),{...a,data:new Map(a.data)})),l(i)},s)},()=>{n.cancel()})}function tz(r,e){const t=Rr(`/api/db/v0/tables/${r}/`,e);return new Vr((n,l)=>{t.then(s=>(Yv(r,s),n(s)),l)},()=>{t.cancel()})}function Gi(r,e,t){const n=un("/api/db/v0/tables/",{schema:e.id,name:t.name,data_files:t.dataFiles});return new Vr((l,s)=>{n.then(i=>{var o;return Hv(r,e,1),(o=qr.get(e.id))==null||o.update(a=>{const u=new Map;return Wa([...a.data.values(),i]).forEach(c=>{u.set(c.id,c)}),{...a,data:u}}),l(i)},s)},()=>{n.cancel()})}function nz(r,e){const t=Rr(`/api/db/v0/tables/${r}/`,e);return new Vr((n,l)=>{t.then(s=>(Yv(r,s),n(s)),l)},()=>{t.cancel()})}function Kv(r){return dn(`/api/db/v0/tables/${r}/`)}function rz({id:r,idsOfColumnsToExtract:e,extractedTableName:t,newFkColumnName:n}){const l={extract_columns:e,extracted_table_name:t,relationship_fk_column_name:n};return un(`/api/db/v0/tables/${r}/split_table/`,l)}function lz(r,e,t){return un(`/api/db/v0/tables/${r}/move_columns/`,{move_columns:e,target_table:t})}function Gv(r){const e=jv(r);if(e){const n=Qe(e).data.get(r);if(n)return new Vr(l=>{l(n)})}const t=Kv(r);return new Vr((n,l)=>{t.then(s=>{const i=qr.get(s.schema);return i&&i.update(o=>{const a=new Map,u=[...o.data.values(),s];return Wa(u).forEach(c=>{a.set(c.id,c)}),{...o,data:a}}),n(s)},l)},()=>{t.cancel()})}function sz(r){return dn(`/api/db/v0/tables/${r}/type_suggestions/?columns_might_have_defaults=false`)}function iz(r){const{columns:e,table:t}=r;return un(`/api/db/v0/tables/${t.id}/previews/`,{columns:e})}const ln=at(Dr,(r,e)=>{let t;return r?t=ez(r).subscribe(l=>{e(l)}):e({state:St.Done,data:new Map}),()=>{t==null||t()}}),ja=at(ln,r=>new Map([...r.data.values()].filter(e=>!Ea(e)).map(e=>[e.id,e]))),Qv=at(ln,r=>{const e=new Set([...r.data.values()].map(t=>t.name));return Ki(t=>e.has(t),"A table with that name already exists.")});function oz(r){var e;return(e=Qe(ln).data.get(r))==null?void 0:e.name}const Sl=Ge(void 0),Ll=at([Sl,ln],([r,e])=>r===void 0?void 0:e.data.get(r));function u_(r,e=1){return dn(`/api/db/v0/tables/${r}/joinable_tables/?max_depth=${e}`)}async function Xv(r,e){const t=`/api/db/v0/tables/${r.id}/settings/${r.settings.id}/`;await Rr(t,e),await Di(r.schema)}function az(r,e){const{customized:t}=e;return Xv(r,{preview_settings:t?e:{customized:t}})}function uz(r,e){return Xv(r,{column_order:[...new Set(e)]})}const Nl=at([gn,hn,Ll],([r,e,t])=>{function n({databaseName:l,schemaId:s,tableId:i,recordId:o}){const a=l!=null?l:r==null?void 0:r.name,u=s!=null?s:e==null?void 0:e.id,c=i!=null?i:t==null?void 0:t.id,f=o!=null?o:void 0;if(!(a===void 0||u===void 0||c===void 0||f===void 0))return ju(a,u,c,f)}return n}),Jv=at([gn,hn,Ll],([r,e,t])=>{function n({databaseName:l,schemaId:s,tableId:i}){const o=l!=null?l:r==null?void 0:r.name,a=s!=null?s:e==null?void 0:e.id,u=i!=null?i:t==null?void 0:t.id;if(!(o===void 0||a===void 0||u===void 0))return hl(o,a,u)}return n});function c_(r){let e,t;return e=new Va({props:{recordId:r[1],recordSummary:r[2],hasDeleteButton:!r[4],recordPageHref:r[8],disabled:r[4]}}),e.$on("delete",r[9]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.recordId=n[1]),l&4&&(s.recordSummary=n[2]),l&16&&(s.hasDeleteButton=!n[4]),l&256&&(s.recordPageHref=n[8]),l&16&&(s.disabled=n[4]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function f_(r){let e,t,n,l,s;const i=[Jn];let o={};for(let a=0;a<i.length;a+=1)o=x(o,i[a]);return t=new Fe({props:o}),{c(){e=I("span"),C(t.$$.fragment),D(e,"class","dropdown-button svelte-1lgzhz2"),D(e,"role","button"),D(e,"tabindex","-1"),D(e,"aria-label","Pick a record"),D(e,"title","Pick a record")},m(a,u){w(a,e,u),y(t,e,null),n=!0,l||(s=Le(e,"click",r[10]),l=!0)},p(a,u){const c=u&0?ce(i,[be(Jn)]):{};t.$set(c)},i(a){n||(p(t.$$.fragment,a),n=!0)},o(a){g(t.$$.fragment,a),n=!1},d(a){a&&$(e),S(t),l=!1,s()}}}function cz(r){let e,t,n,l,s,i,o,a,u,c,f,m;const d=[{disabled:r[4]},r[13]];function _(k){r[20](k)}let h={};for(let k=0;k<d.length;k+=1)h=x(h,d[k]);r[0]!==void 0&&(h.id=r[0]),e=new dl({props:h}),ye.push(()=>Pe(e,"id",_));let b=r[5]&&c_(r),v=!r[4]&&f_(r);return{c(){C(e.$$.fragment),n=O(),l=I("span"),s=I("span"),b&&b.c(),i=O(),v&&v.c(),D(s,"class","content svelte-1lgzhz2"),D(l,"id",r[0]),D(l,"class",o="input-element linked-record-input "+r[3]+" svelte-1lgzhz2"),D(l,"tabindex",a=r[6]||r[4]?void 0:0),D(l,"role","listbox"),D(l,"aria-labelledby",u=Do(r[0])),Z(l,"has-value",r[5]),Z(l,"disabled",r[4]),Z(l,"is-acquiring-input",r[6])},m(k,T){y(e,k,T),w(k,n,T),w(k,l,T),M(l,s),b&&b.m(s,null),M(l,i),v&&v.m(l,null),r[21](l),c=!0,f||(m=[Le(l,"click",r[10]),Le(l,"focus",r[11]),Le(l,"focus",r[18]),Le(l,"blur",r[12]),Le(l,"blur",r[19])],f=!0)},p(k,[T]){const E=T&8208?ce(d,[T&16&&{disabled:k[4]},T&8192&&be(k[13])]):{};!t&&T&1&&(t=!0,E.id=k[0],Ne(()=>t=!1)),e.$set(E),k[5]?b?(b.p(k,T),T&32&&p(b,1)):(b=c_(k),b.c(),p(b,1),b.m(s,null)):b&&(q(),g(b,1,1,()=>{b=null}),U()),k[4]?v&&(q(),g(v,1,1,()=>{v=null}),U()):v?(v.p(k,T),T&16&&p(v,1)):(v=f_(k),v.c(),p(v,1),v.m(l,null)),(!c||T&1)&&D(l,"id",k[0]),(!c||T&8&&o!==(o="input-element linked-record-input "+k[3]+" svelte-1lgzhz2"))&&D(l,"class",o),(!c||T&80&&a!==(a=k[6]||k[4]?void 0:0))&&D(l,"tabindex",a),(!c||T&1&&u!==(u=Do(k[0])))&&D(l,"aria-labelledby",u),(!c||T&40)&&Z(l,"has-value",k[5]),(!c||T&24)&&Z(l,"disabled",k[4]),(!c||T&72)&&Z(l,"is-acquiring-input",k[6])},i(k){c||(p(e.$$.fragment,k),p(b),p(v),c=!0)},o(k){g(e.$$.fragment,k),g(b),g(v),c=!1},d(k){S(e,k),k&&$(n),k&&$(l),b&&b.d(),v&&v.d(),r[21](null),f=!1,Dt(m)}}}function fz(r,e,t){let n,l;const s=["id","value","recordSummary","setRecordSummary","tableId","class","allowsHyperlinks","disabled"];let i=Be(e,s),o;de(r,Nl,te=>t(17,o=te));const a=h$(),u=zi(),c=In("dropdownAccompanyingElements"),f=dt();let{id:m=fl()}=e,{value:d=void 0}=e,{recordSummary:_=void 0}=e,{setRecordSummary:h=()=>{}}=e,{tableId:b}=e,{class:v=""}=e,{allowsHyperlinks:k=!0}=e,{disabled:T=!1}=e,E=!1,P;function R(){t(1,d=void 0),f("artificialChange",void 0),f("artificialInput",void 0),P.focus()}function L(){if(!c)return()=>{};const te=document.querySelector(".modal-record-selector");return te?c.add(te):()=>{}}async function A(){if(T)return;f("recordSelectorOpen"),t(6,E=!0);const te=u.acquireUserInput({tableId:b});await Gt();const ne=L(),H=await te;ne(),t(6,E=!1),H===void 0?f("recordSelectorCancel"):(t(1,d=H.recordId),h(String(H.recordId),H.recordSummary),f("recordSelectorSubmit"),f("artificialChange",d),f("artificialInput",d)),await Gt(),P.focus()}function N(te){switch(te.key){case"Enter":A();break;case"Delete":R();break}}function F(){window.addEventListener("keydown",N)}function K(){window.removeEventListener("keydown",N)}rn(()=>{t(7,P.launchRecordSelector=A,P)});function W(te){ve.call(this,r,te)}function j(te){ve.call(this,r,te)}function Y(te){m=te,t(0,m)}function oe(te){ye[te?"unshift":"push"](()=>{P=te,t(7,P)})}return r.$$set=te=>{e=x(x({},e),ft(te)),t(13,i=Be(e,s)),"id"in te&&t(0,m=te.id),"value"in te&&t(1,d=te.value),"recordSummary"in te&&t(2,_=te.recordSummary),"setRecordSummary"in te&&t(14,h=te.setRecordSummary),"tableId"in te&&t(15,b=te.tableId),"class"in te&&t(3,v=te.class),"allowsHyperlinks"in te&&t(16,k=te.allowsHyperlinks),"disabled"in te&&t(4,T=te.disabled)},r.$$.update=()=>{r.$$.dirty&2&&t(5,n=d!=null),r.$$.dirty&1&&(a==null||a.inputId.set(m)),r.$$.dirty&229410&&t(8,l=n&&k?o({tableId:b,recordId:d}):void 0)},[m,d,_,v,T,n,E,P,l,R,A,F,K,i,h,b,k,o,W,j,Y,oe]}class mz extends X{constructor(e){super(),Q(this,e,fz,cz,G,{id:0,value:1,recordSummary:2,setRecordSummary:14,tableId:15,class:3,allowsHyperlinks:16,disabled:4})}}function dz(r){let e;return{c(){e=B(r[2])},m(t,n){w(t,e,n)},p(t,n){n&4&&he(e,t[2])},i:z,o:z,d(t){t&&$(e)}}}function pz(r){let e,t;return e=new Oa({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function m_(r){let e,t,n,l,s,i;const o=[Ho];let a={};for(let u=0;u<o.length;u+=1)a=x(a,o[u]);return t=new Fe({props:a}),{c(){e=I("a"),C(t.$$.fragment),D(e,"href",r[6]),D(e,"class","link svelte-q9y3be"),D(e,"title",n="Go To Record "+r[2])},m(u,c){w(u,e,c),y(t,e,null),l=!0,s||(i=Le(e,"contextmenu",hz),s=!0)},p(u,c){const f=c&0?ce(o,[be(Ho)]):{};t.$set(f),(!l||c&64)&&D(e,"href",u[6]),(!l||c&4&&n!==(n="Go To Record "+u[2]))&&D(e,"title",n)},i(u){l||(p(t.$$.fragment,u),l=!0)},o(u){g(t.$$.fragment,u),l=!1},d(u){u&&$(e),S(t),s=!1,i()}}}function _z(r){let e,t,n,l,s,i,o,a;const u=[pz,dz],c=[];function f(d,_){return d[2]===void 0?0:1}n=f(r),l=c[n]=u[n](r);let m=r[5]&&m_(r);return{c(){e=I("div"),t=I("span"),l.c(),s=O(),m&&m.c(),D(t,"class","value svelte-q9y3be"),D(e,"class","primary-key-cell svelte-q9y3be")},m(d,_){w(d,e,_),M(e,t),c[n].m(t,null),M(e,s),m&&m.m(e,null),i=!0,o||(a=Le(t,"mousedown",r[7]),o=!0)},p(d,_){let h=n;n=f(d),n===h?c[n].p(d,_):(q(),g(c[h],1,1,()=>{c[h]=null}),U(),l=c[n],l?l.p(d,_):(l=c[n]=u[n](d),l.c()),p(l,1),l.m(t,null)),d[5]?m?(m.p(d,_),_&32&&p(m,1)):(m=m_(d),m.c(),p(m,1),m.m(e,null)):m&&(q(),g(m,1,1,()=>{m=null}),U())},i(d){i||(p(l),p(m),i=!0)},o(d){g(l),g(m),i=!1},d(d){d&&$(e),c[n].d(),m&&m.d(),o=!1,a()}}}function gz(r){let e,t;return e=new Ws({props:{isActive:r[0],isSelectedInRange:r[1],disabled:r[3],isIndependentOfSheet:r[4],hasPadding:!1,$$slots:{default:[_z]},$$scope:{ctx:r}}}),e.$on("mouseenter",r[11]),e.$on("keydown",r[8]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.isActive=n[0]),l&2&&(s.isSelectedInRange=n[1]),l&8&&(s.disabled=n[3]),l&16&&(s.isIndependentOfSheet=n[4]),l&8292&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function hz(r){r.stopPropagation()}function bz(r,e,t){let n,l;de(r,Nl,b=>t(10,l=b));const s=dt();let{isActive:i}=e,{isSelectedInRange:o}=e,{value:a=void 0}=e,{disabled:u}=e,{tableId:c}=e,{isIndependentOfSheet:f}=e,{canViewLinkedEntities:m}=e;function d(){s("activate")}function _(b){switch(b.key){case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":s("movementKeyDown",{originalEvent:b,key:b.key});break}}function h(b){ve.call(this,r,b)}return r.$$set=b=>{"isActive"in b&&t(0,i=b.isActive),"isSelectedInRange"in b&&t(1,o=b.isSelectedInRange),"value"in b&&t(2,a=b.value),"disabled"in b&&t(3,u=b.disabled),"tableId"in b&&t(9,c=b.tableId),"isIndependentOfSheet"in b&&t(4,f=b.isIndependentOfSheet),"canViewLinkedEntities"in b&&t(5,m=b.canViewLinkedEntities)},r.$$.update=()=>{r.$$.dirty&1540&&t(6,n=l({tableId:c,recordId:a}))},[i,o,a,u,f,m,n,d,_,c,l,h]}class $z extends X{constructor(e){super(),Q(this,e,bz,gz,G,{isActive:0,isSelectedInRange:1,value:2,disabled:3,tableId:9,isIndependentOfSheet:4,canViewLinkedEntities:5})}}function mf({cellInfo:r,column:e,fkTargetTableId:t,pkTargetTableId:n}){var s;if(t)return{component:lF,props:{tableId:t}};if(n)return{component:$z,props:{tableId:n}};const l=Fa(e.type,r);return za[(s=r==null?void 0:r.type)!=null?s:"string"].get(e,l)}function df(r,e,t){var s;if(e)return{component:mz,props:{tableId:e}};const n=t!=null?t:Na(r.type),l=Fa(r.type,n);return za[(s=n==null?void 0:n.type)!=null?s:"string"].getInput(r,l)}function Zv(r,e,t){var l;if(e)return;const n=t!=null?t:Na(r.type);return za[(l=n==null?void 0:n.type)!=null?l:"string"].initialInputValue}function xv(r,e){var i;const t=Na(r.type),n=Fa(r.type,t),l=(i=t==null?void 0:t.type)!=null?i:"string",s=za[l].getDisplayFormatter(r,n);return(o,a)=>{var c;if(!a||e===void 0)return s(o);const u=(c=a.get(String(e)))==null?void 0:c.get(String(o));return u||s(o)}}const e6="filter-input";function Xo(r,e){if("hasParams"in r){if(!r.hasParams)return e===void 0}else if(r.parameters.length===0)return e===void 0;return mn(e)&&String(e)!==""}function wz(r,e){return e!==void 0?OA(r):Mw(r)}function pf(r){return r.type==="foreignkey"}function vz(r,e){return r.filter(pf).filter(t=>t.columns.length===1&&t.columns.includes(e))}function t6({tableId:r,column:e,columnIndex:t,constraints:n,abstractTypeMap:l,hasEnhancedPrimaryKeyCell:s}){const i=Ql(e.type,l),o=n.filter(d=>d.columns.includes(e.id)),a=o.filter(d=>d.columns.length===1),u=o.filter(d=>d.columns.length!==1),c=vz(a,e.id)[0],f=(s!=null?s:!0)&&e.primary_key,m=c?c.referent_table:void 0;return{id:e.id,column:e,columnIndex:t,exclusiveConstraints:a,sharedConstraints:u,linkFk:c,abstractType:i,initialInputValue:Zv(e,void 0,i.cellInfo),cellComponentAndProps:mf({cellInfo:i.cellInfo,column:e,fkTargetTableId:m,pkTargetTableId:f?r:void 0}),inputComponentAndProps:df(e,m,i.cellInfo),allowedFiltersMap:wz(i.identifier,c),preprocFunctions:Aw(i.identifier),formatCellValue:xv(e,e.id)}}class Ya{constructor(e){re(this,"id");re(this,"meta");re(this,"columnsDataStore");re(this,"processedColumns");re(this,"constraintsDataStore");re(this,"recordsData");re(this,"display");re(this,"isLoading");re(this,"selection");re(this,"table");re(this,"shareConsumer");var n,l;const t=(n=e.contextualFilters)!=null?n:new Map;this.id=e.id,this.meta=(l=e.meta)!=null?l:new Xl,this.shareConsumer=e.shareConsumer,this.columnsDataStore=new Zc({tableId:this.id,hiddenColumns:t.keys(),shareConsumer:this.shareConsumer}),this.constraintsDataStore=new Dv({tableId:this.id,shareConsumer:this.shareConsumer}),this.recordsData=new sP({tableId:this.id,meta:this.meta,columnsDataStore:this.columnsDataStore,contextualFilters:t,shareConsumer:this.shareConsumer}),this.display=new vP(this.meta,this.columnsDataStore,this.recordsData),this.processedColumns=at([this.columnsDataStore.columns,this.constraintsDataStore],([s,i])=>new Map(s.map((o,a)=>[o.id,t6({tableId:this.id,column:o,columnIndex:a,constraints:i.constraints,abstractTypeMap:e.abstractTypesMap,hasEnhancedPrimaryKeyCell:e.hasEnhancedPrimaryKeyCell})]))),this.table=e.table,this.selection=new Tv({getColumns:()=>[...Qe(this.processedColumns).values()],getColumnOrder:()=>$w([...Qe(this.processedColumns).values()],this.table),getRows:()=>this.recordsData.getRecordRows(),getMaxSelectionRowIndex:()=>{var f;const s=(f=Qe(this.recordsData.totalCount))!=null?f:0,i=Qe(this.recordsData.savedRecords),o=Qe(this.recordsData.newRecords),a=Qe(this.meta.pagination),{offset:u}=a,c=a.size;return Math.min(c,s-u,i.length)+o.length}}),this.isLoading=at([this.columnsDataStore.fetchStatus,this.constraintsDataStore,this.recordsData.state],([s,i,o])=>(s==null?void 0:s.state)==="processing"||i.state===St.Loading||o===St.Loading),this.columnsDataStore.on("columnRenamed",async()=>{await this.refresh()}),this.columnsDataStore.on("columnAdded",async()=>{await this.recordsData.fetch()}),this.columnsDataStore.on("columnDeleted",async s=>{this.meta.sorting.update(i=>i.without(s)),this.meta.grouping.update(i=>i.withoutColumns([s])),this.meta.filtering.update(i=>i.withoutColumns([s])),await this.constraintsDataStore.fetch()}),this.columnsDataStore.on("columnPatched",async()=>{await this.recordsData.fetch()})}refresh(){return Promise.all([this.columnsDataStore.fetch(),this.recordsData.fetch(),this.constraintsDataStore.fetch()])}refreshAfterColumnExtraction(e,t){return this.meta.sorting.update(n=>{const l=e.find(s=>n.has(s));if(l&&t&&!n.has(t)){const s=n.get(l);return n.without(e).with(t,s!=null?s:"ASCENDING")}return n.without(e)}),this.meta.filtering.update(n=>n.withoutColumns(e)),this.meta.grouping.update(n=>e.some(s=>n.hasColumn(s))&&t&&!n.hasColumn(t)?n.withoutColumns(e).withEntry({columnId:t}):n.withoutColumns(e)),this.refresh()}destroy(){this.recordsData.destroy(),this.constraintsDataStore.destroy(),this.columnsDataStore.destroy(),this.selection.destroy()}}const n6={};function _f(r){const e=Ge(r);return Un(n6,e),e}function Rt(){return In(n6)}class r6{constructor(e){re(this,"id");re(this,"columnsDataStore");re(this,"constraintsDataStore");re(this,"processedColumns");re(this,"isLoading");this.id=e.id,this.columnsDataStore=new Zc({tableId:this.id}),this.constraintsDataStore=new Dv({tableId:this.id}),this.processedColumns=at([this.columnsDataStore.columns,this.constraintsDataStore],([t,n])=>new Map(t.map((l,s)=>[l.id,t6({tableId:this.id,column:l,columnIndex:s,constraints:n.constraints,abstractTypeMap:e.abstractTypesMap})]))),this.isLoading=at([this.columnsDataStore.fetchStatus,this.constraintsDataStore],([t,n])=>(t==null?void 0:t.state)==="processing"||n.state===St.Loading)}refresh(){return Promise.all([this.columnsDataStore.fetch(),this.constraintsDataStore.fetch()])}destroy(){this.constraintsDataStore.destroy(),this.columnsDataStore.destroy()}}function tc(r,e=!1){return r=r.slice(r.startsWith("/#")?2:0,r.endsWith("/*")?-2:void 0),r.startsWith("/")||(r="/"+r),r==="/"&&(r=""),e&&!r.endsWith("/")&&(r+="/"),r}function l6(r,e){r=tc(r,!0),e=tc(e,!0);let t=[],n={},l=!0,s=r.split("/").map(o=>o.startsWith(":")?(t.push(o.slice(1)),"([^\\/]+)"):o).join("\\/"),i=e.match(new RegExp(`^${s}$`));return i||(l=!1,i=e.match(new RegExp(`^${s}`))),i?(t.forEach((o,a)=>n[o]=i[a+1]),{exact:l,params:n,part:i[0].slice(0,-1)}):null}function s6(r,e,t){if(t==="")return r;if(t[0]==="/")return t;let n=i=>i.split("/").filter(o=>o!==""),l=n(r),s=e?n(e):[];return"/"+s.map((i,o)=>l[o]).join("/")+"/"+t}function oi(r,e,t,n){let l=[e,"data-"+e].reduce((s,i)=>{let o=r.getAttribute(i);return t&&r.removeAttribute(i),o===null?s:o},!1);return!n&&l===""?!0:l||n||!1}function kz(r){let e=r.split("&").map(t=>t.split("=")).reduce((t,n)=>{let l=n[0];if(!l)return t;let s=n.length>1?n[n.length-1]:!0;return typeof s=="string"&&s.includes(",")&&(s=s.split(",")),t[l]===void 0?t[l]=[s]:t[l].push(s),t},{});return Object.entries(e).reduce((t,n)=>(t[n[0]]=n[1].length>1?n[1]:n[1][0],t),{})}function yz(r){return Object.entries(r).map(([e,t])=>t?t===!0?e:`${e}=${Array.isArray(t)?t.join(","):t}`:null).filter(e=>e).join("&")}function d_(r,e){return r?e+r:""}function i6(r){throw new Error("[Tinro] "+r)}var yr={HISTORY:1,HASH:2,MEMORY:3,OFF:4,run(r,e,t,n){return r===this.HISTORY?e&&e():r===this.HASH?t&&t():n&&n()},getDefault(){return!window||window.location.pathname==="srcdoc"?this.MEMORY:this.HISTORY}},gf,o6,a6,Jo="",vr=Sz();function Sz(){let r=yr.getDefault(),e,t=i=>window.onhashchange=window.onpopstate=gf=null,n=i=>e&&e(Cu(r)),l=i=>{i&&(r=i),t(),r!==yr.OFF&&yr.run(r,o=>window.onpopstate=n,o=>window.onhashchange=n)&&n()},s=i=>{let o=Object.assign(Cu(r),i);return o.path+d_(yz(o.query),"?")+d_(o.hash,"#")};return{mode:l,get:i=>Cu(r),go(i,o){Cz(r,i,o),n()},start(i){e=i,l()},stop(){e=null,l(yr.OFF)},set(i){this.go(s(i),!i.path)},methods(){return Tz(this)},base:i=>Jo=i}}function Cz(r,e,t){!t&&(o6=a6);let n=l=>history[`${t?"replace":"push"}State`]({},"",l);yr.run(r,l=>n(Jo+e),l=>n(`#${e}`),l=>gf=e)}function Cu(r){let e=window.location,t=yr.run(r,l=>(Jo?e.pathname.replace(Jo,""):e.pathname)+e.search+e.hash,l=>String(e.hash.slice(1)||"/"),l=>gf||"/"),n=t.match(/^([^?#]+)(?:\?([^#]+))?(?:\#(.+))?$/);return a6=t,{url:t,from:o6,path:n[1]||"",query:kz(n[2]||""),hash:n[3]||""}}function Tz(r){let e=()=>r.get().query,t=i=>r.set({query:i}),n=i=>t(i(e())),l=()=>r.get().hash,s=i=>r.set({hash:i});return{hash:{get:l,set:s,clear:()=>s("")},query:{replace:t,clear:()=>t(""),get(i){return i?e()[i]:e()},set(i,o){n(a=>(a[i]=o,a))},delete(i){n(o=>(o[i]&&delete o[i],o))}}}}var on=Dz();function Dz(){let{subscribe:r}=Ge(vr.get(),e=>{vr.start(e);let t=Iz(vr.go);return()=>{vr.stop(),t()}});return{subscribe:r,goto:vr.go,params:Ez,meta:u6,useHashNavigation:e=>vr.mode(e?yr.HASH:yr.HISTORY),mode:{hash:()=>vr.mode(yr.HASH),history:()=>vr.mode(yr.HISTORY),memory:()=>vr.mode(yr.MEMORY)},base:vr.base,location:vr.methods()}}function p_(r){let e,t,n,l,s=()=>{e=oi(r,"href").replace(/^\/#|[?#].*$|\/$/g,""),t=oi(r,"exact",!0),n=oi(r,"active-class",!0,"active")},i=()=>{let o=l6(e,l);o&&(o.exact&&t||!t)?r.classList.add(n):r.classList.remove(n)};return s(),{destroy:on.subscribe(o=>{l=o.path,i()}),update:()=>{s(),i()}}}function Iz(r){let e=t=>{let n=t.target.closest("a[href]"),l=n&&oi(n,"target",!1,"_self"),s=n&&oi(n,"tinro-ignore"),i=t.ctrlKey||t.metaKey||t.altKey||t.shiftKey;if(l=="_self"&&!s&&!i&&n){let o=n.getAttribute("href").replace(/^\/#/,"");/^\/\/|^#|^[a-zA-Z]+:/.test(o)||(t.preventDefault(),r(o.startsWith("/")?o:n.href.replace(window.location.origin,"")))}};return addEventListener("click",e),()=>removeEventListener("click",e)}function Ez(){return In("tinro").meta.params}var Zo="tinro",Mz=c6({pattern:"",matched:!0});function Az(r){let e=In(Zo)||Mz;(e.exact||e.fallback)&&i6(`${r.fallback?"<Route fallback>":`<Route path="${r.path}">`}  can't be inside ${e.fallback?"<Route fallback>":`<Route path="${e.path||"/"}"> with exact path`}`);let t=r.fallback?"fallbacks":"childs",n=Ge({}),l=c6({fallback:r.fallback,parent:e,update(s){l.exact=!s.path.endsWith("/*"),l.pattern=tc(`${l.parent.pattern||""}${s.path}`),l.redirect=s.redirect,l.firstmatch=s.firstmatch,l.breadcrumb=s.breadcrumb,l.match()},register:()=>(l.parent[t].add(l),async()=>{l.parent[t].delete(l),l.parent.activeChilds.delete(l),l.router.un&&l.router.un(),l.parent.match()}),show:()=>{r.onShow(),!l.fallback&&l.parent.activeChilds.add(l)},hide:()=>{r.onHide(),l.parent.activeChilds.delete(l)},match:async()=>{l.matched=!1;let{path:s,url:i,from:o,query:a}=l.router.location,u=l6(l.pattern,s);if(!l.fallback&&u&&l.redirect&&(!l.exact||l.exact&&u.exact)){let c=s6(s,l.parent.pattern,l.redirect);return on.goto(c,!0)}l.meta=u&&{from:o,url:i,query:a,match:u.part,pattern:l.pattern,breadcrumbs:l.parent.meta&&l.parent.meta.breadcrumbs.slice()||[],params:u.params,subscribe:n.subscribe},l.breadcrumb&&l.meta&&l.meta.breadcrumbs.push({name:l.breadcrumb,path:u.part}),n.set(l.meta),u&&!l.fallback&&(!l.exact||l.exact&&u.exact)&&(!l.parent.firstmatch||!l.parent.matched)?(r.onMeta(l.meta),l.parent.matched=!0,l.show()):l.hide(),u&&l.showFallbacks()}});return Un(Zo,l),rn(()=>l.register()),l}function u6(){return B4(Zo)?In(Zo).meta:i6("meta() function must be run inside any `<Route>` child component only")}function c6(r){let e={router:{},exact:!1,pattern:null,meta:null,parent:null,fallback:!1,redirect:!1,firstmatch:!1,breadcrumb:null,matched:!1,childs:new Set,activeChilds:new Set,fallbacks:new Set,async showFallbacks(){if(!this.fallback&&(await Gt(),this.childs.size>0&&this.activeChilds.size==0||this.childs.size==0&&this.fallbacks.size>0)){let t=this;for(;t.fallbacks.size==0;)if(t=t.parent,!t)return;t&&t.fallbacks.forEach(n=>{if(n.redirect){let l=s6("/",n.parent.pattern,n.redirect);on.goto(l,!0)}else n.show()})}},start(){this.router.un||(this.router.un=on.subscribe(t=>{this.router.location=t,this.pattern!==null&&this.match()}))},match(){this.showFallbacks()}};return Object.assign(e,r),e.start(),e}const Rz=r=>({params:r&2,meta:r&4}),__=r=>({params:r[1],meta:r[2]});function g_(r){let e;const t=r[9].default,n=De(t,r,r[8],__);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&262)&&Ee(n,t,l,l[8],e?Ie(t,l[8],s,Rz):Me(l[8]),__)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function Pz(r){let e,t,n=r[0]&&g_(r);return{c(){n&&n.c(),e=ae()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,[s]){l[0]?n?(n.p(l,s),s&1&&p(n,1)):(n=g_(l),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&$(e)}}}function Oz(r,e,t){let{$$slots:n={},$$scope:l}=e,{path:s="/*"}=e,{fallback:i=!1}=e,{redirect:o=!1}=e,{firstmatch:a=!1}=e,{breadcrumb:u=null}=e,c=!1,f={},m={};const d=Az({fallback:i,onShow(){t(0,c=!0)},onHide(){t(0,c=!1)},onMeta(_){t(2,m=_),t(1,f=m.params)}});return r.$$set=_=>{"path"in _&&t(3,s=_.path),"fallback"in _&&t(4,i=_.fallback),"redirect"in _&&t(5,o=_.redirect),"firstmatch"in _&&t(6,a=_.firstmatch),"breadcrumb"in _&&t(7,u=_.breadcrumb),"$$scope"in _&&t(8,l=_.$$scope)},r.$$.update=()=>{r.$$.dirty&232&&d.update({path:s,redirect:o,firstmatch:a,breadcrumb:u})},[c,f,m,s,i,o,a,u,l,n]}class Lt extends X{constructor(e){super(),Q(this,e,Oz,Pz,G,{path:3,fallback:4,redirect:5,firstmatch:6,breadcrumb:7})}}function Lz(){return{hasOverflowTop:Ge(!1),hasOverflowLeft:Ge(!1),hasOverflowBottom:Ge(!1),hasOverflowRight:Ge(!1)}}function Nz(r,e){const{hasOverflowTop:t,hasOverflowLeft:n,hasOverflowBottom:l,hasOverflowRight:s}=e;function i(){const{scrollTop:a,scrollLeft:u,scrollHeight:c,scrollWidth:f,clientHeight:m,clientWidth:d}=r;t.set(a>0),n.set(u>0),l.set(Math.abs(c-m-a)>1),s.set(Math.abs(f-d-u)>1)}r.addEventListener("scroll",i);const o=new ResizeObserver(i);return o.observe(r),{destroy:()=>{r.removeEventListener("scroll",i),o.disconnect()}}}function Fz(r){let e,t;const n=r[10].default,l=De(n,r,r[9],null);return{c(){e=I("div"),l&&l.c(),D(e,"class","td svelte-1bmz4cl"),Z(e,"column-header",r[0]==="columnHeaderRow"),Z(e,"row-header",r[2]==="rowHeaderColumn"),Z(e,"row-is-selected",r[1]),Z(e,"table-overflow-top",r[6]),Z(e,"table-overflow-left",r[7]),Z(e,"show-above-overlay",r[3])},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,[i]){l&&l.p&&(!t||i&512)&&Ee(l,n,s,s[9],t?Ie(n,s[9],i,null):Me(s[9]),null),(!t||i&1)&&Z(e,"column-header",s[0]==="columnHeaderRow"),(!t||i&4)&&Z(e,"row-header",s[2]==="rowHeaderColumn"),(!t||i&2)&&Z(e,"row-is-selected",s[1]),(!t||i&64)&&Z(e,"table-overflow-top",s[6]),(!t||i&128)&&Z(e,"table-overflow-left",s[7]),(!t||i&8)&&Z(e,"show-above-overlay",s[3])},i(s){t||(p(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&$(e),l&&l.d(s)}}}function zz(r,e,t){let n,l,s,i=z,o=()=>(i(),i=se(n,k=>t(6,s=k)),n),a,u=z,c=()=>(u(),u=se(l,k=>t(7,a=k)),l);r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>u());let{$$slots:f={},$$scope:m}=e,{rowType:d}=e,{rowIsSelected:_=!1}=e,{columnType:h}=e,{overflowDetails:b=void 0}=e,{showAboveOverlay:v=!1}=e;return r.$$set=k=>{"rowType"in k&&t(0,d=k.rowType),"rowIsSelected"in k&&t(1,_=k.rowIsSelected),"columnType"in k&&t(2,h=k.columnType),"overflowDetails"in k&&t(8,b=k.overflowDetails),"showAboveOverlay"in k&&t(3,v=k.showAboveOverlay),"$$scope"in k&&t(9,m=k.$$scope)},r.$$.update=()=>{var k,T;r.$$.dirty&256&&o(t(5,n=Kn((k=b==null?void 0:b.hasOverflowTop)!=null?k:!1))),r.$$.dirty&256&&c(t(4,l=Kn((T=b==null?void 0:b.hasOverflowLeft)!=null?T:!1)))},[d,_,h,v,l,n,s,a,b,m,f]}class Ka extends X{constructor(e){super(),Q(this,e,zz,Fz,G,{rowType:0,rowIsSelected:1,columnType:2,overflowDetails:8,showAboveOverlay:3})}}function Tu(r){let e,t,n,l;const s=r[9].default,i=De(s,r,r[8],null);let o=[{class:"passthrough tr svelte-rluf06"},{href:r[0]},{tabindex:"-1"}],a={};for(let u=0;u<o.length;u+=1)a=x(a,o[u]);return{c(){e=I(r[2]),i&&i.c(),it(e,a),Z(e,"selected",r[1])},m(u,c){w(u,e,c),i&&i.m(e,null),t=!0,n||(l=[Le(e,"click",r[3]),Le(e,"mousemove",r[4])],n=!0)},p(u,c){i&&i.p&&(!t||c&256)&&Ee(i,s,u,u[8],t?Ie(s,u[8],c,null):Me(u[8]),null),it(e,a=ce(o,[{class:"passthrough tr svelte-rluf06"},(!t||c&1)&&{href:u[0]},{tabindex:"-1"}])),Z(e,"selected",u[1])},i(u){t||(p(i,u),t=!0)},o(u){g(i,u),t=!1},d(u){u&&$(e),i&&i.d(u),n=!1,Dt(l)}}}function Hz(r){let e=r[2],t,n,l=r[2]&&Tu(r);return{c(){l&&l.c(),t=ae()},m(s,i){l&&l.m(s,i),w(s,t,i),n=!0},p(s,[i]){s[2]?e?G(e,s[2])?(l.d(1),l=Tu(s),l.c(),l.m(t.parentNode,t)):l.p(s,i):(l=Tu(s),l.c(),l.m(t.parentNode,t)):e&&(l.d(1),l=null),e=s[2]},i(s){n||(p(l),n=!0)},o(s){g(l),n=!1},d(s){s&&$(t),l&&l.d(s)}}}function Vz(r,e,t){let n,l,{$$slots:s={},$$scope:i}=e;const o=dt();let{href:a=void 0}=e,{index:u}=e,{selectionIndex:c=void 0}=e,{setSelectionIndex:f}=e;function m(_){_.preventDefault(),o("click")}function d(){c!==void 0&&f(u)}return r.$$set=_=>{"href"in _&&t(0,a=_.href),"index"in _&&t(5,u=_.index),"selectionIndex"in _&&t(6,c=_.selectionIndex),"setSelectionIndex"in _&&t(7,f=_.setSelectionIndex),"$$scope"in _&&t(8,i=_.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&t(2,n=a?"a":"div"),r.$$.dirty&96&&t(1,l=c===u)},[a,l,n,m,d,u,c,f,i,s]}class qz extends X{constructor(e){super(),Q(this,e,Vz,Hz,G,{href:0,index:5,selectionIndex:6,setSelectionIndex:7})}}function Uz(r){let e,t,n,l;const s=[r[3],r[2]];function i(u){r[4](u)}var o=r[1].component;function a(u){let c={};for(let f=0;f<s.length;f+=1)c=x(c,s[f]);return u[0]!==void 0&&(c.value=u[0]),{props:c}}return o&&(e=new o(a(r)),ye.push(()=>Pe(e,"value",i)),e.$on("input",r[5]),e.$on("artificialInput",r[6]),e.$on("change",r[7]),e.$on("artificialChange",r[8]),e.$on("focus",r[9]),e.$on("blur",r[10]),e.$on("recordSelectorOpen",r[11]),e.$on("recordSelectorCancel",r[12]),e.$on("recordSelectorSubmit",r[13])),{c(){e&&C(e.$$.fragment),n=ae()},m(u,c){e&&y(e,u,c),w(u,n,c),l=!0},p(u,[c]){const f=c&12?ce(s,[c&8&&be(u[3]),c&4&&be(u[2])]):{};if(!t&&c&1&&(t=!0,f.value=u[0],Ne(()=>t=!1)),o!==(o=u[1].component)){if(e){q();const m=e;g(m.$$.fragment,1,0,()=>{S(m,1)}),U()}o?(e=new o(a(u)),ye.push(()=>Pe(e,"value",i)),e.$on("input",u[5]),e.$on("artificialInput",u[6]),e.$on("change",u[7]),e.$on("artificialChange",u[8]),e.$on("focus",u[9]),e.$on("blur",u[10]),e.$on("recordSelectorOpen",u[11]),e.$on("recordSelectorCancel",u[12]),e.$on("recordSelectorSubmit",u[13]),C(e.$$.fragment),p(e.$$.fragment,1),y(e,n.parentNode,n)):e=null}else o&&e.$set(f)},i(u){l||(e&&p(e.$$.fragment,u),l=!0)},o(u){e&&g(e.$$.fragment,u),l=!1},d(u){u&&$(n),e&&S(e,u)}}}function Wz(r,e,t){let n;const l=["value","componentAndProps"];let s=Be(e,l),{value:i}=e,{componentAndProps:o}=e;function a(k){i=k,t(0,i)}function u(k){ve.call(this,r,k)}function c(k){ve.call(this,r,k)}function f(k){ve.call(this,r,k)}function m(k){ve.call(this,r,k)}function d(k){ve.call(this,r,k)}function _(k){ve.call(this,r,k)}function h(k){ve.call(this,r,k)}function b(k){ve.call(this,r,k)}function v(k){ve.call(this,r,k)}return r.$$set=k=>{e=x(x({},e),ft(k)),t(3,s=Be(e,l)),"value"in k&&t(0,i=k.value),"componentAndProps"in k&&t(1,o=k.componentAndProps)},r.$$.update=()=>{r.$$.dirty&2&&t(2,n=o.props)},[i,o,n,s,a,u,c,f,m,d,_,h,b,v]}class Ga extends X{constructor(e){super(),Q(this,e,Wz,Uz,G,{value:0,componentAndProps:1})}}function Bz(r,e="_"){let t;const n=`${e}\\d{1,15}$`;return[r.replace(new RegExp(n),s=>(t=parseInt(s.slice(1),10),"")),t]}function Ml(r,e){if(!e.has(r))return r;const[t,n]=Bz(r);let l=(n!=null?n:0)+1;function s(){return`${t}_${l}`}let i=s();for(;e.has(i);)l+=1,i=s();return i}function f6(r){var e,t,n;return(e=r.constraintsType)!=null&&e.includes("primary")?ys:(t=r.constraintsType)!=null&&t.includes("foreignkey")?ka:Ql(r.type,(n=Qe(sr))==null?void 0:n.data).getIcon({dbType:r.type,typeOptions:r.type_options})}function ri(r,e=[{name:"id"}]){const t=new Set(e.map(n=>n.name));return r?Ml(Rw(r.name),t):""}function xo(r){const e="A column with that name already exists";return af(r.map(t=>t.name),e)}function Al(r,e){var l,s;const t=e.get(r);return Array.from(new Set([...(l=t==null?void 0:t.exclusiveConstraints)!=null?l:[],...(s=t==null?void 0:t.sharedConstraints)!=null?s:[]].filter(i=>!!i).map(i=>i.type)))}function jz(r){let e=r[0].name+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[0].name+"")&&he(t,e)},d(n){n&&$(t)}}}function Yz(r){let e,t;const n=[{icon:r[1]},r[2]];let l={$$slots:{default:[jz]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new En({props:l}),e.$on("click",r[3]),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&6?ce(n,[i&2&&{icon:s[1]},i&4&&be(s[2])]):{};i&17&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Kz(r,e,t){let n;const l=["column"];let s=Be(e,l),{column:i}=e;function o(a){ve.call(this,r,a)}return r.$$set=a=>{e=x(x({},e),ft(a)),t(2,s=Be(e,l)),"column"in a&&t(0,i=a.column)},r.$$.update=()=>{r.$$.dirty&1&&t(1,n=f6(i))},[i,n,s,o]}class Bn extends X{constructor(e){super(),Q(this,e,Kz,Yz,G,{column:0})}}function Gz(r){let e,t;const n=[{column:r[0]},r[1]];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Bn({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&3?ce(n,[i&1&&{column:s[0]},i&2&&be(s[1])]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Qz(r){return{...r.column,constraintsType:r.linkFk?[r.linkFk.type]:void 0}}function Xz(r,e,t){let n;const l=["processedColumn"];let s=Be(e,l),{processedColumn:i}=e;return r.$$set=o=>{e=x(x({},e),ft(o)),t(1,s=Be(e,l)),"processedColumn"in o&&t(2,i=o.processedColumn)},r.$$.update=()=>{r.$$.dirty&4&&t(0,n=Qz(i))},[n,s,i]}class Bs extends X{constructor(e){super(),Q(this,e,Xz,Gz,G,{processedColumn:2})}}function Jz(r){let e,t;return e=new Bs({props:{processedColumn:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.processedColumn=n[0]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Zz(r){let e,t;function n(...o){return r[16](r[27],...o)}function l(...o){return r[17](r[27],...o)}function s(...o){return r[18](r[27],...o)}function i(...o){return r[19](r[27],...o)}return e=new Ga({props:{class:"record-selector-input column-"+r[5].id,componentAndProps:r[0].inputComponentAndProps,value:r[6],recordSummary:r[9],labelController:r[10],allowsHyperlinks:!1,setRecordSummary:r[15]}}),e.$on("input",n),e.$on("artificialInput",l),e.$on("change",s),e.$on("artificialChange",i),e.$on("focus",r[20]),e.$on("blur",r[21]),e.$on("recordSelectorOpen",r[22]),e.$on("recordSelectorSubmit",r[23]),e.$on("recordSelectorCancel",r[24]),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),t=!0},p(o,a){r=o;const u={};a&32&&(u.class="record-selector-input column-"+r[5].id),a&1&&(u.componentAndProps=r[0].inputComponentAndProps),a&64&&(u.value=r[6]),a&512&&(u.recordSummary=r[9]),a&36&&(u.setRecordSummary=r[15]),e.$set(u)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function h_(r){let e;return{c(){e=I("div"),D(e,"class","overlay svelte-1oja6qb")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function xz(r){let e,t,n,l,s,i,o,a,u,c;t=new Li({props:{controller:r[10],$$slots:{default:[Jz]},$$scope:{ctx:r}}}),a=new G7({props:{$$slots:{default:[Zz,({handleNewValue:m})=>({27:m}),({handleNewValue:m})=>m?134217728:0]},$$scope:{ctx:r}}}),a.$on("artificialChange",r[11]);let f=r[3]&&h_();return{c(){e=I("div"),C(t.$$.fragment),n=O(),l=I("div"),s=I("div"),i=B(r[8]),o=O(),C(a.$$.fragment),u=O(),f&&f.c(),D(s,"class","search-value svelte-1oja6qb"),D(l,"class","input-wrapper"),D(e,"class","column-header-cell svelte-1oja6qb"),Z(e,"has-nested-selector-open",r[3])},m(m,d){w(m,e,d),y(t,e,null),M(e,n),M(e,l),M(l,s),M(s,i),M(l,o),y(a,l,null),r[25](l),M(e,u),f&&f.m(e,null),c=!0},p(m,d){const _={};d&268435457&&(_.$$scope={dirty:d,ctx:m}),t.$set(_),(!c||d&256)&&he(i,m[8]);const h={};d&402653797&&(h.$$scope={dirty:d,ctx:m}),a.$set(h),m[3]?f||(f=h_(),f.c(),f.m(e,null)):f&&(f.d(1),f=null),(!c||d&8)&&Z(e,"has-nested-selector-open",m[3])},i(m){c||(p(t.$$.fragment,m),p(a.$$.fragment,m),c=!0)},o(m){g(t.$$.fragment,m),g(a.$$.fragment,m),c=!1},d(m){m&&$(e),S(t),S(a),r[25](null),f&&f.d()}}}function eH(r){let e,t;return e=new Ka({props:{rowType:"columnHeaderRow",columnType:"dataColumn",overflowDetails:r[4],showAboveOverlay:r[3],$$slots:{default:[xz]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&16&&(s.overflowDetails=n[4]),l&8&&(s.showAboveOverlay=n[3]),l&268436461&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function tH(r,e,t){let n,l,s,i,o=z,a=()=>(o(),o=se(h,H=>t(13,i=H)),h),u,c=z,f=()=>(c(),c=se(_,H=>t(14,u=H)),_);r.$$.on_destroy.push(()=>o()),r.$$.on_destroy.push(()=>c());const m=new pa;let{processedColumn:d}=e,{searchFuzzy:_}=e;f();let{recordSummaryStore:h}=e;a();let{hasNestedSelectorOpen:b}=e,{overflowDetails:v=void 0}=e,k,T="",E;function P(H){const ee=H.detail;_.update(pe=>pe.with(n.id,ee))}async function R(){var H;await Gt(),t(8,T=(H=E==null?void 0:E.value)!=null?H:"")}rn(()=>{E=k.querySelector("input[type=text], textarea")});const L=(H,ee)=>h.addBespokeRecordSummary({columnId:String(n.id),recordId:H,recordSummary:ee}),A=(H,ee)=>{R(),H({value:tm(ee),debounce:!0})},N=(H,ee)=>{R(),H({value:nm(ee),debounce:!0})},F=(H,ee)=>H({value:tm(ee),debounce:!1}),K=(H,ee)=>H({value:nm(ee),debounce:!1});function W(H){ve.call(this,r,H)}function j(H){ve.call(this,r,H)}function Y(H){ve.call(this,r,H)}function oe(H){ve.call(this,r,H)}function te(H){ve.call(this,r,H)}function ne(H){ye[H?"unshift":"push"](()=>{k=H,t(7,k)})}return r.$$set=H=>{"processedColumn"in H&&t(0,d=H.processedColumn),"searchFuzzy"in H&&f(t(1,_=H.searchFuzzy)),"recordSummaryStore"in H&&a(t(2,h=H.recordSummaryStore)),"hasNestedSelectorOpen"in H&&t(3,b=H.hasNestedSelectorOpen),"overflowDetails"in H&&t(4,v=H.overflowDetails)},r.$$.update=()=>{var H;r.$$.dirty&1&&t(5,{column:n}=d,n),r.$$.dirty&16416&&t(6,l=u.get(n.id)),r.$$.dirty&8288&&t(9,s=(H=i.get(String(n.id)))==null?void 0:H.get(String(l)))},[d,_,h,b,v,n,l,k,T,s,m,P,R,i,u,L,A,N,F,K,W,j,Y,oe,te,ne]}class nH extends X{constructor(e){super(),Q(this,e,tH,eH,G,{processedColumn:0,searchFuzzy:1,recordSummaryStore:2,hasNestedSelectorOpen:3,overflowDetails:4})}}function Du(r){let e,t,n,l,s,i,o,a,u;const c=[r[3]];let f={};for(let _=0;_<c.length;_+=1)f=x(f,c[_]);n=new Fe({props:f});let m=[{class:"submit passthrough svelte-16wt450"}],d={};for(let _=0;_<m.length;_+=1)d=x(d,m[_]);return{c(){e=I(r[1]),t=I("span"),C(n.$$.fragment),l=O(),s=I("span"),i=B(r[2]),D(t,"class","icon"),D(s,"class","label"),it(e,d),Z(e,"hover",r[0])},m(_,h){w(_,e,h),M(e,t),y(n,t,null),M(e,l),M(e,s),M(s,i),o=!0,a||(u=Le(e,"click",r[4]),a=!0)},p(_,h){const b=h&8?ce(c,[be(_[3])]):{};n.$set(b),(!o||h&4)&&he(i,_[2]),it(e,d=ce(m,[{class:"submit passthrough svelte-16wt450"}])),Z(e,"hover",_[0])},i(_){o||(p(n.$$.fragment,_),o=!0)},o(_){g(n.$$.fragment,_),o=!1},d(_){_&&$(e),S(n),a=!1,u()}}}function rH(r){let e=r[1],t,n=r[1]&&Du(r);return{c(){n&&n.c(),t=ae()},m(l,s){n&&n.m(l,s),w(l,t,s)},p(l,[s]){l[1]?e?G(e,l[1])?(n.d(1),n=Du(l),n.c(),n.m(t.parentNode,t)):n.p(l,s):(n=Du(l),n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null),e=l[1]},i:z,o(l){g(n)},d(l){l&&$(t),n&&n.d(l)}}}function lH(r,e,t){let n,l,s;const i=dt();let{purpose:o}=e,{isSelected:a}=e;function u(){o==="dataEntry"&&i("click")}return r.$$set=c=>{"purpose"in c&&t(5,o=c.purpose),"isSelected"in c&&t(0,a=c.isSelected)},r.$$.update=()=>{r.$$.dirty&32&&t(3,n=o==="dataEntry"?GI:Ho),r.$$.dirty&32&&t(2,l=o==="dataEntry"?"Pick":"Open"),r.$$.dirty&32&&t(1,s=o==="dataEntry"?"button":"div")},[a,s,l,n,u,o]}class sH extends X{constructor(e){super(),Q(this,e,lH,rH,G,{purpose:5,isSelected:0})}}function iH({table:r,columns:e}){var l;function t(){var a,u;if(!r)return;const{template:s}=r.settings.preview_settings,i=(u=(a=s.match(/\{\d+\}/))==null?void 0:a[0])!=null?u:void 0;if(!i)return;const o=parseInt(i.slice(1,-1),10);if(!Number.isNaN(o))return o}function n(){const s=e.find(i=>!i.primary_key);if(!!s)return s.id}return(l=t())!=null?l:n()}function oH(r){let e,t,n,l,s,i,o,a,u;const c=[r[14],{isActive:r[4]},{isSelectedInRange:r[5]},{disabled:r[6]},{isIndependentOfSheet:r[11]},{horizontalAlignment:r[8]},{recordSummary:r[2]},{setRecordSummary:r[3]},{searchValue:r[9]},{isProcessing:r[10]},{showTruncationPopover:r[12]},{canViewLinkedEntities:r[13]}];function f(_){r[19](_)}var m=r[15];function d(_){let h={};for(let b=0;b<c.length;b+=1)h=x(h,c[b]);return _[0]!==void 0&&(h.value=_[0]),{props:h}}return m&&(t=new m(d(r)),ye.push(()=>Pe(t,"value",f)),t.$on("movementKeyDown",r[20]),t.$on("activate",r[21]),t.$on("update",r[22]),t.$on("mouseenter",r[23])),{c(){e=I("div"),t&&C(t.$$.fragment),l=O(),s=I("div"),s.innerHTML='<div class="bg svelte-v6dv5q"></div>',D(s,"class","loader svelte-v6dv5q"),D(e,"class","cell-fabric svelte-v6dv5q"),D(e,"data-column-identifier",i=r[1].id),Z(e,"show-as-skeleton",r[7]),Z(e,"is-independent",r[11])},m(_,h){w(_,e,h),t&&y(t,e,null),M(e,l),M(e,s),o=!0,a||(u=[Le(e,"mousedown",r[16]),Le(e,"mouseenter",r[17])],a=!0)},p(_,[h]){const b=h&32636?ce(c,[h&16384&&be(_[14]),h&16&&{isActive:_[4]},h&32&&{isSelectedInRange:_[5]},h&64&&{disabled:_[6]},h&2048&&{isIndependentOfSheet:_[11]},h&256&&{horizontalAlignment:_[8]},h&4&&{recordSummary:_[2]},h&8&&{setRecordSummary:_[3]},h&512&&{searchValue:_[9]},h&1024&&{isProcessing:_[10]},h&4096&&{showTruncationPopover:_[12]},h&8192&&{canViewLinkedEntities:_[13]}]):{};if(!n&&h&1&&(n=!0,b.value=_[0],Ne(()=>n=!1)),m!==(m=_[15])){if(t){q();const v=t;g(v.$$.fragment,1,0,()=>{S(v,1)}),U()}m?(t=new m(d(_)),ye.push(()=>Pe(t,"value",f)),t.$on("movementKeyDown",_[20]),t.$on("activate",_[21]),t.$on("update",_[22]),t.$on("mouseenter",_[23]),C(t.$$.fragment),p(t.$$.fragment,1),y(t,e,l)):t=null}else m&&t.$set(b);(!o||h&2&&i!==(i=_[1].id))&&D(e,"data-column-identifier",i),(!o||h&128)&&Z(e,"show-as-skeleton",_[7]),(!o||h&2048)&&Z(e,"is-independent",_[11])},i(_){o||(t&&p(t.$$.fragment,_),o=!0)},o(_){t&&g(t.$$.fragment,_),o=!1},d(_){_&&$(e),t&&S(t),a=!1,Dt(u)}}}function aH(r,e,t){let n,l,s;const i=dt();let{columnFabric:o}=e,{value:a}=e,{recordSummary:u=void 0}=e,{setRecordSummary:c=void 0}=e,{isActive:f=!1}=e,{isSelectedInRange:m=!1}=e,{disabled:d=!1}=e,{showAsSkeleton:_=!1}=e,{horizontalAlignment:h=void 0}=e,{searchValue:b=void 0}=e,{isProcessing:v=!1}=e,{isIndependentOfSheet:k=!1}=e,{showTruncationPopover:T=!1}=e,{canViewLinkedEntities:E=!0}=e;function P(W){i("onSelectionStart",{e:W})}function R(W){i("onMouseEnterCellWhileSelection",{e:W})}function L(W){a=W,t(0,a)}function A(W){ve.call(this,r,W)}function N(W){ve.call(this,r,W)}function F(W){ve.call(this,r,W)}function K(W){ve.call(this,r,W)}return r.$$set=W=>{"columnFabric"in W&&t(1,o=W.columnFabric),"value"in W&&t(0,a=W.value),"recordSummary"in W&&t(2,u=W.recordSummary),"setRecordSummary"in W&&t(3,c=W.setRecordSummary),"isActive"in W&&t(4,f=W.isActive),"isSelectedInRange"in W&&t(5,m=W.isSelectedInRange),"disabled"in W&&t(6,d=W.disabled),"showAsSkeleton"in W&&t(7,_=W.showAsSkeleton),"horizontalAlignment"in W&&t(8,h=W.horizontalAlignment),"searchValue"in W&&t(9,b=W.searchValue),"isProcessing"in W&&t(10,v=W.isProcessing),"isIndependentOfSheet"in W&&t(11,k=W.isIndependentOfSheet),"showTruncationPopover"in W&&t(12,T=W.showTruncationPopover),"canViewLinkedEntities"in W&&t(13,E=W.canViewLinkedEntities)},r.$$.update=()=>{r.$$.dirty&2&&t(18,{cellComponentAndProps:n}=o,n),r.$$.dirty&262144&&t(15,{component:l}=n,l),r.$$.dirty&262144&&t(14,s=n.props)},[a,o,u,c,f,m,d,_,h,b,v,k,T,E,s,l,P,R,n,L,A,N,F,K]}class Qi extends X{constructor(e){super(),Q(this,e,aH,oH,G,{columnFabric:1,value:0,recordSummary:2,setRecordSummary:3,isActive:4,isSelectedInRange:5,disabled:6,showAsSkeleton:7,horizontalAlignment:8,searchValue:9,isProcessing:10,isIndependentOfSheet:11,showTruncationPopover:12,canViewLinkedEntities:13})}}function uH(r){let e,t;return e=new Qi({props:{columnFabric:r[1],value:r[4],recordSummary:r[5],disabled:!0,showAsSkeleton:!_p(r[0]),searchValue:r[6],showTruncationPopover:!0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.columnFabric=n[1]),l&16&&(s.value=n[4]),l&32&&(s.recordSummary=n[5]),l&1&&(s.showAsSkeleton=!_p(n[0])),l&64&&(s.searchValue=n[6]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function cH(r){let e,t;return e=new Ka({props:{rowType:"dataRow",columnType:"dataColumn",$$slots:{default:[uH]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1139&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function fH(r,e,t){let n,l,s,i,o,a=z,u=()=>(a(),a=se(h,v=>t(8,o=v)),h),c,f=z,m=()=>(f(),f=se(b,v=>t(9,c=v)),b);r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>f());let{row:d}=e,{processedColumn:_}=e,{recordSummaries:h}=e;u();let{searchFuzzy:b}=e;return m(),r.$$set=v=>{"row"in v&&t(0,d=v.row),"processedColumn"in v&&t(1,_=v.processedColumn),"recordSummaries"in v&&u(t(2,h=v.recordSummaries)),"searchFuzzy"in v&&m(t(3,b=v.searchFuzzy))},r.$$.update=()=>{var v,k;r.$$.dirty&2&&t(7,{column:n}=_,n),r.$$.dirty&640&&t(6,l=c.get(n.id)),r.$$.dirty&129&&t(4,s=(v=d==null?void 0:d.record)==null?void 0:v[n.id]),r.$$.dirty&400&&t(5,i=(k=o.get(String(n.id)))==null?void 0:k.get(String(s)))},[d,_,h,b,s,i,l,n,o,c]}class mH extends X{constructor(e){super(),Q(this,e,fH,cH,G,{row:0,processedColumn:1,recordSummaries:2,searchFuzzy:3})}}function b_(r,e,t){const n=r.slice();return n[67]=e[t],n[69]=t,n}function $_(r,e,t){const n=r.slice();return n[70]=e[t][0],n[71]=e[t][1],n}function w_(r,e,t){const n=r.slice();n[70]=e[t][0],n[71]=e[t][1];const l=n[71].column;return n[74]=l,n}function v_(r,e){let t,n,l;function s(){return e[46](e[74])}function i(){return e[48](e[74])}return n=new nH({props:{hasNestedSelectorOpen:e[74]===e[19],overflowDetails:e[24],processedColumn:e[71],searchFuzzy:e[4],recordSummaryStore:e[8]}}),n.$on("focus",s),n.$on("blur",e[47]),n.$on("recordSelectorOpen",i),n.$on("recordSelectorSubmit",e[49]),n.$on("recordSelectorCancel",e[50]),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(o,a){w(o,t,a),y(n,o,a),l=!0},p(o,a){e=o;const u={};a[0]&786432&&(u.hasNestedSelectorOpen=e[74]===e[19]),a[0]&262144&&(u.processedColumn=e[71]),a[0]&16&&(u.searchFuzzy=e[4]),a[0]&256&&(u.recordSummaryStore=e[8]),n.$set(u)},i(o){l||(p(n.$$.fragment,o),l=!0)},o(o){g(n.$$.fragment,o),l=!1},d(o){o&&$(t),S(n,o)}}}function dH(r){let e,t;function n(){return r[51](r[69])}return e=new sH({props:{purpose:r[13],isSelected:r[2]===r[69]}}),e.$on("click",n),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){r=l;const i={};s[0]&8192&&(i.purpose=r[13]),s[0]&4&&(i.isSelected=r[2]===r[69]),e.$set(i)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function k_(r,e){let t,n,l;return n=new mH({props:{row:e[67],processedColumn:e[71],recordSummaries:e[8],searchFuzzy:e[4]}}),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i[0]&2&&(o.row=e[67]),i[0]&262144&&(o.processedColumn=e[71]),i[0]&256&&(o.recordSummaries=e[8]),i[0]&16&&(o.searchFuzzy=e[4]),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}function pH(r){let e,t,n=[],l=new Map,s,i;e=new Ka({props:{rowType:"dataRow",columnType:"rowHeaderColumn",rowIsSelected:r[2]===r[69],overflowDetails:r[24],$$slots:{default:[dH]},$$scope:{ctx:r}}});let o=[...r[18]];const a=u=>u[70];for(let u=0;u<o.length;u+=1){let c=$_(r,o,u),f=a(c);l.set(f,n[u]=k_(f,c))}return{c(){C(e.$$.fragment),t=O();for(let u=0;u<n.length;u+=1)n[u].c();s=O()},m(u,c){y(e,u,c),w(u,t,c);for(let f=0;f<n.length;f+=1)n[f].m(u,c);w(u,s,c),i=!0},p(u,c){const f={};c[0]&4&&(f.rowIsSelected=u[2]===u[69]),c[0]&8196|c[2]&32768&&(f.$$scope={dirty:c,ctx:u}),e.$set(f),c[0]&262418&&(o=[...u[18]],q(),n=pt(n,c,a,1,u,o,l,s.parentNode,ht,k_,s,$_),U())},i(u){if(!i){p(e.$$.fragment,u);for(let c=0;c<o.length;c+=1)p(n[c]);i=!0}},o(u){g(e.$$.fragment,u);for(let c=0;c<n.length;c+=1)g(n[c]);i=!1},d(u){S(e,u),u&&$(t);for(let c=0;c<n.length;c+=1)n[c].d(u);u&&$(s)}}}function y_(r){let e,t;function n(){return r[53](r[69])}return e=new qz({props:{href:r[22](r[67]),index:r[69],selectionIndex:r[2],setSelectionIndex:r[52],$$slots:{default:[pH]},$$scope:{ctx:r}}}),e.$on("click",n),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){r=l;const i={};s[0]&2&&(i.href=r[22](r[67])),s[0]&4&&(i.selectionIndex=r[2]),s[0]&1&&(i.setSelectionIndex=r[52]),s[0]&270614|s[2]&32768&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function _H(r){let e,t,n,l,s,i,o,a=[],u=new Map,c,f,m,d,_,h,b;i=new Ka({props:{rowType:"columnHeaderRow",columnType:"rowHeaderColumn",overflowDetails:r[24]}});let v=[...r[18]];const k=R=>R[70];for(let R=0;R<v.length;R+=1){let L=w_(r,v,R),A=k(L);u.set(A,a[R]=v_(A,L))}let T=r[1],E=[];for(let R=0;R<T.length;R+=1)E[R]=y_(b_(r,T,R));const P=R=>g(E[R],1,1,()=>{E[R]=null});return{c(){e=I("div"),t=I("div"),n=I("div"),l=I("div"),s=I("div"),C(i.$$.fragment),o=O();for(let R=0;R<a.length;R+=1)a[R].c();c=O(),f=I("div");for(let R=0;R<E.length;R+=1)E[R].c();m=O(),d=I("div"),D(s,"class","tr inputs svelte-1ymk5sc"),D(l,"class","thead svelte-1ymk5sc"),D(f,"class","tbody svelte-1ymk5sc"),D(n,"class","table svelte-1ymk5sc"),D(t,"class","scroll-container svelte-1ymk5sc"),D(d,"class","inset-shadow svelte-1ymk5sc"),D(e,"class","inset-shadow-positioner svelte-1ymk5sc"),Z(e,"has-overflow-top",r[14]),Z(e,"has-overflow-right",r[15]),Z(e,"has-overflow-bottom",r[16]),Z(e,"has-overflow-left",r[17])},m(R,L){w(R,e,L),M(e,t),M(t,n),M(n,l),M(l,s),y(i,s,null),M(s,o);for(let A=0;A<a.length;A+=1)a[A].m(s,null);M(n,c),M(n,f);for(let A=0;A<E.length;A+=1)E[A].m(f,null);M(e,m),M(e,d),_=!0,h||(b=Dn(Nz.call(null,t,r[24])),h=!0)},p(R,L){if(L[0]&20709648&&(v=[...R[18]],q(),a=pt(a,L,k,1,R,v,u,s,ht,v_,null,w_),U()),L[0]&29630743){T=R[1];let A;for(A=0;A<T.length;A+=1){const N=b_(R,T,A);E[A]?(E[A].p(N,L),p(E[A],1)):(E[A]=y_(N),E[A].c(),p(E[A],1),E[A].m(f,null))}for(q(),A=T.length;A<E.length;A+=1)P(A);U()}(!_||L[0]&16384)&&Z(e,"has-overflow-top",R[14]),(!_||L[0]&32768)&&Z(e,"has-overflow-right",R[15]),(!_||L[0]&65536)&&Z(e,"has-overflow-bottom",R[16]),(!_||L[0]&131072)&&Z(e,"has-overflow-left",R[17])},i(R){if(!_){p(i.$$.fragment,R);for(let L=0;L<v.length;L+=1)p(a[L]);for(let L=0;L<T.length;L+=1)p(E[L]);_=!0}},o(R){g(i.$$.fragment,R);for(let L=0;L<a.length;L+=1)g(a[L]);E=E.filter(Boolean);for(let L=0;L<E.length;L+=1)g(E[L]);_=!1},d(R){R&&$(e),S(i);for(let L=0;L<a.length;L+=1)a[L].d();Fn(E,R),h=!1,b()}}}function gH(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,_,h,b,v,k,T,E,P,R,L,A,N,F=z,K=()=>(F(),F=se(v,ke=>t(57,N=ke)),v),W,j=z,Y=()=>(j(),j=se(b,ke=>t(58,W=ke)),b),oe,te=z,ne=()=>(te(),te=se(m,ke=>t(59,oe=ke)),m),H,ee,pe,ue=z,ie=()=>(ue(),ue=se(l,ke=>t(13,pe=ke)),l),me,Se=z,$e=()=>(Se(),Se=se(E,ke=>t(43,me=ke)),E),He,we=z,je=()=>(we(),we=se(s,ke=>t(44,He=ke)),s),Re,Oe=z,Ze=()=>(Oe(),Oe=se(d,ke=>t(45,Re=ke)),d),Ke,tt,ot,nt,ze,Xe=z,ct=()=>(Xe(),Xe=se(c,ke=>t(18,ze=ke)),c),Ve,We=z,Je=()=>(We(),We=se(n,ke=>t(19,Ve=ke)),n);de(r,ln,ke=>t(42,H=ke)),de(r,Nl,ke=>t(60,ee=ke)),r.$$.on_destroy.push(()=>F()),r.$$.on_destroy.push(()=>j()),r.$$.on_destroy.push(()=>te()),r.$$.on_destroy.push(()=>ue()),r.$$.on_destroy.push(()=>Se()),r.$$.on_destroy.push(()=>we()),r.$$.on_destroy.push(()=>Oe()),r.$$.on_destroy.push(()=>Xe()),r.$$.on_destroy.push(()=>We());let{controller:bt}=e,{tabularData:_t}=e,{nestedController:xe}=e,{submitResult:mt}=e,{isHoveringCreate:kt=!1}=e;const Wt=_f(_t);let Pt,rt;function Kt(ke){ke?t(0,rt=void 0):t(0,rt=0)}function bn(ke){xe.cancel(),t(34,Pt=ke)}function Jt(){t(34,Pt=void 0)}function lt(ke){if(rt===void 0)return;const Ae=rt+ke;t(0,rt=Math.min(Math.max(Ae,0),R-1))}function Nt(ke){const{record:Ae}=ke;if(!(!Ae||Object.keys(Ae).length===0))return Jc(Ae,N)}function Ct(ke){if(pe==="dataEntry")return;const Ae=Nt(ke);if(!!Ae)return ee({tableId:a,recordId:Ae})}function Mn(ke){var Ot,jt,Mt;const Ae=P[ke];if(!Ae)return;const{record:et}=Ae,st=Nt(Ae);if(!et||st===void 0)return;const gt=H.data.get(a),$t=(Mt=(jt=(Ot=gt==null?void 0:gt.settings)==null?void 0:Ot.preview_settings)==null?void 0:jt.template)!=null?Mt:"",wt=Ma({template:$t,inputData:Nc(et),transitiveData:oe});mt({recordId:st,recordSummary:wt})}function $l(){A!==void 0&&Mn(A)}function Fl(ke){if(W)return;let Ae=!0;switch(ke.key){case"ArrowUp":lt(-1);break;case"ArrowDown":lt(1);break;case"Enter":!L||ke.shiftKey?$l():Ae=!1;break;default:Ae=!1}Ae&&(ke.stopPropagation(),ke.preventDefault())}rn(()=>(window.addEventListener("keydown",Fl,{capture:!0}),()=>{window.removeEventListener("keydown",Fl,{capture:!0})})),rn(async()=>{const ke=iH({table:f,columns:N});if(ke===void 0)return;await Gt();const Ae=`.record-selector-input.column-${ke}`,et=document.querySelector(Ae);et&&et.focus()});const Br=Lz(),{hasOverflowTop:jr,hasOverflowRight:jn,hasOverflowBottom:ge,hasOverflowLeft:_e}=Br;de(r,jr,ke=>t(14,Ke=ke)),de(r,jn,ke=>t(15,tt=ke)),de(r,ge,ke=>t(16,ot=ke)),de(r,_e,ke=>t(17,nt=ke));const V=ke=>bn(ke),J=()=>Jt(),le=ke=>{Zt(n,Ve=ke,Ve)},fe=()=>{Zt(n,Ve=void 0,Ve)},Ce=()=>{Zt(n,Ve=void 0,Ve)},Te=ke=>Mn(ke),qe=ke=>{t(0,rt=ke)},Ue=ke=>Mn(ke);return r.$$set=ke=>{"controller"in ke&&t(29,bt=ke.controller),"tabularData"in ke&&t(30,_t=ke.tabularData),"nestedController"in ke&&t(31,xe=ke.nestedController),"submitResult"in ke&&t(32,mt=ke.submitResult),"isHoveringCreate"in ke&&t(33,kt=ke.isHoveringCreate)},r.$$.update=()=>{r.$$.dirty[1]&1&&dw(xe),r.$$.dirty[0]&536870912&&Je(t(12,{columnWithNestedSelectorOpen:n,purpose:l}=bt,n,ie(t(11,l)))),r.$$.dirty[0]&1073741824&&Wt.set(_t),r.$$.dirty[0]&1073741824&&je(t(10,{constraintsDataStore:s,meta:i,columnsDataStore:o,id:a,recordsData:u,processedColumns:c}=_t,s,(t(40,i),t(30,_t)),(t(41,o),t(30,_t)),(t(35,a),t(30,_t)),(t(38,u),t(30,_t)),ct(t(9,c)))),r.$$.dirty[1]&2064&&(f=H.data.get(a)),r.$$.dirty[1]&128&&ne(t(8,{recordSummaries:m,state:d}=u,m,Ze(t(7,d)))),r.$$.dirty[1]&16384&&t(36,_=Re===St.Loading),r.$$.dirty[1]&8192&&t(39,{constraints:h}=He,h),r.$$.dirty[1]&1&&Y(t(6,b=xe.isOpen)),r.$$.dirty[1]&1024&&K(t(5,{columns:v}=o,v)),r.$$.dirty[1]&512&&t(4,{searchFuzzy:k}=i,k),r.$$.dirty[1]&256&&t(37,T=new Hr(h.filter(pf).filter(ke=>ke.columns.length===1).map(ke=>ke.columns[0]))),r.$$.dirty[1]&128&&$e(t(3,E=u.savedRecords)),r.$$.dirty[1]&4096&&t(1,P=me),r.$$.dirty[0]&2&&(R=P.length),r.$$.dirty[1]&72&&(L=(()=>{if(Pt!==void 0)return T.has(Pt.id)?Pt:void 0})()),r.$$.dirty[1]&32&&Kt(_),r.$$.dirty[0]&1|r.$$.dirty[1]&4&&t(2,A=kt?void 0:rt)},[rt,P,A,E,k,v,b,d,m,c,s,l,n,pe,Ke,tt,ot,nt,ze,Ve,bn,Jt,Ct,Mn,Br,jr,jn,ge,_e,bt,_t,xe,mt,kt,Pt,a,_,T,u,h,i,o,H,me,He,Re,V,J,le,fe,Ce,Te,qe,Ue]}class hH extends X{constructor(e){super(),Q(this,e,gH,_H,G,{controller:29,tabularData:30,nestedController:31,submitResult:32,isHoveringCreate:33},null,[-1,-1,-1])}}function S_(r){let e,t,n=(r[4]||!r[10])&&C_();return{c(){e=I("div"),n&&n.c(),D(e,"class","content-loading svelte-nebr56"),Z(e,"prevent-user-entry",r[4])},m(l,s){w(l,e,s),n&&n.m(e,null),t=!0},p(l,s){l[4]||!l[10]?n?s[0]&1040&&p(n,1):(n=C_(),n.c(),p(n,1),n.m(e,null)):n&&(q(),g(n,1,1,()=>{n=null}),U()),(!t||s[0]&16)&&Z(e,"prevent-user-entry",l[4])},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){l&&$(e),n&&n.d()}}}function C_(r){let e,t;return e=new an({props:{size:"2em"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function T_(r){let e,t;return e=new hH({props:{tabularData:r[2],controller:r[1],nestedController:r[3],submitResult:r[19],isHoveringCreate:r[5]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&4&&(s.tabularData=n[2]),l[0]&2&&(s.controller=n[1]),l[0]&8&&(s.nestedController=n[3]),l[0]&32&&(s.isHoveringCreate=n[5]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function D_(r){let e,t,n,l;const s=[$H,bH],i=[];function o(a,u){return a[17]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function bH(r){let e,t,n;function l(o,a){return o[8]?vH:wH}let s=l(r),i=s(r);return{c(){e=I("div"),t=B("No "),i.c(),n=B(" records"),D(e,"class","no-results svelte-nebr56")},m(o,a){w(o,e,a),M(e,t),i.m(e,null),M(e,n)},p(o,a){s!==(s=l(o))&&(i.d(1),i=s(o),i&&(i.c(),i.m(e,n)))},i:z,o:z,d(o){o&&$(e),i.d()}}}function $H(r){let e,t,n;return t=new an({props:{size:"2em"}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","results-loading svelte-nebr56")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p:z,i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function wH(r){let e;return{c(){e=B("existing")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function vH(r){let e;return{c(){e=B("matching")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function I_(r){let e,t,n;return t=new ut({props:{size:"small",appearance:"secondary",$$slots:{default:[kH]},$$scope:{ctx:r}}}),t.$on("click",r[20]),t.$on("mouseenter",r[34]),t.$on("mouseleave",r[35]),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","button svelte-nebr56")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s[1]&4096&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function kH(r){let e,t,n,l;const s=[Qt];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new Fe({props:i}),{c(){C(e.$$.fragment),t=O(),n=I("span"),n.textContent="Create Record From Search Criteria"},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),l=!0},p(o,a){const u=a&0?ce(s,[be(Qt)]):{};e.$set(u)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),o&&$(n)}}}function E_(r){let e;function t(s,i){return s[8]?SH:yH}let n=t(r),l=n(r);return{c(){e=I("div"),l.c(),D(e,"class","message svelte-nebr56")},m(s,i){w(s,e,i),l.m(e,null)},p(s,i){n!==(n=t(s))&&(l.d(1),l=n(s),l&&(l.c(),l.m(e,null)))},d(s){s&&$(e),l.d()}}}function yH(r){let e;return{c(){e=B("The first 10 records are shown. Filter to see more.")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function SH(r){let e;return{c(){e=B("The 10 best matches are shown. Continue filtering to see more.")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function CH(r){let e,t,n,l,s,i,o,a,u=(r[17]||r[4])&&S_(r),c=r[10]&&T_(r),f=r[10]&&!r[6].length&&D_(r),m=r[8]&&r[16]&&I_(r),d=r[6].length===10&&r[10]&&E_(r);return{c(){e=I("div"),u&&u.c(),t=O(),c&&c.c(),n=O(),f&&f.c(),l=O(),s=I("div"),m&&m.c(),i=O(),d&&d.c(),D(s,"class","footer svelte-nebr56"),D(e,"class","record-selector-content svelte-nebr56"),mr(()=>r[36].call(e))},m(_,h){w(_,e,h),u&&u.m(e,null),M(e,t),c&&c.m(e,null),M(e,n),f&&f.m(e,null),M(e,l),M(e,s),m&&m.m(s,null),M(s,i),d&&d.m(s,null),o=sy(e,r[36].bind(e)),a=!0},p(_,h){_[17]||_[4]?u?(u.p(_,h),h[0]&131088&&p(u,1)):(u=S_(_),u.c(),p(u,1),u.m(e,t)):u&&(q(),g(u,1,1,()=>{u=null}),U()),_[10]?c?(c.p(_,h),h[0]&1024&&p(c,1)):(c=T_(_),c.c(),p(c,1),c.m(e,n)):c&&(q(),g(c,1,1,()=>{c=null}),U()),_[10]&&!_[6].length?f?(f.p(_,h),h[0]&1088&&p(f,1)):(f=D_(_),f.c(),p(f,1),f.m(e,l)):f&&(q(),g(f,1,1,()=>{f=null}),U()),_[8]&&_[16]?m?(m.p(_,h),h[0]&65792&&p(m,1)):(m=I_(_),m.c(),p(m,1),m.m(s,i)):m&&(q(),g(m,1,1,()=>{m=null}),U()),_[6].length===10&&_[10]?d?d.p(_,h):(d=E_(_),d.c(),d.m(s,null)):d&&(d.d(1),d=null)},i(_){a||(p(u),p(c),p(f),p(m),a=!0)},o(_){g(u),g(c),g(f),g(m),a=!1},d(_){_&&$(e),u&&u.d(),c&&c.d(),f&&f.d(),m&&m.d(),d&&d.d(),o()}}}function TH(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,_,h,b,v,k,T,E,P,R,L=z,A=()=>(L(),L=se(d,xe=>t(39,R=xe)),d),N,F=z,K=()=>(F(),F=se(v,xe=>t(27,N=xe)),v),W,j,Y=z,oe=()=>(Y(),Y=se(m,xe=>t(41,j=xe)),m),te,ne=z,H=()=>(ne(),ne=se(T,xe=>t(28,te=xe)),T),ee,pe=z,ue=()=>(pe(),pe=se(_,xe=>t(29,ee=xe)),_),ie,me=z,Se=()=>(me(),me=se(i,xe=>t(30,ie=xe)),i),$e,He,we,je,Re=z,Oe=()=>(Re(),Re=se(a,xe=>t(17,je=xe)),a);de(r,ln,xe=>t(38,P=xe)),de(r,Nl,xe=>t(40,W=xe)),de(r,hn,xe=>t(32,He=xe)),de(r,gn,xe=>t(33,we=xe)),r.$$.on_destroy.push(()=>L()),r.$$.on_destroy.push(()=>F()),r.$$.on_destroy.push(()=>Y()),r.$$.on_destroy.push(()=>ne()),r.$$.on_destroy.push(()=>pe()),r.$$.on_destroy.push(()=>me()),r.$$.on_destroy.push(()=>Re());const Ze=Xt();de(r,Ze,xe=>t(31,$e=xe));let{controller:Ke}=e,{tabularData:tt}=e,{nestedController:ot}=e,{height:nt=0}=e,ze=!1,Xe=!1;function ct(xe){if(j==="dataEntry")Ke.submit(xe);else if(j==="navigation"){const{recordId:mt}=xe,kt=W({tableId:f,recordId:mt});kt&&(on.goto(kt),Ke.cancel())}}function Ve(){const xe=R.filter(mt=>mt.primary_key).map(mt=>mt.id);return Object.fromEntries(N.without(xe))}async function We(){var kt,Wt,Pt;const xe=`/api/db/v0/tables/${f}/records/`,mt=Ve();try{t(4,ze=!0);const rt=await un(xe,mt),Kt=rt.results[0],bn=Jc(Kt,R),Jt=(kt=rt.preview_data)!=null?kt:[],lt=P.data.get(f),Nt=(Pt=(Wt=lt==null?void 0:lt.settings)==null?void 0:Wt.preview_settings)==null?void 0:Pt.template;if(!Nt)throw new Error("No record summary template found in API response.");const Ct=Ma({inputData:Nc(Kt),template:Nt,transitiveData:Fc(Jt)});ct({recordId:bn,recordSummary:Ct})}catch(rt){At.error(en(rt))}finally{t(4,ze=!1)}}const Je=()=>{t(5,Xe=!0)},bt=()=>{t(5,Xe=!1)};function _t(){nt=this.clientHeight,t(0,nt)}return r.$$set=xe=>{"controller"in xe&&t(1,Ke=xe.controller),"tabularData"in xe&&t(2,tt=xe.tabularData),"nestedController"in xe&&t(3,ot=xe.nestedController),"height"in xe&&t(0,nt=xe.height)},r.$$.update=()=>{var xe;r.$$.dirty[1]&4&&t(26,n=we),r.$$.dirty[1]&2&&t(25,l=He),r.$$.dirty[0]&100663296|r.$$.dirty[1]&1&&t(16,s=(xe=$e==null?void 0:$e.hasPermission({database:n,schema:l},"canEditTableRecords"))!=null?xe:!1),r.$$.dirty[0]&4&&Se(t(15,{constraintsDataStore:i,meta:o,isLoading:a,columnsDataStore:u,recordsData:c,id:f}=tt,i,(t(22,o),t(2,tt)),Oe(t(14,a)),(t(24,u),t(2,tt)),(t(21,c),t(2,tt)))),r.$$.dirty[0]&2&&oe(t(13,{purpose:m}=Ke,m)),r.$$.dirty[0]&16777216&&A(t(12,{columns:d,fetchStatus:_}=u,d,ue(t(11,_)))),r.$$.dirty[0]&1073741824&&t(23,{state:h}=ie,h),r.$$.dirty[0]&545259520&&t(10,b=(ee==null?void 0:ee.state)!=="processing"&&h===St.Done),r.$$.dirty[0]&4194304&&K(t(9,{searchFuzzy:v}=o,v)),r.$$.dirty[0]&134217728&&t(8,k=N.size>0),r.$$.dirty[0]&2097152&&H(t(7,T=c.savedRecords)),r.$$.dirty[0]&268435456&&t(6,E=te)},[nt,Ke,tt,ot,ze,Xe,E,T,k,v,b,_,d,m,a,i,s,je,Ze,ct,We,c,o,h,u,l,n,N,te,ee,ie,$e,He,we,Je,bt,_t]}class DH extends X{constructor(e){super(),Q(this,e,TH,CH,G,{controller:1,tabularData:2,nestedController:3,height:0},null,[-1,-1])}}const{window:IH}=ua;function M_(r){let e,t,n;return t=new H$({props:{canScrollBody:!1,$$slots:{title:[MH],default:[EH]},$$scope:{ctx:r}}}),t.$on("close",r[19]),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","record-selector-window svelte-n6efra"),yn(e,"margin-bottom",r[5])},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&2098079&&(i.$$scope={dirty:s,ctx:l}),t.$set(i),(!n||s&32)&&yn(e,"margin-bottom",l[5])},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function A_(r){let e,t,n,l,s,i,o,a;return l=new m6({props:{windowPositionerElement:r[1],controller:r[3]}}),{c(){e=I("div"),t=O(),n=I("div"),C(l.$$.fragment),D(e,"class","overlay svelte-n6efra"),D(n,"class","nested-record-selector")},m(u,c){w(u,e,c),w(u,t,c),w(u,n,c),y(l,n,null),i=!0,o||(a=Dn(s=Rs.call(null,n,r[1])),o=!0)},p(u,c){const f={};c&2&&(f.windowPositionerElement=u[1]),c&8&&(f.controller=u[3]),l.$set(f),s&&Et(s.update)&&c&2&&s.update.call(null,u[1])},i(u){i||(p(l.$$.fragment,u),i=!0)},o(u){g(l.$$.fragment,u),i=!1},d(u){u&&$(e),u&&$(t),u&&$(n),S(l),o=!1,a()}}}function EH(r){let e,t,n,l,s;function i(u){r[18](u)}let o={tabularData:r[9],controller:r[0],nestedController:r[3]};r[2]!==void 0&&(o.height=r[2]),e=new DH({props:o}),ye.push(()=>Pe(e,"height",i));let a=r[4]&&A_(r);return{c(){C(e.$$.fragment),n=O(),a&&a.c(),l=ae()},m(u,c){y(e,u,c),w(u,n,c),a&&a.m(u,c),w(u,l,c),s=!0},p(u,c){const f={};c&512&&(f.tabularData=u[9]),c&1&&(f.controller=u[0]),c&8&&(f.nestedController=u[3]),!t&&c&4&&(t=!0,f.height=u[2],Ne(()=>t=!1)),e.$set(f),u[4]?a?(a.p(u,c),c&16&&p(a,1)):(a=A_(u),a.c(),p(a,1),a.m(l.parentNode,l)):a&&(q(),g(a,1,1,()=>{a=null}),U())},i(u){s||(p(e.$$.fragment,u),p(a),s=!0)},o(u){g(e.$$.fragment,u),g(a),s=!1},d(u){S(e,u),u&&$(n),a&&a.d(u),u&&$(l)}}}function R_(r){let e=cp(r[8])+"",t,n,l,s;return l=new Cn({props:{table:{name:r[8]},truncate:!1}}),{c(){t=B(e),n=O(),C(l.$$.fragment)},m(i,o){w(i,t,o),w(i,n,o),y(l,i,o),s=!0},p(i,o){(!s||o&256)&&e!==(e=cp(i[8])+"")&&he(t,e);const a={};o&256&&(a.table={name:i[8]}),l.$set(a)},i(i){s||(p(l.$$.fragment,i),s=!0)},o(i){g(l.$$.fragment,i),s=!1},d(i){i&&$(t),i&&$(n),S(l,i)}}}function MH(r){let e,t,n,l,s,i=r[8]&&R_(r);return{c(){e=I("span"),t=B(r[7]),n=O(),i&&i.c(),l=B(`
        Record`),D(e,"slot","title")},m(o,a){w(o,e,a),M(e,t),M(e,n),i&&i.m(e,null),M(e,l),s=!0},p(o,a){(!s||a&128)&&he(t,o[7]),o[8]?i?(i.p(o,a),a&256&&p(i,1)):(i=R_(o),i.c(),p(i,1),i.m(e,l)):i&&(q(),g(i,1,1,()=>{i=null}),U())},i(o){s||(p(i),s=!0)},o(o){g(i),s=!1},d(o){o&&$(e),i&&i.d()}}}function AH(r){let e,t,n,l,s=r[9]&&M_(r);return{c(){s&&s.c(),e=ae()},m(i,o){s&&s.m(i,o),w(i,e,o),t=!0,n||(l=Le(IH,"keydown",r[12]),n=!0)},p(i,[o]){i[9]?s?(s.p(i,o),o&512&&p(s,1)):(s=M_(i),s.c(),p(s,1),s.m(e.parentNode,e)):s&&(q(),g(s,1,1,()=>{s=null}),U())},i(i){t||(p(s),t=!0)},o(i){g(s),t=!1},d(i){s&&s.d(i),i&&$(e),n=!1,l()}}}const RH="2rem";function PH(r,e,t){let n,l,s,i,o,a,u,c,f,m,d=z,_=()=>(d(),d=se(c,Y=>t(4,m=Y)),c),h,b=z,v=()=>(b(),b=se(s,Y=>t(14,h=Y)),s),k,T=z,E=()=>(T(),T=se(l,Y=>t(15,k=Y)),l),P,R;de(r,sr,Y=>t(16,P=Y)),de(r,ln,Y=>t(17,R=Y)),r.$$.on_destroy.push(()=>d()),r.$$.on_destroy.push(()=>b()),r.$$.on_destroy.push(()=>T());const L=new Map([["dataEntry","Pick"],["navigation","Open"]]);let{controller:A}=e,{windowPositionerElement:N}=e,F=0;function K(Y){Y.key==="Escape"&&!m&&A.cancel()}function W(Y){F=Y,t(2,F)}const j=()=>A.cancel();return r.$$set=Y=>{"controller"in Y&&t(0,A=Y.controller),"windowPositionerElement"in Y&&t(1,N=Y.windowPositionerElement)},r.$$.update=()=>{var Y;r.$$.dirty&1&&t(3,n=new fw({nestingLevel:A.nestingLevel+1})),r.$$.dirty&1&&E(t(11,{tableId:l,purpose:s}=A,l,v(t(10,s)))),r.$$.dirty&163840&&t(13,i=k&&R.data.get(k)),r.$$.dirty&106496&&t(9,o=k&&i?new Ya({id:k,abstractTypesMap:P.data,meta:new Xl({pagination:new Mr({size:10})}),hasEnhancedPrimaryKeyCell:!1,table:i}):void 0),r.$$.dirty&32768&&t(8,a=k?oz(k):void 0),r.$$.dirty&16384&&t(7,u=(Y=L.get(h))!=null?Y:""),r.$$.dirty&8&&_(t(6,c=n.isOpen)),r.$$.dirty&20&&t(5,f=m?`calc(${RH} - ${F}px)`:"0")},[A,N,F,n,m,f,c,u,a,o,s,l,K,i,h,k,P,R,W,j]}class m6 extends X{constructor(e){super(),Q(this,e,PH,AH,G,{controller:0,windowPositionerElement:1})}}function P_(r){let e,t,n,l,s,i,o,a,u=r[2]&&O_(r);return s=new m6({props:{windowPositionerElement:r[3],controller:r[0]}}),{c(){e=I("div"),u&&u.c(),t=O(),n=I("div"),l=I("div"),C(s.$$.fragment),D(l,"class","root-record-selector svelte-2903t4"),D(n,"class","window-positioner svelte-2903t4"),D(e,"class","modal-record-selector svelte-2903t4")},m(c,f){w(c,e,f),u&&u.m(e,null),M(e,t),M(e,n),M(n,l),y(s,l,null),r[11](n),i=!0,o||(a=Dn(Rs.call(null,e)),o=!0)},p(c,f){c[2]?u?(u.p(c,f),f&4&&p(u,1)):(u=O_(c),u.c(),p(u,1),u.m(e,t)):u&&(q(),g(u,1,1,()=>{u=null}),U());const m={};f&8&&(m.windowPositionerElement=c[3]),f&1&&(m.controller=c[0]),s.$set(m)},i(c){i||(p(u),p(s.$$.fragment,c),i=!0)},o(c){g(u),g(s.$$.fragment,c),i=!1},d(c){c&&$(e),u&&u.d(),S(s),r[11](null),o=!1,a()}}}function O_(r){let e,t,n,l,s,i;return{c(){e=I("div"),D(e,"class","overlay svelte-2903t4")},m(o,a){w(o,e,a),l=!0,s||(i=Le(e,"click",r[7]),s=!0)},p:z,i(o){l||(mr(()=>{n&&n.end(1),t=oa(e,Dl,{duration:150}),t.start()}),l=!0)},o(o){t&&t.invalidate(),n=Ri(e,Dl,{duration:150}),l=!1},d(o){o&&$(e),o&&n&&n.end(),s=!1,i()}}}function OH(r){let e,t,n=r[1]&&P_(r);return{c(){n&&n.c(),e=ae()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,[s]){l[1]?n?(n.p(l,s),s&2&&p(n,1)):(n=P_(l),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&$(e)}}}function LH(r,e,t){let n,l,s,i,o,a,u=z,c=()=>(u(),u=se(s,N=>t(1,a=N)),s),f,m=z,d=()=>(m(),m=se(i,N=>t(2,f=N)),i),_,h=z,b=()=>(h(),h=se(n,N=>t(10,_=N)),n);r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>h());const v=dt();let{recordSelectorController:k}=e,{modalController:T}=e,E;function P(){Zt(s,a=!1,a),k.cancel()}function R(){o&&P()}async function L(N){await Gt(),v(N?"open":"close")}function A(N){ye[N?"unshift":"push"](()=>{E=N,t(3,E)})}return r.$$set=N=>{"recordSelectorController"in N&&t(0,k=N.recordSelectorController),"modalController"in N&&t(8,T=N.modalController)},r.$$.update=()=>{r.$$.dirty&1&&b(t(6,{columnWithNestedSelectorOpen:n}=k,n)),r.$$.dirty&1024&&t(9,l=!!_),r.$$.dirty&256&&c(t(5,{isOpen:s,isOnTop:i}=T,s,d(t(4,i)))),r.$$.dirty&516&&(o=f&&!l),r.$$.dirty&2&&L(a)},[k,a,f,E,i,s,n,R,T,l,_,A]}class NH extends X{constructor(e){super(),Q(this,e,LH,OH,G,{recordSelectorController:0,modalController:8})}}const d6=Symbol("breadcrumb items store");function FH(r){Un(d6,Ge(r))}function p6(){return In(d6)}function zH(r,e){const t=ko(r.label),n=ko(e);return t.includes(n)}function HH(r,e){let t=Array.from(r);return t=t.map(([n,l])=>[n,Array.from(l).filter(s=>zH(s,e))]).filter(([,n])=>n.length>0),new Map(t)}function VH(r){let e,t,n,l,s,i,o,a,u,c;t=new eI({props:{entries:At.entries}}),l=new mD({props:{controller:Ic}}),i=new NH({props:{recordSelectorController:r[1],modalController:r[0]}});const f=r[7].default,m=De(f,r,r[6],null);return{c(){e=O(),C(t.$$.fragment),n=O(),C(l.$$.fragment),s=O(),C(i.$$.fragment),o=O(),m&&m.c()},m(d,_){w(d,e,_),y(t,d,_),w(d,n,_),y(l,d,_),w(d,s,_),y(i,d,_),w(d,o,_),m&&m.m(d,_),a=!0,u||(c=Le(document.body,"copy",r[3]),u=!0)},p(d,[_]){m&&m.p&&(!a||_&64)&&Ee(m,f,d,d[6],a?Ie(f,d[6],_,null):Me(d[6]),null)},i(d){a||(p(t.$$.fragment,d),p(l.$$.fragment,d),p(i.$$.fragment,d),p(m,d),a=!0)},o(d){g(t.$$.fragment,d),g(l.$$.fragment,d),g(i.$$.fragment,d),g(m,d),a=!1},d(d){d&&$(e),S(t,d),d&&$(n),S(l,d),d&&$(s),S(i,d),d&&$(o),m&&m.d(d),u=!1,c()}}}function qH(r,e,t){let n,l,{$$slots:s={},$$scope:i}=e,{commonData:o}=e;FH([]);function a(){const d=o.routing_context==="anonymous"?new XE:o.user,_=ZE(d),h=Qe(_);o.is_authenticated&&h.isSuperUser&&sM(o.current_release_tag_name)}const u=dr.spawnModalController(),c=new fw({onOpen:()=>u.open(),onClose:()=>u.close(),nestingLevel:0});dw(c);const f=wE();de(r,f,d=>t(5,l=d));function m(d){n&&(n.handleCopy(d),d.preventDefault())}return r.$$set=d=>{"commonData"in d&&t(4,o=d.commonData),"$$scope"in d&&t(6,i=d.$$scope)},r.$$.update=()=>{r.$$.dirty&16&&a(),r.$$.dirty&32&&(n=l)},[u,c,f,m,o,l,i,s]}class UH extends X{constructor(e){super(),Q(this,e,qH,VH,G,{commonData:4})}}function WH(r){let e=r[0].name+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[0].name+"")&&he(t,e)},d(n){n&&$(t)}}}function BH(r){let e,t;return e=new En({props:{icon:ll,iconHasBox:r[1],$$slots:{default:[WH]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.iconHasBox=n[1]),l&5&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function jH(r,e,t){let{database:n}=e,{iconHasBox:l=!1}=e;return r.$$set=s=>{"database"in s&&t(0,n=s.database),"iconHasBox"in s&&t(1,l=s.iconHasBox)},[n,l]}class _6 extends X{constructor(e){super(),Q(this,e,jH,BH,G,{database:0,iconHasBox:1})}}function YH(r){let e=r[0].name+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[0].name+"")&&he(t,e)},d(n){n&&$(t)}}}function KH(r){let e,t,n;return t=new En({props:{icon:Cs,iconHasBox:r[1],$$slots:{default:[YH]},$$scope:{ctx:r}}}),{c(){e=I("span"),C(t.$$.fragment),D(e,"class","schema-name svelte-1a5ste4"),Z(e,"is-locked",r[2])},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,[s]){const i={};s&2&&(i.iconHasBox=l[1]),s&9&&(i.$$scope={dirty:s,ctx:l}),t.$set(i),(!n||s&4)&&Z(e,"is-locked",l[2])},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function GH(r,e,t){let n,{schema:l}=e,{iconHasBox:s=!1}=e;return r.$$set=i=>{"schema"in i&&t(0,l=i.schema),"iconHasBox"in i&&t(1,s=i.iconHasBox)},r.$$.update=()=>{r.$$.dirty&1&&t(2,n=l.name==="public")},[l,s,n]}class g6 extends X{constructor(e){super(),Q(this,e,GH,KH,G,{schema:0,iconHasBox:1})}}function QH(r){let e,t,n;const l=r[2].default,s=De(l,r,r[1],null);return{c(){e=I("span"),t=I("a"),s&&s.c(),D(t,"href",r[0]),D(t,"class","svelte-1az8rx5"),D(e,"class","breadcrumb-link svelte-1az8rx5")},m(i,o){w(i,e,o),M(e,t),s&&s.m(t,null),n=!0},p(i,[o]){s&&s.p&&(!n||o&2)&&Ee(s,l,i,i[1],n?Ie(l,i[1],o,null):Me(i[1]),null),(!n||o&1)&&D(t,"href",i[0])},i(i){n||(p(s,i),n=!0)},o(i){g(s,i),n=!1},d(i){i&&$(e),s&&s.d(i)}}}function XH(r,e,t){let{$$slots:n={},$$scope:l}=e,{href:s}=e;return r.$$set=i=>{"href"in i&&t(0,s=i.href),"$$scope"in i&&t(1,l=i.$$scope)},[s,l,n]}class js extends X{constructor(e){super(),Q(this,e,XH,QH,G,{href:0})}}function JH(r){let e,t,n,l,s;const i=[Po];let o={};for(let a=0;a<i.length;a+=1)o=x(o,i[a]);return t=new Fe({props:o}),{c(){e=I("button"),C(t.$$.fragment),D(e,"class","record-selector-navigation-button passthrough svelte-yoaubg"),D(e,"aria-label",r[0]),D(e,"title",r[0])},m(a,u){w(a,e,u),y(t,e,null),n=!0,l||(s=Le(e,"click",r[1]),l=!0)},p(a,[u]){const c=u&0?ce(i,[be(Po)]):{};t.$set(c),(!n||u&1)&&D(e,"aria-label",a[0]),(!n||u&1)&&D(e,"title",a[0])},i(a){n||(p(t.$$.fragment,a),n=!0)},o(a){g(t.$$.fragment,a),n=!1},d(a){a&&$(e),S(t),l=!1,s()}}}function ZH(r,e,t){let n,l,s;const i=zi(),o=dt();let{table:a}=e;function u(){i.navigateToRecordPage({tableId:n}),o("click")}return r.$$set=c=>{"table"in c&&t(2,a=c.table)},r.$$.update=()=>{r.$$.dirty&4&&t(3,{id:n,name:l}=a,l),r.$$.dirty&8&&t(0,s=`Navigate to one ${l?`${l} `:""}record`)},[s,u,a,l]}class xH extends X{constructor(e){super(),Q(this,e,ZH,JH,G,{table:2})}}function eV(r){let e,t;return e=new En({props:{icon:r[4],$$slots:{default:[nV]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.icon=n[4]),l&138&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function tV(r){let e,t;return e=new Cn({props:{table:r[0].table,$$slots:{default:[rV,({tableName:n})=>({6:n}),({tableName:n})=>n?64:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.table=n[0].table),l&194&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function nV(r){let e,t;return e=new U$({props:{text:r[3],substring:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.text=n[3]),l&2&&(s.substring=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function rV(r){let e,t;return e=new U$({props:{text:r[6],substring:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&64&&(s.text=n[6]),l&2&&(s.substring=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function L_(r){let e,t,n;return t=new xH({props:{table:r[0].table}}),t.$on("click",function(){Et(r[2])&&r[2].apply(this,arguments)}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","record-selector svelte-1jdtdoc")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){r=l;const i={};s&1&&(i.table=r[0].table),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function lV(r){let e,t,n,l,s,i,o,a,u,c;const f=[tV,eV],m=[];function d(h,b){return"table"in h[0]?0:1}n=d(r),l=m[n]=f[n](r);let _=r[0].type==="table"&&L_(r);return{c(){e=I("li"),t=I("a"),l.c(),s=O(),_&&_.c(),i=O(),o=I("div"),D(t,"href",r[5]),D(t,"class","svelte-1jdtdoc"),D(o,"class","hover-indicator svelte-1jdtdoc"),D(e,"class","breadcrumb-selector-row svelte-1jdtdoc"),Z(e,"active",r[0].isActive())},m(h,b){w(h,e,b),M(e,t),m[n].m(t,null),M(e,s),_&&_.m(e,null),M(e,i),M(e,o),a=!0,u||(c=Le(t,"click",function(){Et(r[2])&&r[2].apply(this,arguments)}),u=!0)},p(h,[b]){r=h;let v=n;n=d(r),n===v?m[n].p(r,b):(q(),g(m[v],1,1,()=>{m[v]=null}),U(),l=m[n],l?l.p(r,b):(l=m[n]=f[n](r),l.c()),p(l,1),l.m(t,null)),(!a||b&32)&&D(t,"href",r[5]),r[0].type==="table"?_?(_.p(r,b),b&1&&p(_,1)):(_=L_(r),_.c(),p(_,1),_.m(e,i)):_&&(q(),g(_,1,1,()=>{_=null}),U()),(!a||b&1)&&Z(e,"active",r[0].isActive())},i(h){a||(p(l),p(_),a=!0)},o(h){g(l),g(_),a=!1},d(h){h&&$(e),m[n].d(),_&&_.d(),u=!1,c()}}}function sV(r,e,t){let n,l,s,{entry:i}=e,{filterString:o=""}=e,{closeSelector:a}=e;return r.$$set=u=>{"entry"in u&&t(0,i=u.entry),"filterString"in u&&t(1,o=u.filterString),"closeSelector"in u&&t(2,a=u.closeSelector)},r.$$.update=()=>{r.$$.dirty&1&&t(5,{href:n,icon:l,label:s}=i,n,(t(4,l),t(0,i)),(t(3,s),t(0,i)))},[i,o,a,s,l,n]}class iV extends X{constructor(e){super(),Q(this,e,sV,lV,G,{entry:0,filterString:1,closeSelector:2})}}function N_(r,e,t){const n=r.slice();return n[13]=e[t][0],n[14]=e[t][1],n}function F_(r,e,t){const n=r.slice();return n[17]=e[t],n}function oV(r){let e,t,n;const l=[Ao];let s={};for(let i=0;i<l.length;i+=1)s=x(s,l[i]);return t=new Fe({props:s}),{c(){e=I("span"),C(t.$$.fragment),D(e,"class","trigger svelte-xg52ws")},m(i,o){w(i,e,o),y(t,e,null),n=!0},p(i,o){const a=o&0?ce(l,[be(Ao)]):{};t.$set(a)},i(i){n||(p(t.$$.fragment,i),n=!0)},o(i){g(t.$$.fragment,i),n=!1},d(i){i&&$(e),S(t)}}}function z_(r){let e,t=r[2].length>0&&H_(r);return{c(){t&&t.c(),e=ae()},m(n,l){t&&t.m(n,l),w(n,e,l)},p(n,l){n[2].length>0?t?t.p(n,l):(t=H_(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&$(e)}}}function H_(r){let e,t,n,l,s;return{c(){e=I("div"),t=B("No matches for "),n=I("b"),l=B(r[2]),s=O(),D(e,"class","section-name svelte-xg52ws")},m(i,o){w(i,e,o),M(e,t),M(e,n),M(n,l),M(e,s)},p(i,o){o&4&&he(l,i[2])},d(i){i&&$(e)}}}function V_(r){let e,t,n,l=[],s=new Map,i,o;function a(d,_){var h;return((h=d[2])==null?void 0:h.length)===0?uV:aV}let u=a(r),c=u(r),f=r[14];const m=d=>d[17].href;for(let d=0;d<f.length;d+=1){let _=F_(r,f,d),h=m(_);s.set(h,l[d]=q_(h,_))}return{c(){e=I("div"),c.c(),t=O(),n=I("ul");for(let d=0;d<l.length;d+=1)l[d].c();i=O(),D(e,"class","section-name svelte-xg52ws"),D(n,"class","items svelte-xg52ws")},m(d,_){w(d,e,_),c.m(e,null),w(d,t,_),w(d,n,_);for(let h=0;h<l.length;h+=1)l[h].m(n,null);M(n,i),o=!0},p(d,_){u===(u=a(d))&&c?c.p(d,_):(c.d(1),c=u(d),c&&(c.c(),c.m(e,null))),_&38&&(f=d[14],q(),l=pt(l,_,m,1,d,f,s,n,ht,q_,i,F_),U())},i(d){if(!o){for(let _=0;_<f.length;_+=1)p(l[_]);o=!0}},o(d){for(let _=0;_<l.length;_+=1)g(l[_]);o=!1},d(d){d&&$(e),c.d(),d&&$(t),d&&$(n);for(let _=0;_<l.length;_+=1)l[_].d()}}}function aV(r){let e=Yt(r[14],"matches")+"",t,n,l,s,i,o=r[5].size>1?`in ${r[13]}`:"",a;return{c(){t=B(e),n=B(`
                for
                `),l=I("b"),s=B(r[2]),i=O(),a=B(o)},m(u,c){w(u,t,c),w(u,n,c),w(u,l,c),M(l,s),w(u,i,c),w(u,a,c)},p(u,c){c&32&&e!==(e=Yt(u[14],"matches")+"")&&he(t,e),c&4&&he(s,u[2]),c&32&&o!==(o=u[5].size>1?`in ${u[13]}`:"")&&he(a,o)},d(u){u&&$(t),u&&$(n),u&&$(l),u&&$(i),u&&$(a)}}}function uV(r){let e=r[13]+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&32&&e!==(e=n[13]+"")&&he(t,e)},d(n){n&&$(t)}}}function q_(r,e){let t,n,l;return n=new iV({props:{entry:e[17],filterString:e[2],closeSelector:e[11]}}),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&32&&(o.entry=e[17]),i&4&&(o.filterString=e[2]),i&2&&(o.closeSelector=e[11]),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}function U_(r,e){let t,n,l,s=e[14].length>0&&V_(e);return{key:r,first:null,c(){t=ae(),s&&s.c(),n=ae(),this.first=t},m(i,o){w(i,t,o),s&&s.m(i,o),w(i,n,o),l=!0},p(i,o){e=i,e[14].length>0?s?(s.p(e,o),o&32&&p(s,1)):(s=V_(e),s.c(),p(s,1),s.m(n.parentNode,n)):s&&(q(),g(s,1,1,()=>{s=null}),U())},i(i){l||(p(s),l=!0)},o(i){g(s),l=!1},d(i){i&&$(t),s&&s.d(i),i&&$(n)}}}function cV(r){let e,t,n,l,s,i,o,a=[],u=new Map,c;function f(v){r[9](v)}function m(v){r[10](v)}let d={prefixIcon:yo};r[2]!==void 0&&(d.value=r[2]),r[3]!==void 0&&(d.element=r[3]),n=new L$({props:d}),ye.push(()=>Pe(n,"value",f)),ye.push(()=>Pe(n,"element",m));let _=[...r[5]];const h=v=>v[13];for(let v=0;v<_.length;v+=1){let k=N_(r,_,v),T=h(k);u.set(T,a[v]=U_(T,k))}let b=null;return _.length||(b=z_(r)),{c(){e=I("div"),t=I("div"),C(n.$$.fragment),i=O(),o=I("div");for(let v=0;v<a.length;v+=1)a[v].c();b&&b.c(),D(t,"class","search"),D(o,"class","results svelte-xg52ws"),D(e,"class","entity-switcher-content svelte-xg52ws")},m(v,k){w(v,e,k),M(e,t),y(n,t,null),M(e,i),M(e,o);for(let T=0;T<a.length;T+=1)a[T].m(o,null);b&&b.m(o,null),c=!0},p(v,k){const T={};!l&&k&4&&(l=!0,T.value=v[2],Ne(()=>l=!1)),!s&&k&8&&(s=!0,T.element=v[3],Ne(()=>s=!1)),n.$set(T),k&38&&(_=[...v[5]],q(),a=pt(a,k,h,1,v,_,u,o,ht,U_,null,N_),U(),!_.length&&b?b.p(v,k):_.length?b&&(b.d(1),b=null):(b=z_(v),b.c(),b.m(o,null)))},i(v){if(!c){p(n.$$.fragment,v);for(let k=0;k<_.length;k+=1)p(a[k]);c=!0}},o(v){g(n.$$.fragment,v);for(let k=0;k<a.length;k+=1)g(a[k]);c=!1},d(v){v&&$(e),S(n);for(let k=0;k<a.length;k+=1)a[k].d();b&&b.d()}}}function fV(r){let e,t,n,l,s,i,o;function a(m){r[7](m)}let u={"aria-label":r[0],title:r[0],appearance:"ghost",class:"padding-zero",$$slots:{default:[oV]},$$scope:{ctx:r}};r[4]!==void 0&&(u.element=r[4]),t=new ut({props:u}),ye.push(()=>Pe(t,"element",a)),t.$on("click",r[8]);function c(m){r[12](m)}let f={trigger:r[4],class:"breadcrumb-selector-dropdown",$$slots:{default:[cV]},$$scope:{ctx:r}};return r[1]!==void 0&&(f.isOpen=r[1]),s=new Kl({props:f}),ye.push(()=>Pe(s,"isOpen",c)),{c(){e=I("div"),C(t.$$.fragment),l=O(),C(s.$$.fragment),D(e,"class","entity-switcher svelte-xg52ws"),Z(e,"is-open",r[1])},m(m,d){w(m,e,d),y(t,e,null),M(e,l),y(s,e,null),o=!0},p(m,[d]){const _={};d&1&&(_["aria-label"]=m[0]),d&1&&(_.title=m[0]),d&1048576&&(_.$$scope={dirty:d,ctx:m}),!n&&d&16&&(n=!0,_.element=m[4],Ne(()=>n=!1)),t.$set(_);const h={};d&16&&(h.trigger=m[4]),d&1048622&&(h.$$scope={dirty:d,ctx:m}),!i&&d&2&&(i=!0,h.isOpen=m[1],Ne(()=>i=!1)),s.$set(h),(!o||d&2)&&Z(e,"is-open",m[1])},i(m){o||(p(t.$$.fragment,m),p(s.$$.fragment,m),o=!0)},o(m){g(t.$$.fragment,m),g(s.$$.fragment,m),o=!1},d(m){m&&$(e),S(t),S(s)}}}function mV(r,e,t){let n,{data:l}=e,{triggerLabel:s}=e,i,o=!1,a,u;function c(b){i=b,t(4,i)}const f=()=>{t(1,o=!o)};function m(b){a=b,t(2,a),t(1,o),t(3,u)}function d(b){u=b,t(3,u)}const _=()=>{t(1,o=!1)};function h(b){o=b,t(1,o)}return r.$$set=b=>{"data"in b&&t(6,l=b.data),"triggerLabel"in b&&t(0,s=b.triggerLabel)},r.$$.update=()=>{r.$$.dirty&10&&(o?u==null||u.focus():t(2,a="")),r.$$.dirty&68&&t(5,n=a?HH(l,a):l)},[s,o,a,u,i,n,l,c,f,m,d,_,h]}class hf extends X{constructor(e){super(),Q(this,e,mV,fV,G,{data:6,triggerLabel:0})}}function dV(r){let e,t;return e=new hf({props:{data:new Map([["Databases",r[0].map(r[1])]]),triggerLabel:"Choose a Database"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.data=new Map([["Databases",n[0].map(n[1])]])),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function pV(r,e,t){let n,l,s;de(r,qi,o=>t(2,l=o)),de(r,gs,o=>t(3,s=o));function i(o){return{type:"simple",label:o.name,href:ur(o.name),icon:ll,isActive(){return o.name===s}}}return r.$$.update=()=>{r.$$.dirty&4&&t(0,n=[...l.data.values()])},[n,i,l]}class _V extends X{constructor(e){super(),Q(this,e,pV,dV,G,{})}}class h6{constructor(e,t){re(this,"maxEntries",5);re(this,"cache");this.maxEntries=e,this.cache=new Map(t!=null?t:[])}set(e,t){this.cache.delete(e),this.cache.set(e,t),this.cache.size>this.maxEntries&&this.cache.delete([...this.cache.keys()][0])}get(e){return this.cache.get(e)}}const gV="shared-link-uuid";class b6{constructor(e){re(this,"slug");re(this,"queryParams");this.slug=e.slug,this.queryParams={[gV]:e.slug}}getQueryParams(){return this.queryParams}}const ls=Ol(),Es=new h6(3),W_=new Map;function hV(r){return[...r].sort((e,t)=>{var n;return(n=e.name)==null?void 0:n.localeCompare(t.name)})}function bf(r,e){const t=new Map;e&&hV(e).forEach(s=>{t.set(s.id,s)});const n={schemaId:r,requestStatus:{state:"success"},data:t};let l=Es.get(r);return l?l.set(n):(l=Ge(n),Es.set(r,l)),l}function bV(r){return[...Es.cache.values()].find(e=>Qe(e).data.has(r))}async function nc(r){var t;const e=Es.get(r);if(!e){console.error(`Queries store for schema: ${r} not found.`);return}try{e.update(o=>({...o,requestStatus:{state:"processing"}})),(t=W_.get(r))==null||t.cancel();const n=dn(`/api/db/v0/queries/?schema=${r}&limit=500`);W_.set(r,n);const s=(await n).results||[],i=bf(r,s);return Qe(i)}catch(n){e.update(l=>({...l,requestStatus:{state:"failure",errors:[n instanceof Error?n.message:"Error in fetching schemas"]}}));return}}let B_=!0;function $f(r){var t;let e=Es.get(r);return e?Qe(e).requestStatus.state==="failure"&&nc(r):(e=Ge({schemaId:r,requestStatus:{state:"processing"},data:new Map}),Es.set(r,e),B_&&(ls==null?void 0:ls.current_schema)===r?e=bf(r,(t=ls==null?void 0:ls.queries)!=null?t:[]):nc(r),B_=!1),e}const Zl=at(Dr,(r,e)=>{let t;return r?t=$f(r).subscribe(l=>{e(l)}):e({requestStatus:{state:"success"},data:new Map}),()=>{t==null||t()}});function $V(r){const e=un("/api/db/v0/queries/",r);return e.then(t=>(Vv(t.schema,1),nc(t.schema),t)),e}function $6(r){const e=RE(`/api/db/v0/queries/${r.id}/`,r);return e.then(t=>{const n=Qe(Dr);if(n){const l=$f(n);Qe(l).data.set(r.id,t),bf(n,[...Qe(l).data.values()])}}),e}function wV(r){const e=Qe(Dr);let t;return e?new Vr((n,l)=>{const s=$f(e),i=Qe(s),o=i.data.get(r);if(o){n(o);return}i.requestStatus.state!=="success"?(t=dn(`/api/db/v0/queries/${r}/`),t.then(a=>n(a),a=>l(a))):l(new Error("Query not found"))},()=>{t==null||t.cancel()}):new Vr(n=>n())}function vV(r){return un("/api/db/v0/queries/run/",r)}function kV(r,e){const t=Mc(`/api/db/v0/queries/${r}/results/`,e);return dn(t)}function yV(r){const e=gl(`/api/db/v0/queries/${r}/`);return e.then(()=>{const t=bV(r);t&&(t.update(n=>(n.data.delete(r),{...n,data:new Map(n.data)})),Vv(Qe(t).schemaId,-1))}),e}function SV(r){let e,t;return e=new hf({props:{data:r[0],triggerLabel:"Choose a Table or Exploration"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.data=n[0]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function CV(r,e,t){let n,l,s,i,o,a,u;de(r,Zl,h=>t(6,i=h)),de(r,ln,h=>t(7,o=h)),de(r,Sl,h=>t(9,u=h));let{database:c}=e,{schema:f}=e;function m(h){return{type:"table",table:h,label:h.name,href:Yu(c.name,f.id,h),icon:Bl,isActive(){return h.id===u}}}const d=u6();de(r,d,h=>t(8,a=h));function _(h){return{type:"simple",label:h.name,href:Il(c.name,f.id,h.id),icon:Bl,isActive(){const b=Il(c.name,f.id,h.id);return a.url.startsWith(b)}}}return r.$$set=h=>{"database"in h&&t(2,c=h.database),"schema"in h&&t(3,f=h.schema)},r.$$.update=()=>{r.$$.dirty&128&&t(5,n=[...o.data.values()]),r.$$.dirty&64&&t(4,l=[...i.data.values()]),r.$$.dirty&48&&t(0,s=new Map([["Tables",n.map(m)],["Explorations",l.map(_)]]))},[s,d,c,f,l,n,i,o]}class w6 extends X{constructor(e){super(),Q(this,e,CV,SV,G,{database:2,schema:3})}}function TV(r){let e,t;return e=new hf({props:{data:new Map([["Schemas",r[0].map(r[1])]]),triggerLabel:"Choose a Schema"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.data=new Map([["Schemas",n[0].map(n[1])]])),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function DV(r,e,t){let n,l,s;de(r,ji,a=>t(3,l=a)),de(r,Dr,a=>t(4,s=a));let{database:i}=e;function o(a){return{type:"simple",label:a.name,href:rr(i.name,a.id),icon:Cs,isActive(){return a.id===s}}}return r.$$set=a=>{"database"in a&&t(2,i=a.database)},r.$$.update=()=>{r.$$.dirty&8&&t(0,n=[...l.data.values()])},[n,o,i,l]}class IV extends X{constructor(e){super(),Q(this,e,DV,TV,G,{database:2})}}function EV(r){let e,t,n;return{c(){e=It("svg"),t=It("path"),n=It("path"),D(t,"class","outer svelte-1b88tpd"),D(t,"d","m18.35 0.09207c-1.152 7.807e-4 -2.635 0.3131-3.622 0.9921-0.9901 0.6812-0.5287 2.056 0.2266 2.585-1.007-0.2522-2.018-0.4122-2.988-0.4354-0.9699-0.02324-1.955 0.09245-2.821 0.4453-0.9198 0.3747-1.584 0.9451-1.962 1.716-0.3939 0.8021-0.4815 1.588-0.5129 2.392-0.8075 0.3468-2.145 0.8722-3.33 1.642-1.223 0.7943-2.502 1.987-2.871 3.777-0.2947 1.431-0.2396 3.742-0.03579 5.901 0.2055 2.176 0.6011 4.429 0.8927 5.336 0.298 0.9275 0.7092 1.372 1.443 1.392 1.074 0.02812 3.09-0.0077 3.575-0.01988 0.6369-0.01594 1.171-0.3577 1.431-0.7137 0.1977-0.2703 0.2631-0.5034 0.2883-0.9563 0.03325-0.599 0.2443-1.166 0.4016-1.718 0.4652 0.1986 1.167 0.1588 1.594-0.06362 0.03306 0.2464 0.08158 0.4963 0.1133 0.7436 0.1104 0.8597 0.3894 1.596 0.8112 2.235 0.1707 0.2586 0.6014 0.5661 1.187 0.5626v4e-3c2.139 0 4.277-3.08e-4 5.402 0 1.125 3.08e-4 1.283 9.62e-4 1.439-0.01391 0.9502-0.1075 1.289-0.5873 1.408-1.227 0.04104-0.2213-0.02173-0.6675-0.08748-0.8668-0.6462-1.671-1.305-3.309-1.441-5.09 0.4409-0.6919 0.8857-1.357 1.362-1.952 0.9547-1.193 1.948-2.208 2.505-3.002 0.3073-0.4385 0.1635-0.9533 0.1014-1.143 0.3457-0.2108 0.6778-0.4329 0.9364-0.7296 1.418-1.626 2.166-3.836 1.869-5.813-0.2771-1.846-1.04-3.11-2.326-4.193-1.611-1.357-3.126-1.787-4.988-1.785zm-0.4473 3.223c0.3671-6.552e-4 0.7317 0.04784 1.064 0.1471 0.4283 0.1281 0.7191 0.3172 0.8867 0.5109 0.1472 0.1702 0.2445 0.3894 0.2227 0.7316-1e-3 0.01566-0.0044 0.04149-0.01591 0.07754l-0.02982 0.09344-0.0676 0.09145c-0.02096 0.02825-0.04497 0.05756-0.07357 0.08549l-0.1233 0.1193-0.163 0.05169c-0.07692 0.0237-0.1726 0.03753-0.2883 0.02982h-2e-3c-0.1386-0.00996-0.3246-0.05301-0.5586-0.171h-2e-3c-0.9602-0.4858-2.021-0.9094-3.104-1.229 0.1707-0.00439 0.3584-0.0453 0.5527-0.1491h2e-3c0.4721-0.2529 1.088-0.3886 1.7-0.3897z"),D(n,"class","inner svelte-1b88tpd"),D(n,"d","m18.16 1.303c-0.97 0.03351-1.92 0.2781-2.71 0.7774-0.1753 0.1107 0.08091 0.6012 0.1829 0.5467 2.117-1.134 5.836-0.4821 5.668 2.155-0.0078 0.122-0.03177 0.2472-0.07157 0.3718 0.1697 0.03181 0.3368 0.06151 0.4931 0.05964 0.3673-0.0044 0.3792 0.5654-0.01198 0.5587-0.2708-0.00467-0.5129-0.03452-0.7595-0.07754-0.05986 0.0807-0.1288 0.1582-0.2028 0.2306 0.2214 0.06347 0.4212 0.1466 0.5964 0.2207 0.4015 0.1698 0.1072 0.7515-0.2485 0.6064-0.3522-0.1437-0.7434-0.2657-1.127-0.3618-0.2215 0.06824-0.4682 0.09971-0.7336 0.08151-0.3168-0.02215-0.6613-0.115-1.028-0.3002-1.934-0.9788-4.268-1.67-6.247-1.718-0.8814-0.021-1.687 0.08674-2.348 0.3559-1.355 0.552-1.648 1.574-1.722 2.827 0.1192 2.325 0.7394 3.941 1.596 4.986 0.6159 0.7511 1.356 1.207 2.117 1.422 0.7604 0.214 1.544 0.1881 2.249-0.02386 0.7359-0.2217 1.364-0.6598 1.819-1.211 0.3022-0.3661 0.8429 0.0763 0.5607 0.4354-0.533 0.6782-1.299 1.19-2.173 1.453-0.8265 0.249-1.749 0.2779-2.644 0.02585-0.894-0.2516-1.759-0.7823-2.475-1.656-0.8527-1.04-1.491-2.17-1.702-4.193-1.727 0.7486-5.022 1.93-5.567 4.577-0.51 2.476 0.1425 8.616 0.9702 11.05 0.02791 0.08224 0.1255 0.1104 0.2127 0.1113l3.437-0.01988c0.0566 7e-3 0.5772-0.0935 0.5467-0.3797-0.06438-0.6058 0.774-3.644 1.264-3.525 0.2822 0.06861 0.5672 0.8384 1.36 0.5984 0.8521-0.2582 0.9309-1.268 1.37-1.529 0.2796-0.1663 0.2146 0.1532 0.2604 0.6799 0.07441 0.86 0.3329 4.275 1.084 4.247h3.408c0.1622-4.07e-4 0.3114-0.05755 0.4274-0.1551 0.1151-0.0971 0.197-0.2353 0.2247-0.3956 0.2825-1.624 0.759-4.55 1.435-5.752l0.1272-0.2207c0.89-1.515 2.067-2.865 3.455-4.459 0.126-0.1445 0.3013-0.3629 0.4255-0.5189 0.08432-0.106 0.03431-0.2439-0.08151-0.2843-0.4965-0.1731-0.9139-0.3079-1.159-0.5189-0.02616-0.02219-0.03608-0.05598-0.02783-0.08947 0.0085-0.03318 0.03202-0.05629 0.06561-0.06363 2.26-0.4751 3.081-1.652 3.674-3.298 0.3251-0.9019 0.4278-1.814 0.3082-2.694-0.1189-0.8752-0.457-1.724-1.012-2.505-0.2803-0.3944-0.5855-0.7282-0.9086-1.008-1.088-0.9415-2.763-1.475-4.38-1.42zm-0.07953 6.09c0.2647-0.00889 0.5301 0.1034 0.7098 0.3261 0.3024 0.3746-0.4219 0.2323-0.7952 0.5328-0.373 0.3004-0.2544 0.9296-0.5567 0.5547-0.3025-0.3749-0.2437-0.9222 0.1292-1.223 0.1516-0.122 0.3319-0.1848 0.5129-0.1909zm-0.2843 12.33c-0.3926 0.8752-0.5883 3.463-0.7793 4.561-0.02677 0.1549-0.06552 0.2731-0.1372 0.4036h1.722c0.4474 0.0027 0.7397-0.0078 0.5766-0.503-0.3803-1.154-1.199-3.049-1.382-4.461z"),D(e,"width","1em"),D(e,"height","1em"),D(e,"viewBox","0 0 26 26")},m(l,s){w(l,e,s),M(e,t),M(e,n)},p:z,i:z,o:z,d(l){l&&$(e)}}}class v6 extends X{constructor(e){super(),Q(this,e,null,EV,G,{})}}function MV(r){let e,t,n,l,s;return t=new v6({}),{c(){e=I("a"),C(t.$$.fragment),n=O(),l=I("div"),l.textContent="Mathesar",D(l,"class","mathesar svelte-1t4pomd"),D(e,"href",r[1]),D(e,"class","home-link svelte-1t4pomd"),Z(e,"has-responsive-abridgement",r[0])},m(i,o){w(i,e,o),y(t,e,null),M(e,n),M(e,l),s=!0},p(i,[o]){(!s||o&2)&&D(e,"href",i[1]),(!s||o&1)&&Z(e,"has-responsive-abridgement",i[0])},i(i){s||(p(t.$$.fragment,i),s=!0)},o(i){g(t.$$.fragment,i),s=!1},d(i){i&&$(e),S(t)}}}function AV(r,e,t){let{hasResponsiveAbridgement:n=!1}=e,{href:l}=e;return r.$$set=s=>{"hasResponsiveAbridgement"in s&&t(0,n=s.hasResponsiveAbridgement),"href"in s&&t(1,l=s.href)},[n,l]}class k6 extends X{constructor(e){super(),Q(this,e,AV,MV,G,{hasResponsiveAbridgement:0,href:1})}}function RV(r){let e,t,n,l,s;const i=[yo];let o={};for(let c=0;c<i.length;c+=1)o=x(o,i[c]);t=new Fe({props:o});const a=[Ao,{class:"expand-right-icon"}];let u={};for(let c=0;c<a.length;c+=1)u=x(u,a[c]);return l=new Fe({props:u}),{c(){e=I("span"),C(t.$$.fragment),n=O(),C(l.$$.fragment),D(e,"class","trigger svelte-1q8ggx2")},m(c,f){w(c,e,f),y(t,e,null),M(e,n),y(l,e,null),s=!0},p(c,f){const m=f&0?ce(i,[be(yo)]):{};t.$set(m);const d=f&0?ce(a,[be(Ao),a[1]]):{};l.$set(d)},i(c){s||(p(t.$$.fragment,c),p(l.$$.fragment,c),s=!0)},o(c){g(t.$$.fragment,c),g(l.$$.fragment,c),s=!1},d(c){c&&$(e),S(t),S(l)}}}function PV(r){let e,t;return e=new ut({props:{appearance:"ghost",class:"padding-zero",$$slots:{default:[RV]},$$scope:{ctx:r}}}),e.$on("click",r[0]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&8&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function OV(r,e,t){const n=zi();let{table:l}=e;function s(){n.navigateToRecordPage({tableId:l.id})}return r.$$set=i=>{"table"in i&&t(1,l=i.table)},[s,l]}class LV extends X{constructor(e){super(),Q(this,e,OV,PV,G,{table:1})}}function NV(r){let e,t,n;const l=[V1];let s={};for(let i=0;i<l.length;i+=1)s=x(s,l[i]);return t=new Fe({props:s}),{c(){e=I("span"),C(t.$$.fragment),D(e,"class","page-separator svelte-1gvj87j")},m(i,o){w(i,e,o),y(t,e,null),n=!0},p(i,[o]){const a=o&0?ce(l,[be(V1)]):{};t.$set(a)},i(i){n||(p(t.$$.fragment,i),n=!0)},o(i){g(t.$$.fragment,i),n=!1},d(i){i&&$(e),S(t)}}}class FV extends X{constructor(e){super(),Q(this,e,null,NV,G,{})}}function zV(r){let e,t,n,l,s;return e=new FV({}),l=new js({props:{href:r[0].href,$$slots:{default:[KV]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=O(),n=I("div"),C(l.$$.fragment),D(n,"class","breadcrumb-item truncate svelte-56k5nq")},m(i,o){y(e,i,o),w(i,t,o),w(i,n,o),y(l,n,null),s=!0},p(i,o){const a={};o&1&&(a.href=i[0].href),o&5&&(a.$$scope={dirty:o,ctx:i}),l.$set(a)},i(i){s||(p(e.$$.fragment,i),p(l.$$.fragment,i),s=!0)},o(i){g(e.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){S(e,i),i&&$(t),i&&$(n),S(l)}}}function HV(r){let e,t,n,l,s;return e=new w6({props:{database:r[0].database,schema:r[0].schema}}),l=new js({props:{href:Il(r[0].database.name,r[0].schema.id,r[0].query.id),$$slots:{default:[QV]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=O(),n=I("div"),C(l.$$.fragment),D(n,"class","breadcrumb-item truncate svelte-56k5nq")},m(i,o){y(e,i,o),w(i,t,o),w(i,n,o),y(l,n,null),s=!0},p(i,o){const a={};o&1&&(a.database=i[0].database),o&1&&(a.schema=i[0].schema),e.$set(a);const u={};o&1&&(u.href=Il(i[0].database.name,i[0].schema.id,i[0].query.id)),o&5&&(u.$$scope={dirty:o,ctx:i}),l.$set(u)},i(i){s||(p(e.$$.fragment,i),p(l.$$.fragment,i),s=!0)},o(i){g(e.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){S(e,i),i&&$(t),i&&$(n),S(l)}}}function VV(r){let e,t,n;return t=new js({props:{href:ju(r[0].database.name,r[0].schema.id,r[0].table.id,r[0].record.pk),$$slots:{default:[JV]},$$scope:{ctx:r}}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","breadcrumb-item truncate svelte-56k5nq")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&1&&(i.href=ju(l[0].database.name,l[0].schema.id,l[0].table.id,l[0].record.pk)),s&5&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function qV(r){let e,t,n,l,s,i,o;return e=new w6({props:{database:r[0].database,schema:r[0].schema}}),l=new js({props:{href:Yu(r[0].database.name,r[0].schema.id,r[0].table),$$slots:{default:[ZV]},$$scope:{ctx:r}}}),i=new LV({props:{table:r[0].table}}),{c(){C(e.$$.fragment),t=O(),n=I("div"),C(l.$$.fragment),s=O(),C(i.$$.fragment),D(n,"class","breadcrumb-item truncate svelte-56k5nq")},m(a,u){y(e,a,u),w(a,t,u),w(a,n,u),y(l,n,null),w(a,s,u),y(i,a,u),o=!0},p(a,u){const c={};u&1&&(c.database=a[0].database),u&1&&(c.schema=a[0].schema),e.$set(c);const f={};u&1&&(f.href=Yu(a[0].database.name,a[0].schema.id,a[0].table)),u&5&&(f.$$scope={dirty:u,ctx:a}),l.$set(f);const m={};u&1&&(m.table=a[0].table),i.$set(m)},i(a){o||(p(e.$$.fragment,a),p(l.$$.fragment,a),p(i.$$.fragment,a),o=!0)},o(a){g(e.$$.fragment,a),g(l.$$.fragment,a),g(i.$$.fragment,a),o=!1},d(a){S(e,a),a&&$(t),a&&$(n),S(l),a&&$(s),S(i,a)}}}function UV(r){let e,t,n,l,s;return e=new IV({props:{database:r[0].database}}),l=new js({props:{href:rr(r[0].database.name,r[0].schema.id),$$slots:{default:[xV]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=O(),n=I("div"),C(l.$$.fragment),D(n,"class","breadcrumb-item truncate svelte-56k5nq")},m(i,o){y(e,i,o),w(i,t,o),w(i,n,o),y(l,n,null),s=!0},p(i,o){const a={};o&1&&(a.database=i[0].database),e.$set(a);const u={};o&1&&(u.href=rr(i[0].database.name,i[0].schema.id)),o&5&&(u.$$scope={dirty:o,ctx:i}),l.$set(u)},i(i){s||(p(e.$$.fragment,i),p(l.$$.fragment,i),s=!0)},o(i){g(e.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){S(e,i),i&&$(t),i&&$(n),S(l)}}}function WV(r){let e,t,n,l,s,i,o,a;return t=new k6({props:{href:ur(r[0].database.name),hasResponsiveAbridgement:r[1]}}),l=new _V({}),o=new js({props:{href:ur(r[0].database.name),$$slots:{default:[eq]},$$scope:{ctx:r}}}),{c(){e=I("div"),C(t.$$.fragment),n=O(),C(l.$$.fragment),s=O(),i=I("div"),C(o.$$.fragment),D(e,"class","breadcrumb-item svelte-56k5nq"),D(i,"class","breadcrumb-item truncate svelte-56k5nq")},m(u,c){w(u,e,c),y(t,e,null),w(u,n,c),y(l,u,c),w(u,s,c),w(u,i,c),y(o,i,null),a=!0},p(u,c){const f={};c&1&&(f.href=ur(u[0].database.name)),c&2&&(f.hasResponsiveAbridgement=u[1]),t.$set(f);const m={};c&1&&(m.href=ur(u[0].database.name)),c&5&&(m.$$scope={dirty:c,ctx:u}),o.$set(m)},i(u){a||(p(t.$$.fragment,u),p(l.$$.fragment,u),p(o.$$.fragment,u),a=!0)},o(u){g(t.$$.fragment,u),g(l.$$.fragment,u),g(o.$$.fragment,u),a=!1},d(u){u&&$(e),S(t),u&&$(n),S(l,u),u&&$(s),u&&$(i),S(o)}}}function BV(r){let e,t;return e=new Ur({props:{arg:r[0].label}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.arg=n[0].label),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function jV(r){let e,t;return e=new En({props:{icon:r[0].icon,$$slots:{default:[YV]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.icon=n[0].icon),l&5&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function YV(r){let e,t;return e=new Ur({props:{arg:r[0].label}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.arg=n[0].label),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function KV(r){let e,t,n,l;const s=[jV,BV],i=[];function o(a,u){return a[0].icon?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function GV(r){let e=r[0].query.name+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[0].query.name+"")&&he(t,e)},d(n){n&&$(t)}}}function QV(r){let e,t;return e=new En({props:{icon:An,$$slots:{default:[GV]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&5&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function XV(r){let e,t;return e=new Ha({props:{recordSummary:r[0].record.summary}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.recordSummary=n[0].record.summary),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function JV(r){let e,t;return e=new En({props:{icon:hi,$$slots:{default:[XV]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&5&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ZV(r){let e,t;return e=new Cn({props:{table:r[0].table}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.table=n[0].table),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function xV(r){let e,t;return e=new g6({props:{schema:r[0].schema}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.schema=n[0].schema),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function eq(r){let e,t;return e=new _6({props:{database:r[0].database}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0].database),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function tq(r){let e,t,n,l;const s=[WV,UV,qV,VV,HV,zV],i=[];function o(a,u){return a[0].type==="database"?0:a[0].type==="schema"?1:a[0].type==="table"?2:a[0].type==="record"?3:a[0].type==="exploration"?4:a[0].type==="simple"?5:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=ae()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(q(),g(i[c],1,1,()=>{i[c]=null}),U()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&$(n)}}}function nq(r,e,t){let{item:n}=e,{hasResponsiveAbridgement:l=!1}=e;return r.$$set=s=>{"item"in s&&t(0,n=s.item),"hasResponsiveAbridgement"in s&&t(1,l=s.hasResponsiveAbridgement)},[n,l]}class rq extends X{constructor(e){super(),Q(this,e,nq,tq,G,{item:0,hasResponsiveAbridgement:1})}}function j_(r,e,t){const n=r.slice();return n[4]=e[t],n}function Y_(r){let e,t;return e=new k6({props:{href:"/"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function K_(r){let e,t;return e=new rq({props:{item:r[4],hasResponsiveAbridgement:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.item=n[4]),l&2&&(s.hasResponsiveAbridgement=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function lq(r){let e,t,n,l=r[2]&&Y_(),s=r[0],i=[];for(let a=0;a<s.length;a+=1)i[a]=K_(j_(r,s,a));const o=a=>g(i[a],1,1,()=>{i[a]=null});return{c(){e=I("div"),l&&l.c(),t=O();for(let a=0;a<i.length;a+=1)i[a].c();D(e,"class","breadcrumb svelte-cheun3")},m(a,u){w(a,e,u),l&&l.m(e,null),M(e,t);for(let c=0;c<i.length;c+=1)i[c].m(e,null);n=!0},p(a,[u]){if(a[2]?l?u&4&&p(l,1):(l=Y_(),l.c(),p(l,1),l.m(e,t)):l&&(q(),g(l,1,1,()=>{l=null}),U()),u&3){s=a[0];let c;for(c=0;c<s.length;c+=1){const f=j_(a,s,c);i[c]?(i[c].p(f,u),p(i[c],1)):(i[c]=K_(f),i[c].c(),p(i[c],1),i[c].m(e,null))}for(q(),c=s.length;c<i.length;c+=1)o(c);U()}},i(a){if(!n){p(l);for(let u=0;u<s.length;u+=1)p(i[u]);n=!0}},o(a){g(l),i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)g(i[u]);n=!1},d(a){a&&$(e),l&&l.d(),Fn(i,a)}}}function sq(r,e,t){let n,l,s;const i=p6();return de(r,i,o=>t(0,s=o)),r.$$.update=()=>{r.$$.dirty&1&&t(2,n=s.every(o=>o.type!=="database")),r.$$.dirty&1&&t(1,l=s.length>2)},[s,l,n,i]}class iq extends X{constructor(e){super(),Q(this,e,sq,lq,G,{})}}function G_(r){let e,t,n,l=r[0]&&r[1]&&Q_(r),s=r[2]&&J_(r);return{c(){e=I("div"),l&&l.c(),t=O(),s&&s.c(),D(e,"class","right svelte-3vwngg")},m(i,o){w(i,e,o),l&&l.m(e,null),M(e,t),s&&s.m(e,null),n=!0},p(i,o){i[0]&&i[1]?l?(l.p(i,o),o&3&&p(l,1)):(l=Q_(i),l.c(),p(l,1),l.m(e,t)):l&&(q(),g(l,1,1,()=>{l=null}),U()),i[2]?s?(s.p(i,o),o&4&&p(s,1)):(s=J_(i),s.c(),p(s,1),s.m(e,null)):s&&(q(),g(s,1,1,()=>{s=null}),U())},i(i){n||(p(l),p(s),n=!0)},o(i){g(l),g(s),n=!1},d(i){i&&$(e),l&&l.d(),s&&s.d()}}}function Q_(r){let e,t;return e=new Ar({props:{triggerAppearance:"ghost",size:"small",closeOnInnerClick:!0,icon:r[3]?nr:void 0,$$slots:{trigger:[fq],default:[cq]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.icon=n[3]?nr:void 0),l&16451&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function X_(r){let e,t,n,l;return e=new xt({props:{icon:Qt,$$slots:{default:[oq]},$$scope:{ctx:r}}}),e.$on("click",r[9]),n=new Ir({props:{icon:Qt,href:sl(r[1].name,r[0].id),$$slots:{default:[aq]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&16384&&(o.$$scope={dirty:i,ctx:s}),e.$set(o);const a={};i&3&&(a.href=sl(s[1].name,s[0].id)),i&16384&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(p(e.$$.fragment,s),p(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&$(t),S(n,s)}}}function oq(r){let e;return{c(){e=B("New Table from Scratch")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function aq(r){let e;return{c(){e=B("New Table from Data Import")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function uq(r){let e;return{c(){e=B("Open Data Explorer")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function cq(r){let e,t,n,l=r[6]&&X_(r);return t=new Ir({props:{icon:An,href:pr(r[1].name,r[0].id),$$slots:{default:[uq]},$$scope:{ctx:r}}}),{c(){l&&l.c(),e=O(),C(t.$$.fragment)},m(s,i){l&&l.m(s,i),w(s,e,i),y(t,s,i),n=!0},p(s,i){s[6]?l?(l.p(s,i),i&64&&p(l,1)):(l=X_(s),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(q(),g(l,1,1,()=>{l=null}),U());const o={};i&3&&(o.href=pr(s[1].name,s[0].id)),i&16384&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){n||(p(l),p(t.$$.fragment,s),n=!0)},o(s){g(l),g(t.$$.fragment,s),n=!1},d(s){l&&l.d(s),s&&$(e),S(t,s)}}}function fq(r){let e,t,n,l,s,i;const o=[F1];let a={};for(let u=0;u<o.length;u+=1)a=x(a,o[u]);return n=new Fe({props:a}),{c(){e=I("span"),t=I("span"),C(n.$$.fragment),l=O(),s=I("span"),s.textContent="Shortcuts",D(t,"class","icon svelte-3vwngg"),D(s,"class","text svelte-3vwngg"),D(e,"slot","trigger"),D(e,"class","shortcuts svelte-3vwngg")},m(u,c){w(u,e,c),M(e,t),y(n,t,null),M(e,l),M(e,s),i=!0},p(u,c){const f=c&0?ce(o,[be(F1)]):{};n.$set(f)},i(u){i||(p(n.$$.fragment,u),i=!0)},o(u){g(n.$$.fragment,u),i=!1},d(u){u&&$(e),S(n)}}}function J_(r){let e,t;return e=new Ar({props:{triggerAppearance:"ghost",size:"small",closeOnInnerClick:!0,menuStyle:"--spacing-x: 0.3em;",$$slots:{trigger:[$q],default:[bq]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16422&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Z_(r){let e,t,n,l,s,i;return e=new zs({props:{$$slots:{default:[mq]},$$scope:{ctx:r}}}),n=new Ir({props:{icon:ll,href:ur(r[1].name),$$slots:{default:[dq]},$$scope:{ctx:r}}}),s=new Ni({}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment),l=O(),C(s.$$.fragment)},m(o,a){y(e,o,a),w(o,t,a),y(n,o,a),w(o,l,a),y(s,o,a),i=!0},p(o,a){const u={};a&16384&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a&2&&(c.href=ur(o[1].name)),a&16386&&(c.$$scope={dirty:a,ctx:o}),n.$set(c)},i(o){i||(p(e.$$.fragment,o),p(n.$$.fragment,o),p(s.$$.fragment,o),i=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),g(s.$$.fragment,o),i=!1},d(o){S(e,o),o&&$(t),S(n,o),o&&$(l),S(s,o)}}}function mq(r){let e;return{c(){e=B("Database")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function dq(r){let e=r[1].name+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&2&&e!==(e=n[1].name+"")&&he(t,e)},d(n){n&&$(t)}}}function pq(r){let e;return{c(){e=B("Signed in as")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function _q(r){let e=r[2].getDisplayName()+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&4&&e!==(e=n[2].getDisplayName()+"")&&he(t,e)},d(n){n&&$(t)}}}function x_(r){let e,t;return e=new Ir({props:{icon:Ts,href:Hi,hasNotificationDot:r[5],$$slots:{default:[gq]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.hasNotificationDot=n[5]),l&16384&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function gq(r){let e;return{c(){e=B("Administration")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function hq(r){let e;return{c(){e=B("Log Out")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function bq(r){let e,t,n,l,s,i,o,a,u,c,f=r[1]&&Z_(r);t=new zs({props:{$$slots:{default:[pq]},$$scope:{ctx:r}}}),l=new Ir({props:{icon:bi,href:hw,$$slots:{default:[_q]},$$scope:{ctx:r}}}),i=new Ni({});let m=r[2].isSuperUser&&x_(r);return u=new Ir({props:{icon:JI,href:aM,"tinro-ignore":!0,$$slots:{default:[hq]},$$scope:{ctx:r}}}),{c(){f&&f.c(),e=O(),C(t.$$.fragment),n=O(),C(l.$$.fragment),s=O(),C(i.$$.fragment),o=O(),m&&m.c(),a=O(),C(u.$$.fragment)},m(d,_){f&&f.m(d,_),w(d,e,_),y(t,d,_),w(d,n,_),y(l,d,_),w(d,s,_),y(i,d,_),w(d,o,_),m&&m.m(d,_),w(d,a,_),y(u,d,_),c=!0},p(d,_){d[1]?f?(f.p(d,_),_&2&&p(f,1)):(f=Z_(d),f.c(),p(f,1),f.m(e.parentNode,e)):f&&(q(),g(f,1,1,()=>{f=null}),U());const h={};_&16384&&(h.$$scope={dirty:_,ctx:d}),t.$set(h);const b={};_&16388&&(b.$$scope={dirty:_,ctx:d}),l.$set(b),d[2].isSuperUser?m?(m.p(d,_),_&4&&p(m,1)):(m=x_(d),m.c(),p(m,1),m.m(a.parentNode,a)):m&&(q(),g(m,1,1,()=>{m=null}),U());const v={};_&16384&&(v.$$scope={dirty:_,ctx:d}),u.$set(v)},i(d){c||(p(f),p(t.$$.fragment,d),p(l.$$.fragment,d),p(i.$$.fragment,d),p(m),p(u.$$.fragment,d),c=!0)},o(d){g(f),g(t.$$.fragment,d),g(l.$$.fragment,d),g(i.$$.fragment,d),g(m),g(u.$$.fragment,d),c=!1},d(d){f&&f.d(d),d&&$(e),S(t,d),d&&$(n),S(l,d),d&&$(s),S(i,d),d&&$(o),m&&m.d(d),d&&$(a),S(u,d)}}}function $q(r){let e,t,n;const l=[Ts,{hasNotificationDot:r[5]}];let s={};for(let i=0;i<l.length;i+=1)s=x(s,l[i]);return t=new Fe({props:s}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","user-switcher svelte-3vwngg"),D(e,"slot","trigger")},m(i,o){w(i,e,o),y(t,e,null),n=!0},p(i,o){const a=o&32?ce(l,[o&0&&be(Ts),o&32&&{hasNotificationDot:i[5]}]):{};t.$set(a)},i(i){n||(p(t.$$.fragment,i),n=!0)},o(i){g(t.$$.fragment,i),n=!1},d(i){i&&$(e),S(t)}}}function wq(r){let e,t,n,l,s;n=new iq({});let i=r[4]&&G_(r);return{c(){e=I("header"),t=I("div"),C(n.$$.fragment),l=O(),i&&i.c(),D(t,"class","left svelte-3vwngg"),D(e,"class","app-header svelte-3vwngg")},m(o,a){w(o,e,a),M(e,t),y(n,t,null),M(e,l),i&&i.m(e,null),s=!0},p(o,[a]){o[4]?i?(i.p(o,a),a&16&&p(i,1)):(i=G_(o),i.c(),p(i,1),i.m(e,null)):i&&(q(),g(i,1,1,()=>{i=null}),U())},i(o){s||(p(n.$$.fragment,o),p(i),s=!0)},o(o){g(n.$$.fragment,o),g(i),s=!1},d(o){o&&$(e),S(n),i&&i.d()}}}function vq(r,e,t){let n,l,s,i,o,a,u,c,f;de(r,hn,v=>t(11,c=v)),de(r,gn,v=>t(12,f=v));const m=Ol(),d=Xt();de(r,d,v=>t(2,u=v));const _=Ta();de(r,_,v=>t(10,a=v));let h=!1;async function b(){if(!l||!n)return;t(3,h=!0);const v=await Gi(n,l,{});t(3,h=!1),on.goto(hl(n.name,l.id,v.id),!1)}return r.$$.update=()=>{var v;r.$$.dirty&4096&&t(1,n=f),r.$$.dirty&2048&&t(0,l=c),r.$$.dirty&7&&t(6,s=u==null?void 0:u.hasPermission({database:n,schema:l},"canExecuteDDL")),r.$$.dirty&1024&&t(5,i=((v=a==null?void 0:a.value)==null?void 0:v.upgradeStatus)==="upgradable")},t(4,o=(m==null?void 0:m.routing_context)==="normal"),[l,n,u,h,o,i,s,d,_,b,a,c,f]}class kq extends X{constructor(e){super(),Q(this,e,vq,wq,G,{})}}function eg(r){let e,t,n,l,s,i,o,a,u,c,f,m,d,_,h;s=new Wn({props:{$$slots:{default:[yq]},$$scope:{ctx:r}}});const b=[A1];let v={};for(let E=0;E<b.length;E+=1)v=x(v,b[E]);u=new Fe({props:v});const k=[E1];let T={};for(let E=0;E<k.length;E+=1)T=x(T,k[E]);return d=new Fe({props:T}),{c(){e=I("div"),t=I("div"),n=I("i"),n.textContent="Mathesar is in demo mode.",l=O(),C(s.$$.fragment),i=O(),o=I("div"),a=I("a"),C(u.$$.fragment),c=B(`
        Join Email List`),f=O(),m=I("a"),C(d.$$.fragment),_=B(`
        Mathesar.org`),D(t,"class","side left svelte-1xbleub"),D(a,"href","https://mathesar.org/mailing-list.html"),D(a,"target","_blank"),D(a,"class","svelte-1xbleub"),D(m,"href","http://mathesar.org"),D(m,"target","_blank"),D(m,"class","svelte-1xbleub"),D(o,"class","side right svelte-1xbleub"),D(e,"class","demo-banner svelte-1xbleub")},m(E,P){w(E,e,P),M(e,t),M(t,n),M(t,l),y(s,t,null),M(e,i),M(e,o),M(o,a),y(u,a,null),M(a,c),M(o,f),M(o,m),y(d,m,null),M(m,_),h=!0},p(E,P){const R={};P&4&&(R.$$scope={dirty:P,ctx:E}),s.$set(R);const L=P&0?ce(b,[be(A1)]):{};u.$set(L);const A=P&0?ce(k,[be(E1)]):{};d.$set(A)},i(E){h||(p(s.$$.fragment,E),p(u.$$.fragment,E),p(d.$$.fragment,E),h=!0)},o(E){g(s.$$.fragment,E),g(u.$$.fragment,E),g(d.$$.fragment,E),h=!1},d(E){E&&$(e),S(s),S(u),S(d)}}}function yq(r){let e;return{c(){e=B(`Each session has its own copy of demo data. Data will be deleted
        regularly.`)},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function Sq(r){let e,t,n=r[0]&&eg(r);return{c(){n&&n.c(),e=ae()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,[s]){l[0]?n?(n.p(l,s),s&1&&p(n,1)):(n=eg(l),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&$(e)}}}function Cq(r,e,t){let n;const l=Ol();return t(0,n=!!(l!=null&&l.live_demo_mode)),[n]}class Tq extends X{constructor(e){super(),Q(this,e,Cq,Sq,G,{})}}const Dq=r=>({}),tg=r=>({});function Iq(r){let e,t,n,l,s,i,o,a,u;n=new Tq({}),s=new kq({});const c=r[5]["secondary-header"],f=De(c,r,r[4],tg),m=r[5].default,d=De(m,r,r[4],null);return{c(){e=I("div"),t=I("div"),C(n.$$.fragment),l=O(),C(s.$$.fragment),i=O(),f&&f.c(),o=O(),a=I("main"),d&&d.c(),D(t,"class","app-layout-header svelte-ld3foe"),D(a,"class","app-layout-content svelte-ld3foe"),Z(a,"restrict-width",r[1]),D(e,"class","app-layout svelte-ld3foe"),D(e,"style",r[2]),Z(e,"fit-viewport",r[0])},m(_,h){w(_,e,h),M(e,t),y(n,t,null),M(t,l),y(s,t,null),M(e,i),f&&f.m(e,null),M(e,o),M(e,a),d&&d.m(a,null),u=!0},p(_,[h]){f&&f.p&&(!u||h&16)&&Ee(f,c,_,_[4],u?Ie(c,_[4],h,Dq):Me(_[4]),tg),d&&d.p&&(!u||h&16)&&Ee(d,m,_,_[4],u?Ie(m,_[4],h,null):Me(_[4]),null),(!u||h&2)&&Z(a,"restrict-width",_[1]),(!u||h&4)&&D(e,"style",_[2]),(!u||h&1)&&Z(e,"fit-viewport",_[0])},i(_){u||(p(n.$$.fragment,_),p(s.$$.fragment,_),p(f,_),p(d,_),u=!0)},o(_){g(n.$$.fragment,_),g(s.$$.fragment,_),g(f,_),g(d,_),u=!1},d(_){_&&$(e),S(n),S(s),f&&f.d(_),d&&d.d(_)}}}function Eq(r,e,t){let n,{$$slots:l={},$$scope:s}=e,{fitViewport:i=!1}=e,{restrictWidth:o=!1}=e,{cssVariables:a=void 0}=e;return r.$$set=u=>{"fitViewport"in u&&t(0,i=u.fitViewport),"restrictWidth"in u&&t(1,o=u.restrictWidth),"cssVariables"in u&&t(3,a=u.cssVariables),"$$scope"in u&&t(4,s=u.$$scope)},r.$$.update=()=>{r.$$.dirty&8&&t(2,n=a?di(a):void 0)},[i,o,n,a,s,l]}class Or extends X{constructor(e){super(),Q(this,e,Eq,Iq,G,{fitViewport:0,restrictWidth:1,cssVariables:3})}}function ng(r){let e,t;return e=new ml({props:{appearance:"primary",href:"/",$$slots:{default:[Mq]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Mq(r){let e;return{c(){e=B("Go to homepage")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function Aq(r){let e,t,n,l,s,i;const o=r[1].default,a=De(o,r,r[2],null);let u=r[0]&&ng(r);return{c(){e=I("div"),t=I("h1"),t.textContent="Error",n=O(),l=I("div"),a&&a.c(),s=O(),u&&u.c(),D(e,"class","error-page-container svelte-1tmy8xu")},m(c,f){w(c,e,f),M(e,t),M(e,n),M(e,l),a&&a.m(l,null),M(e,s),u&&u.m(e,null),i=!0},p(c,f){a&&a.p&&(!i||f&4)&&Ee(a,o,c,c[2],i?Ie(o,c[2],f,null):Me(c[2]),null),c[0]?u?f&1&&p(u,1):(u=ng(c),u.c(),p(u,1),u.m(e,null)):u&&(q(),g(u,1,1,()=>{u=null}),U())},i(c){i||(p(a,c),p(u),i=!0)},o(c){g(a,c),g(u),i=!1},d(c){c&&$(e),a&&a.d(c),u&&u.d()}}}function Rq(r){let e,t;return e=new Or({props:{$$slots:{default:[Aq]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&5&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Pq(r,e,t){let{$$slots:n={},$$scope:l}=e,{showGoToRoot:s=!0}=e;return r.$$set=i=>{"showGoToRoot"in i&&t(0,s=i.showGoToRoot),"$$scope"in i&&t(2,l=i.$$scope)},[s,n,l]}class Wr extends X{constructor(e){super(),Q(this,e,Pq,Rq,G,{showGoToRoot:0})}}function Oq(r,e,t){const n=dt();let{meta:l=void 0}=e;return rn(()=>{if(l!=null&&l.subscribe){const s=l.subscribe(i=>{i&&n("load",i)});return()=>{s(),n("unload")}}return n("load"),()=>{n("unload")}}),r.$$set=s=>{"meta"in s&&t(0,l=s.meta)},[l]}class wf extends X{constructor(e){super(),Q(this,e,Oq,null,G,{meta:0})}}const Lq=r=>({}),rg=r=>({});function Nq(r){let e,t,n,l,s;const i=r[3].sidebar,o=De(i,r,r[2],rg),a=r[3].default,u=De(a,r,r[2],null);return{c(){e=I("div"),t=I("aside"),o&&o.c(),n=O(),l=I("main"),u&&u.c(),D(t,"class","svelte-18prej4"),D(l,"class","svelte-18prej4"),D(e,"class","page-sidebar-layout svelte-18prej4"),D(e,"style",r[0])},m(c,f){w(c,e,f),M(e,t),o&&o.m(t,null),M(e,n),M(e,l),u&&u.m(l,null),s=!0},p(c,[f]){o&&o.p&&(!s||f&4)&&Ee(o,i,c,c[2],s?Ie(i,c[2],f,Lq):Me(c[2]),rg),u&&u.p&&(!s||f&4)&&Ee(u,a,c,c[2],s?Ie(a,c[2],f,null):Me(c[2]),null),(!s||f&1)&&D(e,"style",c[0])},i(c){s||(p(o,c),p(u,c),s=!0)},o(c){g(o,c),g(u,c),s=!1},d(c){c&&$(e),o&&o.d(c),u&&u.d(c)}}}function Fq(r,e,t){let n,{$$slots:l={},$$scope:s}=e,{cssVariables:i=void 0}=e;return r.$$set=o=>{"cssVariables"in o&&t(1,i=o.cssVariables),"$$scope"in o&&t(2,s=o.$$scope)},r.$$.update=()=>{r.$$.dirty&2&&t(0,n=i?di(i):void 0)},[n,i,s,l]}class y6 extends X{constructor(e){super(),Q(this,e,Fq,Nq,G,{cssVariables:1})}}const zq=" | ";function Hq(r){const e=Qe(hn),t=[...r];return e&&t.push(e.name),t.push("Mathesar"),t.join(zq)}function Rn(r){return Hq([r])}function Vq(r){let e,t;const n=r[3].default,l=De(n,r,r[2],null);return{c(){e=I("a"),l&&l.c(),D(e,"href",r[0]),D(e,"target","_blank")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,[i]){l&&l.p&&(!t||i&4)&&Ee(l,n,s,s[2],t?Ie(n,s[2],i,null):Me(s[2]),null),(!t||i&1)&&D(e,"href",s[0])},i(s){t||(p(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&$(e),l&&l.d(s)}}}function qq(r,e,t){let n,{$$slots:l={},$$scope:s}=e,{path:i}=e;return r.$$set=o=>{"path"in o&&t(1,i=o.path),"$$scope"in o&&t(2,s=o.$$scope)},r.$$.update=()=>{r.$$.dirty&2&&t(0,n=`https://docs.mathesar.org${i}`)},[n,i,s,l]}class S6 extends X{constructor(e){super(),Q(this,e,qq,Vq,G,{path:1})}}function lg(r,e,t){const n=r.slice();return n[2]=e[t],n}function Uq(r){let e,t;return{c(){e=I("code"),e.textContent="MATHESAR_DATABASES",t=B(" variable")},m(n,l){w(n,e,l),w(n,t,l)},p:z,d(n){n&&$(e),n&&$(t)}}}function Wq(r){let e,t,n,l;return t=new S6({props:{path:"/configuration/env-variables/#mathesar_databases",$$slots:{default:[Uq]},$$scope:{ctx:r}}}),{c(){e=B(`To add or remove databases, modify the
          `),C(t.$$.fragment),n=B(`
          in your configuration file and restart Mathesar.`)},m(s,i){w(s,e,i),y(t,s,i),w(s,n,i),l=!0},p(s,i){const o={};i&32&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){l||(p(t.$$.fragment,s),l=!0)},o(s){g(t.$$.fragment,s),l=!1},d(s){s&&$(e),S(t,s),s&&$(n)}}}function Bq(r){let e,t,n=r[1].data.length+"",l,s,i,o,a,u;return a=new Wn({props:{$$slots:{default:[Wq]},$$scope:{ctx:r}}}),{c(){e=I("span"),t=B("All Databases ("),l=B(n),s=B(")"),i=O(),o=I("span"),C(a.$$.fragment),D(e,"class","title svelte-1qbtrvk"),D(o,"class","help svelte-1qbtrvk")},m(c,f){w(c,e,f),M(e,t),M(e,l),M(e,s),w(c,i,f),w(c,o,f),y(a,o,null),u=!0},p(c,f){(!u||f&2)&&n!==(n=c[1].data.length+"")&&he(l,n);const m={};f&32&&(m.$$scope={dirty:f,ctx:c}),a.$set(m)},i(c){u||(p(a.$$.fragment,c),u=!0)},o(c){g(a.$$.fragment,c),u=!1},d(c){c&&$(e),c&&$(i),c&&$(o),S(a)}}}function jq(r){let e,t,n;return e=new _6({props:{database:r[2],iconHasBox:!0}}),{c(){C(e.$$.fragment),t=O()},m(l,s){y(e,l,s),w(l,t,s),n=!0},p(l,s){const i={};s&2&&(i.database=l[2]),e.$set(i)},i(l){n||(p(e.$$.fragment,l),n=!0)},o(l){g(e.$$.fragment,l),n=!1},d(l){S(e,l),l&&$(t)}}}function sg(r,e){let t,n,l;return n=new Ir({props:{href:ur(e[2].name),class:e[0].id===e[2].id?"active":"",$$slots:{default:[jq]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&2&&(o.href=ur(e[2].name)),i&3&&(o.class=e[0].id===e[2].id?"active":""),i&34&&(o.$$scope={dirty:i,ctx:e}),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}function Yq(r){let e,t,n=[],l=new Map,s,i;e=new zs({props:{style:"display:flex;align-items:center;margin-bottom:var(--size-super-ultra-small)",$$slots:{default:[Bq]},$$scope:{ctx:r}}});let o=r[1].data;const a=u=>u[2].name;for(let u=0;u<o.length;u+=1){let c=lg(r,o,u),f=a(c);l.set(f,n[u]=sg(f,c))}return{c(){C(e.$$.fragment),t=O();for(let u=0;u<n.length;u+=1)n[u].c();s=ae()},m(u,c){y(e,u,c),w(u,t,c);for(let f=0;f<n.length;f+=1)n[f].m(u,c);w(u,s,c),i=!0},p(u,c){const f={};c&34&&(f.$$scope={dirty:c,ctx:u}),e.$set(f),c&3&&(o=u[1].data,q(),n=pt(n,c,a,1,u,o,l,s.parentNode,ht,sg,s,lg),U())},i(u){if(!i){p(e.$$.fragment,u);for(let c=0;c<o.length;c+=1)p(n[c]);i=!0}},o(u){g(e.$$.fragment,u);for(let c=0;c<n.length;c+=1)g(n[c]);i=!1},d(u){S(e,u),u&&$(t);for(let c=0;c<n.length;c+=1)n[c].d(u);u&&$(s)}}}function Kq(r){let e,t,n;return t=new _a({props:{$$slots:{default:[Yq]},$$scope:{ctx:r}}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","database-list svelte-1qbtrvk")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,[s]){const i={};s&35&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function Gq(r,e,t){let n;de(r,qi,s=>t(1,n=s));let{database:l}=e;return r.$$set=s=>{"database"in s&&t(0,l=s.database)},[l,n]}class Qq extends X{constructor(e){super(),Q(this,e,Gq,Kq,G,{database:0})}}const Xq={reflect(){return un("/api/ui/v0/reflect/",{})}};const Jq=r=>({}),ig=r=>({}),Zq=r=>({}),og=r=>({});function ag(r){let e,t;return{c(){e=I("span"),t=B(r[1]),D(e,"class","entity-type svelte-172pybh")},m(n,l){w(n,e,l),M(e,t)},p(n,l){l&2&&he(t,n[1])},d(n){n&&$(e)}}}function xq(r){let e,t,n,l,s,i,o,a,u,c,f,m,d,_;const h=[r[0],{size:"2em"}];let b={};for(let R=0;R<h.length;R+=1)b=x(b,h[R]);i=new Fe({props:b});let v=r[1]&&ag(r);const k=r[4].action,T=De(k,r,r[3],og),E=r[4].bottom,P=De(E,r,r[3],ig);return{c(){e=I("div"),t=I("div"),n=I("div"),l=I("div"),s=I("div"),C(i.$$.fragment),o=O(),a=I("div"),v&&v.c(),u=O(),c=I("span"),f=B(r[2]),m=O(),T&&T.c(),d=O(),P&&P.c(),D(s,"class","entity-icon svelte-172pybh"),D(c,"class","entity-name svelte-172pybh"),D(a,"class","left-meta-container svelte-172pybh"),D(l,"class","entity-container svelte-172pybh"),D(n,"class","left"),D(t,"class","top svelte-172pybh"),D(e,"class","container svelte-172pybh")},m(R,L){w(R,e,L),M(e,t),M(t,n),M(n,l),M(l,s),y(i,s,null),M(l,o),M(l,a),v&&v.m(a,null),M(a,u),M(a,c),M(c,f),M(t,m),T&&T.m(t,null),M(e,d),P&&P.m(e,null),_=!0},p(R,[L]){const A=L&1?ce(h,[be(R[0]),h[1]]):{};i.$set(A),R[1]?v?v.p(R,L):(v=ag(R),v.c(),v.m(a,u)):v&&(v.d(1),v=null),(!_||L&4)&&he(f,R[2]),T&&T.p&&(!_||L&8)&&Ee(T,k,R,R[3],_?Ie(k,R[3],L,Zq):Me(R[3]),og),P&&P.p&&(!_||L&8)&&Ee(P,E,R,R[3],_?Ie(E,R[3],L,Jq):Me(R[3]),ig)},i(R){_||(p(i.$$.fragment,R),p(T,R),p(P,R),_=!0)},o(R){g(i.$$.fragment,R),g(T,R),g(P,R),_=!1},d(R){R&&$(e),S(i),v&&v.d(),T&&T.d(R),P&&P.d(R)}}}function eU(r,e,t){let{$$slots:n={},$$scope:l}=e,{icon:s}=e,{type:i=void 0}=e,{name:o}=e;return r.$$set=a=>{"icon"in a&&t(0,s=a.icon),"type"in a&&t(1,i=a.type),"name"in a&&t(2,o=a.name),"$$scope"in a&&t(3,l=a.$$scope)},[s,i,o,l,n]}class tU extends X{constructor(e){super(),Q(this,e,eU,xq,G,{icon:0,type:1,name:2})}}const nU=r=>({}),ug=r=>({slot:"action"}),rU=r=>({}),cg=r=>({slot:"bottom"});function lU(r){let e;const t=r[3].action,n=De(t,r,r[4],ug);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&16)&&Ee(n,t,l,l[4],e?Ie(t,l[4],s,nU):Me(l[4]),ug)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function sU(r){let e;const t=r[3].bottom,n=De(t,r,r[4],cg);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&16)&&Ee(n,t,l,l[4],e?Ie(t,l[4],s,rU):Me(l[4]),cg)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function iU(r){let e,t,n,l,s;const i=[r[0]];let o={$$slots:{bottom:[sU],action:[lU]},$$scope:{ctx:r}};for(let a=0;a<i.length;a+=1)o=x(o,i[a]);return l=new tU({props:o}),{c(){e=I("div"),t=I("div"),n=I("div"),C(l.$$.fragment),D(n,"class","page-title-and-meta-container"),D(t,"class","content svelte-1ah9c17"),Z(t,"restrict-width",r[1]),D(e,"class","container svelte-1ah9c17"),Z(e,"theme-dark",r[2]==="dark"),Z(e,"theme-light",r[2]==="light")},m(a,u){w(a,e,u),M(e,t),M(t,n),y(l,n,null),s=!0},p(a,[u]){const c=u&1?ce(i,[be(a[0])]):{};u&16&&(c.$$scope={dirty:u,ctx:a}),l.$set(c),(!s||u&2)&&Z(t,"restrict-width",a[1]),(!s||u&4)&&Z(e,"theme-dark",a[2]==="dark"),(!s||u&4)&&Z(e,"theme-light",a[2]==="light")},i(a){s||(p(l.$$.fragment,a),s=!0)},o(a){g(l.$$.fragment,a),s=!1},d(a){a&&$(e),S(l)}}}function oU(r,e,t){let{$$slots:n={},$$scope:l}=e,{pageTitleAndMetaProps:s}=e,{restrictWidth:i=!0}=e,{theme:o=void 0}=e;return r.$$set=a=>{"pageTitleAndMetaProps"in a&&t(0,s=a.pageTitleAndMetaProps),"restrictWidth"in a&&t(1,i=a.restrictWidth),"theme"in a&&t(2,o=a.theme),"$$scope"in a&&t(4,l=a.$$scope)},[s,i,o,n,l]}class vf extends X{constructor(e){super(),Q(this,e,oU,iU,G,{pageTitleAndMetaProps:0,restrictWidth:1,theme:2})}}const aU=r=>({}),fg=r=>({}),uU=r=>({}),mg=r=>({});function dg(r){let e,t,n,l;const s=r[3].resultInfo,i=De(s,r,r[5],fg);return n=new ut({props:{appearance:"secondary",$$slots:{default:[cU]},$$scope:{ctx:r}}}),n.$on("click",r[2]),{c(){e=I("div"),i&&i.c(),t=O(),C(n.$$.fragment),D(e,"class","search-results-info svelte-13vmmh3")},m(o,a){w(o,e,a),i&&i.m(e,null),M(e,t),y(n,e,null),l=!0},p(o,a){i&&i.p&&(!l||a&32)&&Ee(i,s,o,o[5],l?Ie(s,o[5],a,aU):Me(o[5]),fg);const u={};a&32&&(u.$$scope={dirty:a,ctx:o}),n.$set(u)},i(o){l||(p(i,o),p(n.$$.fragment,o),l=!0)},o(o){g(i,o),g(n.$$.fragment,o),l=!1},d(o){o&&$(e),i&&i.d(o),S(n)}}}function cU(r){let e;return{c(){e=B("Clear")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function fU(r){let e,t,n,l,s,i,o,a;function u(_){r[4](_)}let c={placeholder:r[1],prefixIcon:yo};r[0]!==void 0&&(c.value=r[0]),l=new L$({props:c}),ye.push(()=>Pe(l,"value",u));const f=r[3].action,m=De(f,r,r[5],mg);let d=r[0]&&dg(r);return{c(){e=I("div"),t=I("div"),n=I("div"),C(l.$$.fragment),i=O(),m&&m.c(),o=O(),d&&d.c(),D(n,"class","search-container svelte-13vmmh3"),D(t,"class","actions-container svelte-13vmmh3"),D(e,"class","container svelte-13vmmh3")},m(_,h){w(_,e,h),M(e,t),M(t,n),y(l,n,null),M(t,i),m&&m.m(t,null),M(e,o),d&&d.m(e,null),a=!0},p(_,[h]){const b={};h&2&&(b.placeholder=_[1]),!s&&h&1&&(s=!0,b.value=_[0],Ne(()=>s=!1)),l.$set(b),m&&m.p&&(!a||h&32)&&Ee(m,f,_,_[5],a?Ie(f,_[5],h,uU):Me(_[5]),mg),_[0]?d?(d.p(_,h),h&1&&p(d,1)):(d=dg(_),d.c(),p(d,1),d.m(e,null)):d&&(q(),g(d,1,1,()=>{d=null}),U())},i(_){a||(p(l.$$.fragment,_),p(m,_),p(d),a=!0)},o(_){g(l.$$.fragment,_),g(m,_),g(d),a=!1},d(_){_&&$(e),S(l),m&&m.d(_),d&&d.d()}}}function mU(r,e,t){let{$$slots:n={},$$scope:l}=e;const s=dt();let{searchQuery:i}=e,{placeholder:o}=e;function a(){s("clear")}function u(c){i=c,t(0,i)}return r.$$set=c=>{"searchQuery"in c&&t(0,i=c.searchQuery),"placeholder"in c&&t(1,o=c.placeholder),"$$scope"in c&&t(5,l=c.$$scope)},[i,o,a,n,u,l]}class dU extends X{constructor(e){super(),Q(this,e,mU,fU,G,{searchQuery:0,placeholder:1})}}const pU=r=>({}),pg=r=>({}),_U=r=>({}),_g=r=>({slot:"action"}),gU=r=>({}),gg=r=>({slot:"resultInfo"});function hU(r){let e;const t=r[2].action,n=De(t,r,r[5],_g);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&32)&&Ee(n,t,l,l[5],e?Ie(t,l[5],s,_U):Me(l[5]),_g)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function bU(r){let e;const t=r[2].resultInfo,n=De(t,r,r[5],gg);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&32)&&Ee(n,t,l,l[5],e?Ie(t,l[5],s,gU):Me(l[5]),gg)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function $U(r){let e,t,n,l,s;function i(c){r[3](c)}let o={placeholder:r[1],$$slots:{resultInfo:[bU],action:[hU]},$$scope:{ctx:r}};r[0]!==void 0&&(o.searchQuery=r[0]),t=new dU({props:o}),ye.push(()=>Pe(t,"searchQuery",i)),t.$on("clear",r[4]);const a=r[2].content,u=De(a,r,r[5],pg);return{c(){e=I("div"),C(t.$$.fragment),l=O(),u&&u.c(),D(e,"class","container svelte-1nta9n6")},m(c,f){w(c,e,f),y(t,e,null),M(e,l),u&&u.m(e,null),s=!0},p(c,[f]){const m={};f&2&&(m.placeholder=c[1]),f&32&&(m.$$scope={dirty:f,ctx:c}),!n&&f&1&&(n=!0,m.searchQuery=c[0],Ne(()=>n=!1)),t.$set(m),u&&u.p&&(!s||f&32)&&Ee(u,a,c,c[5],s?Ie(a,c[5],f,pU):Me(c[5]),pg)},i(c){s||(p(t.$$.fragment,c),p(u,c),s=!0)},o(c){g(t.$$.fragment,c),g(u,c),s=!1},d(c){c&&$(e),S(t),u&&u.d(c)}}}function wU(r,e,t){let{$$slots:n={},$$scope:l}=e,{searchPlaceholder:s}=e,{searchQuery:i}=e;function o(u){i=u,t(0,i)}function a(u){ve.call(this,r,u)}return r.$$set=u=>{"searchPlaceholder"in u&&t(1,s=u.searchPlaceholder),"searchQuery"in u&&t(0,i=u.searchQuery),"$$scope"in u&&t(5,l=u.$$scope)},[i,s,n,o,a,l]}class Qa extends X{constructor(e){super(),Q(this,e,wU,$U,G,{searchPlaceholder:1,searchQuery:0})}}const vU=r=>({}),hg=r=>({}),kU=r=>({initialName:r&128}),bg=r=>({slot:"title",initialName:r[7]});function $g(r){let e,t=r[4].join(" ")+"",n;return{c(){e=I("p"),n=B(t),D(e,"class","error svelte-1komobi")},m(l,s){w(l,e,s),M(e,n)},p(l,s){s&16&&t!==(t=l[4].join(" ")+"")&&he(n,t)},d(l){l&&$(e)}}}function yU(r){let e,t,n,l,s,i;function o(f){r[19](f)}function a(f){r[20](f)}let u={"aria-label":"name",disabled:r[5],placeholder:"Name",id:"name"};r[3]!==void 0&&(u.value=r[3]),r[6]!==void 0&&(u.element=r[6]),e=new $n({props:u}),ye.push(()=>Pe(e,"value",o)),ye.push(()=>Pe(e,"element",a)),e.$on("input",r[21]);let c=r[9]&&r[4].length&&$g(r);return{c(){C(e.$$.fragment),l=O(),c&&c.c(),s=ae()},m(f,m){y(e,f,m),w(f,l,m),c&&c.m(f,m),w(f,s,m),i=!0},p(f,m){const d={};m&32&&(d.disabled=f[5]),!t&&m&8&&(t=!0,d.value=f[3],Ne(()=>t=!1)),!n&&m&64&&(n=!0,d.element=f[6],Ne(()=>n=!1)),e.$set(d),f[9]&&f[4].length?c?c.p(f,m):(c=$g(f),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},i(f){i||(p(e.$$.fragment,f),i=!0)},o(f){g(e.$$.fragment,f),i=!1},d(f){S(e,f),f&&$(l),c&&c.d(f),f&&$(s)}}}function wg(r){let e,t,n;return t=new wn({props:{label:"Description",layout:"stacked",$$slots:{default:[SU]},$$scope:{ctx:r}}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","input-container svelte-1komobi")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&8388896&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function SU(r){let e,t,n;function l(i){r[22](i)}let s={"aria-label":"description",disabled:r[5],placeholder:"Description"};return r[8]!==void 0&&(s.value=r[8]),e=new Gl({props:s}),ye.push(()=>Pe(e,"value",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&32&&(a.disabled=i[5]),!t&&o&256&&(t=!0,a.value=i[8],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function CU(r){let e,t,n,l,s,i;const o=r[17].helpText,a=De(o,r,r[23],hg);l=new wn({props:{label:"Name",layout:"stacked",$$slots:{default:[yU]},$$scope:{ctx:r}}});let u=!r[2]&&wg(r);return{c(){e=I("div"),a&&a.c(),t=O(),n=I("div"),C(l.$$.fragment),s=O(),u&&u.c(),D(n,"class","input-container svelte-1komobi"),D(e,"class","form-container svelte-1komobi")},m(c,f){w(c,e,f),a&&a.m(e,null),M(e,t),M(e,n),y(l,n,null),M(e,s),u&&u.m(e,null),i=!0},p(c,f){a&&a.p&&(!i||f&8388608)&&Ee(a,o,c,c[23],i?Ie(o,c[23],f,vU):Me(c[23]),hg);const m={};f&8389240&&(m.$$scope={dirty:f,ctx:c}),l.$set(m),c[2]?u&&(q(),g(u,1,1,()=>{u=null}),U()):u?(u.p(c,f),f&4&&p(u,1)):(u=wg(c),u.c(),p(u,1),u.m(e,null))},i(c){i||(p(a,c),p(l.$$.fragment,c),p(u),i=!0)},o(c){g(a,c),g(l.$$.fragment,c),g(u),i=!1},d(c){c&&$(e),a&&a.d(c),S(l),u&&u.d()}}}function TU(r){let e;const t=r[17].title,n=De(t,r,r[23],bg);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8388736)&&Ee(n,t,l,l[23],e?Ie(t,l[23],s,kU):Me(l[23]),bg)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function DU(r){let e,t;return e=new _r({props:{proceedButton:{label:r[0]},onCancel:r[18],onProceed:r[12],canProceed:r[10],slot:"footer"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.proceedButton={label:n[0]}),l&2&&(s.onCancel=n[18]),l&1024&&(s.canProceed=n[10]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function IU(r){let e,t;return e=new Pl({props:{controller:r[1],allowClose:!r[5],closeOn:["button","esc","overlay"],$$slots:{footer:[DU],title:[TU],default:[CU]},$$scope:{ctx:r}}}),e.$on("open",r[11]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.controller=n[1]),l&32&&(s.allowClose=!n[5]),l&8390655&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function EU(r,e,t){let n,l,{$$slots:s={},$$scope:i}=e,{saveButtonLabel:o="Save"}=e,{controller:a}=e,{getNameValidationErrors:u}=e,{getInitialName:c=()=>""}=e,{getInitialDescription:f=()=>""}=e,{save:m}=e,{hideDescription:d=!1}=e,_=!1,h,b="",v="",k="",T=!1;async function E(){t(7,b=c()),t(3,v=b),t(8,k=f()),t(9,T=!1),h&&(await Gt(),h.focus(),h.setSelectionRange(0,h.value.length))}async function P(){try{t(5,_=!0),await m(v,k),a.close()}catch(K){At.fromError(K)}finally{t(5,_=!1)}}const R=()=>{a.close()};function L(K){v=K,t(3,v)}function A(K){h=K,t(6,h)}const N=()=>{t(9,T=!0)};function F(K){k=K,t(8,k)}return r.$$set=K=>{"saveButtonLabel"in K&&t(0,o=K.saveButtonLabel),"controller"in K&&t(1,a=K.controller),"getNameValidationErrors"in K&&t(13,u=K.getNameValidationErrors),"getInitialName"in K&&t(14,c=K.getInitialName),"getInitialDescription"in K&&t(15,f=K.getInitialDescription),"save"in K&&t(16,m=K.save),"hideDescription"in K&&t(2,d=K.hideDescription),"$$scope"in K&&t(23,i=K.$$scope)},r.$$.update=()=>{r.$$.dirty&8200&&t(4,n=u(v)),r.$$.dirty&16&&t(10,l=!n.length)},[o,a,d,v,n,_,h,b,k,T,l,E,P,u,c,f,m,s,R,L,A,N,F,i]}class kf extends X{constructor(e){super(),Q(this,e,EU,IU,G,{saveButtonLabel:0,controller:1,getNameValidationErrors:13,getInitialName:14,getInitialDescription:15,save:16,hideDescription:2})}}function MU(r){let e;const t=r[1].default,n=De(t,r,r[2],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&4)&&Ee(n,t,l,l[2],e?Ie(t,l[2],s,null):Me(l[2]),null)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function AU(r){let e,t,n;const l=[{icon:Fu},r[0]];let s={$$slots:{default:[MU]},$$scope:{ctx:r}};for(let i=0;i<l.length;i+=1)s=x(s,l[i]);return t=new Ua({props:s}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","info-box svelte-1imv3fg")},m(i,o){w(i,e,o),y(t,e,null),n=!0},p(i,[o]){const a=o&1?ce(l,[o&0&&{icon:Fu},o&1&&be(i[0])]):{};o&4&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(p(t.$$.fragment,i),n=!0)},o(i){g(t.$$.fragment,i),n=!1},d(i){i&&$(e),S(t)}}}function RU(r,e,t){const n=[];let l=Be(e,n),{$$slots:s={},$$scope:i}=e;return r.$$set=o=>{e=x(x({},e),ft(o)),t(0,l=Be(e,n)),"$$scope"in o&&t(2,i=o.$$scope)},[l,s,i]}class Ys extends X{constructor(e){super(),Q(this,e,RU,AU,G,{})}}function vg(r){let e,t;return e=new Ys({props:{$$slots:{default:[PU]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function PU(r){let e;return{c(){e=B(`Name your schema to reflect its purpose. For example, your personal
        financial schema may be called "Personal Finances" and your movie
        collection "Movies." Add a description to your schema to remember what
        it's for.`)},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function OU(r){let e,t,n=!r[1]&&vg(r);return{c(){n&&n.c(),e=ae()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[1]?n&&(q(),g(n,1,1,()=>{n=null}),U()):n?s&2&&p(n,1):(n=vg(l),n.c(),p(n,1),n.m(e.parentNode,e))},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&$(e)}}}function LU(r){let e;return{c(){e=B("Create Schema")},m(t,n){w(t,e,n)},p:z,i:z,o:z,d(t){t&&$(e)}}}function NU(r){let e,t,n,l;return t=new rl({props:{$$slots:{default:[FU]},$$scope:{ctx:r}}}),{c(){e=B("Rename "),C(t.$$.fragment),n=B(" Schema")},m(s,i){w(s,e,i),y(t,s,i),w(s,n,i),l=!0},p(s,i){const o={};i&1536&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){l||(p(t.$$.fragment,s),l=!0)},o(s){g(t.$$.fragment,s),l=!1},d(s){s&&$(e),S(t,s),s&&$(n)}}}function FU(r){let e=r[9]+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&512&&e!==(e=n[9]+"")&&he(t,e)},d(n){n&&$(t)}}}function zU(r){let e,t,n,l;const s=[NU,LU],i=[];function o(a,u){return a[1]?0:1}return t=o(r),n=i[t]=s[t](r),{c(){e=I("span"),n.c(),D(e,"slot","title")},m(a,u){w(a,e,u),i[t].m(e,null),l=!0},p(a,u){let c=t;t=o(a),t===c?i[t].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),p(n,1),n.m(e,null))},i(a){l||(p(n),l=!0)},o(a){g(n),l=!1},d(a){a&&$(e),i[t].d()}}}function HU(r){let e,t;return e=new kf({props:{controller:r[0],save:r[3],getNameValidationErrors:r[2],getInitialName:r[5],getInitialDescription:r[6],saveButtonLabel:r[1]?"Save":"Create New Schema",$$slots:{title:[zU,({initialName:n})=>({9:n}),({initialName:n})=>n?512:0],helpText:[OU]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.controller=n[0]),l&2&&(s.getInitialName=n[5]),l&2&&(s.getInitialDescription=n[6]),l&2&&(s.saveButtonLabel=n[1]?"Save":"Create New Schema"),l&1538&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function VU(r,e,t){let n;de(r,ji,m=>t(7,n=m));let{database:l}=e,{controller:s}=e,{schema:i=void 0}=e;function o(m){return i&&m.trim()===i.name?!1:Array.from((n==null?void 0:n.data)||[]).some(([,d])=>d.name.toLowerCase().trim()===m.trim())}function a(m){return m.trim()?o(m)?["A schema with that name already exists."]:[]:["Name cannot be empty."]}async function u(m,d){try{i?await uF(l.name,{...i,name:m,description:d}):await aF(l.name,m,d)}catch(_){At.fromError(_)}}const c=()=>{var m;return(m=i==null?void 0:i.name)!=null?m:""},f=()=>{var m;return(m=i==null?void 0:i.description)!=null?m:""};return r.$$set=m=>{"database"in m&&t(4,l=m.database),"controller"in m&&t(0,s=m.controller),"schema"in m&&t(1,i=m.schema)},[s,i,a,u,l,c,f]}class C6 extends X{constructor(e){super(),Q(this,e,VU,HU,G,{database:4,controller:0,schema:1})}}function qU(r){let e,t,n;const l=[r[2],{options:r[1]},{getLabel:kg}];function s(o){r[3](o)}let i={};for(let o=0;o<l.length;o+=1)i=x(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new Sn({props:i}),ye.push(()=>Pe(e,"value",s)),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,[a]){const u=a&6?ce(l,[a&4&&be(o[2]),a&2&&{options:o[1]},a&0&&{getLabel:kg}]):{};!t&&a&1&&(t=!0,u.value=o[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function kg(r){return r===void 0?"":r==="standard"?"Standard":"Admin"}function UU(r,e,t){const n=["value"];let l=Be(e,n);const s=["standard","admin"];let{value:i=void 0}=e;function o(a){i=a,t(0,i)}return r.$$set=a=>{e=x(x({},e),ft(a)),t(2,l=Be(e,n)),"value"in a&&t(0,i=a.value)},[i,s,l,o]}class yg extends X{constructor(e){super(),Q(this,e,UU,qU,G,{value:0})}}function WU(r){let e,t;const n=r[2].default,l=De(n,r,r[1],null);return{c(){e=I("div"),l&&l.c(),D(e,"class","input-row svelte-13nb3a2"),yn(e,"display","contents")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,i){l&&l.p&&(!t||i&2)&&Ee(l,n,s,s[1],t?Ie(n,s[1],i,null):Me(s[1]),null)},i(s){t||(p(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&$(e),l&&l.d(s)}}}function BU(r){let e;const t=r[2].default,n=De(t,r,r[1],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&2)&&Ee(n,t,l,l[1],e?Ie(t,l[1],s,null):Me(l[1]),null)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function jU(r){let e,t,n,l;const s=[BU,WU],i=[];function o(a,u){return a[0]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function YU(r,e,t){let{$$slots:n={},$$scope:l}=e,{bypass:s=!1}=e;return r.$$set=i=>{"bypass"in i&&t(0,s=i.bypass),"$$scope"in i&&t(1,l=i.$$scope)},[s,l,n]}class Xa extends X{constructor(e){super(),Q(this,e,YU,jU,G,{bypass:0})}}function KU(r){let e;return{c(){e=B(r[0])},m(t,n){w(t,e,n)},p(t,n){n&1&&he(e,t[0])},d(t){t&&$(e)}}}function Sg(r){let e,t;return{c(){e=I("div"),t=B(r[1]),D(e,"class","help")},m(n,l){w(n,e,l),M(e,t)},p(n,l){l&2&&he(t,n[1])},d(n){n&&$(e)}}}function GU(r){let e,t,n,l,s,i,o,a;t=new Li({props:{controller:r[5],$$slots:{default:[KU]},$$scope:{ctx:r}}}),i=new _n({props:{field:r[2],input:r[3]}});let u=r[1]&&Sg(r);return{c(){e=I("div"),C(t.$$.fragment),n=O(),l=I("div"),s=I("div"),C(i.$$.fragment),o=O(),u&&u.c(),D(e,"class","left cell svelte-15lk73a"),D(s,"class","input"),D(l,"class","right cell")},m(c,f){w(c,e,f),y(t,e,null),w(c,n,f),w(c,l,f),M(l,s),y(i,s,null),M(l,o),u&&u.m(l,null),a=!0},p(c,f){const m={};f&65&&(m.$$scope={dirty:f,ctx:c}),t.$set(m);const d={};f&4&&(d.field=c[2]),f&8&&(d.input=c[3]),i.$set(d),c[1]?u?u.p(c,f):(u=Sg(c),u.c(),u.m(l,null)):u&&(u.d(1),u=null)},i(c){a||(p(t.$$.fragment,c),p(i.$$.fragment,c),a=!0)},o(c){g(t.$$.fragment,c),g(i.$$.fragment,c),a=!1},d(c){c&&$(e),S(t),c&&$(n),c&&$(l),S(i),u&&u.d()}}}function QU(r){let e,t;return e=new Xa({props:{bypass:r[4],$$slots:{default:[GU]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&16&&(s.bypass=n[4]),l&79&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function XU(r,e,t){const n=new pa;let{label:l}=e,{help:s=void 0}=e,{field:i}=e,{input:o=void 0}=e,{bypassRow:a=!1}=e;return r.$$set=u=>{"label"in u&&t(0,l=u.label),"help"in u&&t(1,s=u.help),"field"in u&&t(2,i=u.field),"input"in u&&t(3,o=u.input),"bypassRow"in u&&t(4,a=u.bypassRow)},g$(n),[l,s,i,o,a,n]}class Zr extends X{constructor(e){super(),Q(this,e,XU,QU,G,{label:0,help:1,field:2,input:3,bypassRow:4})}}function Cg(r){let e,t;return e=new Zr({props:{label:"Password *",field:r[9],input:{component:ws,props:{autocomplete:r[1]?"new-password":"on"}}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.input={component:ws,props:{autocomplete:n[1]?"new-password":"on"}}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function JU(r){let e,t,n,l,s,i,o,a,u,c,f,m,d;t=new Zr({props:{label:"Display Name",field:r[5],input:{component:$n}}}),l=new Zr({props:{label:"Email",field:r[3],input:{component:$n}}}),i=new Zr({props:{label:"Username *",field:r[4],input:{component:$n,props:{autocomplete:r[1]?"new-username":"on"}}}});let _=r[1]&&Cg(r);return u=new Zr({props:{label:"Role *",field:r[2],input:{component:yg,props:{disabled:r[7]}}}}),m=new bl({props:{form:r[6],catchErrors:!0,onProceed:r[10],proceedButton:{label:"Save",icon:Dc},cancelButton:{label:"Discard Changes",icon:No},getErrorMessages:r[11],initiallyHidden:!!r[0],hasCancelButton:!!r[0]}}),{c(){e=I("div"),C(t.$$.fragment),n=O(),C(l.$$.fragment),s=O(),C(i.$$.fragment),o=O(),_&&_.c(),a=O(),C(u.$$.fragment),c=O(),f=I("div"),C(m.$$.fragment),D(e,"class","user-details-form svelte-u50wk0"),D(f,"class","submit-section svelte-u50wk0")},m(h,b){w(h,e,b),y(t,e,null),M(e,n),y(l,e,null),M(e,s),y(i,e,null),M(e,o),_&&_.m(e,null),M(e,a),y(u,e,null),w(h,c,b),w(h,f,b),y(m,f,null),d=!0},p(h,[b]){const v={};b&32&&(v.field=h[5]),t.$set(v);const k={};b&8&&(k.field=h[3]),l.$set(k);const T={};b&16&&(T.field=h[4]),b&2&&(T.input={component:$n,props:{autocomplete:h[1]?"new-username":"on"}}),i.$set(T),h[1]?_?(_.p(h,b),b&2&&p(_,1)):(_=Cg(h),_.c(),p(_,1),_.m(e,a)):_&&(q(),g(_,1,1,()=>{_=null}),U());const E={};b&4&&(E.field=h[2]),b&128&&(E.input={component:yg,props:{disabled:h[7]}}),u.$set(E);const P={};b&64&&(P.form=h[6]),b&1&&(P.initiallyHidden=!!h[0]),b&1&&(P.hasCancelButton=!!h[0]),m.$set(P)},i(h){d||(p(t.$$.fragment,h),p(l.$$.fragment,h),p(i.$$.fragment,h),p(_),p(u.$$.fragment,h),p(m.$$.fragment,h),d=!0)},o(h){g(t.$$.fragment,h),g(l.$$.fragment,h),g(i.$$.fragment,h),g(_),g(u.$$.fragment,h),g(m.$$.fragment,h),d=!1},d(h){h&&$(e),S(t),S(l),S(i),_&&_.d(),S(u),h&&$(c),h&&$(f),S(m)}}}function ZU(r,e,t){let n,l,s,i,o,a,u,c,f,m,d=z,_=()=>(d(),d=se(f,R=>t(15,m=R)),f),h;r.$$.on_destroy.push(()=>d());const b=dt(),v=Xt();de(r,v,R=>t(14,h=R));let{user:k=void 0}=e;const T=qt("");async function E(){const R=m.values,L={full_name:R.fullName,username:R.username,email:R.email,is_superuser:R.userType==="admin"};if(s&&Rl(R,"password")){const A=await Lr.add({...L,password:R.password});b("create",A);return}if(k){await Lr.update(k.id,L),l&&v&&v.update(A=>A.with(L)),b("update");return}throw new Error("Unable to update user")}function P(R){const{commonErrors:L,fieldSpecificErrors:A}=CE(R,{user_name:"username",is_superuser:"userType"});for(const[N,F]of A){const W=f.fields[N];W?W.serverErrors.set(F):L.push(...F)}return L}return r.$$set=R=>{"user"in R&&t(0,k=R.user)},r.$$.update=()=>{var R,L,A;r.$$.dirty&16384&&t(13,n=h),r.$$.dirty&8193&&t(7,l=n&&n.id===(k==null?void 0:k.id)),r.$$.dirty&1&&t(1,s=k===void 0),r.$$.dirty&1&&t(5,i=Ti((R=k==null?void 0:k.full_name)!=null?R:"")),r.$$.dirty&1&&t(4,o=qt((L=k==null?void 0:k.username)!=null?L:"",[gF(150,"Username cannot be longer than 150 characters."),_F(/^[A-Za-z0-9_@.+-]*$/,"Username can only contain alphanumeric characters, _, @, +, ., and -.")])),r.$$.dirty&1&&t(3,a=Ti((A=k==null?void 0:k.email)!=null?A:"",[bF()])),r.$$.dirty&1&&t(2,u=qt(k!=null&&k.is_superuser?"admin":"user")),r.$$.dirty&1&&T.reset(),r.$$.dirty&62&&t(12,c=(()=>{const N={fullName:i,username:o,email:a,userType:u};return s?{...N,password:T}:N})()),r.$$.dirty&4096&&_(t(6,f=Vn(c)))},[k,s,u,a,o,i,f,l,v,T,E,P,c,n,h]}class yf extends X{constructor(e){super(),Q(this,e,ZU,JU,G,{user:0})}}function xU(r){let e;const t=r[1].default,n=De(t,r,r[2],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&4)&&Ee(n,t,l,l[2],e?Ie(t,l[2],s,null):Me(l[2]),null)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function eW(r){let e,t,n;const l=[r[0],{icon:Co}];let s={$$slots:{default:[xU]},$$scope:{ctx:r}};for(let i=0;i<l.length;i+=1)s=x(s,l[i]);return t=new Ua({props:s}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","warning-box svelte-1p8cm9u")},m(i,o){w(i,e,o),y(t,e,null),n=!0},p(i,[o]){const a=o&1?ce(l,[o&1&&be(i[0]),o&0&&{icon:Co}]):{};o&4&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(p(t.$$.fragment,i),n=!0)},o(i){g(t.$$.fragment,i),n=!1},d(i){i&&$(e),S(t)}}}function tW(r,e,t){const n=[];let l=Be(e,n),{$$slots:s={},$$scope:i}=e;return r.$$set=o=>{e=x(x({},e),ft(o)),t(0,l=Be(e,n)),"$$scope"in o&&t(2,i=o.$$scope)},[l,s,i]}class Ks extends X{constructor(e){super(),Q(this,e,tW,eW,G,{})}}function Tg(r){let e,t,n;return t=new Ks({props:{fullWidth:!0,$$slots:{default:[lW]},$$scope:{ctx:r}}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","password-change-warning svelte-153pjf4")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&65537&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function nW(r){let e;return{c(){e=B(`Resetting the password will prompt the user to change their password
          on their next login.`)},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function rW(r){let e;return{c(){e=B("You'll be redirected to the login page once you change your password.")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function lW(r){let e;function t(s,i){return s[0]?rW:nW}let n=t(r),l=n(r);return{c(){l.c(),e=ae()},m(s,i){l.m(s,i),w(s,e,i)},p(s,i){n!==(n=t(s))&&(l.d(1),l=n(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&$(e)}}}function sW(r){let e,t;return e=new Xa({props:{$$slots:{default:[aW]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&65540&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function iW(r){let e,t,n,l=r[0]&&Dg(r);return t=new Xa({props:{$$slots:{default:[cW]},$$scope:{ctx:r}}}),{c(){l&&l.c(),e=O(),C(t.$$.fragment)},m(s,i){l&&l.m(s,i),w(s,e,i),y(t,s,i),n=!0},p(s,i){s[0]?l?(l.p(s,i),i&1&&p(l,1)):(l=Dg(s),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(q(),g(l,1,1,()=>{l=null}),U());const o={};i&65536&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){n||(p(l),p(t.$$.fragment,s),n=!0)},o(s){g(l),g(t.$$.fragment,s),n=!1},d(s){l&&l.d(s),s&&$(e),S(t,s)}}}function oW(r){let e;return{c(){e=B("Change Password")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function aW(r){let e,t,n,l,s;return e=new Zr({props:{label:"Password",field:r[7],input:{component:ws,props:{disabled:!0}},bypassRow:!0}}),l=new ut({props:{appearance:"secondary",$$slots:{default:[oW]},$$scope:{ctx:r}}}),l.$on("click",r[13]),{c(){C(e.$$.fragment),t=O(),n=I("div"),C(l.$$.fragment),D(n,"class","change-password-button cell svelte-153pjf4")},m(i,o){y(e,i,o),w(i,t,o),w(i,n,o),y(l,n,null),s=!0},p(i,o){const a={};o&65536&&(a.$$scope={dirty:o,ctx:i}),l.$set(a)},i(i){s||(p(e.$$.fragment,i),p(l.$$.fragment,i),s=!0)},o(i){g(e.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){S(e,i),i&&$(t),i&&$(n),S(l)}}}function Dg(r){let e,t;return e=new Xa({props:{$$slots:{default:[uW]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&65536&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function uW(r){let e,t,n,l,s,i;return e=new Zr({props:{label:"Old Password *",field:r[4],input:{component:ws},bypassRow:!0}}),{c(){C(e.$$.fragment),t=O(),n=I("div"),l=O(),s=I("div")},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),w(o,l,a),w(o,s,a),i=!0},p:z,i(o){i||(p(e.$$.fragment,o),i=!0)},o(o){g(e.$$.fragment,o),i=!1},d(o){S(e,o),o&&$(t),o&&$(n),o&&$(l),o&&$(s)}}}function cW(r){let e,t,n,l;return e=new Zr({props:{label:"New Password *",field:r[5],input:{component:ws,props:{autocomplete:"new-password"}},bypassRow:!0}}),n=new Zr({props:{label:"Confirm Password *",field:r[6],input:{component:ws,props:{autocomplete:"new-password"}},bypassRow:!0}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p:z,i(s){l||(p(e.$$.fragment,s),p(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&$(t),S(n,s)}}}function Ig(r){let e,t,n;return t=new bl({props:{form:r[1],catchErrors:!0,onProceed:r[8],onCancel:r[14],proceedButton:{label:"Save",icon:Dc},cancelButton:{label:"Cancel"}}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","submit-section svelte-153pjf4")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&2&&(i.form=l[1]),s&4&&(i.onCancel=l[14]),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function fW(r){let e,t,n,l,s,i,o,a=r[2]&&Tg(r);const u=[iW,sW],c=[];function f(d,_){return d[2]?0:1}l=f(r),s=c[l]=u[l](r);let m=r[2]&&Ig(r);return{c(){e=I("div"),a&&a.c(),t=O(),n=I("div"),s.c(),i=O(),m&&m.c(),D(n,"class","password-inputs svelte-153pjf4"),D(e,"class","password-change-form svelte-153pjf4")},m(d,_){w(d,e,_),a&&a.m(e,null),M(e,t),M(e,n),c[l].m(n,null),M(e,i),m&&m.m(e,null),o=!0},p(d,[_]){d[2]?a?(a.p(d,_),_&4&&p(a,1)):(a=Tg(d),a.c(),p(a,1),a.m(e,t)):a&&(q(),g(a,1,1,()=>{a=null}),U());let h=l;l=f(d),l===h?c[l].p(d,_):(q(),g(c[h],1,1,()=>{c[h]=null}),U(),s=c[l],s?s.p(d,_):(s=c[l]=u[l](d),s.c()),p(s,1),s.m(n,null)),d[2]?m?(m.p(d,_),_&4&&p(m,1)):(m=Ig(d),m.c(),p(m,1),m.m(e,null)):m&&(q(),g(m,1,1,()=>{m=null}),U())},i(d){o||(p(a),p(s),p(m),o=!0)},o(d){g(a),g(s),g(m),o=!1},d(d){d&&$(e),a&&a.d(),c[l].d(),m&&m.d()}}}function mW(r,e,t){let n,l,s,i,o,a=z,u=()=>(a(),a=se(i,P=>t(15,o=P)),i),c;r.$$.on_destroy.push(()=>a());const f=Xt();de(r,f,P=>t(12,c=P));let{userId:m}=e;const d=qt(""),_=qt(""),h=qt(""),b=Ti("***************");let v=!1;async function k(){const P=o.values;l&&Rl(P,"oldPassword")?(await Lr.changePassword(P.oldPassword,P.password),window.location.reload()):(await Lr.resetPassword(m,P.password),t(2,v=!1))}const T=()=>{t(2,v=!0)},E=()=>{t(2,v=!1)};return r.$$set=P=>{"userId"in P&&t(9,m=P.userId)},r.$$.update=()=>{r.$$.dirty&4096&&t(11,n=c),r.$$.dirty&2560&&t(0,l=(n==null?void 0:n.id)===m),r.$$.dirty&1&&t(10,s=(()=>{const P={password:_,confirmPassword:h};return l?{...P,oldPassword:d}:P})()),r.$$.dirty&1024&&u(t(1,i=Vn(s,[SF([_,h],"Passwords do not match")]))),r.$$.dirty&514&&(t(2,v=!1),i.reset())},[l,i,v,f,d,_,h,b,k,m,s,n,c,T,E]}class T6 extends X{constructor(e){super(),Q(this,e,mW,fW,G,{userId:9})}}function Eg(r,e,t){const n=r.slice();n[16]=e[t][0],n[17]=e[t][1],n[21]=t;const l=n[4]&&n[3]!==n[16];n[18]=l;const s=n[4]&&n[21]===0||!n[4];return n[19]=s,n}function Mg(r){let e,t=r[0].fullName+"",n;return{c(){e=I("span"),n=B(t)},m(l,s){w(l,e,s),M(e,n)},p(l,s){s&1&&t!==(t=l[0].fullName+"")&&he(n,t)},d(l){l&&$(e)}}}function Ag(r){let e;return{c(){e=I("span"),D(e,"class","divider svelte-q2wxdp")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function Rg(r){let e,t=r[0].email+"",n;return{c(){e=I("span"),n=B(t)},m(l,s){w(l,e,s),M(e,n)},p(l,s){s&1&&t!==(t=l[0].email+"")&&he(n,t)},d(l){l&&$(e)}}}function dW(r){let e=W1(r[17])+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&2&&e!==(e=W1(n[17])+"")&&he(t,e)},d(n){n&&$(t)}}}function pW(r){let e;return{c(){e=B("Admin Access")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function Pg(r){let e=r[7](r[16],r[18])+"",t,n,l,s;return l=new Wn({props:{$$slots:{default:[_W]},$$scope:{ctx:r}}}),{c(){t=B(e),n=O(),C(l.$$.fragment)},m(i,o){w(i,t,o),w(i,n,o),y(l,i,o),s=!0},p(i,o){(!s||o&26)&&e!==(e=i[7](i[16],i[18])+"")&&he(t,e);const a={};o&4194330&&(a.$$scope={dirty:o,ctx:i}),l.$set(a)},i(i){s||(p(l.$$.fragment,i),s=!0)},o(i){g(l.$$.fragment,i),s=!1},d(i){i&&$(t),i&&$(n),S(l,i)}}}function _W(r){let e=r[8](r[16],r[18])+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&26&&e!==(e=n[8](n[16],n[18])+"")&&he(t,e)},d(n){n&&$(t)}}}function gW(r){let e,t,n,l,s=Bu(r[17])+"",i,o;const a=[$W,bW],u=[];function c(f,m){return f[16]==="database"?0:f[16]==="schema"?1:-1}return~(e=c(r))&&(t=u[e]=a[e](r)),{c(){t&&t.c(),n=O(),l=I("span"),i=B(s)},m(f,m){~e&&u[e].m(f,m),w(f,n,m),w(f,l,m),M(l,i),o=!0},p(f,m){let d=e;e=c(f),e===d?~e&&u[e].p(f,m):(t&&(q(),g(u[d],1,1,()=>{u[d]=null}),U()),~e?(t=u[e],t?t.p(f,m):(t=u[e]=a[e](f),t.c()),p(t,1),t.m(n.parentNode,n)):t=null),(!o||m&2)&&s!==(s=Bu(f[17])+"")&&he(i,s)},i(f){o||(p(t),o=!0)},o(f){g(t),o=!1},d(f){~e&&u[e].d(f),f&&$(n),f&&$(l)}}}function hW(r){let e,t,n,l;const s=[bi,{size:"0.8em"}];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new Fe({props:i}),{c(){C(e.$$.fragment),t=O(),n=I("span"),n.textContent="Admin"},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),l=!0},p(o,a){const u=a&0?ce(s,[be(bi),s[1]]):{};e.$set(u)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),o&&$(n)}}}function bW(r){let e,t;const n=[Cs,{size:"0.8em"}];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[be(Cs),n[1]]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function $W(r){let e,t;const n=[ll,{size:"0.8em"}];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[be(ll),n[1]]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function wW(r){let e,t,n,l;const s=[hW,gW],i=[];function o(a,u){return a[16]==="admin"?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function vW(r){let e,t;return e=new tl({props:{onClick:r[5],label:"",icon:{...Ut,size:"0.75em"},appearance:"outline-primary"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function kW(r){let e,t;return e=new hc({props:{$$slots:{content:[CW],trigger:[SW]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4194306&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function yW(r){let e,t;const n=[Ut,{size:"0.75em"}];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[be(Ut),n[1]]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function SW(r){let e,t;return e=new ut({props:{slot:"trigger",disabled:!0,$$slots:{default:[yW]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4194304&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function CW(r){let e,t=r[9](r[16])+"",n;return{c(){e=I("span"),n=B(t),D(e,"slot","content")},m(l,s){w(l,e,s),M(e,n)},p(l,s){s&2&&t!==(t=l[9](l[16])+"")&&he(n,t)},d(l){l&&$(e)}}}function Og(r,e){let t,n,l,s,i,o,a,u,c,f,m,d,_,h;function b(L,A){return L[16]==="admin"?pW:dW}let v=b(e),k=v(e),T=e[4]&&e[16]!=="admin"&&Pg(e);a=new b$({props:{background:"var(--slate-200)",display:"inline-flex",$$slots:{default:[wW]},$$scope:{ctx:e}}});const E=[kW,vW],P=[];function R(L,A){return A&6&&(f=null),f==null&&(f=!!(L[16]==="admin"||L[6](L[16])||L[2])),f?0:1}return m=R(e,-1),d=P[m]=E[m](e),{key:r,first:null,c(){t=I("div"),n=I("div"),l=I("div"),k.c(),s=O(),T&&T.c(),i=O(),o=I("div"),C(a.$$.fragment),u=O(),c=I("div"),d.c(),_=O(),D(n,"class","cell access-level svelte-q2wxdp"),Z(n,"disabled",e[18]),Z(n,"has-border",e[19]),D(o,"class","cell access-level-chip svelte-q2wxdp"),Z(o,"disabled",e[18]),Z(o,"has-border",e[19]),D(c,"class","cell svelte-q2wxdp"),Z(c,"has-border",e[19]),D(t,"class","access-wrapper svelte-q2wxdp"),this.first=t},m(L,A){w(L,t,A),M(t,n),M(n,l),k.m(l,null),M(l,s),T&&T.m(l,null),M(t,i),M(t,o),y(a,o,null),M(t,u),M(t,c),P[m].m(c,null),M(t,_),h=!0},p(L,A){e=L,v===(v=b(e))&&k?k.p(e,A):(k.d(1),k=v(e),k&&(k.c(),k.m(l,s))),e[4]&&e[16]!=="admin"?T?(T.p(e,A),A&18&&p(T,1)):(T=Pg(e),T.c(),p(T,1),T.m(l,null)):T&&(q(),g(T,1,1,()=>{T=null}),U()),(!h||A&26)&&Z(n,"disabled",e[18]),(!h||A&18)&&Z(n,"has-border",e[19]);const N={};A&4194306&&(N.$$scope={dirty:A,ctx:e}),a.$set(N),(!h||A&26)&&Z(o,"disabled",e[18]),(!h||A&18)&&Z(o,"has-border",e[19]);let F=m;m=R(e,A),m===F?P[m].p(e,A):(q(),g(P[F],1,1,()=>{P[F]=null}),U(),d=P[m],d?d.p(e,A):(d=P[m]=E[m](e),d.c()),p(d,1),d.m(c,null)),(!h||A&18)&&Z(c,"has-border",e[19])},i(L){h||(p(T),p(a.$$.fragment,L),p(d),h=!0)},o(L){g(T),g(a.$$.fragment,L),g(d),h=!1},d(L){L&&$(t),k.d(),T&&T.d(),S(a),P[m].d()}}}function TW(r){let e,t,n,l,s=r[0].username+"",i,o,a,u,c,f=`span ${r[1].length}`,m,d=[],_=new Map,h,b=r[0].fullName&&Mg(r),v=r[0].fullName&&r[0].email&&Ag(),k=r[0].email&&Rg(r),T=r[1];const E=P=>`${P[16]}-${P[17]}`;for(let P=0;P<T.length;P+=1){let R=Eg(r,T,P),L=E(R);_.set(L,d[P]=Og(L,R))}return{c(){e=I("div"),t=I("div"),n=I("div"),l=I("div"),i=B(s),o=O(),a=I("div"),b&&b.c(),u=O(),v&&v.c(),c=O(),k&&k.c(),m=O();for(let P=0;P<d.length;P+=1)d[P].c();D(l,"class","name svelte-q2wxdp"),D(a,"class","info svelte-q2wxdp"),D(n,"class","name-and-info svelte-q2wxdp"),D(t,"class","cell has-border svelte-q2wxdp"),yn(t,"grid-row",f,!1),D(e,"class","wrapper svelte-q2wxdp")},m(P,R){w(P,e,R),M(e,t),M(t,n),M(n,l),M(l,i),M(n,o),M(n,a),b&&b.m(a,null),M(a,u),v&&v.m(a,null),M(a,c),k&&k.m(a,null),M(e,m);for(let L=0;L<d.length;L+=1)d[L].m(e,null);h=!0},p(P,[R]){(!h||R&1)&&s!==(s=P[0].username+"")&&he(i,s),P[0].fullName?b?b.p(P,R):(b=Mg(P),b.c(),b.m(a,u)):b&&(b.d(1),b=null),P[0].fullName&&P[0].email?v||(v=Ag(),v.c(),v.m(a,c)):v&&(v.d(1),v=null),P[0].email?k?k.p(P,R):(k=Rg(P),k.c(),k.m(a,null)):k&&(k.d(1),k=null),R&2&&f!==(f=`span ${P[1].length}`)&&yn(t,"grid-row",f,!1),R&1022&&(T=P[1],q(),d=pt(d,R,E,1,P,T,_,e,ht,Og,null,Eg),U())},i(P){if(!h){for(let R=0;R<T.length;R+=1)p(d[R]);h=!0}},o(P){for(let R=0;R<d.length;R+=1)g(d[R]);h=!1},d(P){P&&$(e),b&&b.d(),v&&v.d(),k&&k.d();for(let R=0;R<d.length;R+=1)d[R].d()}}}function DW(r,e,t){let n,l,s,i,o,a,{userProfile:u}=e,{userModel:c}=e,{accessControlObject:f}=e,{getUserRoles:m}=e,{removeAccessForUser:d}=e;async function _(){await d(c)}function h(T){return f!==T}function b(T,E){const P=[];return h(T)&&P.push("Inherited"),E&&P.push("Overridden"),P.length>0?`(${P.join(", ")})`:""}function v(T,E){const P=T==="database"?"schema":"database",R=h(T);return R&&E?`This access level is inherited from the ${T} permissions
        and is overridden by the ${P} permissions.`:R?`This access level is inherited from the ${T} permissions.`:E?`This access level is overridden by the ${P} permissions.`:`This access level overrides the ${P} permissions.`}function k(T){return T==="admin"?"Individual permissions cannot be modified for users with Admin access.":a?"You cannot modify your own access levels. Please contact an administrator.":h(T)?"This access level is inherited and cannot be removed from this panel.":"This access level cannot be removed."}return r.$$set=T=>{"userProfile"in T&&t(10,u=T.userProfile),"userModel"in T&&t(0,c=T.userModel),"accessControlObject"in T&&t(11,f=T.accessControlObject),"getUserRoles"in T&&t(12,m=T.getUserRoles),"removeAccessForUser"in T&&t(13,d=T.removeAccessForUser)},r.$$.update=()=>{r.$$.dirty&4097&&t(14,n=m(c)),r.$$.dirty&16384&&t(15,l=n&&n.size>0?[...n.entries()]:[]),r.$$.dirty&32769&&t(1,s=(()=>c.isSuperUser?[["admin","manager"]]:l)()),r.$$.dirty&2&&t(4,i=s.length>1),r.$$.dirty&16384&&t(3,o=n?QE(n):void 0),r.$$.dirty&1025&&t(2,a=(u==null?void 0:u.id)===c.id)},[c,s,a,o,i,_,h,b,v,k,u,f,m,d,n,l]}class IW extends X{constructor(e){super(),Q(this,e,DW,TW,G,{userProfile:10,userModel:0,accessControlObject:11,getUserRoles:12,removeAccessForUser:13})}}function Lg(r,e,t){const n=r.slice();return n[21]=e[t],n}function Ng(r){let e,t;return e=new ut({props:{appearance:"secondary",$$slots:{default:[EW]},$$scope:{ctx:r}}}),e.$on("click",r[17]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&33554432&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function EW(r){let e,t,n,l;const s=[Qt];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new Fe({props:i}),{c(){C(e.$$.fragment),t=O(),n=I("span"),n.textContent="Add"},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),l=!0},p(o,a){const u=a&0?ce(s,[be(Qt)]):{};e.$set(u)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),o&&$(n)}}}function Fg(r){let e,t,n,l,s,i,o,a,u,c;n=new wn({props:{label:"User",layout:"stacked",$$slots:{default:[OW]},$$scope:{ctx:r}}}),s=new wn({props:{label:"Permission",layout:"stacked",$$slots:{default:[LW]},$$scope:{ctx:r}}}),a=new tl({props:{disabled:!r[4]||r[6],onClick:r[13],icon:Qt,label:"Add",appearance:"secondary"}});let f=r[8]&&zg(r);return{c(){e=I("div"),t=I("div"),C(n.$$.fragment),l=O(),C(s.$$.fragment),i=O(),o=I("div"),C(a.$$.fragment),u=O(),f&&f.c(),D(o,"class","add-button svelte-v15h0w"),D(t,"class","add-user-form svelte-v15h0w"),D(e,"class","add-user svelte-v15h0w")},m(m,d){w(m,e,d),M(e,t),y(n,t,null),M(t,l),y(s,t,null),M(t,i),M(t,o),y(a,o,null),M(e,u),f&&f.m(e,null),c=!0},p(m,d){const _={};d&33555536&&(_.$$scope={dirty:d,ctx:m}),n.$set(_);const h={};d&33555008&&(h.$$scope={dirty:d,ctx:m}),s.$set(h);const b={};d&80&&(b.disabled=!m[4]||m[6]),a.$set(b),m[8]?f?(f.p(m,d),d&256&&p(f,1)):(f=zg(m),f.c(),p(f,1),f.m(e,null)):f&&(q(),g(f,1,1,()=>{f=null}),U())},i(m){c||(p(n.$$.fragment,m),p(s.$$.fragment,m),p(a.$$.fragment,m),p(f),c=!0)},o(m){g(n.$$.fragment,m),g(s.$$.fragment,m),g(a.$$.fragment,m),g(f),c=!1},d(m){m&&$(e),S(n),S(s),S(a),f&&f.d()}}}function MW(r){let e;return{c(){e=I("span"),e.textContent="Select User",D(e,"class","placeholder svelte-v15h0w")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function AW(r){let e=r[24].username+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&16777216&&e!==(e=n[24].username+"")&&he(t,e)},d(n){n&&$(t)}}}function RW(r){let e;function t(s,i){return s[24]?AW:MW}let n=t(r),l=n(r);return{c(){l.c(),e=ae()},m(s,i){l.m(s,i),w(s,e,i)},p(s,i){n===(n=t(s))&&l?l.p(s,i):(l.d(1),l=n(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&$(e)}}}function PW(r){let e;return{c(){e=I("div"),e.textContent="No users found",D(e,"class","no-users svelte-v15h0w"),D(e,"slot","empty")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function OW(r){let e,t,n;function l(i){r[18](i)}let s={autoSelect:"none",options:r[10],disabled:r[6],$$slots:{empty:[PW,({option:i})=>({24:i}),({option:i})=>i?16777216:0],default:[RW,({option:i})=>({24:i}),({option:i})=>i?16777216:0]},$$scope:{ctx:r}};return r[4]!==void 0&&(s.value=r[4]),e=new Sn({props:s}),ye.push(()=>Pe(e,"value",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&1024&&(a.options=i[10]),o&64&&(a.disabled=i[6]),o&50331648&&(a.$$scope={dirty:o,ctx:i}),!t&&o&16&&(t=!0,a.value=i[4],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function LW(r){let e,t,n;function l(i){r[20](i)}let s={options:r[11],getLabel:r[19],disabled:r[6]};return r[9]!==void 0&&(s.value=r[9]),e=new Sn({props:s}),ye.push(()=>Pe(e,"value",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&64&&(a.disabled=i[6]),!t&&o&512&&(t=!0,a.value=i[9],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function zg(r){let e,t;return e=new zn({props:{$$slots:{default:[NW]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&33554688&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function NW(r){let e;return{c(){e=B(r[8])},m(t,n){w(t,e,n)},p(t,n){n&256&&he(e,t[8])},d(t){t&&$(e)}}}function Hg(r){let e,t;return e=new Wn({props:{$$slots:{default:[FW]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function FW(r){let e;return{c(){e=B(`If a user has different access levels on the database and the schema,
        the access level of schema will take precedence.`)},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function Vg(r,e){let t,n,l;return n=new IW({props:{userProfile:e[5],getUserRoles:e[3],userModel:e[21],accessControlObject:e[2],removeAccessForUser:e[1]}}),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&32&&(o.userProfile=e[5]),i&8&&(o.getUserRoles=e[3]),i&1&&(o.userModel=e[21]),i&4&&(o.accessControlObject=e[2]),i&2&&(o.removeAccessForUser=e[1]),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}function zW(r){let e,t,n,l,s,i,o,a,u,c=[],f=new Map,m,d=!r[7]&&Ng(r),_=r[7]&&Fg(r),h=r[2]==="schema"&&Hg(r),b=r[0];const v=k=>k[21].id;for(let k=0;k<b.length;k+=1){let T=Lg(r,b,k),E=v(T);f.set(E,c[k]=Vg(E,T))}return{c(){e=I("div"),d&&d.c(),t=O(),_&&_.c(),n=O(),l=I("div"),s=I("div"),i=I("span"),i.textContent="Users with access",o=O(),h&&h.c(),a=O(),u=I("div");for(let k=0;k<c.length;k+=1)c[k].c();D(s,"class","header svelte-v15h0w"),D(u,"class","list svelte-v15h0w"),D(l,"class","users-with-access svelte-v15h0w")},m(k,T){w(k,e,T),d&&d.m(e,null),M(e,t),_&&_.m(e,null),w(k,n,T),w(k,l,T),M(l,s),M(s,i),M(s,o),h&&h.m(s,null),M(l,a),M(l,u);for(let E=0;E<c.length;E+=1)c[E].m(u,null);m=!0},p(k,[T]){k[7]?d&&(q(),g(d,1,1,()=>{d=null}),U()):d?(d.p(k,T),T&128&&p(d,1)):(d=Ng(k),d.c(),p(d,1),d.m(e,t)),k[7]?_?(_.p(k,T),T&128&&p(_,1)):(_=Fg(k),_.c(),p(_,1),_.m(e,null)):_&&(q(),g(_,1,1,()=>{_=null}),U()),k[2]==="schema"?h?T&4&&p(h,1):(h=Hg(k),h.c(),p(h,1),h.m(s,null)):h&&(q(),g(h,1,1,()=>{h=null}),U()),T&47&&(b=k[0],q(),c=pt(c,T,v,1,k,b,f,u,ht,Vg,null,Lg),U())},i(k){if(!m){p(d),p(_),p(h);for(let T=0;T<b.length;T+=1)p(c[T]);m=!0}},o(k){g(d),g(_),g(h);for(let T=0;T<c.length;T+=1)g(c[T]);m=!1},d(k){k&&$(e),d&&d.d(),_&&_.d(),k&&$(n),k&&$(l),h&&h.d();for(let T=0;T<c.length;T+=1)c[T].d()}}}function HW(r,e,t){let n,l,s;const i=["viewer","editor","manager"],o=Xt();de(r,o,A=>t(16,s=A));let{usersWithAccess:a}=e,{usersWithoutAccess:u}=e,{addAccessForUser:c}=e,{removeAccessForUser:f}=e,{accessControlObject:m}=e,{getUserRoles:d}=e,_=!1,h=!1,b,v,k="viewer";async function T(){if(t(8,b=void 0),v)try{t(6,_=!0),await c(v,k),t(4,v=void 0)}catch(A){t(8,b=en(A))}finally{t(6,_=!1)}}const E=()=>{t(7,h=!0),t(8,b=void 0)};function P(A){v=A,t(4,v)}const R=A=>A?Bu(A):"Select Permission";function L(A){k=A,t(9,k)}return r.$$set=A=>{"usersWithAccess"in A&&t(0,a=A.usersWithAccess),"usersWithoutAccess"in A&&t(14,u=A.usersWithoutAccess),"addAccessForUser"in A&&t(15,c=A.addAccessForUser),"removeAccessForUser"in A&&t(1,f=A.removeAccessForUser),"accessControlObject"in A&&t(2,m=A.accessControlObject),"getUserRoles"in A&&t(3,d=A.getUserRoles)},r.$$.update=()=>{r.$$.dirty&65536&&t(5,n=s),r.$$.dirty&16416&&t(10,l=u.filter(A=>A.id!==(n==null?void 0:n.id)))},[a,f,m,d,v,n,_,h,b,k,l,i,o,T,u,c,s,E,P,R,L]}class D6 extends X{constructor(e){super(),Q(this,e,HW,zW,G,{usersWithAccess:0,usersWithoutAccess:14,addAccessForUser:15,removeAccessForUser:1,accessControlObject:2,getUserRoles:3})}}function VW(r){switch(r){case"admin":return"Admin";case"standard":return"Standard";default:throw new nl(r)}}function qW(r){const e=r.isSuperUser?"admin":"standard",t=VW(e);return{icon:r.isSuperUser?rE:bi,type:e,displayName:t}}function UW(r){let e,t;return e=new zn({props:{$$slots:{default:[jW]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4112&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function WW(r){let e;return{c(){e=I("div"),e.textContent="Loading"},m(t,n){w(t,e,n)},p:z,i:z,o:z,d(t){t&&$(e)}}}function BW(r){let e,t;return e=new D6({props:{accessControlObject:"database",usersWithAccess:r[5],usersWithoutAccess:r[6],addAccessForUser:r[8],removeAccessForUser:r[9],getUserRoles:r[10]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.usersWithAccess=n[5]),l&64&&(s.usersWithoutAccess=n[6]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function jW(r){let e=r[4].errors.join(", ")+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&16&&e!==(e=n[4].errors.join(", ")+"")&&he(t,e)},d(n){n&&$(t)}}}function YW(r){let e,t,n,l;const s=[BW,WW,UW],i=[];function o(a,u){var c,f,m;return((c=a[4])==null?void 0:c.state)==="success"?0:((f=a[4])==null?void 0:f.state)==="processing"?1:((m=a[4])==null?void 0:m.state)==="failure"?2:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=ae()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(q(),g(i[c],1,1,()=>{i[c]=null}),U()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&$(n)}}}function KW(r){let e=r[1].name+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&2&&e!==(e=n[1].name+"")&&he(t,e)},d(n){n&&$(t)}}}function GW(r){let e,t,n,l;return t=new rl({props:{$$slots:{default:[KW]},$$scope:{ctx:r}}}),{c(){e=B("Manage "),C(t.$$.fragment),n=B(" Database Access")},m(s,i){w(s,e,i),y(t,s,i),w(s,n,i),l=!0},p(s,i){const o={};i&4098&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){l||(p(t.$$.fragment,s),l=!0)},o(s){g(t.$$.fragment,s),l=!1},d(s){s&&$(e),S(t,s),s&&$(n)}}}function QW(r){let e,t;return e=new Pl({props:{controller:r[0],closeOn:["button","esc","overlay"],$$slots:{title:[GW],default:[YW]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.controller=n[0]),l&4210&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function XW(r,e,t){let n,l,s,i,o=z,a=()=>(o(),o=se(l,T=>t(5,i=T)),l),u,c=z,f=()=>(c(),c=se(n,T=>t(6,u=T)),n);r.$$.on_destroy.push(()=>o()),r.$$.on_destroy.push(()=>c());let{controller:m}=e,{database:d}=e;const _=Ac(),{requestStatus:h}=_;de(r,h,T=>t(4,s=T));async function b(T,E){await _.addDatabaseRoleForUser(T.id,d,E)}async function v(T){await _.removeDatabaseAccessForUser(T.id,d)}function k(T){const E=T.getRoleForDb(d);return E?new Map([["database",E.role]]):void 0}return r.$$set=T=>{"controller"in T&&t(0,m=T.controller),"database"in T&&t(1,d=T.database)},r.$$.update=()=>{r.$$.dirty&2&&f(t(3,n=_.getUsersWithoutAccessToDb(d))),r.$$.dirty&2&&a(t(2,l=_.getUsersWithAccessToDb(d)))},[m,d,l,n,s,i,u,h,b,v,k]}class JW extends X{constructor(e){super(),Q(this,e,XW,QW,G,{controller:0,database:1})}}function ZW(r){let e,t,n=Yt(r[0].num_tables,"tables")+"",l,s,i,o,a,u=Yt(r[0].num_queries,"explorations")+"",c;return{c(){e=I("div"),t=I("p"),l=B(n),s=O(),i=I("span"),o=O(),a=I("p"),c=B(u),D(t,"class","constituent svelte-1ybc0rc"),D(i,"class","divider svelte-1ybc0rc"),D(a,"class","constituent svelte-1ybc0rc"),D(e,"class","container svelte-1ybc0rc")},m(f,m){w(f,e,m),M(e,t),M(t,l),M(e,s),M(e,i),M(e,o),M(e,a),M(a,c)},p(f,[m]){m&1&&n!==(n=Yt(f[0].num_tables,"tables")+"")&&he(l,n),m&1&&u!==(u=Yt(f[0].num_queries,"explorations")+"")&&he(c,u)},i:z,o:z,d(f){f&&$(e)}}}function xW(r,e,t){let{schema:n}=e;return r.$$set=l=>{"schema"in l&&t(0,n=l.schema)},[n]}class eB extends X{constructor(e){super(),Q(this,e,xW,ZW,G,{schema:0})}}function tB(r){let e,t,n;return t=new Ar({props:{showArrow:!1,triggerAppearance:"plain",preferredPlacement:"bottom-end",icon:Tc,menuStyle:"--spacing-y:0.8em;",$$slots:{default:[sB]},$$scope:{ctx:r}}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","menu-trigger svelte-q51nhu")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&32768&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function nB(r){let e,t,n;const l=[q1];let s={};for(let i=0;i<l.length;i+=1)s=x(s,l[i]);return t=new Fe({props:s}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","lock svelte-q51nhu")},m(i,o){w(i,e,o),y(t,e,null),n=!0},p(i,o){const a=o&0?ce(l,[be(q1)]):{};t.$set(a)},i(i){n||(p(t.$$.fragment,i),n=!0)},o(i){g(t.$$.fragment,i),n=!1},d(i){i&&$(e),S(t)}}}function rB(r){let e;return{c(){e=B("Edit Schema")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function lB(r){let e;return{c(){e=B("Delete Schema")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function sB(r){let e,t,n,l,s,i;return e=new xt({props:{icon:vs,$$slots:{default:[rB]},$$scope:{ctx:r}}}),e.$on("click",r[9]),n=new Ni({}),s=new xt({props:{danger:!0,icon:Ut,$$slots:{default:[lB]},$$scope:{ctx:r}}}),s.$on("click",r[10]),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment),l=O(),C(s.$$.fragment)},m(o,a){y(e,o,a),w(o,t,a),y(n,o,a),w(o,l,a),y(s,o,a),i=!0},p(o,a){const u={};a&32768&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a&32768&&(c.$$scope={dirty:a,ctx:o}),s.$set(c)},i(o){i||(p(e.$$.fragment,o),p(n.$$.fragment,o),p(s.$$.fragment,o),i=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),g(s.$$.fragment,o),i=!1},d(o){S(e,o),o&&$(t),S(n,o),o&&$(l),S(s,o)}}}function qg(r){let e,t=r[0].description+"",n,l;return{c(){e=I("p"),n=B(t),D(e,"class","description svelte-q51nhu"),D(e,"title",l=r[0].description)},m(s,i){w(s,e,i),M(e,n)},p(s,i){i&1&&t!==(t=s[0].description+"")&&he(n,t),i&1&&l!==(l=s[0].description)&&D(e,"title",l)},d(s){s&&$(e)}}}function Ug(r){let e,t;return e=new Ys({props:{$$slots:{default:[iB]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function iB(r){let e;return{c(){e=B(`Every PostgreSQL database includes the "public" schema. This protected
      schema can be read by anybody who accesses the database.`)},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function oB(r){let e,t,n,l,s,i,o,a,u,c,f,m,d,_,h,b,v;l=new g6({props:{schema:r[0],iconHasBox:!0}});const k=[nB,tB],T=[];function E(L,A){return L[4]?0:L[1]?1:-1}~(i=E(r))&&(o=T[i]=k[i](r));let P=r[0].description&&qg(r);c=new eB({props:{schema:r[0]}});let R=r[5]&&Ug(r);return{c(){e=I("div"),t=I("div"),n=I("div"),C(l.$$.fragment),s=O(),o&&o.c(),a=O(),P&&P.c(),u=O(),C(c.$$.fragment),f=O(),R&&R.c(),m=O(),d=I("a"),D(n,"class","name svelte-q51nhu"),D(t,"class","title-and-meta svelte-q51nhu"),D(d,"href",r[6]),D(d,"class","hyperlink-overlay svelte-q51nhu"),D(d,"aria-label",_=r[0].name),D(e,"class","schema-row svelte-q51nhu"),Z(e,"hover",r[2]),Z(e,"focus",r[3]),Z(e,"is-locked",r[4])},m(L,A){w(L,e,A),M(e,t),M(t,n),y(l,n,null),M(t,s),~i&&T[i].m(t,null),M(e,a),P&&P.m(e,null),M(e,u),y(c,e,null),M(e,f),R&&R.m(e,null),M(e,m),M(e,d),h=!0,b||(v=[Le(d,"mouseenter",r[11]),Le(d,"mouseleave",r[12]),Le(d,"focusin",r[13]),Le(d,"focusout",r[14])],b=!0)},p(L,[A]){const N={};A&1&&(N.schema=L[0]),l.$set(N);let F=i;i=E(L),i===F?~i&&T[i].p(L,A):(o&&(q(),g(T[F],1,1,()=>{T[F]=null}),U()),~i?(o=T[i],o?o.p(L,A):(o=T[i]=k[i](L),o.c()),p(o,1),o.m(t,null)):o=null),L[0].description?P?P.p(L,A):(P=qg(L),P.c(),P.m(e,u)):P&&(P.d(1),P=null);const K={};A&1&&(K.schema=L[0]),c.$set(K),L[5]?R?A&32&&p(R,1):(R=Ug(L),R.c(),p(R,1),R.m(e,m)):R&&(q(),g(R,1,1,()=>{R=null}),U()),(!h||A&64)&&D(d,"href",L[6]),(!h||A&1&&_!==(_=L[0].name))&&D(d,"aria-label",_),(!h||A&4)&&Z(e,"hover",L[2]),(!h||A&8)&&Z(e,"focus",L[3]),(!h||A&16)&&Z(e,"is-locked",L[4])},i(L){h||(p(l.$$.fragment,L),p(o),p(c.$$.fragment,L),p(R),h=!0)},o(L){g(l.$$.fragment,L),g(o),g(c.$$.fragment,L),g(R),h=!1},d(L){L&&$(e),S(l),~i&&T[i].d(),P&&P.d(),S(c),R&&R.d(),b=!1,Dt(v)}}}function aB(r,e,t){let n,l,s;const i=dt();let{database:o}=e,{schema:a}=e,{canExecuteDDL:u=!0}=e,c=!1,f=!1;const m=()=>i("edit"),d=()=>i("delete"),_=()=>{t(2,c=!0)},h=()=>{t(2,c=!1)},b=()=>{t(3,f=!0)},v=()=>{t(3,f=!1)};return r.$$set=k=>{"database"in k&&t(8,o=k.database),"schema"in k&&t(0,a=k.schema),"canExecuteDDL"in k&&t(1,u=k.canExecuteDDL)},r.$$.update=()=>{r.$$.dirty&257&&t(6,n=rr(o.name,a.id)),r.$$.dirty&1&&t(5,l=a.name==="public"),r.$$.dirty&1&&t(4,s=a.name==="public")},[a,u,c,f,s,l,n,i,o,m,d,_,h,b,v]}class uB extends X{constructor(e){super(),Q(this,e,aB,oB,G,{database:8,schema:0,canExecuteDDL:1})}}const cB=["All objects in this schema will be deleted permanently, including (but not limited to) tables and views. Some of these objects may not be visible in the Mathesar UI.","Are you sure you want to proceed?"];function Wg(r,e,t){const n=r.slice();return n[23]=e[t],n}function Bg(r){let e,t,n,l,s=r[7]&&jg(r);return n=new Ar({props:{showArrow:!1,triggerAppearance:"plain",label:"",closeOnInnerClick:!1,icon:Tc,preferredPlacement:"bottom-end",menuStyle:"--spacing-y:0.8em;",$$slots:{default:[pB]},$$scope:{ctx:r}}}),{c(){e=I("div"),s&&s.c(),t=O(),C(n.$$.fragment)},m(i,o){w(i,e,o),s&&s.m(e,null),M(e,t),y(n,e,null),l=!0},p(i,o){i[7]?s?(s.p(i,o),o&128&&p(s,1)):(s=jg(i),s.c(),p(s,1),s.m(e,t)):s&&(q(),g(s,1,1,()=>{s=null}),U());const a={};o&67108896&&(a.$$scope={dirty:o,ctx:i}),n.$set(a)},i(i){l||(p(s),p(n.$$.fragment,i),l=!0)},o(i){g(s),g(n.$$.fragment,i),l=!1},d(i){i&&$(e),s&&s.d(),S(n)}}}function jg(r){let e,t;return e=new ut({props:{appearance:"secondary",$$slots:{default:[fB]},$$scope:{ctx:r}}}),e.$on("click",r[15]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&67108864&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function fB(r){let e,t,n,l;const s=[Ro];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new Fe({props:i}),{c(){C(e.$$.fragment),t=O(),n=I("span"),n.textContent="Manage Access"},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),l=!0},p(o,a){const u=a&0?ce(s,[be(Ro)]):{};e.$set(u)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),o&&$(n)}}}function mB(r){let e,t,n;return{c(){e=I("p"),e.textContent=`If you make structural changes to the database outside
                  Mathesar (e.g. using another tool to add a schema, table, or
                  column), those changes will not be reflected in Mathesar until
                  you manually sync them with this button.`,t=O(),n=I("p"),n.innerHTML=`External changes to data (e.g. adding or editing
                  <em>rows</em>) will be automatically reflected without
                  clicking this button.`},m(l,s){w(l,e,s),w(l,t,s),w(l,n,s)},p:z,d(l){l&&$(e),l&&$(t),l&&$(n)}}}function dB(r){let e,t,n,l;return n=new Wn({props:{$$slots:{default:[mB]},$$scope:{ctx:r}}}),{c(){e=I("div"),t=B(`Sync External Changes
              `),C(n.$$.fragment),D(e,"class","reflect")},m(s,i){w(s,e,i),M(e,t),y(n,e,null),l=!0},p(s,i){const o={};i&67108864&&(o.$$scope={dirty:i,ctx:s}),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(e),S(n)}}}function pB(r){let e,t;return e=new xt({props:{icon:{...ks,spin:r[5]},disabled:r[5],$$slots:{default:[dB]},$$scope:{ctx:r}}}),e.$on("click",r[17]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.icon={...ks,spin:n[5]}),l&32&&(s.disabled=n[5]),l&67108864&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function _B(r){let e,t,n=(r[8]||r[7])&&Bg(r);return{c(){n&&n.c(),e=ae()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[8]||l[7]?n?(n.p(l,s),s&384&&p(n,1)):(n=Bg(l),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&$(e)}}}function Yg(r){let e,t;return e=new ut({props:{appearance:"primary",$$slots:{default:[gB]},$$scope:{ctx:r}}}),e.$on("click",r[12]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&67108864&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function gB(r){let e,t,n,l;const s=[Qt];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new Fe({props:i}),{c(){C(e.$$.fragment),t=O(),n=I("span"),n.textContent="Create Schema"},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),l=!0},p(o,a){const u=a&0?ce(s,[be(Qt)]):{};e.$set(u)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),o&&$(n)}}}function hB(r){let e,t,n=r[8]&&Yg(r);return{c(){n&&n.c(),e=ae()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[8]?n?(n.p(l,s),s&256&&p(n,1)):(n=Yg(l),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&$(e)}}}function bB(r){let e,t=Yt(r[6],"results")+"",n,l,s,i;return{c(){e=I("p"),n=B(t),l=B(`
      for all schemas matching
      `),s=I("strong"),i=B(r[1]),D(e,"slot","resultInfo")},m(o,a){w(o,e,a),M(e,n),M(e,l),M(e,s),M(s,i)},p(o,a){a&64&&t!==(t=Yt(o[6],"results")+"")&&he(n,t),a&2&&he(i,o[1])},d(o){o&&$(e)}}}function Kg(r,e){var a;let t,n,l,s;function i(){return e[20](e[23])}function o(){return e[21](e[23])}return n=new uB({props:{database:e[0],schema:e[23],canExecuteDDL:(a=e[3])==null?void 0:a.hasPermission({database:e[0],schema:e[23]},"canExecuteDDL")}}),n.$on("edit",i),n.$on("delete",o),{key:r,first:null,c(){t=I("li"),C(n.$$.fragment),l=O(),D(t,"class","schema-list-item svelte-ujdzkl"),this.first=t},m(u,c){w(u,t,c),y(n,t,null),M(t,l),s=!0},p(u,c){var m;e=u;const f={};c&1&&(f.database=e[0]),c&64&&(f.schema=e[23]),c&73&&(f.canExecuteDDL=(m=e[3])==null?void 0:m.hasPermission({database:e[0],schema:e[23]},"canExecuteDDL")),n.$set(f)},i(u){s||(p(n.$$.fragment,u),s=!0)},o(u){g(n.$$.fragment,u),s=!1},d(u){u&&$(t),S(n)}}}function $B(r){let e,t=[],n=new Map,l,s=r[6];const i=o=>o[23].id;for(let o=0;o<s.length;o+=1){let a=Wg(r,s,o),u=i(a);n.set(u,t[o]=Kg(u,a))}return{c(){e=I("ul");for(let o=0;o<t.length;o+=1)t[o].c();D(e,"class","schema-list svelte-ujdzkl"),D(e,"slot","content")},m(o,a){w(o,e,a);for(let u=0;u<t.length;u+=1)t[u].m(e,null);l=!0},p(o,a){a&24649&&(s=o[6],q(),t=pt(t,a,i,1,o,s,n,e,ht,Kg,null,Wg),U())},i(o){if(!l){for(let a=0;a<s.length;a+=1)p(t[a]);l=!0}},o(o){for(let a=0;a<t.length;a+=1)g(t[a]);l=!1},d(o){o&&$(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function wB(r){let e,t,n,l,s,i,o=r[2].size+"",a,u,c,f,m,d,_,h,b,v;e=new vf({props:{pageTitleAndMetaProps:{name:r[0].name,type:"database",icon:ll},$$slots:{action:[_B]},$$scope:{ctx:r}}});function k(E){r[22](E)}let T={searchPlaceholder:"Search Schemas",$$slots:{content:[$B],resultInfo:[bB],action:[hB]},$$scope:{ctx:r}};return r[1]!==void 0&&(T.searchQuery=r[1]),f=new Qa({props:T}),ye.push(()=>Pe(f,"searchQuery",k)),f.$on("clear",r[16]),_=new C6({props:{controller:r[9],database:r[0],schema:r[4]}}),b=new JW({props:{controller:r[10],database:r[0]}}),{c(){C(e.$$.fragment),t=O(),n=I("div"),l=I("div"),s=I("h2"),i=B("Schemas ("),a=B(o),u=B(")"),c=O(),C(f.$$.fragment),d=O(),C(_.$$.fragment),h=O(),C(b.$$.fragment),D(s,"class","schema-list-title svelte-ujdzkl"),D(l,"class","schema-list-title-container svelte-ujdzkl"),D(n,"class","schema-list-wrapper svelte-ujdzkl")},m(E,P){y(e,E,P),w(E,t,P),w(E,n,P),M(n,l),M(l,s),M(s,i),M(s,a),M(s,u),M(n,c),y(f,n,null),w(E,d,P),y(_,E,P),w(E,h,P),y(b,E,P),v=!0},p(E,[P]){const R={};P&1&&(R.pageTitleAndMetaProps={name:E[0].name,type:"database",icon:ll}),P&67109280&&(R.$$scope={dirty:P,ctx:E}),e.$set(R),(!v||P&4)&&o!==(o=E[2].size+"")&&he(a,o);const L={};P&67109195&&(L.$$scope={dirty:P,ctx:E}),!m&&P&2&&(m=!0,L.searchQuery=E[1],Ne(()=>m=!1)),f.$set(L);const A={};P&1&&(A.database=E[0]),P&16&&(A.schema=E[4]),_.$set(A);const N={};P&1&&(N.database=E[0]),b.$set(N)},i(E){v||(p(e.$$.fragment,E),p(f.$$.fragment,E),p(_.$$.fragment,E),p(b.$$.fragment,E),v=!0)},o(E){g(e.$$.fragment,E),g(f.$$.fragment,E),g(_.$$.fragment,E),g(b.$$.fragment,E),v=!1},d(E){S(e,E),E&&$(t),E&&$(n),S(f),E&&$(d),S(_,E),E&&$(h),S(b,E)}}}function vB(r,e){const t=[];return r.forEach(n=>{var l;(l=n.name)!=null&&l.toLowerCase().includes(e.toLowerCase())&&t.push(n)}),t}function kB(r,e,t){let n,l,s,i,o,a,u;de(r,ji,F=>t(18,a=F));const c=dr.spawnModalController(),f=dr.spawnModalController(),m=Xt();de(r,m,F=>t(19,u=F));let{database:d}=e,_="",h,b=!1;function v(){t(4,h=void 0),c.open()}function k(F){t(4,h=F),c.open()}function T(F){_l({identifierType:"Schema",identifierName:F.name,body:cB,onProceed:async()=>{await cF(d.name,F.id),xF(F.id)}})}function E(){f.open()}function P(){t(1,_="")}async function R(){try{t(5,b=!0),await Xq.reflect(),window.location.reload()}catch(F){At.fromError(F)}finally{t(5,b=!1)}}const L=F=>k(F),A=F=>T(F);function N(F){_=F,t(1,_)}return r.$$set=F=>{"database"in F&&t(0,d=F.database)},r.$$.update=()=>{r.$$.dirty&524288&&t(3,n=u),r.$$.dirty&262144&&t(2,l=a.data),r.$$.dirty&9&&t(8,s=n==null?void 0:n.hasPermission({database:d},"canExecuteDDL")),r.$$.dirty&9&&t(7,i=n==null?void 0:n.hasPermission({database:d},"canEditPermissions")),r.$$.dirty&6&&t(6,o=vB(l,_))},[d,_,l,n,h,b,o,i,s,c,f,m,v,k,T,E,P,R,a,u,L,A,N]}class yB extends X{constructor(e){super(),Q(this,e,kB,wB,G,{database:0})}}function Gg(r){let e,t;return e=new yB({props:{database:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function SB(r){let e=r[0].id,t,n,l=Gg(r);return{c(){l.c(),t=ae()},m(s,i){l.m(s,i),w(s,t,i),n=!0},p(s,i){i&1&&G(e,e=s[0].id)?(q(),g(l,1,1,z),U(),l=Gg(s),l.c(),p(l,1),l.m(t.parentNode,t)):l.p(s,i)},i(s){n||(p(l),n=!0)},o(s){g(l),n=!1},d(s){s&&$(t),l.d(s)}}}function CB(r){let e,t;return e=new Qq({props:{database:r[0],slot:"sidebar"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function TB(r){let e,t;return e=new y6({props:{$$slots:{sidebar:[CB],default:[SB]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&3&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function DB(r){let e,t,n,l;return document.title=e=Rn(r[0].name),n=new Or({props:{restrictWidth:!0,cssVariables:{"--layout-background-color":"var(--sand-100)","--max-layout-width":"var(--max-layout-width-console-pages)","--PageLayoutWithSidebar__gap":"var(--size-ultra-large)","--AppSecondaryHeader__padding":"var(--size-x-large) 0"},$$slots:{default:[TB]},$$scope:{ctx:r}}}),{c(){t=O(),C(n.$$.fragment)},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,[i]){(!l||i&1)&&e!==(e=Rn(s[0].name))&&(document.title=e);const o={};i&3&&(o.$$scope={dirty:i,ctx:s}),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}function IB(r,e,t){let{database:n}=e;return r.$$set=l=>{"database"in l&&t(0,n=l.database)},[n]}class EB extends X{constructor(e){super(),Q(this,e,IB,DB,G,{database:0})}}function MB(r,e,t){let n,{item:l}=e;const s=p6();de(r,s,c=>t(3,n=c));let i;function o(){Zt(s,n=n.filter(c=>c!==l),n)}function a(){Zt(s,n=n.filter(c=>c!==i),n)}function u(c){a(),Zt(s,n=[...n,c],n),i=l}return cl(o),r.$$set=c=>{"item"in c&&t(1,l=c.item)},r.$$.update=()=>{r.$$.dirty&2&&u(l)},[s,l]}class Nn extends X{constructor(e){super(),Q(this,e,MB,null,G,{item:1})}}function AB(r,e){window.dispatchEvent(new CustomEvent("userAction",{detail:{eventName:r,metadata:e}}))}const RB=r=>({}),Qg=r=>({});function Xg(r){let e,t;const n=r[3].action,l=De(n,r,r[2],Qg);return{c(){e=I("div"),l&&l.c(),D(e,"class","action-container svelte-1fewhnt")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,i){l&&l.p&&(!t||i&4)&&Ee(l,n,s,s[2],t?Ie(n,s[2],i,RB):Me(s[2]),Qg)},i(s){t||(p(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&$(e),l&&l.d(s)}}}function PB(r){let e,t,n,l,s,i=r[1].action&&Xg(r);return{c(){e=I("div"),t=I("span"),n=B(r[0]),l=O(),i&&i.c(),D(t,"class","title svelte-1fewhnt"),D(e,"class","container svelte-1fewhnt")},m(o,a){w(o,e,a),M(e,t),M(t,n),M(e,l),i&&i.m(e,null),s=!0},p(o,[a]){(!s||a&1)&&he(n,o[0]),o[1].action?i?(i.p(o,a),a&2&&p(i,1)):(i=Xg(o),i.c(),p(i,1),i.m(e,null)):i&&(q(),g(i,1,1,()=>{i=null}),U())},i(o){s||(p(i),s=!0)},o(o){g(i),s=!1},d(o){o&&$(e),i&&i.d()}}}function OB(r,e,t){let{$$slots:n={},$$scope:l}=e;const s=lr(n);let{title:i}=e;return r.$$set=o=>{"title"in o&&t(0,i=o.title),"$$scope"in o&&t(2,l=o.$$scope)},[i,s,l,n]}class rc extends X{constructor(e){super(),Q(this,e,OB,PB,G,{title:0})}}function LB(r){let e,t,n,l,s;const i=[r[0]];let o={};for(let c=0;c<i.length;c+=1)o=x(o,i[c]);n=new Fe({props:o});const a=r[2].default,u=De(a,r,r[1],null);return{c(){e=I("div"),t=I("div"),C(n.$$.fragment),l=O(),u&&u.c(),D(t,"class","empty-entity svelte-99ol3q"),D(e,"class","container svelte-99ol3q")},m(c,f){w(c,e,f),M(e,t),y(n,t,null),M(t,l),u&&u.m(t,null),s=!0},p(c,[f]){const m=f&1?ce(i,[be(c[0])]):{};n.$set(m),u&&u.p&&(!s||f&2)&&Ee(u,a,c,c[1],s?Ie(a,c[1],f,null):Me(c[1]),null)},i(c){s||(p(n.$$.fragment,c),p(u,c),s=!0)},o(c){g(n.$$.fragment,c),g(u,c),s=!1},d(c){c&&$(e),S(n),u&&u.d(c)}}}function NB(r,e,t){let{$$slots:n={},$$scope:l}=e,{icon:s}=e;return r.$$set=i=>{"icon"in i&&t(0,s=i.icon),"$$scope"in i&&t(1,l=i.$$scope)},[s,l,n]}class I6 extends X{constructor(e){super(),Q(this,e,NB,LB,G,{icon:0})}}function FB(r){let e,t,n;return t=new Cn({props:{table:{name:"Select Table"}}}),{c(){e=I("span"),C(t.$$.fragment),D(e,"class","placeholder svelte-jwojwi")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p:z,i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function zB(r){let e,t;return e=new Cn({props:{table:r[7]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&128&&(s.table=n[7]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function HB(r){let e,t,n,l;const s=[zB,FB],i=[];function o(a,u){return a[7]?0:a[1]?-1:1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=ae()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(q(),g(i[c],1,1,()=>{i[c]=null}),U()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&$(n)}}}function VB(r){let e,t,n;function l(i){r[5](i)}let s={options:r[3],valuesAreEqual:qB,autoSelect:r[2],$$slots:{default:[HB,({option:i})=>({7:i}),({option:i})=>i?128:0]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new Sn({props:s}),ye.push(()=>Pe(e,"value",l)),e.$on("change",r[6]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&8&&(a.options=i[3]),o&4&&(a.autoSelect=i[2]),o&386&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.value=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}const qB=(r,e)=>(r==null?void 0:r.id)===(e==null?void 0:e.id);function UB(r,e,t){let n,{tables:l}=e,{value:s=void 0}=e,{prependBlank:i=!1}=e,{autoSelect:o="first"}=e;function a(c){s=c,t(0,s)}function u(c){ve.call(this,r,c)}return r.$$set=c=>{"tables"in c&&t(4,l=c.tables),"value"in c&&t(0,s=c.value),"prependBlank"in c&&t(1,i=c.prependBlank),"autoSelect"in c&&t(2,o=c.autoSelect)},r.$$.update=()=>{r.$$.dirty&18&&t(3,n=i?[void 0,...l]:l)},[s,i,o,n,l,a,u]}class Ii extends X{constructor(e){super(),Q(this,e,UB,VB,G,{tables:4,value:0,prependBlank:1,autoSelect:2})}}function WB(r){let e,t,n;function l(i){r[5](i)}let s={tables:r[3],prependBlank:r[1],autoSelect:r[2]};return r[0]!==void 0&&(s.value=r[0]),e=new Ii({props:s}),ye.push(()=>Pe(e,"value",l)),e.$on("change",r[6]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&8&&(a.tables=i[3]),o&2&&(a.prependBlank=i[1]),o&4&&(a.autoSelect=i[2]),!t&&o&1&&(t=!0,a.value=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function BB(r,e,t){let n,l;de(r,ja,c=>t(4,l=c));let{value:s=void 0}=e,{prependBlank:i=!1}=e,{autoSelect:o="first"}=e;function a(c){s=c,t(0,s)}function u(c){ve.call(this,r,c)}return r.$$set=c=>{"value"in c&&t(0,s=c.value),"prependBlank"in c&&t(1,i=c.prependBlank),"autoSelect"in c&&t(2,o=c.autoSelect)},r.$$.update=()=>{r.$$.dirty&16&&t(3,n=[...l.values()])},[s,i,o,n,l,a,u]}class jB extends X{constructor(e){super(),Q(this,e,BB,WB,G,{value:0,prependBlank:1,autoSelect:2})}}function YB(r){let e,t;const n=[Co];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[be(Co)]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function KB(r){let e,t;const n=[el];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[be(el)]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function GB(r){let e,t;const n=[zu];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[be(zu)]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function QB(r){let e,t;return e=new an({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function XB(r){var _;let e,t,n,l,s,i,o=((_=r[1][r[0]])!=null?_:"")+"",a,u,c;const f=[QB,GB,KB,YB],m=[];function d(h,b){return h[0]==="processing"?0:h[0]==="success"?1:h[0]==="failure"?2:3}return n=d(r),l=m[n]=f[n](r),{c(){e=I("span"),t=I("span"),l.c(),s=O(),i=I("span"),a=B(o),D(t,"class","icon svelte-yh5co2"),D(e,"class",u="status-indicator "+r[0]+" "+r[2]+" svelte-yh5co2")},m(h,b){w(h,e,b),M(e,t),m[n].m(t,null),M(e,s),M(e,i),M(i,a),c=!0},p(h,[b]){var k;let v=n;n=d(h),n===v?m[n].p(h,b):(q(),g(m[v],1,1,()=>{m[v]=null}),U(),l=m[n],l?l.p(h,b):(l=m[n]=f[n](h),l.c()),p(l,1),l.m(t,null)),(!c||b&3)&&o!==(o=((k=h[1][h[0]])!=null?k:"")+"")&&he(a,o),(!c||b&5&&u!==(u="status-indicator "+h[0]+" "+h[2]+" svelte-yh5co2"))&&D(e,"class",u)},i(h){c||(p(l),c=!0)},o(h){g(l),c=!1},d(h){h&&$(e),m[n].d()}}}function JB(r,e,t){let{state:n}=e,{messages:l}=e,{class:s=""}=e;return r.$$set=i=>{"state"in i&&t(0,n=i.state),"messages"in i&&t(1,l=i.messages),"class"in i&&t(2,s=i.class)},[n,l,s]}class ZB extends X{constructor(e){super(),Q(this,e,JB,XB,G,{state:0,messages:1,class:2})}}function Jg(r){let e,t,n,l;return t=new ZB({props:{state:r[1],messages:{processing:"Saving Changes",failure:"Unable to save changes",warning:"Unsaved Changes",success:"All Changes Saved"}}}),{c(){e=I("span"),C(t.$$.fragment),D(e,"class","modification-status-indicator svelte-jrwjrw")},m(s,i){w(s,e,i),y(t,e,null),l=!0},p(s,i){r=s;const o={};i&2&&(o.state=r[1]),t.$set(o)},i(s){l||(p(t.$$.fragment,s),n&&n.end(1),l=!0)},o(s){g(t.$$.fragment,s),s&&(n=Ri(e,Dl,{duration:r[0]})),l=!1},d(s){s&&$(e),S(t),s&&n&&n.end()}}}function xB(r){let e,t,n=r[1]&&Jg(r);return{c(){n&&n.c(),e=ae()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,[s]){l[1]?n?(n.p(l,s),s&2&&p(n,1)):(n=Jg(l),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&$(e)}}}function ej(r,e,t){let n,{requestState:l}=e,{hasChanges:s=!1}=e,i,o,a=0;function u(){t(0,a=1e3),t(4,i=void 0)}function c(m){window.clearTimeout(o),o=void 0,t(0,a=0),t(4,i=m),i==="success"&&(o=window.setTimeout(u,5e3))}function f(m){!m&&i==="failure"&&t(4,i=void 0)}return cl(()=>{window.clearTimeout(o)}),r.$$set=m=>{"requestState"in m&&t(2,l=m.requestState),"hasChanges"in m&&t(3,s=m.hasChanges)},r.$$.update=()=>{r.$$.dirty&4&&c(l),r.$$.dirty&8&&f(s),r.$$.dirty&24&&t(1,n=(()=>{if(i==="processing")return"processing";if(s&&i==="failure")return"failure";if(s)return"warning";if(i==="success")return"success"})())},[a,n,l,s,i]}class Sf extends X{constructor(e){super(),Q(this,e,ej,xB,G,{requestState:2,hasChanges:3})}}const tj=r=>({}),Zg=r=>({});function xg(r){let e,t,n,l,s,i,o,a,u;const c=[r[0].icon,{class:"block"}];let f={};for(let d=0;d<c.length;d+=1)f=x(f,c[d]);n=new Fe({props:f}),o=new Fs({props:{$$slots:{default:[nj]},$$scope:{ctx:r}}});let m=r[0].description&&eh(r);return{c(){e=I("div"),t=I("div"),C(n.$$.fragment),l=O(),s=I("div"),i=I("h1"),C(o.$$.fragment),a=O(),m&&m.c(),D(t,"class","icon svelte-cjmx4e"),D(i,"class","name svelte-cjmx4e"),D(s,"class","text svelte-cjmx4e"),D(e,"class","heading svelte-cjmx4e")},m(d,_){w(d,e,_),M(e,t),y(n,t,null),M(e,l),M(e,s),M(s,i),y(o,i,null),M(s,a),m&&m.m(s,null),u=!0},p(d,_){const h=_&1?ce(c,[be(d[0].icon),c[1]]):{};n.$set(h);const b={};_&9&&(b.$$scope={dirty:_,ctx:d}),o.$set(b),d[0].description?m?(m.p(d,_),_&1&&p(m,1)):(m=eh(d),m.c(),p(m,1),m.m(s,null)):m&&(q(),g(m,1,1,()=>{m=null}),U())},i(d){u||(p(n.$$.fragment,d),p(o.$$.fragment,d),p(m),u=!0)},o(d){g(n.$$.fragment,d),g(o.$$.fragment,d),g(m),u=!1},d(d){d&&$(e),S(n),S(o),m&&m.d()}}}function nj(r){let e=r[0].name+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[0].name+"")&&he(t,e)},d(n){n&&$(t)}}}function eh(r){let e,t,n;return t=new Fs({props:{$$slots:{default:[rj]},$$scope:{ctx:r}}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","description svelte-cjmx4e")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&9&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function rj(r){let e=r[0].description+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[0].description+"")&&he(t,e)},d(n){n&&$(t)}}}function th(r){let e,t;const n=r[2].default,l=De(n,r,r[3],null);return{c(){e=I("div"),l&&l.c(),D(e,"class","actions-left svelte-cjmx4e")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,i){l&&l.p&&(!t||i&8)&&Ee(l,n,s,s[3],t?Ie(n,s[3],i,null):Me(s[3]),null)},i(s){t||(p(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&$(e),l&&l.d(s)}}}function nh(r){let e,t;const n=r[2]["actions-right"],l=De(n,r,r[3],Zg);return{c(){e=I("div"),l&&l.c(),D(e,"class","actions-right svelte-cjmx4e")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,i){l&&l.p&&(!t||i&8)&&Ee(l,n,s,s[3],t?Ie(n,s[3],i,tj):Me(s[3]),Zg)},i(s){t||(p(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&$(e),l&&l.d(s)}}}function lj(r){let e,t,n,l,s,i=r[0]&&xg(r),o=r[1].default&&th(r),a=r[1]["actions-right"]&&nh(r);return{c(){e=I("div"),i&&i.c(),t=O(),n=I("div"),o&&o.c(),l=O(),a&&a.c(),D(n,"class","actions svelte-cjmx4e"),Z(n,"has-right-actions",r[1]["actions-right"]),D(e,"class","entity-page-header svelte-cjmx4e")},m(u,c){w(u,e,c),i&&i.m(e,null),M(e,t),M(e,n),o&&o.m(n,null),M(n,l),a&&a.m(n,null),s=!0},p(u,[c]){u[0]?i?(i.p(u,c),c&1&&p(i,1)):(i=xg(u),i.c(),p(i,1),i.m(e,t)):i&&(q(),g(i,1,1,()=>{i=null}),U()),u[1].default?o?(o.p(u,c),c&2&&p(o,1)):(o=th(u),o.c(),p(o,1),o.m(n,l)):o&&(q(),g(o,1,1,()=>{o=null}),U()),u[1]["actions-right"]?a?(a.p(u,c),c&2&&p(a,1)):(a=nh(u),a.c(),p(a,1),a.m(n,null)):a&&(q(),g(a,1,1,()=>{a=null}),U()),(!s||c&2)&&Z(n,"has-right-actions",u[1]["actions-right"])},i(u){s||(p(i),p(o),p(a),s=!0)},o(u){g(i),g(o),g(a),s=!1},d(u){u&&$(e),i&&i.d(),o&&o.d(),a&&a.d()}}}function sj(r,e,t){let{$$slots:n={},$$scope:l}=e;const s=lr(n);let{title:i=void 0}=e;return r.$$set=o=>{"title"in o&&t(0,i=o.title),"$$scope"in o&&t(3,l=o.$$scope)},[i,s,n,l]}class Cf extends X{constructor(e){super(),Q(this,e,sj,lj,G,{title:0})}}function ij(r){let e,t,n,l;return e=new jB({props:{autoSelect:"none",value:r[8]}}),e.$on("change",r[25]),n=new Wn({props:{$$slots:{default:[aj]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i[0]&256&&(o.value=s[8]),e.$set(o);const a={};i[1]&1&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(p(e.$$.fragment,s),p(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&$(t),S(n,s)}}}function oj(r){let e,t,n,l;return e=new Cn({props:{table:r[8]}}),n=new Wn({props:{$$slots:{default:[uj]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i[0]&256&&(o.table=s[8]),e.$set(o);const a={};i[1]&1&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(p(e.$$.fragment,s),p(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&$(t),S(n,s)}}}function aj(r){let e;return{c(){e=B(`The base table determines the columns that are available for
            exploration.`)},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function uj(r){let e;return{c(){e=B(`The base table is the table that is being explored and determines
            the columns that are available for exploration.`)},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function rh(r){let e,t;return e=new ut({props:{appearance:"secondary",$$slots:{default:[cj]},$$scope:{ctx:r}}}),e.$on("click",r[26]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function cj(r){let e;return{c(){e=B("Start Over")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function lh(r){var n;let e,t;return e=new Sf({props:{requestState:(n=r[4].saveState)==null?void 0:n.state,hasChanges:r[12]}}),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){var o;const i={};s[0]&16&&(i.requestState=(o=l[4].saveState)==null?void 0:o.state),s[0]&4096&&(i.hasChanges=l[12]),e.$set(i)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function fj(r){let e,t,n=r[7]?"Based on":"Exploring from",l,s,i,o,a,u,c,f;const m=[oj,ij],d=[];function _(v,k){return v[8]?0:1}o=_(r),a=d[o]=m[o](r);let h=!r[7]&&r[8]&&rh(r),b=r[7]&&lh(r);return{c(){e=I("div"),t=I("div"),l=B(n),s=O(),i=I("div"),a.c(),u=O(),h&&h.c(),c=O(),b&&b.c(),D(t,"class","detail svelte-15jmytk"),D(i,"class","base-table-holder svelte-15jmytk"),Z(i,"table-selected",r[8]),D(e,"class","detail-wrapper svelte-15jmytk")},m(v,k){w(v,e,k),M(e,t),M(t,l),M(e,s),M(e,i),d[o].m(i,null),M(e,u),h&&h.m(e,null),M(e,c),b&&b.m(e,null),f=!0},p(v,k){(!f||k[0]&128)&&n!==(n=v[7]?"Based on":"Exploring from")&&he(l,n);let T=o;o=_(v),o===T?d[o].p(v,k):(q(),g(d[T],1,1,()=>{d[T]=null}),U(),a=d[o],a?a.p(v,k):(a=d[o]=m[o](v),a.c()),p(a,1),a.m(i,null)),(!f||k[0]&256)&&Z(i,"table-selected",v[8]),!v[7]&&v[8]?h?(h.p(v,k),k[0]&384&&p(h,1)):(h=rh(v),h.c(),p(h,1),h.m(e,c)):h&&(q(),g(h,1,1,()=>{h=null}),U()),v[7]?b?(b.p(v,k),k[0]&128&&p(b,1)):(b=lh(v),b.c(),p(b,1),b.m(e,null)):b&&(q(),g(b,1,1,()=>{b=null}),U())},i(v){f||(p(a),p(h),p(b),f=!0)},o(v){g(a),g(h),g(b),f=!1},d(v){v&&$(e),d[o].d(),h&&h.d(),b&&b.d()}}}function sh(r){let e,t,n,l,s,i=r[2]&&ih(r);return t=new Ps({props:{$$slots:{default:[bj]},$$scope:{ctx:r}}}),l=new ut({props:{appearance:"secondary",disabled:r[6],$$slots:{default:[$j]},$$scope:{ctx:r}}}),l.$on("click",r[24]),{c(){i&&i.c(),e=O(),C(t.$$.fragment),n=O(),C(l.$$.fragment)},m(o,a){i&&i.m(o,a),w(o,e,a),y(t,o,a),w(o,n,a),y(l,o,a),s=!0},p(o,a){o[2]?i?(i.p(o,a),a[0]&4&&p(i,1)):(i=ih(o),i.c(),p(i,1),i.m(e.parentNode,e)):i&&(q(),g(i,1,1,()=>{i=null}),U());const u={};a[0]&18|a[1]&1&&(u.$$scope={dirty:a,ctx:o}),t.$set(u);const c={};a[0]&64&&(c.disabled=o[6]),a[1]&1&&(c.$$scope={dirty:a,ctx:o}),l.$set(c)},i(o){s||(p(i),p(t.$$.fragment,o),p(l.$$.fragment,o),s=!0)},o(o){g(i),g(t.$$.fragment,o),g(l.$$.fragment,o),s=!1},d(o){i&&i.d(o),o&&$(e),S(t,o),o&&$(n),S(l,o)}}}function ih(r){let e,t;return e=new Ps({props:{$$slots:{default:[_j]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&232|l[1]&1&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function oh(r){let e,t;return e=new Ar({props:{triggerAppearance:"primary",placements:["bottom-end"],closeOnInnerClick:!0,icon:{...Jn,size:"0.8em"},showArrow:!1,$$slots:{default:[pj]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function mj(r){let e;return{c(){e=B("Save")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function dj(r){let e;return{c(){e=B("Save and Close")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function pj(r){let e,t,n,l;return e=new xt({props:{$$slots:{default:[mj]},$$scope:{ctx:r}}}),e.$on("click",r[16]),n=new xt({props:{$$slots:{default:[dj]},$$scope:{ctx:r}}}),n.$on("click",r[17]),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i[1]&1&&(o.$$scope={dirty:i,ctx:s}),e.$set(o);const a={};i[1]&1&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(p(e.$$.fragment,s),p(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&$(t),S(n,s)}}}function _j(r){let e,t,n,l;e=new tl({props:{label:r[5]==="processing"?"Saving":"Save",disabled:!r[3].base_table||r[6]||r[5]==="processing",onClick:r[19]}});let s=r[7]&&oh(r);return{c(){C(e.$$.fragment),t=O(),s&&s.c(),n=ae()},m(i,o){y(e,i,o),w(i,t,o),s&&s.m(i,o),w(i,n,o),l=!0},p(i,o){const a={};o[0]&32&&(a.label=i[5]==="processing"?"Saving":"Save"),o[0]&104&&(a.disabled=!i[3].base_table||i[6]||i[5]==="processing"),e.$set(a),i[7]?s?(s.p(i,o),o[0]&128&&p(s,1)):(s=oh(i),s.c(),p(s,1),s.m(n.parentNode,n)):s&&(q(),g(s,1,1,()=>{s=null}),U())},i(i){l||(p(e.$$.fragment,i),p(s),l=!0)},o(i){g(e.$$.fragment,i),g(s),l=!1},d(i){S(e,i),i&&$(t),s&&s.d(i),i&&$(n)}}}function gj(r){let e,t,n,l;const s=[No,{size:"0.8rem"}];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new Fe({props:i}),{c(){C(e.$$.fragment),t=O(),n=I("span"),n.textContent="Undo"},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),l=!0},p(o,a){const u=a&0?ce(s,[be(No),s[1]]):{};e.$set(u)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),o&&$(n)}}}function hj(r){let e,t,n,l;const s=[O1,{size:"0.8rem"}];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new Fe({props:i}),{c(){C(e.$$.fragment),t=O(),n=I("span"),n.textContent="Redo"},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),l=!0},p(o,a){const u=a&0?ce(s,[be(O1),s[1]]):{};e.$set(u)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),o&&$(n)}}}function bj(r){let e,t,n,l;return e=new ut({props:{appearance:"secondary",disabled:!r[4].isUndoPossible,$$slots:{default:[gj]},$$scope:{ctx:r}}}),e.$on("click",r[22]),n=new ut({props:{appearance:"secondary",disabled:!r[4].isRedoPossible,$$slots:{default:[hj]},$$scope:{ctx:r}}}),n.$on("click",r[23]),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i[0]&16&&(o.disabled=!s[4].isUndoPossible),i[1]&1&&(o.$$scope={dirty:i,ctx:s}),e.$set(o);const a={};i[0]&16&&(a.disabled=!s[4].isRedoPossible),i[1]&1&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(p(e.$$.fragment,s),p(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&$(t),S(n,s)}}}function $j(r){let e,t,n,l;const s=[Ds,{size:"0.8rem"}];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new Fe({props:i}),{c(){C(e.$$.fragment),t=O(),n=I("span"),n.textContent="Inspector"},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),l=!0},p(o,a){const u=a&0?ce(s,[be(Ds),s[1]]):{};e.$set(u)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),o&&$(n)}}}function wj(r){let e,t,n=r[8]&&sh(r);return{c(){n&&n.c(),e=ae()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[8]?n?(n.p(l,s),s[0]&256&&p(n,1)):(n=sh(l),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&$(e)}}}function vj(r){let e;return{c(){e=I("span"),e.textContent="Save Exploration",D(e,"slot","title")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function kj(r){var i;let e,t,n,l,s;return t=new Cf({props:{title:r[7]?{name:(i=r[3].name)!=null?i:"",description:r[3].description,icon:An}:void 0,$$slots:{"actions-right":[wj],default:[fj]},$$scope:{ctx:r}}}),l=new kf({props:{controller:r[13],save:r[18],getNameValidationErrors:r[15],getInitialName:r[27],getInitialDescription:r[28],$$slots:{title:[vj]},$$scope:{ctx:r}}}),{c(){e=I("div"),C(t.$$.fragment),n=O(),C(l.$$.fragment),D(e,"class","actions-pane")},m(o,a){w(o,e,a),y(t,e,null),w(o,n,a),y(l,o,a),s=!0},p(o,a){var f;const u={};a[0]&136&&(u.title=o[7]?{name:(f=o[3].name)!=null?f:"",description:o[3].description,icon:An}:void 0),a[0]&4607|a[1]&1&&(u.$$scope={dirty:a,ctx:o}),t.$set(u);const c={};a[0]&8&&(c.getInitialName=o[27]),a[0]&8&&(c.getInitialDescription=o[28]),a[1]&1&&(c.$$scope={dirty:a,ctx:o}),l.$set(c)},i(o){s||(p(t.$$.fragment,o),p(l.$$.fragment,o),s=!0)},o(o){g(t.$$.fragment,o),g(l.$$.fragment,o),s=!1},d(o){o&&$(e),S(t),o&&$(n),S(l,o)}}}function yj(r,e,t){let n,l,s,i,o,a,u,c,f=z,m=()=>(f(),f=se(n,Se=>t(3,c=Se)),n),d,_,h=z,b=()=>(h(),h=se(l,Se=>t(4,_=Se)),l),v,k,T=z,E=()=>(T(),T=se(s,Se=>t(12,k=Se)),s);de(r,Zl,Se=>t(29,d=Se)),de(r,ln,Se=>t(21,v=Se)),r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>T());const P=dt(),R=dr.spawnModalController();let{queryManager:L}=e,{linkCollapsibleOpenState:A={}}=e,{isInspectorOpen:N}=e,{canEditMetadata:F}=e;function K(Se){L.update($e=>$e.withBaseTable(Se?Se.id:void 0)),L.clearSelection(),t(20,A={})}function W(Se){var we;const $e=Se.trim();return $e?Array.from((we=d.data)!=null?we:[]).some(([,je])=>je.name.toLowerCase().trim()===$e)?["An exploration with that name already exists."]:[]:["Name cannot be empty."]}async function j(){try{return await L.save(),{success:!0}}catch(Se){return At.fromError(Se),{success:!1}}}async function Y(){const{success:Se}=await j();Se&&P("close")}async function oe(Se,$e){try{await L.update(He=>He.withName(Se).model.withDescription($e)),await j()}catch(He){At.fromError(He)}}async function te(){c.isSaved()?await j():R.open()}const ne=()=>L.undo(),H=()=>L.redo(),ee=()=>{t(0,N=!N)},pe=Se=>K(Se.detail),ue=()=>K(void 0),ie=()=>{var Se;return(Se=c.name)!=null?Se:""},me=()=>{var Se;return(Se=c.description)!=null?Se:""};return r.$$set=Se=>{"queryManager"in Se&&t(1,L=Se.queryManager),"linkCollapsibleOpenState"in Se&&t(20,A=Se.linkCollapsibleOpenState),"isInspectorOpen"in Se&&t(0,N=Se.isInspectorOpen),"canEditMetadata"in Se&&t(2,F=Se.canEditMetadata)},r.$$.update=()=>{var Se;r.$$.dirty[0]&2&&m(t(11,{query:n,state:l,queryHasUnsavedChanges:s}=L,n,b(t(10,l)),E(t(9,s)))),r.$$.dirty[0]&2097160&&t(8,i=c.base_table?v.data.get(c.base_table):void 0),r.$$.dirty[0]&8&&t(7,o=c.isSaved()),r.$$.dirty[0]&8&&t(6,a=c.initial_columns.length===0),r.$$.dirty[0]&16&&t(5,u=(Se=_.saveState)==null?void 0:Se.state)},[N,L,F,c,_,u,a,o,i,s,l,n,k,R,K,W,j,Y,oe,te,A,v,ne,H,ee,pe,ue,ie,me]}class Sj extends X{constructor(e){super(),Q(this,e,yj,kj,G,{queryManager:1,linkCollapsibleOpenState:20,isInspectorOpen:0,canEditMetadata:2},null,[-1,-1])}}function Cj(r){let e,t;const n=r[1].default,l=De(n,r,r[0],null);return{c(){e=I("div"),l&&l.c(),D(e,"class","form svelte-1enxz59")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,[i]){l&&l.p&&(!t||i&1)&&Ee(l,n,s,s[0],t?Ie(n,s[0],i,null):Me(s[0]),null)},i(s){t||(p(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&$(e),l&&l.d(s)}}}function Tj(r,e,t){let{$$slots:n={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&t(0,l=s.$$scope)},[l,n]}class E6 extends X{constructor(e){super(),Q(this,e,Tj,Cj,G,{})}}function ah(r,e,t){const n=r.slice();return n[3]=e[t],n}function uh(r){let e;function t(s,i){return s[0].length===1?Ij:Dj}let n=t(r),l=n(r);return{c(){e=I("div"),l.c(),D(e,"class","errors svelte-1e85mvz")},m(s,i){w(s,e,i),l.m(e,null)},p(s,i){n===(n=t(s))&&l?l.p(s,i):(l.d(1),l=n(s),l&&(l.c(),l.m(e,null)))},d(s){s&&$(e),l.d()}}}function Dj(r){let e,t=r[0],n=[];for(let l=0;l<t.length;l+=1)n[l]=ch(ah(r,t,l));return{c(){e=I("ul");for(let l=0;l<n.length;l+=1)n[l].c();D(e,"class","svelte-1e85mvz")},m(l,s){w(l,e,s);for(let i=0;i<n.length;i+=1)n[i].m(e,null)},p(l,s){if(s&1){t=l[0];let i;for(i=0;i<t.length;i+=1){const o=ah(l,t,i);n[i]?n[i].p(o,s):(n[i]=ch(o),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(l){l&&$(e),Fn(n,l)}}}function Ij(r){let e=r[0][0]+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[0][0]+"")&&he(t,e)},d(n){n&&$(t)}}}function ch(r){let e,t=r[3]+"",n;return{c(){e=I("li"),n=B(t)},m(l,s){w(l,e,s),M(e,n)},p(l,s){s&1&&t!==(t=l[3]+"")&&he(n,t)},d(l){l&&$(e)}}}function Ej(r){let e,t,n;const l=r[2].default,s=De(l,r,r[1],null);let i=r[0].length&&uh(r);return{c(){e=I("div"),s&&s.c(),t=O(),i&&i.c(),D(e,"class","form-field")},m(o,a){w(o,e,a),s&&s.m(e,null),M(e,t),i&&i.m(e,null),n=!0},p(o,[a]){s&&s.p&&(!n||a&2)&&Ee(s,l,o,o[1],n?Ie(l,o[1],a,null):Me(o[1]),null),o[0].length?i?i.p(o,a):(i=uh(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i(o){n||(p(s,o),n=!0)},o(o){g(s,o),n=!1},d(o){o&&$(e),s&&s.d(o),i&&i.d()}}}function Mj(r,e,t){let{$$slots:n={},$$scope:l}=e,{errors:s=[]}=e;return r.$$set=i=>{"errors"in i&&t(0,s=i.errors),"$$scope"in i&&t(1,l=i.$$scope)},[s,l,n]}class Ms extends X{constructor(e){super(),Q(this,e,Mj,Ej,G,{errors:0})}}function fh(r){const e=r[3].get(r[47]);r[48]=e}function mh(r){let e,t;const n=r[31].default,l=De(n,r,r[39],null);return{c(){e=I("div"),l&&l.c(),D(e,"class","prefix svelte-1gbbni6")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,i){l&&l.p&&(!t||i[1]&256)&&Ee(l,n,s,s[39],t?Ie(n,s[39],i,null):Me(s[39]),null)},i(s){t||(p(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&$(e),l&&l.d(s)}}}function Aj(r){var n,l,s,i,o,a;fh(r);let e,t;return e=new Bn({props:{column:{name:r[15](r[47]),type:(l=(n=r[48])==null?void 0:n.column.type)!=null?l:"unknown",type_options:(i=(s=r[48])==null?void 0:s.column.type_options)!=null?i:null,display_options:(a=(o=r[48])==null?void 0:o.column.display_options)!=null?a:null,constraintsType:r[16](r[47])}}}),{c(){C(e.$$.fragment)},m(u,c){y(e,u,c),t=!0},p(u,c){var m,d,_,h,b,v;fh(u);const f={};c[0]&8|c[1]&65536&&(f.column={name:u[15](u[47]),type:(d=(m=u[48])==null?void 0:m.column.type)!=null?d:"unknown",type_options:(h=(_=u[48])==null?void 0:_.column.type_options)!=null?h:null,display_options:(v=(b=u[48])==null?void 0:b.column.display_options)!=null?v:null,constraintsType:u[16](u[47])}),e.$set(f)},i(u){t||(p(e.$$.fragment,u),t=!0)},o(u){g(e.$$.fragment,u),t=!1},d(u){S(e,u)}}}function dh(r){let e,t,n;function l(i){r[33](i)}let s={options:r[12],getLabel:r[17],triggerClass:"filter-condition"};return r[1]!==void 0&&(s.value=r[1]),e=new Sn({props:s}),ye.push(()=>Pe(e,"value",l)),e.$on("change",r[34]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o[0]&4096&&(a.options=i[12]),!t&&o[0]&2&&(t=!0,a.value=i[1],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function ph(r){var i;let e,t,n;function l(o){r[35](o)}let s={componentAndProps:r[10],class:e6,hasError:r[7]&&!r[11],recordSummary:(i=r[8].get(String(r[0])))==null?void 0:i.get(String(r[2])),setRecordSummary:r[21]};return r[2]!==void 0&&(s.value=r[2]),e=new Ga({props:s}),ye.push(()=>Pe(e,"value",l)),e.$on("input",r[36]),e.$on("blur",r[37]),e.$on("change",r[18]),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){var c;const u={};a[0]&1024&&(u.componentAndProps=o[10]),a[0]&2176&&(u.hasError=o[7]&&!o[11]),a[0]&261&&(u.recordSummary=(c=o[8].get(String(o[0])))==null?void 0:c.get(String(o[2]))),!t&&a[0]&4&&(t=!0,u.value=o[2],Ne(()=>t=!1)),e.$set(u)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function _h(r){let e,t,n=r[10]&&ph(r);return{c(){n&&n.c(),e=ae()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[10]?n?(n.p(l,s),s[0]&1024&&p(n,1)):(n=ph(l),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&$(e)}}}function gh(r){let e,t;return e=new ut({props:{size:"small",class:"filter-remove",appearance:"secondary",$$slots:{default:[Rj]},$$scope:{ctx:r}}}),e.$on("click",r[38]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[1]&256&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Rj(r){let e,t;const n=[Ut];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[be(Ut)]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Pj(r){let e,t,n,l=r[0],s,i=`${r[0]}${r[1]}`,o,a,u;function c(h){r[32](h)}let f={options:r[13],getLabel:r[15],triggerClass:"filter-column-id",disabled:r[5],$$slots:{default:[Aj,({option:h})=>({47:h}),({option:h})=>[0,h?65536:0]]},$$scope:{ctx:r}};r[0]!==void 0&&(f.value=r[0]),e=new Sn({props:f}),ye.push(()=>Pe(e,"value",c)),e.$on("change",r[19]);let m=dh(r),d=_h(r),_=r[6]&&gh(r);return{c(){C(e.$$.fragment),n=O(),m.c(),s=O(),d.c(),o=O(),_&&_.c(),a=ae()},m(h,b){y(e,h,b),w(h,n,b),m.m(h,b),w(h,s,b),d.m(h,b),w(h,o,b),_&&_.m(h,b),w(h,a,b),u=!0},p(h,b){const v={};b[0]&8192&&(v.options=h[13]),b[0]&32&&(v.disabled=h[5]),b[0]&8|b[1]&65792&&(v.$$scope={dirty:b,ctx:h}),!t&&b[0]&1&&(t=!0,v.value=h[0],Ne(()=>t=!1)),e.$set(v),b[0]&1&&G(l,l=h[0])?(q(),g(m,1,1,z),U(),m=dh(h),m.c(),p(m,1),m.m(s.parentNode,s)):m.p(h,b),b[0]&3&&G(i,i=`${h[0]}${h[1]}`)?(q(),g(d,1,1,z),U(),d=_h(h),d.c(),p(d,1),d.m(o.parentNode,o)):d.p(h,b),h[6]?_?(_.p(h,b),b[0]&64&&p(_,1)):(_=gh(h),_.c(),p(_,1),_.m(a.parentNode,a)):_&&(q(),g(_,1,1,()=>{_=null}),U())},i(h){u||(p(e.$$.fragment,h),p(m),p(d),p(_),u=!0)},o(h){g(e.$$.fragment,h),g(m),g(d),g(_),u=!1},d(h){S(e,h),h&&$(n),m.d(h),h&&$(s),d.d(h),h&&$(o),_&&_.d(h),h&&$(a)}}}function Oj(r){let e,t,n,l,s,i=r[22].default&&mh(r);return n=new Ps({props:{class:r[4],$$slots:{default:[Pj]},$$scope:{ctx:r}}}),{c(){e=I("div"),i&&i.c(),t=O(),C(n.$$.fragment),D(e,"class",l="filter-entry "+r[4]+" svelte-1gbbni6")},m(o,a){w(o,e,a),i&&i.m(e,null),M(e,t),y(n,e,null),s=!0},p(o,a){o[22].default?i?(i.p(o,a),a[0]&4194304&&p(i,1)):(i=mh(o),i.c(),p(i,1),i.m(e,t)):i&&(q(),g(i,1,1,()=>{i=null}),U());const u={};a[0]&16&&(u.class=o[4]),a[0]&15855|a[1]&256&&(u.$$scope={dirty:a,ctx:o}),n.$set(u),(!s||a[0]&16&&l!==(l="filter-entry "+o[4]+" svelte-1gbbni6"))&&D(e,"class",l)},i(o){s||(p(i),p(n.$$.fragment,o),s=!0)},o(o){g(i),g(n.$$.fragment,o),s=!1},d(o){o&&$(e),i&&i.d(),S(n)}}}function Lj(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,_=z,h=()=>(_(),_=se(f,ze=>t(30,d=ze)),f);r.$$.on_destroy.push(()=>_());let{$$slots:b={},$$scope:v}=e;const k=lr(b),T=dt();let{columns:E}=e,{getColumnLabel:P}=e,{getColumnConstraintType:R=()=>{}}=e,{columnIdentifier:L}=e,{conditionIdentifier:A}=e,{value:N}=e,{layout:F="horizontal"}=e,{disableColumnChange:K=!1}=e,{allowDelete:W=!0}=e,{numberOfFilters:j=0}=e,{recordSummaryStore:Y=void 0}=e;const oe=j;let te=!1,ne=N,H;cl(()=>{window.clearTimeout(H)});function ee(ze){if(ze){const Xe=E.get(ze);if(Xe)return P(Xe)}return""}function pe(ze){if(ze){const Xe=E.get(ze);if(Xe)return R(Xe)}}function ue(ze){var Xe,ct;return ze&&(ct=(Xe=s.get(ze))==null?void 0:Xe.name)!=null?ct:""}function ie(ze){ne!==ze&&(ne=ze,T("update"))}function me(ze){clearTimeout(H),H=window.setTimeout(()=>{ie(ze)},500)}function Se(){clearTimeout(H),ie(N)}function $e(ze,Xe){const ct=ze==null?void 0:ze.parameters[0];return typeof ct>"u"?void 0:(Xe==null?void 0:Xe.abstractType.identifier)===ct&&a?a:df({type:ct,type_options:{},display_options:{}})}function He(){ne=void 0,t(2,N=void 0),T("update")}function we(ze){if(!ze)return;const Xe=s.get(ze);!Xe||(typeof(Xe==null?void 0:Xe.parameters[0])>"u"&&(ne=void 0,t(2,N=void 0)),T("update"))}function je(ze,Xe){Y&&Y.addBespokeRecordSummary({columnId:String(L),recordId:ze,recordSummary:Xe})}function Re(ze){L=ze,t(0,L)}function Oe(ze){A=ze,t(1,A)}const Ze=ze=>we(ze.detail);function Ke(ze){N=ze,t(2,N)}const tt=()=>{t(7,te=!0)},ot=()=>{t(7,te=!0)},nt=()=>T("removeFilter");return r.$$set=ze=>{"columns"in ze&&t(3,E=ze.columns),"getColumnLabel"in ze&&t(23,P=ze.getColumnLabel),"getColumnConstraintType"in ze&&t(24,R=ze.getColumnConstraintType),"columnIdentifier"in ze&&t(0,L=ze.columnIdentifier),"conditionIdentifier"in ze&&t(1,A=ze.conditionIdentifier),"value"in ze&&t(2,N=ze.value),"layout"in ze&&t(4,F=ze.layout),"disableColumnChange"in ze&&t(5,K=ze.disableColumnChange),"allowDelete"in ze&&t(6,W=ze.allowDelete),"numberOfFilters"in ze&&t(25,j=ze.numberOfFilters),"recordSummaryStore"in ze&&t(26,Y=ze.recordSummaryStore),"$$scope"in ze&&t(39,v=ze.$$scope)},r.$$.update=()=>{var ze;r.$$.dirty[0]&8&&t(13,n=[...E.values()].map(Xe=>Xe.id)),r.$$.dirty[0]&9&&t(28,l=L?E.get(L):void 0),r.$$.dirty[0]&268435456&&t(27,s=(ze=l==null?void 0:l.allowedFiltersMap)!=null?ze:new Map),r.$$.dirty[0]&134217728&&t(12,i=[...s].map(([Xe])=>Xe)),r.$$.dirty[0]&134217730&&t(29,o=A?s.get(A):void 0),r.$$.dirty[0]&268435456&&(a=l==null?void 0:l.inputComponentAndProps),r.$$.dirty[0]&536870916&&t(11,u=o?Xo(o,N):!1),r.$$.dirty[0]&33554432&&j!==oe&&t(7,te=!0),r.$$.dirty[0]&4&&me(N),r.$$.dirty[0]&805306368&&t(10,c=$e(o,l)),r.$$.dirty[0]&67108864&&h(t(9,f=Y!=null?Y:Tl(new vt))),r.$$.dirty[0]&1073741824&&t(8,m=d)},[L,A,N,E,F,K,W,te,m,f,c,u,i,n,T,ee,pe,ue,Se,He,we,je,k,P,R,j,Y,s,l,o,d,b,Re,Oe,Ze,Ke,tt,ot,nt,v]}class M6 extends X{constructor(e){super(),Q(this,e,Lj,Oj,G,{columns:3,getColumnLabel:23,getColumnConstraintType:24,columnIdentifier:0,conditionIdentifier:1,value:2,layout:4,disableColumnChange:5,allowDelete:6,numberOfFilters:25,recordSummaryStore:26},null,[-1,-1])}}class A6{constructor(e){re(this,"type","filter");re(this,"name","Filter");re(this,"columnIdentifier");re(this,"conditionIdentifier");re(this,"value");var t;"columnIdentifier"in e?(this.columnIdentifier=e.columnIdentifier,this.conditionIdentifier=e.conditionIdentifier,this.value=e.value):([this.conditionIdentifier]=Object.keys(e.spec),[this.columnIdentifier]=e.spec[this.conditionIdentifier][0].column_name,this.value=(t=e.spec[this.conditionIdentifier][1])==null?void 0:t.literal[0])}isValid(){const e=LA(this.conditionIdentifier);return e?Xo(e,this.value):!1}toJson(){const e={[this.conditionIdentifier]:[{column_name:[this.columnIdentifier]}]};return typeof this.value<"u"&&e[this.conditionIdentifier].push({literal:[this.value]}),{type:"filter",spec:e}}isColumnUsedInTransformation(e){return this.columnIdentifier===e}}class Tf{constructor(e){re(this,"type","summarize");re(this,"name","Summarization");re(this,"columnIdentifier");re(this,"preprocFunctionIdentifier");re(this,"groups");re(this,"aggregations");re(this,"isValid",()=>!0);var t,n;if("columnIdentifier"in e)this.columnIdentifier=e.columnIdentifier,this.preprocFunctionIdentifier=e.preprocFunctionIdentifier,this.aggregations=e.aggregations,this.groups=e.groups;else{const l=e.spec.base_grouping_column,s=(t=e.spec.aggregation_expressions)!=null?t:[],i=(n=e.spec.grouping_expressions)!=null?n:[];this.columnIdentifier=l,this.aggregations=new vt(s.map(u=>[u.input_alias,{inputAlias:u.input_alias,outputAlias:u.output_alias,function:u.function}]));let o=new vt(i.map(u=>[u.input_alias,{inputAlias:u.input_alias,outputAlias:u.output_alias,preprocFunction:u.preproc}]));const a=o.get(l);a&&(this.preprocFunctionIdentifier=a.preprocFunction,o=o.without(l)),this.groups=o}}getBaseColumnOutputAlias(){return`${this.columnIdentifier}_grouped`}getOutputColumnAliases(){return[this.getBaseColumnOutputAlias(),...[...this.groups.values()].map(e=>e.outputAlias),...[...this.aggregations.values()].map(e=>e.outputAlias)]}toJson(){const e=[...this.aggregations.entries()],t=[...this.groups.entries()],n={base_grouping_column:this.columnIdentifier,grouping_expressions:[{input_alias:this.columnIdentifier,output_alias:this.getBaseColumnOutputAlias(),preproc:this.preprocFunctionIdentifier},...t.map(([l,s])=>({input_alias:l,output_alias:s.outputAlias,preproc:s.preprocFunction}))],aggregation_expressions:e.map(([l,s])=>({input_alias:l,output_alias:s.outputAlias,function:s.function}))};return{type:"summarize",spec:n}}isColumnUsedInTransformation(e){return this.getOutputColumnAliases().includes(e)}}class R6{constructor(e){re(this,"type","hide");re(this,"name","Hide Columns");re(this,"columnAliases");"columnAliases"in e?this.columnAliases=e.columnAliases:this.columnAliases=e.spec}isValid(){return this.columnAliases.length>0}toJson(){return{type:this.type,spec:this.columnAliases}}isColumnUsedInTransformation(e){return this.columnAliases.includes(e)}}class P6{constructor(e){re(this,"type","order");re(this,"name","Sort");re(this,"columnIdentifier");re(this,"sortDirection");re(this,"isValid",()=>!0);"columnIdentifier"in e?(this.columnIdentifier=e.columnIdentifier,this.sortDirection=e.sortDirection):(this.columnIdentifier=e.spec[0].field,this.sortDirection=e.spec[0].direction==="desc"?"DESCENDING":"ASCENDING")}toJson(){return{type:this.type,spec:[{field:this.columnIdentifier,direction:this.sortDirection==="DESCENDING"?"desc":"asc"}]}}isColumnUsedInTransformation(e){return this.columnIdentifier===e}}function Nj(r){switch(r.type){case"filter":return new A6(r);case"summarize":return new Tf(r);case"hide":return new R6(r);case"order":return new P6(r);default:throw new nl(r)}}function Fj(r){return r.base_table===void 0?{isValid:!1,isRunnable:!1}:{isValid:r.transformationModels.every(t=>t.isValid()),isRunnable:!0}}class On{constructor(e){re(this,"base_table");re(this,"id");re(this,"name");re(this,"description");re(this,"initial_columns");re(this,"transformationModels");re(this,"display_names");re(this,"isValid");re(this,"isRunnable");var l,s,i,o;this.base_table=e==null?void 0:e.base_table,this.id=e==null?void 0:e.id,this.name=e==null?void 0:e.name,this.description=e==null?void 0:e.description,this.initial_columns=(l=e==null?void 0:e.initial_columns)!=null?l:[];let t;e&&"transformationModels"in e?t=[...e.transformationModels]:t=(i=(s=e==null?void 0:e.transformations)==null?void 0:s.map(Nj))!=null?i:[],this.transformationModels=t,this.display_names=(o=e==null?void 0:e.display_names)!=null?o:{};const n=Fj({base_table:e==null?void 0:e.base_table,transformationModels:t});this.isValid=n.isValid,this.isRunnable=n.isRunnable}withBaseTable(e){return{model:new On({base_table:e,id:this.id,name:this.name}),type:"baseTable",diff:{base_table:e}}}withId(e){return{model:new On({...this,id:e}),type:"id",diff:{id:e}}}withName(e){return{model:new On({...this,name:e}),type:"name",diff:{name:e}}}withDescription(e){return{model:new On({...this,description:e}),type:"name",diff:{description:e}}}withInitialColumn(e){const t=[...this.initial_columns,e];return{model:new On({...this,initial_columns:t,display_names:{...this.display_names,[e.alias]:e.alias}}),type:"initialColumnsArray",diff:{initial_columns:t}}}withoutInitialColumns(e){const t=this.initial_columns.filter(l=>!e.includes(l.alias));return{model:new On({...this,initial_columns:t}),type:"initialColumnsArray",diff:{initial_columns:t}}}withoutInitialColumn(e){return this.withoutInitialColumns([e])}withDisplayNameForColumn(e,t){const n={...this.display_names,[e]:t};return{model:new On({...this,display_names:n}),type:"initialColumnName",diff:{display_names:n}}}addTransform(e){const t=new On({...this,transformationModels:[...this.transformationModels,e]});return{model:t,type:"transformations",diff:{transformations:t.toJson().transformations}}}addFilterTransform(e){return this.addTransform(e)}addSummarizationTransform(e){if(this.hasSummarizationTransform())throw new Error("QueryModel currently allows only a single summarization transformation");return this.addTransform(e)}addHideTransform(e){return this.addTransform(e)}addSortTransform(e){return this.addTransform(e)}removeLastTransform(){const e=new On({...this,transformationModels:this.transformationModels.slice(0,-1)});return{model:e,type:"transformations",diff:{transformations:e.toJson().transformations}}}updateTransform(e,t){const n=[...this.transformationModels];n[e]=t;const l=new On({...this,transformationModels:n});return{model:l,type:"transformations",diff:{transformations:l.toJson().transformations}}}getInitialColumnsAndTransformsUtilizingThemByColumnIds(e){const t=this.initial_columns.filter(i=>e.includes(i.id)),n=t.map(i=>i.alias),l=[];let s=!1;return this.transformationModels.forEach((i,o)=>{if(s){l.push({index:o,transform:i});return}if(i.type==="summarize"){s=!0,l.push({index:o,transform:i});return}n.some(a=>i.isColumnUsedInTransformation(a))&&l.push({index:o,transform:i})}),{initialColumnsUsingColumnIds:t,transformsUsingColumnIds:l}}withoutColumnsById(e){const t=this.initial_columns.filter(a=>!e.includes(a.id));let n=this.transformationModels;const l=this.transformationModels.findIndex(a=>a.type==="summarize");l>-1&&(n=n.slice(0,l));const s=this.initial_columns.filter(a=>e.includes(a.id)).map(a=>a.alias),i=n.filter(a=>!s.some(u=>a.isColumnUsedInTransformation(u))),o=new On({...this,initial_columns:t,transformationModels:i});return{model:o,type:"initialColumnsAndTransformations",diff:{initial_columns:t,transformations:o.toJson().transformations}}}getColumn(e){return this.initial_columns.find(t=>t.alias===e)}getSummarizationTransforms(){return this.transformationModels.filter(e=>e.type==="summarize")}isColumnUsedInTransformations(e){return this.transformationModels.some(t=>t.isColumnUsedInTransformation(e))}areColumnsUsedInTransformations(e){return e.some(t=>this.isColumnUsedInTransformations(t))}getOutputColumnAliases(){const e=this.getSummarizationTransforms();return e.length>0?e[e.length-1].getOutputColumnAliases():this.initial_columns.map(t=>t.alias)}getAllSortedColumns(){return this.transformationModels.filter(e=>e.type==="order").map(e=>e.columnIdentifier)}getAllSortableColumns(){const e=new Set(this.getAllSortedColumns());return this.getOutputColumnAliases().filter(t=>!e.has(t))}toRunRequestJson(){if(this.base_table===void 0)throw new Error("Cannot formulate run request since base_table is undefined");const e=this.isValid?this.transformationModels:this.transformationModels.filter(t=>t.isValid());return{base_table:this.base_table,initial_columns:this.initial_columns,transformations:e.map(t=>t.toJson()),display_names:this.display_names}}getColumnCount(e){return this.initial_columns.filter(t=>t.id===e).length}toJson(){return{id:this.id,name:this.name,description:this.description,base_table:this.base_table,initial_columns:this.initial_columns,transformations:this.transformationModels.map(e=>e.toJson()),display_names:this.display_names}}isSaved(){return!!this.id}hasSummarizationTransform(){return this.transformationModels.some(e=>e.type==="summarize")}}class hh{constructor(e,t){re(this,"queryJSON");re(this,"isValid");re(this,"next");re(this,"prev");this.queryJSON=e,this.isValid=t}}class zj{constructor(e){re(this,"current");if(e){const{query:t,isValid:n}=e,l=JSON.parse(JSON.stringify(t.toJson()));this.current=new hh(l,n)}}pushState(e,t){this.current&&this.current.next&&(this.current.next.prev=void 0);const n=JSON.parse(JSON.stringify(e.toJson())),l=new hh(n,t);return this.current&&!this.current.isValid?l.prev=this.current.prev:(l.prev=this.current,this.current&&(this.current.next=l)),this.current=l,l}isUndoPossible(){var e;return!!((e=this.current)!=null&&e.prev)}isRedoPossible(){var e;return!!((e=this.current)!=null&&e.next)}undo(){if(this.current&&this.current.prev)return this.current=this.current.prev,new On(this.current.queryJSON)}redo(){if(this.current&&this.current.next)return this.current=this.current.next,new On(this.current.queryJSON)}clear(){this.current=void 0}}const Df=(r,e)=>r[1].linksTo&&!e[1].linksTo?1:!r[1].linksTo&&e[1].linksTo?-1:0;function If(r,e,t,n=""){const l=r.joinable_tables.filter(f=>f.depth===t&&f.fk_path[t-1][1]===!1&&f.jp_path[t-1][0]===e&&f.jp_path.join(",").indexOf(n)===0);if(l.length===0)return;if(l.length>1)throw new Error(`Multiple links present for the same column: ${e}`);const s=l[0],i=r.tables[s.target],o={id:s.target,name:i.name},a=s.jp_path[t-1][1],u={id:a,name:r.columns[a].name},c=i.columns.map(f=>{const m=r.columns[f];return[f,{id:f,name:m.name,tableName:i.name,type:m.type,linksTo:If(r,f,t+1,s.jp_path.join(",")),jpPath:s.jp_path,producesMultipleResults:s.multiple_results}]});return{...o,linkedToColumn:u,columns:new Map(c.sort(Df))}}function Hj(r,e){const t=new Map;return e.columns.forEach(n=>{t.set(n.id,{id:n.id,name:n.name,type:n.type,tableId:e.id,tableName:e.name})}),Object.keys(r.tables).forEach(n=>{const l=parseInt(n,10),s=r.tables[l];s.columns.forEach(i=>{const o=r.columns[i];t.set(i,{id:i,name:o.name,type:o.type,tableId:l,tableName:s.name})})}),t}function Vj(r,e){const t=e.columns.map(n=>[n.id,{id:n.id,name:n.name,type:n.type,tableName:e.name,linksTo:If(r,n.id,1),producesMultipleResults:!1}]);return new Map(t.sort(Df))}function qj(r,e){const t=r.joinable_tables.filter(l=>l.depth===1&&l.fk_path[0][1]===!0),n=[];return t.forEach(l=>{const s=l.target,i=r.tables[s],o=l.jp_path[0][0],a=e.columns.find(f=>f.id===o),u=l.jp_path[0][1];if(!a)return;const c=r.tables[l.target].columns.filter(f=>f!==u).map(f=>{const m=r.columns[f];return[f,{id:f,name:m.name,type:m.type,tableName:i.name,linksTo:If(r,f,2,l.jp_path.join(",")),jpPath:l.jp_path,producesMultipleResults:l.multiple_results}]});n.push({id:s,name:i.name,referencedViaColumn:{id:u,...r.columns[u]},linkedToColumn:a,columns:new Map(c.sort(Df))})}),n}function ai(r,e){var s,i,o,a;const t={alias:r.alias,display_name:(s=r.display_name)!=null?s:r.alias,type:(i=r.type)!=null?i:"unknown",type_options:(o=r.type_options)!=null?o:null,display_options:(a=r.display_options)!=null?a:null},n=Ql(t.type,e),l=r.is_initial_column?{is_initial_column:!0,input_column_name:r.input_column_name,input_table_name:r.input_table_name,input_table_id:r.input_table_id}:{is_initial_column:!1,input_alias:r.input_alias};return{id:t.alias,column:t,abstractType:n,cellComponentAndProps:mf({cellInfo:n.cellInfo,column:t}),inputComponentAndProps:df(t,void 0,n.cellInfo),initialInputValue:Zv(t,void 0,n.cellInfo),allowedFiltersMap:Mw(n.identifier),preprocFunctions:Aw(n.identifier),summarizationFunctions:qA(n.identifier),source:l,formatCellValue:xv(t)}}function Uj(r,e){return new vt(Object.entries(r).map(([t,n])=>[t,ai(n,e)]))}function Wj({currentProcessedColumnsMetaData:r,inputColumnInformationMap:e,queryModel:t,abstractTypeMap:n}){const l=t.initial_columns,s=t.getSummarizationTransforms(),i=l.filter(f=>!r.has(f.alias)),o=s.filter(f=>f.getOutputColumnAliases().some(m=>!r.has(m))),a=Object.entries(t.display_names).filter(([f,m])=>{var d;return r.has(f)&&((d=r.get(f))==null?void 0:d.column.display_name)!==m});let u=r,c=i.length>0||o.length>0;return i.length>0&&i.forEach(f=>{const m=e.get(f.id);u=u.with(f.alias,ai({alias:f.alias,type:m==null?void 0:m.type,is_initial_column:!0,input_column_name:m==null?void 0:m.name,input_table_name:m==null?void 0:m.tableName,input_table_id:m==null?void 0:m.tableId},n))}),o.length>0&&o.forEach(f=>{[...f.groups.values()].forEach(m=>{var d,_,h,b;if(!u.has(m.outputAlias)){const v=(d=u.get(m.inputAlias))==null?void 0:d.column;u=u.with(m.outputAlias,ai({alias:m.outputAlias,display_name:null,type:(_=v==null?void 0:v.type)!=null?_:"unknown",type_options:(h=v==null?void 0:v.type_options)!=null?h:null,display_options:(b=v==null?void 0:v.display_options)!=null?b:null,is_initial_column:!1,input_alias:m.inputAlias},n))}}),[...f.aggregations.values()].forEach(m=>{var d,_;u.has(m.outputAlias)||(u=u.with(m.outputAlias,ai({alias:m.outputAlias,type:m.function==="distinct_aggregate_to_array"?"_array":"integer",type_options:m.function==="distinct_aggregate_to_array"?{type:(_=(d=u.get(m.inputAlias))==null?void 0:d.column.type)!=null?_:"unknown"}:null,display_options:null,is_initial_column:!1,input_alias:m.inputAlias},n)))})}),a.length>0&&a.forEach(([f,m])=>{const d=u.get(f);d&&(u=u.with(f,{...d,column:{...d.column,display_name:m}}),c=!0)}),c?new vt(u):r}function ea(r,e){return new vt(r.map((t,n)=>{var l;return[t,{...(l=e.get(t))!=null?l:ai({alias:t,is_initial_column:!0},new Map),columnIndex:n}]}))}const O6=[{id:"inspect-column",label:"Column"},{id:"inspect-cell",label:"Cell"}],Bj=[{id:"inspect-exploration",label:"Exploration"},...O6];class jj{constructor(e){re(this,"tabs");re(this,"activeTab");this.tabs=at(e,t=>t.isSaved()?Bj:O6),this.activeTab=Ge(Qe(this.tabs)[0])}selectColumnTab(){this.activeTab.set(Qe(this.tabs).find(e=>e.id==="inspect-column"))}selectCellTab(){this.activeTab.set(Qe(this.tabs).find(e=>e.id==="inspect-cell"))}}class L6{constructor({query:e,abstractTypeMap:t,runMode:n,onRunWithObject:l,onRunWithId:s,shareConsumer:i}){re(this,"query");re(this,"abstractTypeMap");re(this,"runState",Ge());re(this,"pagination",Ge(new Mr({size:100})));re(this,"rowsData",Ge({totalCount:0,rows:[]}));re(this,"columnsMetaData",Ge(new vt));re(this,"processedColumns",Ge(new vt));re(this,"selection");re(this,"inspector");re(this,"runPromise");re(this,"runMode");re(this,"onRunWithObjectCallback");re(this,"onRunWithIdCallback");re(this,"shareConsumer");this.abstractTypeMap=t,this.runMode=n!=null?n:"queryObject",this.query=Ge(e),this.onRunWithObjectCallback=l,this.onRunWithIdCallback=s,this.shareConsumer=i,this.speculateProcessedColumns(),this.run(),this.selection=new Tv({getColumns:()=>[...Qe(this.processedColumns).values()],getColumnOrder:()=>[...Qe(this.processedColumns).values()].map(o=>o.id),getRows:()=>Qe(this.rowsData).rows,getMaxSelectionRowIndex:()=>{var m;const o=Qe(this.rowsData).rows.length,a=(m=Qe(this.rowsData).totalCount)!=null?m:0,u=Qe(this.pagination),{offset:c}=u,f=u.size;return Math.min(f,a-c,o)-1}}),this.inspector=new jj(this.query)}speculateProcessedColumns(e){const t=Wj({currentProcessedColumnsMetaData:Qe(this.columnsMetaData),inputColumnInformationMap:e!=null?e:new Map,queryModel:this.getQueryModel(),abstractTypeMap:this.abstractTypeMap});this.columnsMetaData.set(t),this.processedColumns.set(ea(this.getQueryModel().getOutputColumnAliases(),t))}async run(){var l,s,i;(l=this.runPromise)==null||l.cancel();const e=this.getQueryModel();if(e.base_table===void 0){const o={totalCount:0,rows:[]};this.columnsMetaData.set(new vt),this.processedColumns.set(new vt),this.rowsData.set(o),this.runState.set({state:"success"});return}let t,n;try{const o=Qe(this.pagination).recordsRequestParams();if(this.runState.set({state:"processing"}),this.runMode==="queryObject"){const u=vV({...e.toRunRequestJson(),parameters:{...o}});this.runPromise=u;const c=await u;t=c,n=()=>{var f;return(f=this.onRunWithObjectCallback)==null?void 0:f.call(this,c)}}else{if(!e.id){this.runState.set({state:"failure",errors:["Query does not contain an id"]});return}this.runPromise=kV(e.id,{...o,...(s=this.shareConsumer)==null?void 0:s.getQueryParams()}),t=await this.runPromise,n=()=>{var c;return(c=this.onRunWithIdCallback)==null?void 0:c.call(this,t)}}const a=Uj(t.column_metadata,this.abstractTypeMap);return this.columnsMetaData.set(a),this.processedColumns.set(new vt(ea(t.output_columns,a))),this.rowsData.set({totalCount:t.records.count,rows:((i=t.records.results)!=null?i:[]).map((u,c)=>({record:u,rowIndex:c}))}),await n(),this.runState.set({state:"success"}),t}catch(o){if(o instanceof Hs)this.runState.set({state:"failure",errors:o});else{const a=o instanceof Error?o.message:"Unable to run query due to an unknown reason";this.runState.set({state:"failure",errors:[a]})}}}async setPagination(e){this.pagination.set(e),await this.run(),this.selection.activateFirstCellInSelectedColumn()}resetPagination(){this.pagination.update(e=>new Mr({...e,page:1}))}resetResults(){var e;this.clearSelection(),(e=this.runPromise)==null||e.cancel(),this.resetPagination(),this.rowsData.set({totalCount:0,rows:[]}),this.processedColumns.set(new vt),this.runState.set(void 0)}async resetPaginationAndRun(){this.resetPagination(),await this.run(),this.selection.activateFirstCellInSelectedColumn()}selectColumn(e){const t=Qe(this.processedColumns).get(e);if(!t){this.selection.resetSelection(),this.selection.selectAndActivateFirstCellIfExists(),this.inspector.selectCellTab();return}if(this.selection.toggleColumnSelection(t)){this.inspector.selectColumnTab();return}this.selection.activateFirstCellInSelectedColumn(),this.inspector.selectCellTab()}clearSelection(){this.selection.resetSelection()}getRows(){return Qe(this.rowsData).rows}getQueryModel(){return Qe(this.query)}destroy(){var e;this.selection.destroy(),(e=this.runPromise)==null||e.cancel()}}class Ja extends L6{constructor({query:t,abstractTypeMap:n,onSave:l}){super({query:t,abstractTypeMap:n,onRunWithObject:i=>{this.checkAndUpdateSummarizationAfterRun(new On(i.query))}});re(this,"undoRedoManager");re(this,"cacheManagers",{inputColumns:new h6(5)});re(this,"state",Ge({isUndoPossible:!1,isRedoPossible:!1}));re(this,"inputColumns",Ge({baseTableColumns:new Map,tablesThatReferenceBaseTable:[],inputColumnInformationMap:new Map}));re(this,"confirmationNeededForMultipleResults",Ge(!0));re(this,"queryHasUnsavedChanges",Ge(!1));re(this,"baseTableFetchPromise");re(this,"joinableColumnsfetchPromise");re(this,"querySavePromise");re(this,"onSaveCallback");this.onSaveCallback=l!=null?l:()=>{};const s=new zj;s.pushState(t,t.isValid),this.undoRedoManager=s,this.calculateInputColumnTree()}async calculateInputColumnTree(){var l,s;const t=Qe(this.query).base_table;if(!t){this.inputColumns.set({baseTableColumns:new Map,tablesThatReferenceBaseTable:[],inputColumnInformationMap:new Map}),this.state.update(i=>({...i,inputColumnsFetchState:{state:"success"}}));return}const n=this.cacheManagers.inputColumns.get(t);if(n){this.inputColumns.set({...n}),this.state.update(i=>({...i,inputColumnsFetchState:{state:"success"}})),this.speculateColumns();return}try{(l=this.baseTableFetchPromise)==null||l.cancel(),(s=this.joinableColumnsfetchPromise)==null||s.cancel(),this.state.update(m=>({...m,inputColumnsFetchState:{state:"processing"}})),this.baseTableFetchPromise=Kv(t),this.joinableColumnsfetchPromise=dn(`/api/db/v0/tables/${t}/joinable_tables/`);const[i,o]=await Promise.all([this.baseTableFetchPromise,this.joinableColumnsfetchPromise]),a=Vj(o,i),u=qj(o,i),c=Hj(o,i),f={baseTableColumns:a,tablesThatReferenceBaseTable:u,inputColumnInformationMap:c};this.cacheManagers.inputColumns.set(t,f),this.inputColumns.set(f),this.speculateColumns(),this.state.update(m=>({...m,inputColumnsFetchState:{state:"success"}}))}catch(i){const o=i instanceof Error?i.message:"There was an error fetching joinable links";this.state.update(a=>({...a,inputColumnsFetchState:{state:"failure",errors:[o]}}))}}speculateColumns(){super.speculateProcessedColumns(Qe(this.inputColumns).inputColumnInformationMap)}async updateQuery(t){var n;return this.query.set(t),this.queryHasUnsavedChanges.set(!0),((n=Qe(this.state).inputColumnsFetchState)==null?void 0:n.state)!=="success"&&await this.calculateInputColumnTree(),{isValid:t.isValid,isRunnable:t.isRunnable}}setUndoRedoStates(){this.state.update(t=>({...t,isUndoPossible:this.undoRedoManager.isUndoPossible(),isRedoPossible:this.undoRedoManager.isRedoPossible()}))}checkAndUpdateSummarizationAfterRun(t){const n=this.getQueryModel();let l=n,s=!1;n.transformationModels.forEach((i,o)=>{const a=t.transformationModels[o];if(i.type==="summarize"&&a&&a.type==="summarize"){const u=a.groups.get(a.columnIdentifier);u&&(a.groups=a.groups.without(a.columnIdentifier),a.preprocFunctionIdentifier=u.preprocFunction),(a.aggregations.size!==i.aggregations.size||a.groups.size!==i.groups.size)&&(s=!0,l=l.updateTransform(o,a).model)}}),s&&this.query.set(l)}async update(t){var i;this.state.update(o=>({...o,saveState:void 0}));const n=t(this.getQueryModel()),{isValid:l,isRunnable:s}=await this.updateQuery(n.model);if(this.undoRedoManager.pushState(n.model,l),this.setUndoRedoStates(),s)switch(n.type){case"baseTable":this.resetResults(),this.undoRedoManager.clear(),this.setUndoRedoStates(),this.confirmationNeededForMultipleResults.set(!0),this.queryHasUnsavedChanges.set(!1),await this.calculateInputColumnTree();break;case"initialColumnName":this.speculateColumns();break;case"initialColumnsArray":(i=n.diff.initial_columns)!=null&&i.length?(this.speculateColumns(),await this.run()):this.resetResults();break;case"transformations":case"initialColumnsAndTransformations":await this.resetPaginationAndRun();break}}async performUndoRedoSync(t){if(t){const n=this.getQueryModel();let l=t;n!=null&&n.id&&(l=t.withId(n.id).model),this.query.set(l),this.speculateColumns(),await this.updateQuery(l),this.setUndoRedoStates(),await this.run()}else this.setUndoRedoStates()}async undo(){const t=this.undoRedoManager.undo();await this.performUndoRedoSync(t)}async redo(){const t=this.undoRedoManager.redo();await this.performUndoRedoSync(t)}async save(){var n;const t=this.getQueryModel().toJson();this.state.update(l=>({...l,saveState:{state:"processing"}}));try{(n=this.querySavePromise)==null||n.cancel(),t.id!==void 0?this.querySavePromise=$6(t):this.querySavePromise=$V(t);const l=await this.querySavePromise;return this.query.update(s=>s.withId(l.id).model),await this.onSaveCallback(l),this.state.update(s=>({...s,saveState:{state:"success"}})),this.queryHasUnsavedChanges.set(!1),this.getQueryModel()}catch(l){const s=l instanceof Error?[l.message]:["An error occurred while trying to save the query"];throw this.state.update(i=>({...i,saveState:{state:"failure",errors:s}})),l}}getAutoSummarizationTransformModel(){const{baseTableColumns:t}=Qe(this.inputColumns),n=this.getQueryModel().initial_columns.find(l=>t.has(l.id));if(n)return new Tf({type:"summarize",spec:{base_grouping_column:n.alias}})}destroy(){var t,n,l;super.destroy(),(t=this.baseTableFetchPromise)==null||t.cancel(),(n=this.joinableColumnsfetchPromise)==null||n.cancel(),(l=this.querySavePromise)==null||l.cancel()}}function Yj(r){let e;return{c(){e=I("span"),e.textContent="Properties",D(e,"slot","header")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function Kj(r){let e,t;return e=new $n({props:{value:r[0],"aria-label":"name",disabled:!r[2]}}),e.$on("change",r[7]),e.$on("input",r[6]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.value=n[0]),l&4&&(s.disabled=!n[2]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Gj(r){let e,t;return e=new wn({props:{label:"Name",layout:"stacked",$$slots:{default:[Kj]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&65541&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Qj(r){let e,t;return e=new Gl({props:{value:r[1],"aria-label":"description",disabled:!r[2]}}),e.$on("change",r[8]),e.$on("input",r[6]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.value=n[1]),l&4&&(s.disabled=!n[2]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Xj(r){let e,t;return e=new wn({props:{label:"Description",layout:"stacked",$$slots:{default:[Qj]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&65542&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function bh(r){let e,t;return e=new Ms({props:{$$slots:{default:[Jj]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&65536&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Jj(r){let e,t;return e=new _r({props:{cancelButton:{icon:void 0},proceedButton:{icon:void 0,label:"Save"},onCancel:r[9],onProceed:r[10]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Zj(r){let e,t,n,l,s,i;e=new Ms({props:{$$slots:{default:[Gj]},$$scope:{ctx:r}}}),n=new Ms({props:{$$slots:{default:[Xj]},$$scope:{ctx:r}}});let o=!r[5]&&r[3]&&r[2]&&bh(r);return{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment),l=O(),o&&o.c(),s=ae()},m(a,u){y(e,a,u),w(a,t,u),y(n,a,u),w(a,l,u),o&&o.m(a,u),w(a,s,u),i=!0},p(a,u){const c={};u&65541&&(c.$$scope={dirty:u,ctx:a}),e.$set(c);const f={};u&65542&&(f.$$scope={dirty:u,ctx:a}),n.$set(f),!a[5]&&a[3]&&a[2]?o?(o.p(a,u),u&44&&p(o,1)):(o=bh(a),o.c(),p(o,1),o.m(s.parentNode,s)):o&&(q(),g(o,1,1,()=>{o=null}),U())},i(a){i||(p(e.$$.fragment,a),p(n.$$.fragment,a),p(o),i=!0)},o(a){g(e.$$.fragment,a),g(n.$$.fragment,a),g(o),i=!1},d(a){S(e,a),a&&$(t),S(n,a),a&&$(l),o&&o.d(a),a&&$(s)}}}function xj(r){let e,t,n;return t=new E6({props:{$$slots:{default:[Zj]},$$scope:{ctx:r}}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"slot","content"),D(e,"class","section-content")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&65583&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function $h(r){let e,t;return e=new Tn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[nY],header:[eY]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&65536&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function eY(r){let e;return{c(){e=I("span"),e.textContent="Actions",D(e,"slot","header")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function tY(r){let e,t,n,l;const s=[Ut];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new Fe({props:i}),{c(){C(e.$$.fragment),t=O(),n=I("span"),n.textContent="Delete Exploration"},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),l=!0},p(o,a){const u=a&0?ce(s,[be(Ut)]):{};e.$set(u)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),o&&$(n)}}}function nY(r){let e,t,n;return t=new ut({props:{class:"delete-button",appearance:"outline-primary",$$slots:{default:[tY]},$$scope:{ctx:r}}}),t.$on("click",r[11]),{c(){e=I("div"),C(t.$$.fragment),D(e,"slot","content"),D(e,"class","section-content actions")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&65536&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function rY(r){let e,t,n,l;e=new Tn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[xj],header:[Yj]},$$scope:{ctx:r}}});let s=r[2]&&$h(r);return{c(){C(e.$$.fragment),t=O(),s&&s.c(),n=ae()},m(i,o){y(e,i,o),w(i,t,o),s&&s.m(i,o),w(i,n,o),l=!0},p(i,[o]){const a={};o&65583&&(a.$$scope={dirty:o,ctx:i}),e.$set(a),i[2]?s?(s.p(i,o),o&4&&p(s,1)):(s=$h(i),s.c(),p(s,1),s.m(n.parentNode,n)):s&&(q(),g(s,1,1,()=>{s=null}),U())},i(i){l||(p(e.$$.fragment,i),p(s),l=!0)},o(i){g(e.$$.fragment,i),g(s),l=!1},d(i){S(e,i),i&&$(t),s&&s.d(i),i&&$(n)}}}function lY(r,e,t){let n,l,s,i=z,o=()=>(i(),i=se(n,P=>t(13,s=P)),n),a;de(r,Zl,P=>t(14,a=P)),r.$$.on_destroy.push(()=>i());const u=dt();let{queryHandler:c}=e,{name:f}=e,{description:m}=e,{canEditMetadata:d}=e,_=!1;function h(){t(3,_=!0)}function b(P){var L;const R=P.target;R.value.trim()===""&&(R.value=(L=s.name)!=null?L:Ml("New_Exploration",new Set([...a.data.values()].map(A=>A.name)))),t(0,f=R.value),"update"in c&&c.update(A=>A.withName(R.value))}function v(P){const R=P.target;t(1,m=R.value.trim()),"update"in c&&c.update(L=>L.withDescription(m!=null?m:""))}function k(){t(0,f=s.name),t(1,m=s.description),t(3,_=!1)}async function T(){try{const P=s.withName(f).model.withDescription(m).model;await $6(P.toJson()),n.set(P)}catch(P){const R=P instanceof Error?P.message:"Unable to save Exploration.";At.error(R)}}function E(){if(s.id!==void 0){const P=s.id;_l({identifierType:"Exploration",onProceed:async()=>{await yV(P),u("delete")}})}}return r.$$set=P=>{"queryHandler"in P&&t(12,c=P.queryHandler),"name"in P&&t(0,f=P.name),"description"in P&&t(1,m=P.description),"canEditMetadata"in P&&t(2,d=P.canEditMetadata)},r.$$.update=()=>{r.$$.dirty&4096&&o(t(4,{query:n}=c,n)),r.$$.dirty&4096&&t(5,l=c instanceof Ja)},[f,m,d,_,n,l,h,b,v,k,T,E,c]}class sY extends X{constructor(e){super(),Q(this,e,lY,rY,G,{queryHandler:12,name:0,description:1,canEditMetadata:2})}}function wh(r){var a;let e,t,n,l,s,i,o;return i=new Bn({props:{isLoading:!r[0].name,column:{...r[0],name:(a=r[0].name)!=null?a:""}}}),{c(){e=I("div"),t=I("h1"),t.textContent="Aggregated from",n=O(),l=I("div"),s=I("span"),C(i.$$.fragment),D(s,"class","tag svelte-fnyv54"),D(l,"class","column-info svelte-fnyv54"),D(e,"data-identifier","aggregation-source"),D(e,"class","svelte-fnyv54")},m(u,c){w(u,e,c),M(e,t),M(e,n),M(e,l),M(l,s),y(i,s,null),o=!0},p(u,c){var m;const f={};c&1&&(f.isLoading=!u[0].name),c&1&&(f.column={...u[0],name:(m=u[0].name)!=null?m:""}),i.$set(f)},i(u){o||(p(i.$$.fragment,u),o=!0)},o(u){g(i.$$.fragment,u),o=!1},d(u){u&&$(e),S(i)}}}function vh(r){var d,_;let e,t,n,l,s,i,o,a,u,c,f,m;return i=new Bn({props:{isLoading:!r[1].column.name,column:{...r[1].column,name:(d=r[1].column.name)!=null?d:""}}}),f=new Cn({props:{isLoading:!r[1].table.name,table:{name:(_=r[1].table.name)!=null?_:""}}}),{c(){e=I("div"),t=I("h1"),t.textContent="Source Column",n=O(),l=I("div"),s=I("span"),C(i.$$.fragment),o=O(),a=I("span"),a.textContent="from",u=O(),c=I("span"),C(f.$$.fragment),D(s,"class","tag svelte-fnyv54"),D(a,"class","from svelte-fnyv54"),D(c,"class","tag svelte-fnyv54"),D(l,"class","column-info svelte-fnyv54"),D(e,"data-identifier","column-source"),D(e,"class","svelte-fnyv54")},m(h,b){w(h,e,b),M(e,t),M(e,n),M(e,l),M(l,s),y(i,s,null),M(l,o),M(l,a),M(l,u),M(l,c),y(f,c,null),m=!0},p(h,b){var T,E;const v={};b&2&&(v.isLoading=!h[1].column.name),b&2&&(v.column={...h[1].column,name:(T=h[1].column.name)!=null?T:""}),i.$set(v);const k={};b&2&&(k.isLoading=!h[1].table.name),b&2&&(k.table={name:(E=h[1].table.name)!=null?E:""}),f.$set(k)},i(h){m||(p(i.$$.fragment,h),p(f.$$.fragment,h),m=!0)},o(h){g(i.$$.fragment,h),g(f.$$.fragment,h),m=!1},d(h){h&&$(e),S(i),S(f)}}}function iY(r){let e,t,n,l=r[0]&&wh(r),s=r[1]&&vh(r);return{c(){l&&l.c(),e=O(),s&&s.c(),t=ae()},m(i,o){l&&l.m(i,o),w(i,e,o),s&&s.m(i,o),w(i,t,o),n=!0},p(i,[o]){i[0]?l?(l.p(i,o),o&1&&p(l,1)):(l=wh(i),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(q(),g(l,1,1,()=>{l=null}),U()),i[1]?s?(s.p(i,o),o&2&&p(s,1)):(s=vh(i),s.c(),p(s,1),s.m(t.parentNode,t)):s&&(q(),g(s,1,1,()=>{s=null}),U())},i(i){n||(p(l),p(s),n=!0)},o(i){g(l),g(s),n=!1},d(i){l&&l.d(i),i&&$(e),s&&s.d(i),i&&$(t)}}}function N6(r,e){if(r.source.is_initial_column)return{column:{...r.column,name:r.source.input_column_name},table:{name:r.source.input_table_name}};const n=r.source.input_alias,l=e.get(n);if(l)return N6(l,e)}function oY(r,e,t){let n,l,{columnInformation:s}=e,{columnsMetaData:i}=e;return r.$$set=o=>{"columnInformation"in o&&t(2,s=o.columnInformation),"columnsMetaData"in o&&t(3,i=o.columnsMetaData)},r.$$.update=()=>{r.$$.dirty&12&&t(1,n=N6(s,i)),r.$$.dirty&12&&t(0,l=(()=>{if(!s.source.is_initial_column){const a=s.source.input_alias,u=i.get(a);if(u)return{...u.column,name:u.column.display_name}}})())},[l,n,s,i]}class aY extends X{constructor(e){super(),Q(this,e,oY,iY,G,{columnInformation:2,columnsMetaData:3})}}function uY(r){let e;return{c(){e=I("span"),e.textContent="Actions",D(e,"slot","header")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function kh(r){let e,t,n;return t=new Ks({props:{$$slots:{default:[_Y]},$$scope:{ctx:r}}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","warning svelte-1w7tyb3")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&2051&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function cY(r){let e;return{c(){e=B(`Some of the selected columns cannot be deleted because they're
            either used in transformations or results of transformations. Please
            remove them from the transformations before deleting them.`)},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function fY(r){let e;return{c(){e=B(`Some of the selected columns cannot be deleted because atleast one
            column from the base table is required. Please add another column
            from the base table before deleting them.`)},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function mY(r){let e;function t(s,i){return s[1]?pY:dY}let n=t(r),l=n(r);return{c(){l.c(),e=ae()},m(s,i){l.m(s,i),w(s,e,i)},p(s,i){n!==(n=t(s))&&(l.d(1),l=n(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&$(e)}}}function dY(r){let e;return{c(){e=B(`This column cannot be deleted because it is either used in
              transformations or a result of transformations. Please remove the
              column from the transformations before deleting it.`)},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function pY(r){let e;return{c(){e=B(`This column cannot be deleted because atleast one column from the
              base table is required. Please add another column from the base
              table before deleting this column.`)},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function _Y(r){let e;function t(s,i){return s[0].length===1?mY:s[1]?fY:cY}let n=t(r),l=n(r);return{c(){l.c(),e=ae()},m(s,i){l.m(s,i),w(s,e,i)},p(s,i){n===(n=t(s))&&l?l.p(s,i):(l.d(1),l=n(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&$(e)}}}function gY(r){let e,t,n,l,s=Er(r[0],"columns","title")+"",i,o;const a=[Ut];let u={};for(let c=0;c<a.length;c+=1)u=x(u,a[c]);return e=new Fe({props:u}),{c(){C(e.$$.fragment),t=O(),n=I("span"),l=B("Delete "),i=B(s)},m(c,f){y(e,c,f),w(c,t,f),w(c,n,f),M(n,l),M(n,i),o=!0},p(c,f){const m=f&0?ce(a,[be(Ut)]):{};e.$set(m),(!o||f&1)&&s!==(s=Er(c[0],"columns","title")+"")&&he(i,s)},i(c){o||(p(e.$$.fragment,c),o=!0)},o(c){g(e.$$.fragment,c),o=!1},d(c){S(e,c),c&&$(t),c&&$(n)}}}function hY(r){let e,t,n,l,s=r[2]&&kh(r);return n=new ut({props:{class:"delete-button",appearance:"outline-primary",disabled:r[2],$$slots:{default:[gY]},$$scope:{ctx:r}}}),n.$on("click",r[5]),{c(){e=I("div"),s&&s.c(),t=O(),C(n.$$.fragment),D(e,"slot","content"),D(e,"class","section-content actions")},m(i,o){w(i,e,o),s&&s.m(e,null),M(e,t),y(n,e,null),l=!0},p(i,o){i[2]?s?(s.p(i,o),o&4&&p(s,1)):(s=kh(i),s.c(),p(s,1),s.m(e,t)):s&&(q(),g(s,1,1,()=>{s=null}),U());const a={};o&4&&(a.disabled=i[2]),o&2049&&(a.$$scope={dirty:o,ctx:i}),n.$set(a)},i(i){l||(p(s),p(n.$$.fragment,i),l=!0)},o(i){g(s),g(n.$$.fragment,i),l=!1},d(i){i&&$(e),s&&s.d(),S(n)}}}function bY(r){let e,t;return e=new Tn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[hY],header:[uY]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2055&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function $Y(r,e,t){let n,l,s,i,o,a,u,c=z,f=()=>(c(),c=se(n,k=>t(9,u=k)),n),m,d=z,_=()=>(d(),d=se(l,k=>t(10,m=k)),l);r.$$.on_destroy.push(()=>c()),r.$$.on_destroy.push(()=>d());let{selectedColumns:h}=e,{queryManager:b}=e;function v(){b.update(k=>k.withoutInitialColumns(s)),b.clearSelection()}return r.$$set=k=>{"selectedColumns"in k&&t(6,h=k.selectedColumns),"queryManager"in k&&t(7,b=k.queryManager)},r.$$.update=()=>{r.$$.dirty&128&&f(t(4,{query:n,columnsMetaData:l}=b,n,_(t(3,l)))),r.$$.dirty&64&&t(0,s=h.map(k=>k.column.alias)),r.$$.dirty&1537&&t(1,i=(()=>{if(u.hasSummarizationTransform())return!1;const k=u.initial_columns.filter(E=>!s.includes(E.alias));return!(k.length===0||k.some(E=>{var R;const P=(R=m.get(E.alias))==null?void 0:R.source;return(P==null?void 0:P.is_initial_column)&&P.input_table_id===u.base_table}))})()),r.$$.dirty&513&&t(8,o=u.areColumnsUsedInTransformations(s)),r.$$.dirty&258&&t(2,a=i||o)},[s,i,a,l,n,v,h,b,o,u,m]}class wY extends X{constructor(e){super(),Q(this,e,$Y,bY,G,{selectedColumns:6,queryManager:7})}}function vY(r){let e,t;return e=new Tn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[CY],header:[yY]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&524317&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function kY(r){let e,t=r[1].length+"",n,l;return{c(){e=I("div"),n=B(t),l=B(" columns selected"),D(e,"class","section-content")},m(s,i){w(s,e,i),M(e,n),M(e,l)},p(s,i){i&2&&t!==(t=s[1].length+"")&&he(n,t)},i:z,o:z,d(s){s&&$(e)}}}function yY(r){let e;return{c(){e=I("span"),e.textContent="Properties",D(e,"slot","header")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function SY(r){let e,t;return e=new $n({props:{value:r[0].column.display_name,disabled:!r[3]}}),e.$on("input",r[11]),e.$on("change",r[10]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.value=n[0].column.display_name),l&8&&(s.disabled=!n[3]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function yh(r){let e,t;return e=new aY({props:{columnInformation:r[4],columnsMetaData:r[2]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.columnInformation=n[4]),l&4&&(s.columnsMetaData=n[2]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function CY(r){let e,t,n,l;t=new wn({props:{label:"Name",layout:"stacked",$$slots:{default:[SY]},$$scope:{ctx:r}}});let s=r[4]&&yh(r);return{c(){e=I("div"),C(t.$$.fragment),n=O(),s&&s.c(),D(e,"slot","content"),D(e,"class","section-content")},m(i,o){w(i,e,o),y(t,e,null),M(e,n),s&&s.m(e,null),l=!0},p(i,o){const a={};o&524297&&(a.$$scope={dirty:o,ctx:i}),t.$set(a),i[4]?s?(s.p(i,o),o&16&&p(s,1)):(s=yh(i),s.c(),p(s,1),s.m(e,null)):s&&(q(),g(s,1,1,()=>{s=null}),U())},i(i){l||(p(t.$$.fragment,i),p(s),l=!0)},o(i){g(t.$$.fragment,i),g(s),l=!1},d(i){i&&$(e),S(t),s&&s.d()}}}function Sh(r){let e,t;return e=new wY({props:{selectedColumns:r[1],queryManager:r[3]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.selectedColumns=n[1]),l&8&&(s.queryManager=n[3]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ch(r){let e;return{c(){e=I("div"),e.textContent="Select a column to view it's properties.",D(e,"class","section-content")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function TY(r){let e,t,n,l,s,i;const o=[kY,vY],a=[];function u(m,d){return m[5]?0:m[0]?1:-1}~(e=u(r))&&(t=a[e]=o[e](r));let c=r[1].length>0&&r[3]&&Sh(r),f=!r[0]&&Ch();return{c(){t&&t.c(),n=O(),c&&c.c(),l=O(),f&&f.c(),s=ae()},m(m,d){~e&&a[e].m(m,d),w(m,n,d),c&&c.m(m,d),w(m,l,d),f&&f.m(m,d),w(m,s,d),i=!0},p(m,[d]){let _=e;e=u(m),e===_?~e&&a[e].p(m,d):(t&&(q(),g(a[_],1,1,()=>{a[_]=null}),U()),~e?(t=a[e],t?t.p(m,d):(t=a[e]=o[e](m),t.c()),p(t,1),t.m(n.parentNode,n)):t=null),m[1].length>0&&m[3]?c?(c.p(m,d),d&10&&p(c,1)):(c=Sh(m),c.c(),p(c,1),c.m(l.parentNode,l)):c&&(q(),g(c,1,1,()=>{c=null}),U()),m[0]?f&&(f.d(1),f=null):f||(f=Ch(),f.c(),f.m(s.parentNode,s))},i(m){i||(p(t),p(c),i=!0)},o(m){g(t),g(c),i=!1},d(m){~e&&a[e].d(m),m&&$(n),c&&c.d(m),m&&$(l),f&&f.d(m),m&&$(s)}}}function DY(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,_=z,h=()=>(_(),_=se(s,Y=>t(2,d=Y)),s),b,v=z,k=()=>(v(),v=se(i,Y=>t(14,b=Y)),i),T,E=z,P=()=>(E(),E=se(a,Y=>t(15,T=Y)),a),R,L=z,A=()=>(L(),L=se(o,Y=>t(16,R=Y)),o);r.$$.on_destroy.push(()=>_()),r.$$.on_destroy.push(()=>v()),r.$$.on_destroy.push(()=>E()),r.$$.on_destroy.push(()=>L());let{queryHandler:N}=e,F;cl(()=>{window.clearTimeout(F)});function K(Y){if(window.clearTimeout(F),n&&f&&Y!==f.column.display_name){const{alias:oe}=f.column;n.update(te=>te.withDisplayNameForColumn(oe,Y))}}function W(Y){const oe=Y.target;K(oe.value)}function j(Y){window.clearTimeout(F);const oe=Y.target;F=window.setTimeout(()=>{K(oe.value)},500)}return r.$$set=Y=>{"queryHandler"in Y&&t(12,N=Y.queryHandler)},r.$$.update=()=>{r.$$.dirty&4096&&t(3,n=N instanceof Ja?N:void 0),r.$$.dirty&4096&&t(13,{selection:l,columnsMetaData:s,processedColumns:i}=N,l,h(t(9,s)),k(t(8,i))),r.$$.dirty&8192&&A(t(7,{selectedCells:o,columnsSelectedWhenTheTableIsEmpty:a}=l,o,P(t(6,a)))),r.$$.dirty&122880&&t(1,u=(()=>{const Y=l.getSelectedUniqueColumnsId(R,T),oe=[];for(const te of Y){const ne=b.get(te);ne!==void 0&&oe.push(ne)}return oe})()),r.$$.dirty&2&&t(5,c=u.length>1),r.$$.dirty&2&&t(0,f=u.length>0?u[0]:void 0),r.$$.dirty&5&&t(4,m=f?d.get(f.column.alias):void 0)},[f,u,d,n,m,c,a,o,i,s,W,j,N,l,b,T,R]}class IY extends X{constructor(e){super(),Q(this,e,DY,TY,G,{queryHandler:12})}}function EY(r){let e;return{c(){e=B("Select a cell to view it's properties.")},m(t,n){w(t,e,n)},p:z,i:z,o:z,d(t){t&&$(e)}}}function MY(r){let e,t,n,l,s,i=r[0]&&Th(r);return{c(){e=I("section"),t=I("header"),t.textContent="Content",n=O(),l=I("div"),i&&i.c(),D(t,"class","svelte-1amy2p7"),D(l,"class","content svelte-1amy2p7"),D(e,"class","cell-content")},m(o,a){w(o,e,a),M(e,t),M(e,n),M(e,l),i&&i.m(l,null),s=!0},p(o,a){o[0]?i?(i.p(o,a),a&1&&p(i,1)):(i=Th(o),i.c(),p(i,1),i.m(l,null)):i&&(q(),g(i,1,1,()=>{i=null}),U())},i(o){s||(p(i),s=!0)},o(o){g(i),s=!1},d(o){o&&$(e),i&&i.d()}}}function Th(r){let e,t;return e=new Qi({props:{isIndependentOfSheet:!0,disabled:!0,columnFabric:r[0],value:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.columnFabric=n[0]),l&2&&(s.value=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function AY(r){let e,t,n,l;const s=[MY,EY],i=[];function o(a,u){return a[1]!==void 0?0:1}return t=o(r),n=i[t]=s[t](r),{c(){e=I("div"),n.c(),D(e,"class","section-content svelte-1amy2p7"),Z(e,"has-content",r[1]!==void 0)},m(a,u){w(a,e,u),i[t].m(e,null),l=!0},p(a,[u]){let c=t;t=o(a),t===c?i[t].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),p(n,1),n.m(e,null)),(!l||u&2)&&Z(e,"has-content",a[1]!==void 0)},i(a){l||(p(n),l=!0)},o(a){g(n),l=!1},d(a){a&&$(e),i[t].d()}}}function RY(r,e,t){let n,l,s,i,o,a,u=z,c=()=>(u(),u=se(l,h=>t(6,a=h)),l),f,m=z,d=()=>(m(),m=se(s,h=>t(7,f=h)),s);r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m());let{queryHandler:_}=e;return r.$$set=h=>{"queryHandler"in h&&t(4,_=h.queryHandler)},r.$$.update=()=>{r.$$.dirty&16&&t(5,{selection:n,processedColumns:l}=_,n,c(t(3,l))),r.$$.dirty&32&&d(t(2,{activeCell:s}=n,s)),r.$$.dirty&144&&t(1,i=(()=>{const h=f;if(h){const b=_.getRows();if(b[h.rowIndex])return b[h.rowIndex].record[h.columnId]}})()),r.$$.dirty&192&&t(0,o=(()=>{const h=f;if(h){const b=a.get(String(h.columnId));if(b)return b}})())},[o,i,s,l,_,n,a,f]}class PY extends X{constructor(e){super(),Q(this,e,RY,AY,G,{queryHandler:4})}}function OY(r){let e,t;return e=new PY({props:{queryHandler:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.queryHandler=n[0]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function LY(r){let e,t;return e=new IY({props:{queryHandler:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.queryHandler=n[0]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function NY(r){let e,t;return e=new sY({props:{queryHandler:r[0],name:r[7].name,description:r[7].description,canEditMetadata:r[1]}}),e.$on("delete",r[9]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.queryHandler=n[0]),l&128&&(s.name=n[7].name),l&128&&(s.description=n[7].description),l&2&&(s.canEditMetadata=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function FY(r){let e,t,n,l;const s=[NY,LY,OY],i=[];function o(a,u){var c,f,m;return((c=a[6])==null?void 0:c.id)==="inspect-exploration"?0:((f=a[6])==null?void 0:f.id)==="inspect-column"?1:((m=a[6])==null?void 0:m.id)==="inspect-cell"?2:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=ae()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(q(),g(i[c],1,1,()=>{i[c]=null}),U()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&$(n)}}}function zY(r){let e,t,n,l;function s(o){r[10](o)}let i={tabStyle:"compact",tabs:r[5],fillTabWidth:!0,fillContainerHeight:!0,$$slots:{default:[FY]},$$scope:{ctx:r}};return r[6]!==void 0&&(i.activeTab=r[6]),t=new wa({props:i}),ye.push(()=>Pe(t,"activeTab",s)),{c(){e=I("aside"),C(t.$$.fragment),D(e,"class","exploration-inspector svelte-1y21vmc")},m(o,a){w(o,e,a),y(t,e,null),l=!0},p(o,[a]){const u={};a&32&&(u.tabs=o[5]),a&2243&&(u.$$scope={dirty:a,ctx:o}),!n&&a&64&&(n=!0,u.activeTab=o[6],Ne(()=>n=!1)),t.$set(u)},i(o){l||(p(t.$$.fragment,o),l=!0)},o(o){g(t.$$.fragment,o),l=!1},d(o){o&&$(e),S(t)}}}function HY(r,e,t){let n,l,s,i,o,a=z,u=()=>(a(),a=se(s,E=>t(5,o=E)),s),c,f=z,m=()=>(f(),f=se(i,E=>t(6,c=E)),i),d,_=z,h=()=>(_(),_=se(l,E=>t(7,d=E)),l);r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>_());let{queryHandler:b}=e,{canEditMetadata:v}=e;function k(E){ve.call(this,r,E)}function T(E){c=E,i.set(c)}return r.$$set=E=>{"queryHandler"in E&&t(0,b=E.queryHandler),"canEditMetadata"in E&&t(1,v=E.canEditMetadata)},r.$$.update=()=>{r.$$.dirty&1&&t(8,{inspector:n,query:l}=b,n,h(t(4,l))),r.$$.dirty&256&&u(t(3,{tabs:s,activeTab:i}=n,s,m(t(2,i))))},[b,v,i,s,l,o,c,d,n,k,T]}class VY extends X{constructor(e){super(),Q(this,e,HY,zY,G,{queryHandler:0,canEditMetadata:1})}}function qY(r){let e;const t=r[4].default,n=De(t,r,r[7],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&128)&&Ee(n,t,l,l[7],e?Ie(t,l[7],s,null):Me(l[7]),null)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function UY(r){let e,t;return e=new VY({props:{slot:"panel",queryHandler:r[1],canEditMetadata:r[2]}}),e.$on("delete",r[5]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.queryHandler=n[1]),l&4&&(s.canEditMetadata=n[2]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function WY(r){let e,t,n;function l(i){r[6](i)}let s={showPanel:r[0],minSizePx:250,maxSizePx:600,$$slots:{panel:[UY],default:[qY]},$$scope:{ctx:r}};return r[3]!==void 0&&(s.sizePx=r[3]),e=new kc({props:s}),ye.push(()=>Pe(e,"sizePx",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&1&&(a.showPanel=i[0]),o&134&&(a.$$scope={dirty:o,ctx:i}),!t&&o&8&&(t=!0,a.sizePx=i[3],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function BY(r,e,t){let n;de(r,X1,f=>t(3,n=f));let{$$slots:l={},$$scope:s}=e,{isInspectorOpen:i}=e,{queryHandler:o}=e,{canEditMetadata:a}=e;function u(f){ve.call(this,r,f)}function c(f){n=f,X1.set(n)}return r.$$set=f=>{"isInspectorOpen"in f&&t(0,i=f.isInspectorOpen),"queryHandler"in f&&t(1,o=f.queryHandler),"canEditMetadata"in f&&t(2,a=f.canEditMetadata),"$$scope"in f&&t(7,s=f.$$scope)},[i,o,a,n,l,u,c,s]}class F6 extends X{constructor(e){super(),Q(this,e,BY,WY,G,{isInspectorOpen:0,queryHandler:1,canEditMetadata:2})}}function Dh(r){let e,t;return e=new hc({props:{$$slots:{content:[KY],trigger:[YY]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&18&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function jY(r){let e;return{c(){e=B(r[1])},m(t,n){w(t,e,n)},p(t,n){n&2&&he(e,t[1])},d(t){t&&$(e)}}}function YY(r){let e,t;return e=new mc({props:{slot:"trigger",$$slots:{default:[jY]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&18&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function KY(r){let e,t=fp(r[1])+"",n;return{c(){e=B("This column has been added "),n=B(t)},m(l,s){w(l,e,s),w(l,n,s)},p(l,s){s&2&&t!==(t=fp(l[1])+"")&&he(n,t)},d(l){l&&$(e),l&&$(n)}}}function GY(r){let e,t,n,l,s,i,o,a,u;t=new Bn({props:{column:{...r[0],type:r[0].producesMultipleResults?"_array":r[0].type,type_options:r[0].producesMultipleResults?{item_type:r[0].type}:null,display_options:null}}});let c=r[1]>0&&Dh(r);return{c(){e=I("div"),C(t.$$.fragment),n=O(),l=I("span"),s=I("span"),s.textContent="Add",i=O(),c&&c.c(),o=O(),a=I("span"),a.textContent="+",D(e,"class","name svelte-13k4j7k"),D(s,"class","text svelte-13k4j7k"),D(l,"class","add svelte-13k4j7k")},m(f,m){w(f,e,m),y(t,e,null),w(f,n,m),w(f,l,m),M(l,s),M(l,i),c&&c.m(l,null),M(l,o),M(l,a),u=!0},p(f,m){const d={};m&1&&(d.column={...f[0],type:f[0].producesMultipleResults?"_array":f[0].type,type_options:f[0].producesMultipleResults?{item_type:f[0].type}:null,display_options:null}),t.$set(d),f[1]>0?c?(c.p(f,m),m&2&&p(c,1)):(c=Dh(f),c.c(),p(c,1),c.m(l,o)):c&&(q(),g(c,1,1,()=>{c=null}),U())},i(f){u||(p(t.$$.fragment,f),p(c),u=!0)},o(f){g(t.$$.fragment,f),g(c),u=!1},d(f){f&&$(e),S(t),f&&$(n),f&&$(l),c&&c.d()}}}function QY(r){let e,t,n;return t=new ut({props:{$$slots:{default:[GY]},$$scope:{ctx:r}}}),t.$on("click",r[3]),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","selectable-column svelte-13k4j7k")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,[s]){const i={};s&19&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function XY(r,e,t){const n=dt();let{column:l}=e,{usageCount:s=0}=e;const i=()=>n("add",l);return r.$$set=o=>{"column"in o&&t(0,l=o.column),"usageCount"in o&&t(1,s=o.usageCount)},[l,s,n,i]}class z6 extends X{constructor(e){super(),Q(this,e,XY,QY,G,{column:0,usageCount:1})}}function JY(r){let e,t=r[1].name+"",n;return{c(){e=B("via "),n=B(t)},m(l,s){w(l,e,s),w(l,n,s)},p(l,s){s&2&&t!==(t=l[1].name+"")&&he(n,t)},d(l){l&&$(e),l&&$(n)}}}function ZY(r){let e,t,n,l,s,i,o,a,u;const c=[Jn,{size:"0.7rem"},{rotate:r[7]?void 0:270}];let f={};for(let m=0;m<c.length;m+=1)f=x(f,c[m]);return t=new Fe({props:f}),s=new Cn({props:{table:{name:r[2]}}}),a=new Fs({props:{$$slots:{default:[JY]},$$scope:{ctx:r}}}),{c(){e=I("span"),C(t.$$.fragment),n=O(),l=I("span"),C(s.$$.fragment),i=O(),o=I("span"),C(a.$$.fragment),D(l,"class","svelte-18wa4a1"),D(e,"class","table-name svelte-18wa4a1"),D(o,"class","fk-column svelte-18wa4a1")},m(m,d){w(m,e,d),y(t,e,null),M(e,n),M(e,l),y(s,l,null),w(m,i,d),w(m,o,d),y(a,o,null),u=!0},p(m,d){const _=d&128?ce(c,[d&0&&be(Jn),c[1],d&128&&{rotate:m[7]?void 0:270}]):{};t.$set(_);const h={};d&4&&(h.table={name:m[2]}),s.$set(h);const b={};d&34&&(b.$$scope={dirty:d,ctx:m}),a.$set(b)},i(m){u||(p(t.$$.fragment,m),p(s.$$.fragment,m),p(a.$$.fragment,m),u=!0)},o(m){g(t.$$.fragment,m),g(s.$$.fragment,m),g(a.$$.fragment,m),u=!1},d(m){m&&$(e),S(t),S(s),m&&$(i),m&&$(o),S(a)}}}function xY(r){let e,t;return e=new ut({props:{appearance:"plain",class:"column-name",$$slots:{default:[ZY]},$$scope:{ctx:r}}}),e.$on("click",function(){Et(r[6])&&r[6].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){r=n;const s={};l&166&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function eK(r){let e,t,n,l;const s=r[3].default,i=De(s,r,r[5],null);return{c(){e=I("div"),i&&i.c(),t=O(),n=I("div"),D(n,"class","line-down svelte-18wa4a1"),D(e,"class","column-list svelte-18wa4a1"),D(e,"slot","content")},m(o,a){w(o,e,a),i&&i.m(e,null),M(e,t),M(e,n),l=!0},p(o,a){i&&i.p&&(!l||a&32)&&Ee(i,s,o,o[5],l?Ie(s,o[5],a,null):Me(o[5]),null)},i(o){l||(p(i,o),l=!0)},o(o){g(i,o),l=!1},d(o){o&&$(e),i&&i.d(o)}}}function tK(r){let e,t,n,l;function s(o){r[4](o)}let i={$$slots:{content:[eK],trigger:[xY,({toggle:o,isOpen:a})=>({6:o,7:a}),({toggle:o,isOpen:a})=>(o?64:0)|(a?128:0)]},$$scope:{ctx:r}};return r[0][r[1].id]!==void 0&&(i.isOpen=r[0][r[1].id]),t=new Tn({props:i}),ye.push(()=>Pe(t,"isOpen",s)),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","table-group svelte-18wa4a1")},m(o,a){w(o,e,a),y(t,e,null),l=!0},p(o,[a]){const u={};a&230&&(u.$$scope={dirty:a,ctx:o}),!n&&a&3&&(n=!0,u.isOpen=o[0][o[1].id],Ne(()=>n=!1)),t.$set(u)},i(o){l||(p(t.$$.fragment,o),l=!0)},o(o){g(t.$$.fragment,o),l=!1},d(o){o&&$(e),S(t)}}}function nK(r,e,t){let{$$slots:n={},$$scope:l}=e,{linkCollapsibleOpenState:s={}}=e,{column:i}=e,{tableName:o}=e;function a(u){r.$$.not_equal(s[i.id],u)&&(s[i.id]=u,t(0,s))}return r.$$set=u=>{"linkCollapsibleOpenState"in u&&t(0,s=u.linkCollapsibleOpenState),"column"in u&&t(1,i=u.column),"tableName"in u&&t(2,o=u.tableName),"$$scope"in u&&t(5,l=u.$$scope)},[s,i,o,n,a,l]}class H6 extends X{constructor(e){super(),Q(this,e,nK,tK,G,{linkCollapsibleOpenState:0,column:1,tableName:2})}}function Ih(r,e,t){const n=r.slice();return n[6]=e[t][0],n[7]=e[t][1],n}function rK(r){let e,t;return e=new z6({props:{column:r[7],usageCount:r[3].getColumnCount(r[6])}}),e.$on("add",r[5]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.column=n[7]),l&12&&(s.usageCount=n[3].getColumnCount(n[6])),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function lK(r){let e,t;return e=new H6({props:{tableName:r[7].linksTo.name,column:r[7],linkCollapsibleOpenState:r[1],$$slots:{default:[sK]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.tableName=n[7].linksTo.name),l&4&&(s.column=n[7]),l&2&&(s.linkCollapsibleOpenState=n[1]),l&1031&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function sK(r){let e,t,n;return e=new Ef({props:{linkCollapsibleOpenState:r[1],columnsWithLinks:r[7].linksTo.columns,query:r[0]}}),e.$on("add",r[4]),{c(){C(e.$$.fragment),t=O()},m(l,s){y(e,l,s),w(l,t,s),n=!0},p(l,s){const i={};s&2&&(i.linkCollapsibleOpenState=l[1]),s&4&&(i.columnsWithLinks=l[7].linksTo.columns),s&1&&(i.query=l[0]),e.$set(i)},i(l){n||(p(e.$$.fragment,l),n=!0)},o(l){g(e.$$.fragment,l),n=!1},d(l){S(e,l),l&&$(t)}}}function Eh(r,e){let t,n,l,s,i;const o=[lK,rK],a=[];function u(c,f){return c[7].linksTo?0:1}return n=u(e),l=a[n]=o[n](e),{key:r,first:null,c(){t=ae(),l.c(),s=ae(),this.first=t},m(c,f){w(c,t,f),a[n].m(c,f),w(c,s,f),i=!0},p(c,f){e=c;let m=n;n=u(e),n===m?a[n].p(e,f):(q(),g(a[m],1,1,()=>{a[m]=null}),U(),l=a[n],l?l.p(e,f):(l=a[n]=o[n](e),l.c()),p(l,1),l.m(s.parentNode,s))},i(c){i||(p(l),i=!0)},o(c){g(l),i=!1},d(c){c&&$(t),a[n].d(c),c&&$(s)}}}function iK(r){let e,t=[],n=new Map,l,s=[...r[2]];const i=o=>o[6];for(let o=0;o<s.length;o+=1){let a=Ih(r,s,o),u=i(a);n.set(u,t[o]=Eh(u,a))}return{c(){e=I("div");for(let o=0;o<t.length;o+=1)t[o].c();D(e,"class","selectable-column-tree")},m(o,a){w(o,e,a);for(let u=0;u<t.length;u+=1)t[u].m(e,null);l=!0},p(o,[a]){a&15&&(s=[...o[2]],q(),t=pt(t,a,i,1,o,s,n,e,ht,Eh,null,Ih),U())},i(o){if(!l){for(let a=0;a<s.length;a+=1)p(t[a]);l=!0}},o(o){for(let a=0;a<t.length;a+=1)g(t[a]);l=!1},d(o){o&&$(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function oK(r,e,t){let n,l=z,s=()=>(l(),l=se(i,f=>t(3,n=f)),i);r.$$.on_destroy.push(()=>l());let{query:i}=e;s();let{linkCollapsibleOpenState:o={}}=e,{columnsWithLinks:a}=e;function u(f){ve.call(this,r,f)}function c(f){ve.call(this,r,f)}return r.$$set=f=>{"query"in f&&s(t(0,i=f.query)),"linkCollapsibleOpenState"in f&&t(1,o=f.linkCollapsibleOpenState),"columnsWithLinks"in f&&t(2,a=f.columnsWithLinks)},[i,o,a,n,u,c]}class Ef extends X{constructor(e){super(),Q(this,e,oK,iK,G,{query:0,linkCollapsibleOpenState:1,columnsWithLinks:2})}}const{Map:V6}=ua;function Mh(r,e,t){const n=r.slice();return n[15]=e[t],n}function Ah(r,e,t){const n=r.slice();return n[18]=e[t][0],n[19]=e[t][1],n}function Rh(r,e){let t,n,l;return n=new z6({props:{column:e[19],usageCount:e[4].getColumnCount(e[18])}}),n.$on("add",e[12]),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&8&&(o.column=e[19]),i&24&&(o.usageCount=e[4].getColumnCount(e[18])),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}function aK(r){let e,t,n,l=r[6]&&Ph(r),s=r[5]&&Oh(r);return{c(){l&&l.c(),e=O(),s&&s.c(),t=ae()},m(i,o){l&&l.m(i,o),w(i,e,o),s&&s.m(i,o),w(i,t,o),n=!0},p(i,o){i[6]?l?(l.p(i,o),o&64&&p(l,1)):(l=Ph(i),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(q(),g(l,1,1,()=>{l=null}),U()),i[5]?s?(s.p(i,o),o&32&&p(s,1)):(s=Oh(i),s.c(),p(s,1),s.m(t.parentNode,t)):s&&(q(),g(s,1,1,()=>{s=null}),U())},i(i){n||(p(l),p(s),n=!0)},o(i){g(l),g(s),n=!1},d(i){l&&l.d(i),i&&$(e),s&&s.d(i),i&&$(t)}}}function uK(r){let e;return{c(){e=I("section"),e.innerHTML=`<header class="svelte-1fgd2mb">From linked tables</header> 
      <div class="content svelte-1fgd2mb"><div class="help-text svelte-1fgd2mb">At least one column from the base table is required to add columns
          from linked tables.</div></div>`},m(t,n){w(t,e,n)},p:z,i:z,o:z,d(t){t&&$(e)}}}function Ph(r){let e,t,n,l,s,i;return s=new Ef({props:{columnsWithLinks:r[2],linkCollapsibleOpenState:r[0],query:r[8]}}),s.$on("add",r[13]),{c(){e=I("section"),t=I("header"),t.textContent="Linked from Base table",n=O(),l=I("div"),C(s.$$.fragment),D(t,"class","svelte-1fgd2mb"),D(l,"class","content svelte-1fgd2mb")},m(o,a){w(o,e,a),M(e,t),M(e,n),M(e,l),y(s,l,null),i=!0},p(o,a){const u={};a&4&&(u.columnsWithLinks=o[2]),a&1&&(u.linkCollapsibleOpenState=o[0]),a&256&&(u.query=o[8]),s.$set(u)},i(o){i||(p(s.$$.fragment,o),i=!0)},o(o){g(s.$$.fragment,o),i=!1},d(o){o&&$(e),S(s)}}}function Oh(r){let e,t,n,l,s,i=r[7]&&Lh(r);return{c(){e=I("section"),t=I("header"),t.textContent="Linked to Base table",n=O(),l=I("div"),i&&i.c(),D(t,"class","svelte-1fgd2mb"),D(l,"class","content svelte-1fgd2mb"),D(l,"data-identifier","referenced-by-tables")},m(o,a){w(o,e,a),M(e,t),M(e,n),M(e,l),i&&i.m(l,null),s=!0},p(o,a){o[7]?i?(i.p(o,a),a&128&&p(i,1)):(i=Lh(o),i.c(),p(i,1),i.m(l,null)):i&&(q(),g(i,1,1,()=>{i=null}),U())},i(o){s||(p(i),s=!0)},o(o){g(i),s=!1},d(o){o&&$(e),i&&i.d()}}}function Lh(r){let e=[],t=new V6,n,l,s=r[1];const i=o=>o[15];for(let o=0;o<s.length;o+=1){let a=Mh(r,s,o),u=i(a);t.set(u,e[o]=Nh(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=ae()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,a){a&259&&(s=o[1],q(),e=pt(e,a,i,1,o,s,t,n.parentNode,ht,Nh,n,Mh),U())},i(o){if(!l){for(let a=0;a<s.length;a+=1)p(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&$(n)}}}function cK(r){let e,t,n;return e=new Ef({props:{linkCollapsibleOpenState:r[0],columnsWithLinks:r[15].columns,query:r[8]}}),e.$on("add",r[14]),{c(){C(e.$$.fragment),t=O()},m(l,s){y(e,l,s),w(l,t,s),n=!0},p(l,s){const i={};s&1&&(i.linkCollapsibleOpenState=l[0]),s&2&&(i.columnsWithLinks=l[15].columns),s&256&&(i.query=l[8]),e.$set(i)},i(l){n||(p(e.$$.fragment,l),n=!0)},o(l){g(e.$$.fragment,l),n=!1},d(l){S(e,l),l&&$(t)}}}function Nh(r,e){let t,n,l;return n=new H6({props:{tableName:e[15].name,column:e[15].referencedViaColumn,linkCollapsibleOpenState:e[0],$$slots:{default:[cK]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&2&&(o.tableName=e[15].name),i&2&&(o.column=e[15].referencedViaColumn),i&1&&(o.linkCollapsibleOpenState=e[0]),i&4194563&&(o.$$scope={dirty:i,ctx:e}),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}function fK(r){let e,t,n,l,s,i=[],o=new V6,a,u,c,f,m=[...r[3]];const d=v=>v[18];for(let v=0;v<m.length;v+=1){let k=Ah(r,m,v),T=d(k);o.set(T,i[v]=Rh(T,k))}const _=[uK,aK],h=[];function b(v,k){return!v[7]&&(v[6]||v[5])?0:1}return u=b(r),c=h[u]=_[u](r),{c(){e=I("div"),t=I("section"),n=I("header"),n.textContent="From Base table",l=O(),s=I("div");for(let v=0;v<i.length;v+=1)i[v].c();a=O(),c.c(),D(n,"class","svelte-1fgd2mb"),D(s,"class","content svelte-1fgd2mb"),D(e,"data-identifier","column-selection-list"),D(e,"class","svelte-1fgd2mb")},m(v,k){w(v,e,k),M(e,t),M(t,n),M(t,l),M(t,s);for(let T=0;T<i.length;T+=1)i[T].m(s,null);M(e,a),h[u].m(e,null),f=!0},p(v,[k]){k&24&&(m=[...v[3]],q(),i=pt(i,k,d,1,v,m,o,s,ht,Rh,null,Ah),U());let T=u;u=b(v),u===T?h[u].p(v,k):(q(),g(h[T],1,1,()=>{h[T]=null}),U(),c=h[u],c?c.p(v,k):(c=h[u]=_[u](v),c.c()),p(c,1),c.m(e,null))},i(v){if(!f){for(let k=0;k<m.length;k+=1)p(i[k]);p(c),f=!0}},o(v){for(let k=0;k<i.length;k+=1)g(i[k]);g(c),f=!1},d(v){v&&$(e);for(let k=0;k<i.length;k+=1)i[k].d();h[u].d()}}}function mK(r,e,t){let n,l,s,i,o,a,u,c,f,m=z,d=()=>(m(),m=se(l,R=>t(4,f=R)),l),_,h=z,b=()=>(h(),h=se(n,R=>t(11,_=R)),n);r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>h());let{queryManager:v}=e,{linkCollapsibleOpenState:k={}}=e;function T(R){ve.call(this,r,R)}function E(R){ve.call(this,r,R)}function P(R){ve.call(this,r,R)}return r.$$set=R=>{"queryManager"in R&&t(10,v=R.queryManager),"linkCollapsibleOpenState"in R&&t(0,k=R.linkCollapsibleOpenState)},r.$$.update=()=>{r.$$.dirty&1024&&b(t(9,{inputColumns:n,query:l}=v,n,d(t(8,l)))),r.$$.dirty&2048&&t(3,{baseTableColumns:s,tablesThatReferenceBaseTable:i}=_,s,(t(1,i),t(11,_))),r.$$.dirty&16&&t(7,o=f.initial_columns.length>0),r.$$.dirty&8&&t(2,a=new Map([...s].filter(([,R])=>R.linksTo!==void 0))),r.$$.dirty&4&&t(6,u=a.size>0),r.$$.dirty&2&&t(5,c=i.length>0)},[k,i,a,s,f,c,u,o,l,n,v,_,T,E,P]}class dK extends X{constructor(e){super(),Q(this,e,mK,fK,G,{queryManager:10,linkCollapsibleOpenState:0})}}function pK(r){let e,t,n,l,s;function i(c){r[6](c)}function o(c){r[7](c)}function a(c){r[8](c)}let u={allowDelete:!1,columns:r[1],getColumnLabel:r[5],disableColumnChange:r[3],layout:"vertical",numberOfFilters:r[2]};return r[0].columnIdentifier!==void 0&&(u.columnIdentifier=r[0].columnIdentifier),r[0].conditionIdentifier!==void 0&&(u.conditionIdentifier=r[0].conditionIdentifier),r[0].value!==void 0&&(u.value=r[0].value),e=new M6({props:u}),ye.push(()=>Pe(e,"columnIdentifier",i)),ye.push(()=>Pe(e,"conditionIdentifier",o)),ye.push(()=>Pe(e,"value",a)),e.$on("update",r[4]),{c(){C(e.$$.fragment)},m(c,f){y(e,c,f),s=!0},p(c,[f]){const m={};f&2&&(m.columns=c[1]),f&2&&(m.getColumnLabel=c[5]),f&8&&(m.disableColumnChange=c[3]),f&4&&(m.numberOfFilters=c[2]),!t&&f&1&&(t=!0,m.columnIdentifier=c[0].columnIdentifier,Ne(()=>t=!1)),!n&&f&1&&(n=!0,m.conditionIdentifier=c[0].conditionIdentifier,Ne(()=>n=!1)),!l&&f&1&&(l=!0,m.value=c[0].value,Ne(()=>l=!1)),e.$set(m)},i(c){s||(p(e.$$.fragment,c),s=!0)},o(c){g(e.$$.fragment,c),s=!1},d(c){S(e,c)}}}function _K(r,e,t){const n=dt();let{columns:l}=e,{model:s}=e,{totalTransformations:i}=e,{limitEditing:o=!1}=e;function a(){n("update")}const u=d=>{var _,h;return(h=(_=l.get(d.id))==null?void 0:_.column.display_name)!=null?h:""};function c(d){r.$$.not_equal(s.columnIdentifier,d)&&(s.columnIdentifier=d,t(0,s))}function f(d){r.$$.not_equal(s.conditionIdentifier,d)&&(s.conditionIdentifier=d,t(0,s))}function m(d){r.$$.not_equal(s.value,d)&&(s.value=d,t(0,s))}return r.$$set=d=>{"columns"in d&&t(1,l=d.columns),"model"in d&&t(0,s=d.model),"totalTransformations"in d&&t(2,i=d.totalTransformations),"limitEditing"in d&&t(3,o=d.limitEditing)},[s,l,i,o,a,u,c,f,m]}class gK extends X{constructor(e){super(),Q(this,e,_K,pK,G,{columns:1,model:0,totalTransformations:2,limitEditing:3})}}function hK(r,e,t){const n=[];let l=ea(r.map(s=>s.alias),t);n.push(l);for(let s=1;s<e.length;s+=1){const i=e[s-1];i.type==="summarize"&&(l=ea(i.getOutputColumnAliases(),t)),n.push(l)}return n}function Fh(r){const e=r[2].get(r[21]);r[22]=e}function bK(r){var n,l,s,i,o,a;Fh(r);let e,t;return e=new Bn({props:{column:{name:r[3](r[22]),type:(l=(n=r[22])==null?void 0:n.column.type)!=null?l:"unknown",type_options:(i=(s=r[22])==null?void 0:s.column.type_options)!=null?i:null,display_options:(a=(o=r[22])==null?void 0:o.column.display_options)!=null?a:null,constraintsType:r[10](r[21])}}}),{c(){C(e.$$.fragment)},m(u,c){y(e,u,c),t=!0},p(u,c){var m,d,_,h,b,v;Fh(u);const f={};c&2097164&&(f.column={name:u[3](u[22]),type:(d=(m=u[22])==null?void 0:m.column.type)!=null?d:"unknown",type_options:(h=(_=u[22])==null?void 0:_.column.type_options)!=null?h:null,display_options:(v=(b=u[22])==null?void 0:b.column.display_options)!=null?v:null,constraintsType:u[10](u[21])}),e.$set(f)},i(u){t||(p(e.$$.fragment,u),t=!0)},o(u){g(e.$$.fragment,u),t=!1},d(u){S(e,u)}}}function zh(r){let e,t,n;function l(i){r[19](i)}let s={options:r[7],autoSelect:"none",getLabel:r[18]};return r[1]!==void 0&&(s.value=r[1]),e=new Sn({props:s}),ye.push(()=>Pe(e,"value",l)),e.$on("change",r[11]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&128&&(a.options=i[7]),o&64&&(a.getLabel=i[18]),!t&&o&2&&(t=!0,a.value=i[1],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function Hh(r){let e,t;return e=new ut({props:{appearance:"secondary",$$slots:{default:[$K]},$$scope:{ctx:r}}}),e.$on("click",r[20]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8388608&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function $K(r){let e,t;const n=[{size:"0.8rem"},Ut];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[n[0],be(Ut)]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function wK(r){let e,t,n,l,s,i;function o(f){r[17](f)}let a={options:r[8],autoSelect:"none",disabled:r[4],getLabel:r[16],$$slots:{default:[bK,({option:f})=>({21:f}),({option:f})=>f?2097152:0]},$$scope:{ctx:r}};r[0]!==void 0&&(a.value=r[0]),e=new Sn({props:a}),ye.push(()=>Pe(e,"value",o)),e.$on("change",r[12]);let u=r[7].length>1&&zh(r),c=r[5]&&Hh(r);return{c(){C(e.$$.fragment),n=O(),u&&u.c(),l=O(),c&&c.c(),s=ae()},m(f,m){y(e,f,m),w(f,n,m),u&&u.m(f,m),w(f,l,m),c&&c.m(f,m),w(f,s,m),i=!0},p(f,m){const d={};m&256&&(d.options=f[8]),m&16&&(d.disabled=f[4]),m&12&&(d.getLabel=f[16]),m&10485772&&(d.$$scope={dirty:m,ctx:f}),!t&&m&1&&(t=!0,d.value=f[0],Ne(()=>t=!1)),e.$set(d),f[7].length>1?u?(u.p(f,m),m&128&&p(u,1)):(u=zh(f),u.c(),p(u,1),u.m(l.parentNode,l)):u&&(q(),g(u,1,1,()=>{u=null}),U()),f[5]?c?(c.p(f,m),m&32&&p(c,1)):(c=Hh(f),c.c(),p(c,1),c.m(s.parentNode,s)):c&&(q(),g(c,1,1,()=>{c=null}),U())},i(f){i||(p(e.$$.fragment,f),p(u),p(c),i=!0)},o(f){g(e.$$.fragment,f),g(u),g(c),i=!1},d(f){S(e,f),f&&$(n),u&&u.d(f),f&&$(l),c&&c.d(f),f&&$(s)}}}function vK(r){let e,t;return e=new Ps({props:{$$slots:{default:[wK]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&8389119&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function kK(r,e,t){let n=t!=null?t:r;return n!=null&&n.some(l=>l===e)||(n=[e,...n]),n}function yK(r,e){return t=>{var n,l,s;return t===void 0?"Value":(s=(l=(n=r.get(e))==null?void 0:n.preprocFunctions.find(i=>i.id===t))==null?void 0:l.name)!=null?s:t}}function SK(r,e,t){let n,l,s,i;const o=dt();let{columns:a}=e,{getColumnLabel:u}=e,{getColumnConstraintType:c=()=>{}}=e,{columnsAllowedForSelection:f=void 0}=e,{columnIdentifier:m}=e,{preprocFunctionIdentifier:d=void 0}=e,{disableColumnChange:_=!1}=e,{allowDelete:h=!0}=e;function b(A){if(A){const N=a.get(A);if(N)return c(N)}}async function v(){await Gt(),o("update",{columnIdentifier:m,preprocFunctionIdentifier:d})}async function k(){t(1,d=void 0),await v()}const T=A=>A?u(a.get(A)):"";function E(A){m=A,t(0,m)}const P=A=>A===void 0?"Value":i(A);function R(A){d=A,t(1,d)}const L=()=>o("removeGroup");return r.$$set=A=>{"columns"in A&&t(2,a=A.columns),"getColumnLabel"in A&&t(3,u=A.getColumnLabel),"getColumnConstraintType"in A&&t(13,c=A.getColumnConstraintType),"columnsAllowedForSelection"in A&&t(14,f=A.columnsAllowedForSelection),"columnIdentifier"in A&&t(0,m=A.columnIdentifier),"preprocFunctionIdentifier"in A&&t(1,d=A.preprocFunctionIdentifier),"disableColumnChange"in A&&t(4,_=A.disableColumnChange),"allowDelete"in A&&t(5,h=A.allowDelete)},r.$$.update=()=>{var A,N;r.$$.dirty&4&&t(15,n=[...a.values()].map(F=>F.id)),r.$$.dirty&49153&&t(8,l=kK(n,m,f)),r.$$.dirty&5&&t(7,s=[void 0,...(N=(A=a.get(m))==null?void 0:A.preprocFunctions.map(F=>F.id))!=null?N:[]]),r.$$.dirty&5&&t(6,i=yK(a,m))},[m,d,a,u,_,h,i,s,l,o,b,v,k,c,f,n,T,E,P,R,L]}class q6 extends X{constructor(e){super(),Q(this,e,SK,vK,G,{columns:2,getColumnLabel:3,getColumnConstraintType:13,columnsAllowedForSelection:14,columnIdentifier:0,preprocFunctionIdentifier:1,disableColumnChange:4,allowDelete:5})}}function CK(r){let e,t=r[0].inputAlias+"",n;return{c(){e=I("div"),n=B(t)},m(l,s){w(l,e,s),M(e,n)},p(l,s){s&1&&t!==(t=l[0].inputAlias+"")&&he(n,t)},i:z,o:z,d(l){l&&$(e)}}}function TK(r){var n;let e,t;return e=new Bn({props:{column:{...r[1].column,name:(n=r[1].column.display_name)!=null?n:r[1].column.alias}}}),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){var o;const i={};s&2&&(i.column={...l[1].column,name:(o=l[1].column.display_name)!=null?o:l[1].column.alias}),e.$set(i)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function DK(r){let e,t;const n=[bs,{size:"0.8rem"}];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[be(bs),n[1]]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function IK(r){let e,t,n,l,s,i,o,a,u,c,f;const m=[TK,CK],d=[];function _(v,k){return v[1]?0:1}t=_(r),n=d[t]=m[t](r);function h(v){r[7](v)}let b={options:r[4],disabled:r[2],getLabel:r[6]};return r[0].function!==void 0&&(b.value=r[0].function),o=new Sn({props:b}),ye.push(()=>Pe(o,"value",h)),o.$on("change",r[8]),c=new ut({props:{disabled:r[2],appearance:"plain",$$slots:{default:[DK]},$$scope:{ctx:r}}}),c.$on("click",r[9]),{c(){e=I("div"),n.c(),l=O(),s=I("span"),s.textContent="as",i=O(),C(o.$$.fragment),u=O(),C(c.$$.fragment),D(s,"class","svelte-txv4ki"),D(e,"class","aggregation svelte-txv4ki")},m(v,k){w(v,e,k),d[t].m(e,null),M(e,l),M(e,s),M(e,i),y(o,e,null),M(e,u),y(c,e,null),f=!0},p(v,[k]){let T=t;t=_(v),t===T?d[t].p(v,k):(q(),g(d[T],1,1,()=>{d[T]=null}),U(),n=d[t],n?n.p(v,k):(n=d[t]=m[t](v),n.c()),p(n,1),n.m(e,l));const E={};k&16&&(E.options=v[4]),k&4&&(E.disabled=v[2]),k&8&&(E.getLabel=v[6]),!a&&k&1&&(a=!0,E.value=v[0].function,Ne(()=>a=!1)),o.$set(E);const P={};k&4&&(P.disabled=v[2]),k&1024&&(P.$$scope={dirty:k,ctx:v}),c.$set(P)},i(v){f||(p(n),p(o.$$.fragment,v),p(c.$$.fragment,v),f=!0)},o(v){g(n),g(o.$$.fragment,v),g(c.$$.fragment,v),f=!1},d(v){v&&$(e),d[t].d(),S(o),S(c)}}}function EK(r,e,t){let n,l;const s=dt();let{processedColumn:i}=e,{aggregation:o}=e,{limitEditing:a=!1}=e;const u=d=>{var _,h;return(h=(_=n.find(b=>b.id===d))==null?void 0:_.label)!=null?h:""};function c(d){r.$$.not_equal(o.function,d)&&(o.function=d,t(0,o))}const f=()=>s("update"),m=()=>s("remove");return r.$$set=d=>{"processedColumn"in d&&t(1,i=d.processedColumn),"aggregation"in d&&t(0,o=d.aggregation),"limitEditing"in d&&t(2,a=d.limitEditing)},r.$$.update=()=>{var d;r.$$.dirty&2&&t(3,n=(d=i==null?void 0:i.summarizationFunctions)!=null?d:[]),r.$$.dirty&8&&t(4,l=n.map(_=>_.id))},[o,i,a,n,l,s,u,c,f,m]}class MK extends X{constructor(e){super(),Q(this,e,EK,IK,G,{processedColumn:1,aggregation:0,limitEditing:2})}}function Vh(r,e,t){const n=r.slice();return n[14]=e[t],n}function qh(r){var t;const e=(t=r[1].get(r[17]))==null?void 0:t.column;r[18]=e}function Uh(r){let e,t,n;return t=new wn({props:{label:"Not Aggregated",layout:"stacked",$$slots:{default:[RK]},$$scope:{ctx:r}}}),{c(){e=I("section"),C(t.$$.fragment),D(e,"class","svelte-1a5pfoa")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&524311&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function AK(r){var n,l,s,i,o,a;qh(r);let e,t;return e=new Bn({props:{column:{name:(l=(n=r[18])==null?void 0:n.display_name)!=null?l:"",type:(i=(s=r[18])==null?void 0:s.type)!=null?i:"unknown",type_options:(a=(o=r[18])==null?void 0:o.type_options)!=null?a:null,display_options:null}}}),{c(){C(e.$$.fragment)},m(u,c){y(e,u,c),t=!0},p(u,c){var m,d,_,h,b,v;qh(u);const f={};c&131074&&(f.column={name:(d=(m=u[18])==null?void 0:m.display_name)!=null?d:"",type:(h=(_=u[18])==null?void 0:_.type)!=null?h:"unknown",type_options:(v=(b=u[18])==null?void 0:b.type_options)!=null?v:null,display_options:null}),e.$set(f)},i(u){t||(p(e.$$.fragment,u),t=!0)},o(u){g(e.$$.fragment,u),t=!1},d(u){S(e,u)}}}function RK(r){let e,t;return e=new ba({props:{values:[...r[4].values()].map(jh),options:[...r[1].without(r[0].columnIdentifier).values()].map(Yh),autoClearInvalidValues:!1,disabled:r[2],$$slots:{default:[AK,({option:n})=>({17:n}),({option:n})=>n?131072:0]},$$scope:{ctx:r}}}),e.$on("change",r[10]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.values=[...n[4].values()].map(jh)),l&3&&(s.options=[...n[1].without(n[0].columnIdentifier).values()].map(Yh)),l&4&&(s.disabled=n[2]),l&655362&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Wh(r){let e,t,n,l=[],s=new Map,i,o=[...r[3].values()];const a=u=>u[14].inputAlias;for(let u=0;u<o.length;u+=1){let c=Vh(r,o,u),f=a(c);s.set(f,l[u]=Bh(f,c))}return{c(){e=I("section"),t=I("header"),t.textContent="Aggregate",n=O();for(let u=0;u<l.length;u+=1)l[u].c();D(e,"class","svelte-1a5pfoa")},m(u,c){w(u,e,c),M(e,t),M(e,n);for(let f=0;f<l.length;f+=1)l[f].m(e,null);i=!0},p(u,c){c&142&&(o=[...u[3].values()],q(),l=pt(l,c,a,1,u,o,s,e,ht,Bh,null,Vh),U())},i(u){if(!i){for(let c=0;c<o.length;c+=1)p(l[c]);i=!0}},o(u){for(let c=0;c<l.length;c+=1)g(l[c]);i=!1},d(u){u&&$(e);for(let c=0;c<l.length;c+=1)l[c].d()}}}function Bh(r,e){let t,n,l;function s(){return e[12](e[14])}return n=new MK({props:{processedColumn:e[1].get(e[14].inputAlias),aggregation:e[14],limitEditing:e[2]}}),n.$on("update",e[11]),n.$on("remove",s),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(i,o){w(i,t,o),y(n,i,o),l=!0},p(i,o){e=i;const a={};o&10&&(a.processedColumn=e[1].get(e[14].inputAlias)),o&8&&(a.aggregation=e[14]),o&4&&(a.limitEditing=e[2]),n.$set(a)},i(i){l||(p(n.$$.fragment,i),l=!0)},o(i){g(n.$$.fragment,i),l=!1},d(i){i&&$(t),S(n,i)}}}function PK(r){let e,t,n,l,s;t=new q6({props:{allowDelete:!1,columns:r[1],getColumnLabel:r[8],disableColumnChange:r[2],columnIdentifier:r[0].columnIdentifier,preprocFunctionIdentifier:r[0].preprocFunctionIdentifier}}),t.$on("update",r[9]);let i=r[4].size>0&&Uh(r),o=r[3].size>0&&Wh(r);return{c(){e=I("div"),C(t.$$.fragment),n=O(),i&&i.c(),l=O(),o&&o.c(),D(e,"class","summarization svelte-1a5pfoa")},m(a,u){w(a,e,u),y(t,e,null),M(e,n),i&&i.m(e,null),M(e,l),o&&o.m(e,null),s=!0},p(a,[u]){const c={};u&2&&(c.columns=a[1]),u&2&&(c.getColumnLabel=a[8]),u&4&&(c.disableColumnChange=a[2]),u&1&&(c.columnIdentifier=a[0].columnIdentifier),u&1&&(c.preprocFunctionIdentifier=a[0].preprocFunctionIdentifier),t.$set(c),a[4].size>0?i?(i.p(a,u),u&16&&p(i,1)):(i=Uh(a),i.c(),p(i,1),i.m(e,l)):i&&(q(),g(i,1,1,()=>{i=null}),U()),a[3].size>0?o?(o.p(a,u),u&8&&p(o,1)):(o=Wh(a),o.c(),p(o,1),o.m(e,null)):o&&(q(),g(o,1,1,()=>{o=null}),U())},i(a){s||(p(t.$$.fragment,a),p(i),p(o),s=!0)},o(a){g(t.$$.fragment,a),g(i),g(o),s=!1},d(a){a&&$(e),S(t),i&&i.d(),o&&o.d()}}}const jh=r=>r.inputAlias,Yh=r=>r.column.alias;function OK(r,e,t){let n,l;const s=dt();let{columns:i}=e,{model:o}=e,{limitEditing:a=!1}=e;function u(v){const{columnIdentifier:k,preprocFunctionIdentifier:T}=v;k!==o.columnIdentifier&&(t(4,l=new vt),t(3,n=new vt),t(0,o.aggregations=n,o),t(0,o.groups=l,o)),t(0,o.columnIdentifier=k,o),t(0,o.preprocFunctionIdentifier=T,o),s("update",o)}function c(v){let k=n;const T=new Set(v);[...i.values()].forEach(E=>{const P=E.column.alias;!T.has(P)&&o.columnIdentifier!==P&&(k=k.with(P,{inputAlias:P,outputAlias:`${P}_agged`,function:"distinct_aggregate_to_array"}))}),t(3,n=k),t(4,l=new vt(v.map(E=>[E,{inputAlias:E,outputAlias:`${E}_group`}]))),t(0,o.aggregations=n,o),t(0,o.groups=l,o),s("update",o)}function f(v){t(4,l=l.with(v.inputAlias,{inputAlias:v.inputAlias,outputAlias:`${v.inputAlias}_group`})),t(3,n=n.without(v.inputAlias)),t(0,o.groups=l,o),t(0,o.aggregations=n,o),s("update",o)}const m=v=>{var k,T;return(T=v&&((k=i.get(v.id))==null?void 0:k.column.display_name))!=null?T:""},d=v=>u(v.detail),_=v=>c(v.detail);function h(v){ve.call(this,r,v)}const b=v=>f(v);return r.$$set=v=>{"columns"in v&&t(1,i=v.columns),"model"in v&&t(0,o=v.model),"limitEditing"in v&&t(2,a=v.limitEditing)},r.$$.update=()=>{r.$$.dirty&1&&t(3,{aggregations:n,groups:l}=o,n,(t(4,l),t(0,o)))},[o,i,a,n,l,u,c,f,m,d,_,h,b]}class LK extends X{constructor(e){super(),Q(this,e,OK,PK,G,{columns:1,model:0,limitEditing:2})}}function Kh(r){var t;const e=(t=r[1].get(r[6]))==null?void 0:t.column;r[7]=e}function NK(r){var n,l,s,i,o,a;Kh(r);let e,t;return e=new Bn({props:{column:{name:(l=(n=r[7])==null?void 0:n.display_name)!=null?l:"",type:(i=(s=r[7])==null?void 0:s.type)!=null?i:"unknown",type_options:(a=(o=r[7])==null?void 0:o.type_options)!=null?a:null,display_options:null}}}),{c(){C(e.$$.fragment)},m(u,c){y(e,u,c),t=!0},p(u,c){var m,d,_,h,b,v;Kh(u);const f={};c&66&&(f.column={name:(d=(m=u[7])==null?void 0:m.display_name)!=null?d:"",type:(h=(_=u[7])==null?void 0:_.type)!=null?h:"unknown",type_options:(v=(b=u[7])==null?void 0:b.type_options)!=null?v:null,display_options:null}),e.$set(f)},i(u){t||(p(e.$$.fragment,u),t=!0)},o(u){g(e.$$.fragment,u),t=!1},d(u){S(e,u)}}}function FK(r){let e,t;return e=new ba({props:{values:r[0].columnAliases,options:[...r[1].values()].map(Gh),autoClearInvalidValues:!1,disabled:r[2],$$slots:{default:[NK,({option:n})=>({6:n}),({option:n})=>n?64:0]},$$scope:{ctx:r}}}),e.$on("change",r[4]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.values=n[0].columnAliases),l&2&&(s.options=[...n[1].values()].map(Gh)),l&4&&(s.disabled=n[2]),l&322&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function zK(r){let e,t;return e=new wn({props:{label:"Select Columns to Hide",layout:"stacked",$$slots:{default:[FK]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&263&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}const Gh=r=>r.column.alias;function HK(r,e,t){const n=dt();let{columns:l}=e,{model:s}=e,{limitEditing:i=!1}=e;function o(u){t(0,s.columnAliases=u,s),n("update",s)}const a=u=>o(u.detail);return r.$$set=u=>{"columns"in u&&t(1,l=u.columns),"model"in u&&t(0,s=u.model),"limitEditing"in u&&t(2,i=u.limitEditing)},[s,l,i,o,a]}class VK extends X{constructor(e){super(),Q(this,e,HK,zK,G,{columns:1,model:0,limitEditing:2})}}function Qh(r){const e=r[2].get(r[18]);r[19]=e}function qK(r){var n,l,s,i,o,a;Qh(r);let e,t;return e=new Bn({props:{column:{name:r[3](r[19]),type:(l=(n=r[19])==null?void 0:n.column.type)!=null?l:"unknown",type_options:(i=(s=r[19])==null?void 0:s.column.type_options)!=null?i:null,display_options:(a=(o=r[19])==null?void 0:o.column.display_options)!=null?a:null,constraintsType:r[8](r[18])}}}),{c(){C(e.$$.fragment)},m(u,c){y(e,u,c),t=!0},p(u,c){var m,d,_,h,b,v;Qh(u);const f={};c&262156&&(f.column={name:u[3](u[19]),type:(d=(m=u[19])==null?void 0:m.column.type)!=null?d:"unknown",type_options:(h=(_=u[19])==null?void 0:_.column.type_options)!=null?h:null,display_options:(v=(b=u[19])==null?void 0:b.column.display_options)!=null?v:null,constraintsType:u[8](u[18])}),e.$set(f)},i(u){t||(p(e.$$.fragment,u),t=!0)},o(u){g(e.$$.fragment,u),t=!1},d(u){S(e,u)}}}function Xh(r){let e,t;return e=new ut({props:{size:"small",appearance:"secondary",$$slots:{default:[UK]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1048576&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function UK(r){let e,t;const n=[Ut];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[be(Ut)]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function WK(r){let e,t,n,l,s,i,o,a;function u(_){r[15](_)}let c={options:r[7],autoSelect:"none",disabled:r[4],getLabel:r[14],$$slots:{default:[qK,({option:_})=>({18:_}),({option:_})=>_?262144:0]},$$scope:{ctx:r}};r[0]!==void 0&&(c.value=r[0]),e=new Sn({props:c}),ye.push(()=>Pe(e,"value",u)),e.$on("change",r[10]);function f(_){r[16](_)}let m={options:uv,getLabel:r[6]};r[1]!==void 0&&(m.value=r[1]),l=new Sn({props:m}),ye.push(()=>Pe(l,"value",f)),l.$on("change",r[10]);let d=r[5]&&Xh(r);return{c(){C(e.$$.fragment),n=O(),C(l.$$.fragment),i=O(),d&&d.c(),o=ae()},m(_,h){y(e,_,h),w(_,n,h),y(l,_,h),w(_,i,h),d&&d.m(_,h),w(_,o,h),a=!0},p(_,h){const b={};h&128&&(b.options=_[7]),h&16&&(b.disabled=_[4]),h&12&&(b.getLabel=_[14]),h&1310732&&(b.$$scope={dirty:h,ctx:_}),!t&&h&1&&(t=!0,b.value=_[0],Ne(()=>t=!1)),e.$set(b);const v={};h&64&&(v.getLabel=_[6]),!s&&h&2&&(s=!0,v.value=_[1],Ne(()=>s=!1)),l.$set(v),_[5]?d?(d.p(_,h),h&32&&p(d,1)):(d=Xh(_),d.c(),p(d,1),d.m(o.parentNode,o)):d&&(q(),g(d,1,1,()=>{d=null}),U())},i(_){a||(p(e.$$.fragment,_),p(l.$$.fragment,_),p(d),a=!0)},o(_){g(e.$$.fragment,_),g(l.$$.fragment,_),g(d),a=!1},d(_){S(e,_),_&&$(n),S(l,_),_&&$(i),d&&d.d(_),_&&$(o)}}}function BK(r){let e,t;return e=new Ps({props:{$$slots:{default:[WK]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1048831&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function jK(r,e,t){let n,l;const s=dt();let{columns:i}=e,{getColumnLabel:o}=e,{getColumnConstraintType:a=()=>{}}=e,{columnsAllowedForSelection:u=void 0}=e,{columnIdentifier:c}=e,{sortDirection:f="ASCENDING"}=e,{disableColumnChange:m=!1}=e,{allowDelete:d=!0}=e,{getSortDirectionLabel:_=P=>{const R=i.get(c);return R&&P?cv(R.abstractType.cellInfo.type)[P]:f==="DESCENDING"?"Descending":"Ascending"}}=e;function h(P){if(P){const R=i.get(P);if(R)return a(R)}}function b(){s("remove")}function v(){s("update",{columnIdentifier:c,sortDirection:f})}const k=P=>P?o(i.get(P)):"";function T(P){c=P,t(0,c)}function E(P){f=P,t(1,f)}return r.$$set=P=>{"columns"in P&&t(2,i=P.columns),"getColumnLabel"in P&&t(3,o=P.getColumnLabel),"getColumnConstraintType"in P&&t(11,a=P.getColumnConstraintType),"columnsAllowedForSelection"in P&&t(12,u=P.columnsAllowedForSelection),"columnIdentifier"in P&&t(0,c=P.columnIdentifier),"sortDirection"in P&&t(1,f=P.sortDirection),"disableColumnChange"in P&&t(4,m=P.disableColumnChange),"allowDelete"in P&&t(5,d=P.allowDelete),"getSortDirectionLabel"in P&&t(6,_=P.getSortDirectionLabel)},r.$$.update=()=>{r.$$.dirty&4&&t(13,n=[...i.values()].map(P=>P.id)),r.$$.dirty&12289&&t(7,l=(()=>{if(u){const P=[c,...u];return n.filter(R=>P.includes(R))}return n})())},[c,f,i,o,m,d,_,l,h,b,v,a,u,n,k,T,E]}class U6 extends X{constructor(e){super(),Q(this,e,jK,BK,G,{columns:2,getColumnLabel:3,getColumnConstraintType:11,columnsAllowedForSelection:12,columnIdentifier:0,sortDirection:1,disableColumnChange:4,allowDelete:5,getSortDirectionLabel:6})}}function YK(r){let e,t,n,l;function s(a){r[5](a)}function i(a){r[6](a)}let o={allowDelete:!1,columns:r[1],columnsAllowedForSelection:r[2],getColumnLabel:r[4],disableColumnChange:r[3]};return r[0].columnIdentifier!==void 0&&(o.columnIdentifier=r[0].columnIdentifier),r[0].sortDirection!==void 0&&(o.sortDirection=r[0].sortDirection),e=new U6({props:o}),ye.push(()=>Pe(e,"columnIdentifier",s)),ye.push(()=>Pe(e,"sortDirection",i)),e.$on("update",r[7]),{c(){C(e.$$.fragment)},m(a,u){y(e,a,u),l=!0},p(a,[u]){const c={};u&2&&(c.columns=a[1]),u&4&&(c.columnsAllowedForSelection=a[2]),u&2&&(c.getColumnLabel=a[4]),u&8&&(c.disableColumnChange=a[3]),!t&&u&1&&(t=!0,c.columnIdentifier=a[0].columnIdentifier,Ne(()=>t=!1)),!n&&u&1&&(n=!0,c.sortDirection=a[0].sortDirection,Ne(()=>n=!1)),e.$set(c)},i(a){l||(p(e.$$.fragment,a),l=!0)},o(a){g(e.$$.fragment,a),l=!1},d(a){S(e,a)}}}function KK(r,e,t){let{columns:n}=e,{model:l}=e,{columnsAllowedForSelection:s}=e,{limitEditing:i=!1}=e;const o=f=>{var m,d;return(d=f&&((m=n.get(f.id))==null?void 0:m.column.display_name))!=null?d:""};function a(f){r.$$.not_equal(l.columnIdentifier,f)&&(l.columnIdentifier=f,t(0,l))}function u(f){r.$$.not_equal(l.sortDirection,f)&&(l.sortDirection=f,t(0,l))}function c(f){ve.call(this,r,f)}return r.$$set=f=>{"columns"in f&&t(1,n=f.columns),"model"in f&&t(0,l=f.model),"columnsAllowedForSelection"in f&&t(2,s=f.columnsAllowedForSelection),"limitEditing"in f&&t(3,i=f.limitEditing)},[l,n,s,i,o,a,u,c]}class GK extends X{constructor(e){super(),Q(this,e,KK,YK,G,{columns:1,model:0,columnsAllowedForSelection:2,limitEditing:3})}}function Jh(r,e,t){const n=r.slice();return n[23]=e[t],n[25]=t,n}function Zh(r){const e=r[3][r[25]].size===0;r[26]=e}function xh(r){let e=[],t=new Map,n,l,s=r[0];const i=o=>o[23];for(let o=0;o<s.length;o+=1){let a=Jh(r,s,o),u=i(a);t.set(u,e[o]=tb(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=ae()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,a){a&12299&&(s=o[0],q(),e=pt(e,a,i,1,o,s,t,n.parentNode,ht,tb,n,Jh),U())},i(o){if(!l){for(let a=0;a<s.length;a+=1)p(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&$(n)}}}function eb(r){let e,t;return e=new ut({props:{appearance:"plain",class:"padding-zero",$$slots:{default:[QK]},$$scope:{ctx:r}}}),e.$on("click",r[22]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&134217728&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function QK(r){let e,t;const n=[Ut,{size:"0.8rem"}];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[be(Ut),n[1]]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function XK(r){let e,t,n=r[25]+1+"",l,s,i,o=r[23].name+"",a,u,c,f,m=r[25]===r[0].length-1&&eb(r);return{c(){e=I("span"),t=I("span"),l=B(n),s=O(),i=I("span"),a=B(o),u=O(),m&&m.c(),c=O(),D(t,"class","number svelte-rh6p5m"),D(i,"class","title svelte-rh6p5m"),D(e,"slot","header"),D(e,"class","header svelte-rh6p5m")},m(d,_){w(d,e,_),M(e,t),M(t,l),M(e,s),M(e,i),M(i,a),M(e,u),m&&m.m(e,null),M(e,c),f=!0},p(d,_){(!f||_&1)&&n!==(n=d[25]+1+"")&&he(l,n),(!f||_&1)&&o!==(o=d[23].name+"")&&he(a,o),d[25]===d[0].length-1?m?(m.p(d,_),_&1&&p(m,1)):(m=eb(d),m.c(),p(m,1),m.m(e,c)):m&&(q(),g(m,1,1,()=>{m=null}),U())},i(d){f||(p(m),f=!0)},o(d){g(m),f=!1},d(d){d&&$(e),m&&m.d()}}}function JK(r){let e,t;function n(){return r[21](r[25],r[23])}return e=new GK({props:{columns:r[3][r[25]],columnsAllowedForSelection:[...r[3][r[25]].without(r[1].getAllSortedColumns()).values()].map(nb),model:r[23],limitEditing:r[26]}}),e.$on("update",n),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){r=l;const i={};s&9&&(i.columns=r[3][r[25]]),s&11&&(i.columnsAllowedForSelection=[...r[3][r[25]].without(r[1].getAllSortedColumns()).values()].map(nb)),s&1&&(i.model=r[23]),s&9&&(i.limitEditing=r[26]),e.$set(i)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function ZK(r){let e,t;function n(){return r[20](r[25],r[23])}return e=new VK({props:{columns:r[3][r[25]],model:r[23],limitEditing:r[26]}}),e.$on("update",n),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){r=l;const i={};s&9&&(i.columns=r[3][r[25]]),s&1&&(i.model=r[23]),s&9&&(i.limitEditing=r[26]),e.$set(i)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function xK(r){let e,t;function n(){return r[19](r[25],r[23])}return e=new LK({props:{columns:r[3][r[25]],model:r[23],limitEditing:r[26]||r[25]<r[0].length-1}}),e.$on("update",n),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){r=l;const i={};s&9&&(i.columns=r[3][r[25]]),s&1&&(i.model=r[23]),s&9&&(i.limitEditing=r[26]||r[25]<r[0].length-1),e.$set(i)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function eG(r){let e,t;function n(){return r[18](r[25],r[23])}return e=new gK({props:{columns:r[3][r[25]],model:r[23],limitEditing:r[26],totalTransformations:r[0].length}}),e.$on("update",n),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){r=l;const i={};s&9&&(i.columns=r[3][r[25]]),s&1&&(i.model=r[23]),s&9&&(i.limitEditing=r[26]),s&1&&(i.totalTransformations=r[0].length),e.$set(i)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function tG(r){Zh(r);let e,t,n,l,s;const i=[eG,xK,ZK,JK],o=[];function a(u,c){return u[23].type==="filter"?0:u[23].type==="summarize"?1:u[23].type==="hide"?2:u[23].type==="order"?3:-1}return~(t=a(r))&&(n=o[t]=i[t](r)),{c(){e=I("div"),n&&n.c(),l=O(),D(e,"slot","content"),D(e,"class","content svelte-rh6p5m")},m(u,c){w(u,e,c),~t&&o[t].m(e,null),M(e,l),s=!0},p(u,c){Zh(u);let f=t;t=a(u),t===f?~t&&o[t].p(u,c):(n&&(q(),g(o[f],1,1,()=>{o[f]=null}),U()),~t?(n=o[t],n?n.p(u,c):(n=o[t]=i[t](u),n.c()),p(n,1),n.m(e,l)):n=null)},i(u){s||(p(n),s=!0)},o(u){g(n),s=!1},d(u){u&&$(e),~t&&o[t].d()}}}function tb(r,e){let t,n,l;return n=new Tn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[tG],header:[XK]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&134217739&&(o.$$scope={dirty:i,ctx:e}),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}function nG(r){let e;return{c(){e=B("Filter")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function rG(r){let e;return{c(){e=B("Sort")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function lG(r){let e;return{c(){e=B("Summarize")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function sG(r){let e;return{c(){e=B("Hide Columns")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function iG(r){let e,t,n,l,s,i,o,a;return e=new xt({props:{$$slots:{default:[nG]},$$scope:{ctx:r}}}),e.$on("click",r[8]),n=new xt({props:{disabled:!r[2],$$slots:{default:[rG]},$$scope:{ctx:r}}}),n.$on("click",r[11]),s=new xt({props:{disabled:r[1].hasSummarizationTransform(),$$slots:{default:[lG]},$$scope:{ctx:r}}}),s.$on("click",r[9]),o=new xt({props:{$$slots:{default:[sG]},$$scope:{ctx:r}}}),o.$on("click",r[10]),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment),l=O(),C(s.$$.fragment),i=O(),C(o.$$.fragment)},m(u,c){y(e,u,c),w(u,t,c),y(n,u,c),w(u,l,c),y(s,u,c),w(u,i,c),y(o,u,c),a=!0},p(u,c){const f={};c&134217728&&(f.$$scope={dirty:c,ctx:u}),e.$set(f);const m={};c&4&&(m.disabled=!u[2]),c&134217728&&(m.$$scope={dirty:c,ctx:u}),n.$set(m);const d={};c&2&&(d.disabled=u[1].hasSummarizationTransform()),c&134217728&&(d.$$scope={dirty:c,ctx:u}),s.$set(d);const _={};c&134217728&&(_.$$scope={dirty:c,ctx:u}),o.$set(_)},i(u){a||(p(e.$$.fragment,u),p(n.$$.fragment,u),p(s.$$.fragment,u),p(o.$$.fragment,u),a=!0)},o(u){g(e.$$.fragment,u),g(n.$$.fragment,u),g(s.$$.fragment,u),g(o.$$.fragment,u),a=!1},d(u){S(e,u),u&&$(t),S(n,u),u&&$(l),S(s,u),u&&$(i),S(o,u)}}}function oG(r){let e,t,n,l,s,i=r[0]&&r[3].length===r[0].length&&xh(r);return l=new Ar({props:{label:"Add transformation step",icon:Qt,disabled:r[7].size===0,triggerAppearance:"secondary",$$slots:{default:[iG]},$$scope:{ctx:r}}}),{c(){e=I("div"),i&&i.c(),t=O(),n=I("div"),C(l.$$.fragment),D(n,"class","add-transform-control svelte-rh6p5m"),D(e,"class","transformations svelte-rh6p5m")},m(o,a){w(o,e,a),i&&i.m(e,null),M(e,t),M(e,n),y(l,n,null),s=!0},p(o,[a]){o[0]&&o[3].length===o[0].length?i?(i.p(o,a),a&9&&p(i,1)):(i=xh(o),i.c(),p(i,1),i.m(e,t)):i&&(q(),g(i,1,1,()=>{i=null}),U());const u={};a&128&&(u.disabled=o[7].size===0),a&134217734&&(u.$$scope={dirty:a,ctx:o}),l.$set(u)},i(o){s||(p(i),p(l.$$.fragment,o),s=!0)},o(o){g(i),g(l.$$.fragment,o),s=!1},d(o){o&&$(e),i&&i.d(),S(l)}}}const nb=r=>r.column.alias;function aG(r,e,t){let n,l,s,i,o,a,u,c,f,m=z,d=()=>(m(),m=se(l,te=>t(7,f=te)),l),_,h=z,b=()=>(h(),h=se(n,te=>t(1,_=te)),n),v,k=z,T=()=>(k(),k=se(s,te=>t(17,v=te)),s);r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>k());let{queryManager:E}=e;async function P(){const te=[...f.values()][0];if(!te)return;const ne=[...te.allowedFiltersMap.values()][0];if(!ne)return;const H=new A6({columnIdentifier:te.column.alias,conditionIdentifier:ne.id,value:te.initialInputValue});await E.update(ee=>ee.addFilterTransform(H))}async function R(){const ne=[...f.values()][0];if(!ne)return;const H=new Tf({columnIdentifier:ne.column.alias,groups:new vt,aggregations:new vt});await E.update(ee=>ee.addSummarizationTransform(H))}async function L(){const te=new R6({columnAliases:[]});await E.update(ne=>ne.addHideTransform(te))}async function A(){const te=u[0];if(!te)return;const ne=new P6({columnIdentifier:te,sortDirection:"ASCENDING"});await E.update(H=>H.addSortTransform(ne))}async function N(){await E.update(te=>te.removeLastTransform())}async function F(te,ne){await E.update(H=>H.updateTransform(te,ne))}const K=(te,ne)=>F(te,ne),W=(te,ne)=>F(te,ne),j=(te,ne)=>F(te,ne),Y=(te,ne)=>F(te,ne),oe=()=>N();return r.$$set=te=>{"queryManager"in te&&t(14,E=te.queryManager)},r.$$.update=()=>{r.$$.dirty&16384&&b(t(6,{query:n,processedColumns:l,columnsMetaData:s}=E,n,d(t(5,l)),T(t(4,s)))),r.$$.dirty&2&&t(16,{initial_columns:i,transformationModels:o}=_,i,(t(0,o),t(1,_))),r.$$.dirty&196609&&t(3,a=hK(i,o,v)),r.$$.dirty&2&&t(15,u=_.getAllSortableColumns()),r.$$.dirty&32768&&t(2,c=u.length>0)},[o,_,c,a,s,l,n,f,P,R,L,A,N,F,E,u,i,v,K,W,j,Y,oe]}class uG extends X{constructor(e){super(),Q(this,e,aG,oG,G,{queryManager:14})}}function cG(r){let e,t;return e=new zn({props:{$$slots:{default:[dG]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16392&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function fG(r){let e,t,n,l;const s=[_G,pG],i=[];function o(a,u){var c,f;return((c=a[2])==null?void 0:c.id)==="column-selection"?0:((f=a[2])==null?void 0:f.id)==="transform-results"?1:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=ae()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(q(),g(i[c],1,1,()=>{i[c]=null}),U()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&$(n)}}}function mG(r){let e,t,n;return t=new an({}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","loading-state svelte-17rvnvg")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p:z,i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function dG(r){var l;let e,t=((l=r[3])==null?void 0:l.errors.join(";"))+"",n;return{c(){e=B(`Failed to fetch column information:
          `),n=B(t)},m(s,i){w(s,e,i),w(s,n,i)},p(s,i){var o;i&8&&t!==(t=((o=s[3])==null?void 0:o.errors.join(";"))+"")&&he(n,t)},d(s){s&&$(e),s&&$(n)}}}function pG(r){let e,t,n,l;return n=new uG({props:{queryManager:r[0]}}),{c(){e=I("div"),e.textContent=`Transformations can be used to summarize data, filter data, and
            more. Note that transformations are applied in the order they are
            listed.`,t=O(),C(n.$$.fragment),D(e,"class","help-text svelte-17rvnvg")},m(s,i){w(s,e,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&1&&(o.queryManager=s[0]),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(e),s&&$(t),S(n,s)}}}function _G(r){let e,t,n,l;return n=new dK({props:{queryManager:r[0],linkCollapsibleOpenState:r[1]}}),n.$on("add",r[10]),{c(){e=I("div"),e.textContent=`Select the columns that will be used for the exploration. Columns
            are limited to those from the base table and its linked tables.`,t=O(),C(n.$$.fragment),D(e,"class","help-text svelte-17rvnvg")},m(s,i){w(s,e,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&1&&(o.queryManager=s[0]),i&2&&(o.linkCollapsibleOpenState=s[1]),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(e),s&&$(t),S(n,s)}}}function gG(r){let e,t,n,l;const s=[mG,fG,cG],i=[];function o(a,u){var c,f,m;return((c=a[3])==null?void 0:c.state)==="processing"?0:((f=a[3])==null?void 0:f.state)==="success"?1:((m=a[3])==null?void 0:m.state)==="failure"?2:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=ae()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(q(),g(i[c],1,1,()=>{i[c]=null}),U()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&$(n)}}}function hG(r){let e,t,n,l,s,i,o;function a(c){r[11](c)}let u={tabs:r[7],tabStyle:"compact",fillTabWidth:!0,fillContainerHeight:!0,$$slots:{default:[gG]},$$scope:{ctx:r}};return r[2]!==void 0&&(u.activeTab=r[2]),s=new wa({props:u}),ye.push(()=>Pe(s,"activeTab",a)),{c(){e=I("aside"),t=I("header"),t.textContent="Build your Exploration",n=O(),l=I("section"),C(s.$$.fragment),D(t,"class","svelte-17rvnvg"),D(l,"class","input-pane svelte-17rvnvg"),D(e,"class","input-sidebar svelte-17rvnvg")},m(c,f){w(c,e,f),M(e,t),M(e,n),M(e,l),y(s,l,null),o=!0},p(c,[f]){const m={};f&16399&&(m.$$scope={dirty:f,ctx:c}),!i&&f&4&&(i=!0,m.activeTab=c[2],Ne(()=>i=!1)),s.$set(m)},i(c){o||(p(s.$$.fragment,c),o=!0)},o(c){g(s.$$.fragment,c),o=!1},d(c){c&&$(e),S(s)}}}function bG(r,e,t){let n,l,s,i,o,a=z,u=()=>(a(),a=se(s,L=>t(12,o=L)),s),c,f=z,m=()=>(f(),f=se(n,L=>t(13,c=L)),n),d,_=z,h=()=>(_(),_=se(l,L=>t(9,d=L)),l);r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>_());let{queryManager:b}=e,{linkCollapsibleOpenState:v={}}=e;const k=[{id:"column-selection",label:"Select Columns"},{id:"transform-results",label:"Transform Results"}];let T=k[0];async function E(L){const A=`${L.tableName}_${L.name}`,N=new Set(c.initial_columns.map(j=>j.alias)),F=Ml(A,N),K=!c.hasSummarizationTransform();let W=!1;L.producesMultipleResults&&o&&K&&(W=await qo({title:{component:J$,props:{pre:"Summarize the ",identifier:L.name,post:" column?"}},body:[`By default, Mathesar shows only one related record per row when adding a
                column with multiple related records. We recommend adding a summarization
                step if you'd like to see related records as a list instead.`,'You can manually configure a summarization later via the "Transform Results" pane.'],proceedButton:{label:"Yes, summarize as a list",icon:void 0},cancelButton:{label:"No, continue without summarizing",icon:void 0}})),await b.update(j=>{const Y=j.withInitialColumn({alias:F,id:L.id,jp_path:L.jpPath});if(W){const oe=b.getAutoSummarizationTransformModel();if(oe)return Y.model.addSummarizationTransform(oe)}return Y}),K&&b.selectColumn(F),W&&t(2,[,T]=k,T)}const P=L=>E(L.detail);function R(L){T=L,t(2,T)}return r.$$set=L=>{"queryManager"in L&&t(0,b=L.queryManager),"linkCollapsibleOpenState"in L&&t(1,v=L.linkCollapsibleOpenState)},r.$$.update=()=>{r.$$.dirty&1&&m(t(6,{query:n,state:l,confirmationNeededForMultipleResults:s}=b,n,h(t(5,l)),u(t(4,s)))),r.$$.dirty&512&&t(3,{inputColumnsFetchState:i}=d,i)},[b,v,T,i,s,l,n,k,E,d,P,R]}class $G extends X{constructor(e){super(),Q(this,e,bG,hG,G,{queryManager:0,linkCollapsibleOpenState:1})}}function wG(r){let e;const t=r[3].default,n=De(t,r,r[5],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&32)&&Ee(n,t,l,l[5],e?Ie(t,l[5],s,null):Me(l[5]),null)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function vG(r){let e,t;return e=new $G({props:{slot:"panel",queryManager:r[0],linkCollapsibleOpenState:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.queryManager=n[0]),l&2&&(s.linkCollapsibleOpenState=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function kG(r){let e,t,n;function l(i){r[4](i)}let s={placement:"left",minSizePx:250,maxSizePx:700,$$slots:{panel:[vG],default:[wG]},$$scope:{ctx:r}};return r[2]!==void 0&&(s.sizePx=r[2]),e=new kc({props:s}),ye.push(()=>Pe(e,"sizePx",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&35&&(a.$$scope={dirty:o,ctx:i}),!t&&o&4&&(t=!0,a.sizePx=i[2],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function yG(r,e,t){let n;de(r,Q1,u=>t(2,n=u));let{$$slots:l={},$$scope:s}=e,{queryManager:i}=e,{linkCollapsibleOpenState:o={}}=e;function a(u){n=u,Q1.set(n)}return r.$$set=u=>{"queryManager"in u&&t(0,i=u.queryManager),"linkCollapsibleOpenState"in u&&t(1,o=u.linkCollapsibleOpenState),"$$scope"in u&&t(5,s=u.$$scope)},[i,o,n,l,a,s]}class SG extends X{constructor(e){super(),Q(this,e,yG,kG,G,{queryManager:0,linkCollapsibleOpenState:1})}}function rb(r){let e,t,n,l;t=new _T({props:{total:r[0],pageSize:r[2],currentPage:r[4]}}),t.$on("change",r[5]);let s=r[1].length&&lb(r);return{c(){e=I("div"),C(t.$$.fragment),n=O(),s&&s.c(),D(e,"class","pagination-group svelte-1e0lu03")},m(i,o){w(i,e,o),y(t,e,null),M(e,n),s&&s.m(e,null),l=!0},p(i,o){const a={};o&1&&(a.total=i[0]),o&4&&(a.pageSize=i[2]),o&16&&(a.currentPage=i[4]),t.$set(a),i[1].length?s?(s.p(i,o),o&2&&p(s,1)):(s=lb(i),s.c(),p(s,1),s.m(e,null)):s&&(q(),g(s,1,1,()=>{s=null}),U())},i(i){l||(p(t.$$.fragment,i),p(s),l=!0)},o(i){g(t.$$.fragment,i),g(s),l=!1},d(i){i&&$(e),S(t),s&&s.d()}}}function lb(r){let e,t;return e=new Sn({props:{triggerAppearance:"secondary",options:r[1],value:r[2]}}),e.$on("change",r[6]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.options=n[1]),l&4&&(s.value=n[2]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function CG(r){let e,t,n=r[0]&&!r[3]&&rb(r);return{c(){n&&n.c(),e=ae()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,[s]){l[0]&&!l[3]?n?(n.p(l,s),s&9&&p(n,1)):(n=rb(l),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&$(e)}}}function TG(r,e,t){let n,l,s,i;const o=dt();let{pagination:a}=e,{totalCount:u}=e,{pageSizeOptions:c=[100,200,500]}=e,{hiddenWhenPossible:f=!1}=e;function m(_){t(7,a=new Mr({...a,page:_.detail.currentPage})),o("change",a)}function d(_){const h=_.detail;typeof h<"u"&&n!==h&&(t(7,a=new Mr({page:1,size:h})),o("change",a))}return r.$$set=_=>{"pagination"in _&&t(7,a=_.pagination),"totalCount"in _&&t(0,u=_.totalCount),"pageSizeOptions"in _&&t(1,c=_.pageSizeOptions),"hiddenWhenPossible"in _&&t(8,f=_.hiddenWhenPossible)},r.$$.update=()=>{r.$$.dirty&128&&t(2,{size:n,page:l}=a,n,(t(4,l),t(7,a))),r.$$.dirty&5&&t(9,s=n>=u),r.$$.dirty&768&&t(3,i=s&&f)},[u,c,n,i,l,m,d,a,f,s]}class W6 extends X{constructor(e){super(),Q(this,e,TG,CG,G,{pagination:7,totalCount:0,pageSizeOptions:1,hiddenWhenPossible:8})}}var B6={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(r,e){(function(t,n){r.exports=n()})(Pi,function t(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},l=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,i={},o=0,a={parse:function(A,N){var F=(N=N||{}).dynamicTyping||!1;if(L(F)&&(N.dynamicTypingFunction=F,F={}),N.dynamicTyping=F,N.transform=!!L(N.transform)&&N.transform,N.worker&&a.WORKERS_SUPPORTED){var K=function(){if(!a.WORKERS_SUPPORTED)return!1;var j=(oe=n.URL||n.webkitURL||null,te=t.toString(),a.BLOB_URL||(a.BLOB_URL=oe.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",te,")();"],{type:"text/javascript"})))),Y=new n.Worker(j),oe,te;return Y.onmessage=k,Y.id=o++,i[Y.id]=Y}();return K.userStep=N.step,K.userChunk=N.chunk,K.userComplete=N.complete,K.userError=N.error,N.step=L(N.step),N.chunk=L(N.chunk),N.complete=L(N.complete),N.error=L(N.error),delete N.worker,void K.postMessage({input:A,config:N,workerId:K.id})}var W=null;return a.NODE_STREAM_INPUT,typeof A=="string"?(A=function(j){return j.charCodeAt(0)===65279?j.slice(1):j}(A),W=N.download?new f(N):new d(N)):A.readable===!0&&L(A.read)&&L(A.on)?W=new _(N):(n.File&&A instanceof File||A instanceof Object)&&(W=new m(N)),W.stream(A)},unparse:function(A,N){var F=!1,K=!0,W=",",j=`\r
`,Y='"',oe=Y+Y,te=!1,ne=null,H=!1;(function(){if(typeof N=="object"){if(typeof N.delimiter!="string"||a.BAD_DELIMITERS.filter(function(ie){return N.delimiter.indexOf(ie)!==-1}).length||(W=N.delimiter),(typeof N.quotes=="boolean"||typeof N.quotes=="function"||Array.isArray(N.quotes))&&(F=N.quotes),typeof N.skipEmptyLines!="boolean"&&typeof N.skipEmptyLines!="string"||(te=N.skipEmptyLines),typeof N.newline=="string"&&(j=N.newline),typeof N.quoteChar=="string"&&(Y=N.quoteChar),typeof N.header=="boolean"&&(K=N.header),Array.isArray(N.columns)){if(N.columns.length===0)throw new Error("Option columns is empty");ne=N.columns}N.escapeChar!==void 0&&(oe=N.escapeChar+Y),(typeof N.escapeFormulae=="boolean"||N.escapeFormulae instanceof RegExp)&&(H=N.escapeFormulae instanceof RegExp?N.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var ee=new RegExp(b(Y),"g");if(typeof A=="string"&&(A=JSON.parse(A)),Array.isArray(A)){if(!A.length||Array.isArray(A[0]))return pe(null,A,te);if(typeof A[0]=="object")return pe(ne||Object.keys(A[0]),A,te)}else if(typeof A=="object")return typeof A.data=="string"&&(A.data=JSON.parse(A.data)),Array.isArray(A.data)&&(A.fields||(A.fields=A.meta&&A.meta.fields||ne),A.fields||(A.fields=Array.isArray(A.data[0])?A.fields:typeof A.data[0]=="object"?Object.keys(A.data[0]):[]),Array.isArray(A.data[0])||typeof A.data[0]=="object"||(A.data=[A.data])),pe(A.fields||[],A.data||[],te);throw new Error("Unable to serialize unrecognized input");function pe(ie,me,Se){var $e="";typeof ie=="string"&&(ie=JSON.parse(ie)),typeof me=="string"&&(me=JSON.parse(me));var He=Array.isArray(ie)&&0<ie.length,we=!Array.isArray(me[0]);if(He&&K){for(var je=0;je<ie.length;je++)0<je&&($e+=W),$e+=ue(ie[je],je);0<me.length&&($e+=j)}for(var Re=0;Re<me.length;Re++){var Oe=He?ie.length:me[Re].length,Ze=!1,Ke=He?Object.keys(me[Re]).length===0:me[Re].length===0;if(Se&&!He&&(Ze=Se==="greedy"?me[Re].join("").trim()==="":me[Re].length===1&&me[Re][0].length===0),Se==="greedy"&&He){for(var tt=[],ot=0;ot<Oe;ot++){var nt=we?ie[ot]:ot;tt.push(me[Re][nt])}Ze=tt.join("").trim()===""}if(!Ze){for(var ze=0;ze<Oe;ze++){0<ze&&!Ke&&($e+=W);var Xe=He&&we?ie[ze]:ze;$e+=ue(me[Re][Xe],ze)}Re<me.length-1&&(!Se||0<Oe&&!Ke)&&($e+=j)}}return $e}function ue(ie,me){if(ie==null)return"";if(ie.constructor===Date)return JSON.stringify(ie).slice(1,25);var Se=!1;H&&typeof ie=="string"&&H.test(ie)&&(ie="'"+ie,Se=!0);var $e=ie.toString().replace(ee,oe);return(Se=Se||F===!0||typeof F=="function"&&F(ie,me)||Array.isArray(F)&&F[me]||function(He,we){for(var je=0;je<we.length;je++)if(-1<He.indexOf(we[je]))return!0;return!1}($e,a.BAD_DELIMITERS)||-1<$e.indexOf(W)||$e.charAt(0)===" "||$e.charAt($e.length-1)===" ")?Y+$e+Y:$e}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!l&&!!n.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=v,a.ParserHandle=h,a.NetworkStreamer=f,a.FileStreamer=m,a.StringStreamer=d,a.ReadableStreamStreamer=_,n.jQuery){var u=n.jQuery;u.fn.parse=function(A){var N=A.config||{},F=[];return this.each(function(j){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var Y=0;Y<this.files.length;Y++)F.push({file:this.files[Y],inputElem:this,instanceConfig:u.extend({},N)})}),K(),this;function K(){if(F.length!==0){var j,Y,oe,te,ne=F[0];if(L(A.before)){var H=A.before(ne.file,ne.inputElem);if(typeof H=="object"){if(H.action==="abort")return j="AbortError",Y=ne.file,oe=ne.inputElem,te=H.reason,void(L(A.error)&&A.error({name:j},Y,oe,te));if(H.action==="skip")return void W();typeof H.config=="object"&&(ne.instanceConfig=u.extend(ne.instanceConfig,H.config))}else if(H==="skip")return void W()}var ee=ne.instanceConfig.complete;ne.instanceConfig.complete=function(pe){L(ee)&&ee(pe,ne.file,ne.inputElem),W()},a.parse(ne.file,ne.instanceConfig)}else L(A.complete)&&A.complete()}function W(){F.splice(0,1),K()}}}function c(A){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(N){var F=P(N);F.chunkSize=parseInt(F.chunkSize),N.step||N.chunk||(F.chunkSize=null),this._handle=new h(F),(this._handle.streamer=this)._config=F}.call(this,A),this.parseChunk=function(N,F){if(this.isFirstChunk&&L(this._config.beforeFirstChunk)){var K=this._config.beforeFirstChunk(N);K!==void 0&&(N=K)}this.isFirstChunk=!1,this._halted=!1;var W=this._partialLine+N;this._partialLine="";var j=this._handle.parse(W,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var Y=j.meta.cursor;this._finished||(this._partialLine=W.substring(Y-this._baseIndex),this._baseIndex=Y),j&&j.data&&(this._rowCount+=j.data.length);var oe=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(s)n.postMessage({results:j,workerId:a.WORKER_ID,finished:oe});else if(L(this._config.chunk)&&!F){if(this._config.chunk(j,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);j=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(j.data),this._completeResults.errors=this._completeResults.errors.concat(j.errors),this._completeResults.meta=j.meta),this._completed||!oe||!L(this._config.complete)||j&&j.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),oe||j&&j.meta.paused||this._nextChunk(),j}this._halted=!0},this._sendError=function(N){L(this._config.error)?this._config.error(N):s&&this._config.error&&n.postMessage({workerId:a.WORKER_ID,error:N,finished:!1})}}function f(A){var N;(A=A||{}).chunkSize||(A.chunkSize=a.RemoteChunkSize),c.call(this,A),this._nextChunk=l?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(F){this._input=F,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(N=new XMLHttpRequest,this._config.withCredentials&&(N.withCredentials=this._config.withCredentials),l||(N.onload=R(this._chunkLoaded,this),N.onerror=R(this._chunkError,this)),N.open(this._config.downloadRequestBody?"POST":"GET",this._input,!l),this._config.downloadRequestHeaders){var F=this._config.downloadRequestHeaders;for(var K in F)N.setRequestHeader(K,F[K])}if(this._config.chunkSize){var W=this._start+this._config.chunkSize-1;N.setRequestHeader("Range","bytes="+this._start+"-"+W)}try{N.send(this._config.downloadRequestBody)}catch(j){this._chunkError(j.message)}l&&N.status===0&&this._chunkError()}},this._chunkLoaded=function(){N.readyState===4&&(N.status<200||400<=N.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:N.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(F){var K=F.getResponseHeader("Content-Range");return K===null?-1:parseInt(K.substring(K.lastIndexOf("/")+1))}(N),this.parseChunk(N.responseText)))},this._chunkError=function(F){var K=N.statusText||F;this._sendError(new Error(K))}}function m(A){var N,F;(A=A||{}).chunkSize||(A.chunkSize=a.LocalChunkSize),c.call(this,A);var K=typeof FileReader<"u";this.stream=function(W){this._input=W,F=W.slice||W.webkitSlice||W.mozSlice,K?((N=new FileReader).onload=R(this._chunkLoaded,this),N.onerror=R(this._chunkError,this)):N=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var W=this._input;if(this._config.chunkSize){var j=Math.min(this._start+this._config.chunkSize,this._input.size);W=F.call(W,this._start,j)}var Y=N.readAsText(W,this._config.encoding);K||this._chunkLoaded({target:{result:Y}})},this._chunkLoaded=function(W){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(W.target.result)},this._chunkError=function(){this._sendError(N.error)}}function d(A){var N;c.call(this,A=A||{}),this.stream=function(F){return N=F,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var F,K=this._config.chunkSize;return K?(F=N.substring(0,K),N=N.substring(K)):(F=N,N=""),this._finished=!N,this.parseChunk(F)}}}function _(A){c.call(this,A=A||{});var N=[],F=!0,K=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(W){this._input=W,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){K&&N.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),N.length?this.parseChunk(N.shift()):F=!0},this._streamData=R(function(W){try{N.push(typeof W=="string"?W:W.toString(this._config.encoding)),F&&(F=!1,this._checkIsFinished(),this.parseChunk(N.shift()))}catch(j){this._streamError(j)}},this),this._streamError=R(function(W){this._streamCleanUp(),this._sendError(W)},this),this._streamEnd=R(function(){this._streamCleanUp(),K=!0,this._streamData("")},this),this._streamCleanUp=R(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function h(A){var N,F,K,W=Math.pow(2,53),j=-W,Y=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,oe=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,te=this,ne=0,H=0,ee=!1,pe=!1,ue=[],ie={data:[],errors:[],meta:{}};if(L(A.step)){var me=A.step;A.step=function(Re){if(ie=Re,He())$e();else{if($e(),ie.data.length===0)return;ne+=Re.data.length,A.preview&&ne>A.preview?F.abort():(ie.data=ie.data[0],me(ie,te))}}}function Se(Re){return A.skipEmptyLines==="greedy"?Re.join("").trim()==="":Re.length===1&&Re[0].length===0}function $e(){return ie&&K&&(je("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),K=!1),A.skipEmptyLines&&(ie.data=ie.data.filter(function(Re){return!Se(Re)})),He()&&function(){if(!ie)return;function Re(Ze,Ke){L(A.transformHeader)&&(Ze=A.transformHeader(Ze,Ke)),ue.push(Ze)}if(Array.isArray(ie.data[0])){for(var Oe=0;He()&&Oe<ie.data.length;Oe++)ie.data[Oe].forEach(Re);ie.data.splice(0,1)}else ie.data.forEach(Re)}(),function(){if(!ie||!A.header&&!A.dynamicTyping&&!A.transform)return ie;function Re(Ze,Ke){var tt,ot=A.header?{}:[];for(tt=0;tt<Ze.length;tt++){var nt=tt,ze=Ze[tt];A.header&&(nt=tt>=ue.length?"__parsed_extra":ue[tt]),A.transform&&(ze=A.transform(ze,nt)),ze=we(nt,ze),nt==="__parsed_extra"?(ot[nt]=ot[nt]||[],ot[nt].push(ze)):ot[nt]=ze}return A.header&&(tt>ue.length?je("FieldMismatch","TooManyFields","Too many fields: expected "+ue.length+" fields but parsed "+tt,H+Ke):tt<ue.length&&je("FieldMismatch","TooFewFields","Too few fields: expected "+ue.length+" fields but parsed "+tt,H+Ke)),ot}var Oe=1;return!ie.data.length||Array.isArray(ie.data[0])?(ie.data=ie.data.map(Re),Oe=ie.data.length):ie.data=Re(ie.data,0),A.header&&ie.meta&&(ie.meta.fields=ue),H+=Oe,ie}()}function He(){return A.header&&ue.length===0}function we(Re,Oe){return Ze=Re,A.dynamicTypingFunction&&A.dynamicTyping[Ze]===void 0&&(A.dynamicTyping[Ze]=A.dynamicTypingFunction(Ze)),(A.dynamicTyping[Ze]||A.dynamicTyping)===!0?Oe==="true"||Oe==="TRUE"||Oe!=="false"&&Oe!=="FALSE"&&(function(Ke){if(Y.test(Ke)){var tt=parseFloat(Ke);if(j<tt&&tt<W)return!0}return!1}(Oe)?parseFloat(Oe):oe.test(Oe)?new Date(Oe):Oe===""?null:Oe):Oe;var Ze}function je(Re,Oe,Ze,Ke){var tt={type:Re,code:Oe,message:Ze};Ke!==void 0&&(tt.row=Ke),ie.errors.push(tt)}this.parse=function(Re,Oe,Ze){var Ke=A.quoteChar||'"';if(A.newline||(A.newline=function(nt,ze){nt=nt.substring(0,1048576);var Xe=new RegExp(b(ze)+"([^]*?)"+b(ze),"gm"),ct=(nt=nt.replace(Xe,"")).split("\r"),Ve=nt.split(`
`),We=1<Ve.length&&Ve[0].length<ct[0].length;if(ct.length===1||We)return`
`;for(var Je=0,bt=0;bt<ct.length;bt++)ct[bt][0]===`
`&&Je++;return Je>=ct.length/2?`\r
`:"\r"}(Re,Ke)),K=!1,A.delimiter)L(A.delimiter)&&(A.delimiter=A.delimiter(Re),ie.meta.delimiter=A.delimiter);else{var tt=function(nt,ze,Xe,ct,Ve){var We,Je,bt,_t;Ve=Ve||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var xe=0;xe<Ve.length;xe++){var mt=Ve[xe],kt=0,Wt=0,Pt=0;bt=void 0;for(var rt=new v({comments:ct,delimiter:mt,newline:ze,preview:10}).parse(nt),Kt=0;Kt<rt.data.length;Kt++)if(Xe&&Se(rt.data[Kt]))Pt++;else{var bn=rt.data[Kt].length;Wt+=bn,bt!==void 0?0<bn&&(kt+=Math.abs(bn-bt),bt=bn):bt=bn}0<rt.data.length&&(Wt/=rt.data.length-Pt),(Je===void 0||kt<=Je)&&(_t===void 0||_t<Wt)&&1.99<Wt&&(Je=kt,We=mt,_t=Wt)}return{successful:!!(A.delimiter=We),bestDelimiter:We}}(Re,A.newline,A.skipEmptyLines,A.comments,A.delimitersToGuess);tt.successful?A.delimiter=tt.bestDelimiter:(K=!0,A.delimiter=a.DefaultDelimiter),ie.meta.delimiter=A.delimiter}var ot=P(A);return A.preview&&A.header&&ot.preview++,N=Re,F=new v(ot),ie=F.parse(N,Oe,Ze),$e(),ee?{meta:{paused:!0}}:ie||{meta:{paused:!1}}},this.paused=function(){return ee},this.pause=function(){ee=!0,F.abort(),N=L(A.chunk)?"":N.substring(F.getCharIndex())},this.resume=function(){te.streamer._halted?(ee=!1,te.streamer.parseChunk(N,!0)):setTimeout(te.resume,3)},this.aborted=function(){return pe},this.abort=function(){pe=!0,F.abort(),ie.meta.aborted=!0,L(A.complete)&&A.complete(ie),N=""}}function b(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(A){var N,F=(A=A||{}).delimiter,K=A.newline,W=A.comments,j=A.step,Y=A.preview,oe=A.fastMode,te=N=A.quoteChar===void 0||A.quoteChar===null?'"':A.quoteChar;if(A.escapeChar!==void 0&&(te=A.escapeChar),(typeof F!="string"||-1<a.BAD_DELIMITERS.indexOf(F))&&(F=","),W===F)throw new Error("Comment character same as delimiter");W===!0?W="#":(typeof W!="string"||-1<a.BAD_DELIMITERS.indexOf(W))&&(W=!1),K!==`
`&&K!=="\r"&&K!==`\r
`&&(K=`
`);var ne=0,H=!1;this.parse=function(ee,pe,ue){if(typeof ee!="string")throw new Error("Input must be a string");var ie=ee.length,me=F.length,Se=K.length,$e=W.length,He=L(j),we=[],je=[],Re=[],Oe=ne=0;if(!ee)return Jt();if(A.header&&!pe){var Ze=ee.split(K)[0].split(F),Ke=[],tt={},ot=!1;for(var nt in Ze){var ze=Ze[nt];L(A.transformHeader)&&(ze=A.transformHeader(ze,nt));var Xe=ze,ct=tt[ze]||0;for(0<ct&&(ot=!0,Xe=ze+"_"+ct),tt[ze]=ct+1;Ke.includes(Xe);)Xe=Xe+"_"+ct;Ke.push(Xe)}if(ot){var Ve=ee.split(K);Ve[0]=Ke.join(F),ee=Ve.join(K)}}if(oe||oe!==!1&&ee.indexOf(N)===-1){for(var We=ee.split(K),Je=0;Je<We.length;Je++){if(Re=We[Je],ne+=Re.length,Je!==We.length-1)ne+=K.length;else if(ue)return Jt();if(!W||Re.substring(0,$e)!==W){if(He){if(we=[],Pt(Re.split(F)),lt(),H)return Jt()}else Pt(Re.split(F));if(Y&&Y<=Je)return we=we.slice(0,Y),Jt(!0)}}return Jt()}for(var bt=ee.indexOf(F,ne),_t=ee.indexOf(K,ne),xe=new RegExp(b(te)+b(N),"g"),mt=ee.indexOf(N,ne);;)if(ee[ne]!==N)if(W&&Re.length===0&&ee.substring(ne,ne+$e)===W){if(_t===-1)return Jt();ne=_t+Se,_t=ee.indexOf(K,ne),bt=ee.indexOf(F,ne)}else if(bt!==-1&&(bt<_t||_t===-1))Re.push(ee.substring(ne,bt)),ne=bt+me,bt=ee.indexOf(F,ne);else{if(_t===-1)break;if(Re.push(ee.substring(ne,_t)),bn(_t+Se),He&&(lt(),H))return Jt();if(Y&&we.length>=Y)return Jt(!0)}else for(mt=ne,ne++;;){if((mt=ee.indexOf(N,mt+1))===-1)return ue||je.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:we.length,index:ne}),Kt();if(mt===ie-1)return Kt(ee.substring(ne,mt).replace(xe,N));if(N!==te||ee[mt+1]!==te){if(N===te||mt===0||ee[mt-1]!==te){bt!==-1&&bt<mt+1&&(bt=ee.indexOf(F,mt+1)),_t!==-1&&_t<mt+1&&(_t=ee.indexOf(K,mt+1));var kt=rt(_t===-1?bt:Math.min(bt,_t));if(ee.substr(mt+1+kt,me)===F){Re.push(ee.substring(ne,mt).replace(xe,N)),ee[ne=mt+1+kt+me]!==N&&(mt=ee.indexOf(N,ne)),bt=ee.indexOf(F,ne),_t=ee.indexOf(K,ne);break}var Wt=rt(_t);if(ee.substring(mt+1+Wt,mt+1+Wt+Se)===K){if(Re.push(ee.substring(ne,mt).replace(xe,N)),bn(mt+1+Wt+Se),bt=ee.indexOf(F,ne),mt=ee.indexOf(N,ne),He&&(lt(),H))return Jt();if(Y&&we.length>=Y)return Jt(!0);break}je.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:we.length,index:ne}),mt++}}else mt++}return Kt();function Pt(Nt){we.push(Nt),Oe=ne}function rt(Nt){var Ct=0;if(Nt!==-1){var Mn=ee.substring(mt+1,Nt);Mn&&Mn.trim()===""&&(Ct=Mn.length)}return Ct}function Kt(Nt){return ue||(Nt===void 0&&(Nt=ee.substring(ne)),Re.push(Nt),ne=ie,Pt(Re),He&&lt()),Jt()}function bn(Nt){ne=Nt,Pt(Re),Re=[],_t=ee.indexOf(K,ne)}function Jt(Nt){return{data:we,errors:je,meta:{delimiter:F,linebreak:K,aborted:H,truncated:!!Nt,cursor:Oe+(pe||0)}}}function lt(){j(Jt()),we=[],je=[]}},this.abort=function(){H=!0},this.getCharIndex=function(){return ne}}function k(A){var N=A.data,F=i[N.workerId],K=!1;if(N.error)F.userError(N.error,N.file);else if(N.results&&N.results.data){var W={abort:function(){K=!0,T(N.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:E,resume:E};if(L(F.userStep)){for(var j=0;j<N.results.data.length&&(F.userStep({data:N.results.data[j],errors:N.results.errors,meta:N.results.meta},W),!K);j++);delete N.results}else L(F.userChunk)&&(F.userChunk(N.results,W,N.file),delete N.results)}N.finished&&!K&&T(N.workerId,N.results)}function T(A,N){var F=i[A];L(F.userComplete)&&F.userComplete(N),F.terminate(),delete i[A]}function E(){throw new Error("Not implemented.")}function P(A){if(typeof A!="object"||A===null)return A;var N=Array.isArray(A)?[]:{};for(var F in A)N[F]=P(A[F]);return N}function R(A,N){return function(){A.apply(N,arguments)}}function L(A){return typeof A=="function"}return s&&(n.onmessage=function(A){var N=A.data;if(a.WORKER_ID===void 0&&N&&(a.WORKER_ID=N.workerId),typeof N.input=="string")n.postMessage({workerId:a.WORKER_ID,results:a.parse(N.input,N.config),finished:!0});else if(n.File&&N.input instanceof File||N.input instanceof Object){var F=a.parse(N.input,N.config);F&&n.postMessage({workerId:a.WORKER_ID,results:F,finished:!0})}}),(f.prototype=Object.create(c.prototype)).constructor=f,(m.prototype=Object.create(c.prototype)).constructor=m,(d.prototype=Object.create(d.prototype)).constructor=d,(_.prototype=Object.create(c.prototype)).constructor=_,a})})(B6);const DG="text/plain",IG="application/x-vnd.mathesar-sheet-clipboard";function EG(r,e,t){var n;return(n=r.get(e))==null?void 0:n[String(t)]}function MG(r,e,t,n){if(r==null)return"";const l=e.get(t);if(!l)return String(r);const s=l.formatCellValue(r,n);return s==null?"":s}function AG(r){return B6.exports.unparse(r,{delimiter:"	",escapeFormulae:!0})}class j6{constructor(e){re(this,"deps");this.deps=e}getColumnIds(e){return this.deps.selection.getSelectedUniqueColumnsId(e,new Hr)}getRowIds(e){return this.deps.selection.getSelectedUniqueRowsId(e)}getCopyContent(){const e=Qe(this.deps.selection.selectedCells),t=new Map(this.deps.getRows().map(o=>[o.rowIndex,o.record])),n=this.deps.getColumnsMap(),l=this.deps.getRecordSummaries(),s=[],i=[];for(const o of this.getRowIds(e)){const a=[],u=[];for(const c of this.getColumnIds(e)){const f=n.get(c);if(!Ci(e,{rowIndex:o},{id:c})||!f)continue;const m=EG(t,o,c),d=MG(m,n,c,l),_=f.abstractType.identifier;u.push({type:_,raw:m,formatted:d}),a.push(d)}s.push(a),i.push(u)}return this.deps.toast.info(`Copied ${Yt(e.size,"cells")}.`),{structured:JSON.stringify(i),tsv:AG(s)}}handleCopy(e){if(e.clipboardData==null)return;const t=this.getCopyContent();e.clipboardData.setData(DG,t.tsv),e.clipboardData.setData(IG,t.structured)}}function RG(r){let e;return{c(){e=B("Refresh")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function PG(r){let e;return{c(){e=B("Retry")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function OG(r){let e;return{c(){e=B("Loading")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function LG(r){let e,t,n,l;const s=[r[0]&&!r[1]?el:ks,{spin:r[1]}];let i={};for(let c=0;c<s.length;c+=1)i=x(i,s[c]);e=new Fe({props:i});function o(c,f){return c[1]?OG:c[0]?PG:RG}let a=o(r),u=a(r);return{c(){C(e.$$.fragment),t=O(),n=I("span"),u.c()},m(c,f){y(e,c,f),w(c,t,f),w(c,n,f),u.m(n,null),l=!0},p(c,f){const m=f&3?ce(s,[be(c[0]&&!c[1]?el:ks),f&2&&{spin:c[1]}]):{};e.$set(m),a!==(a=o(c))&&(u.d(1),u=a(c),u&&(u.c(),u.m(n,null)))},i(c){l||(p(e.$$.fragment,c),l=!0)},o(c){g(e.$$.fragment,c),l=!1},d(c){S(e,c),c&&$(t),c&&$(n),u.d()}}}function NG(r){let e,t;return e=new ut({props:{class:"refresh-button",appearance:"secondary",size:"medium",disabled:r[1],$$slots:{default:[LG]},$$scope:{ctx:r}}}),e.$on("click",r[3]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.disabled=n[1]),l&19&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function FG(r,e,t){let n,l,{state:s=void 0}=e;function i(o){ve.call(this,r,o)}return r.$$set=o=>{"state"in o&&t(2,s=o.state)},r.$$.update=()=>{r.$$.dirty&4&&t(1,n=s==="loading"),r.$$.dirty&4&&t(0,l=s==="error")},[l,n,s,i]}class Y6 extends X{constructor(e){super(),Q(this,e,FG,NG,G,{state:2})}}function zG(r){let e,t;return e=new Y6({props:{state:r[1]}}),e.$on("click",r[4]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.state=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function HG(r,e,t){let n,l,s,i=z,o=()=>(i(),i=se(n,c=>t(3,s=c)),n);r.$$.on_destroy.push(()=>i());let{queryRunner:a}=e;const u=()=>a.run();return r.$$set=c=>{"queryRunner"in c&&t(0,a=c.queryRunner)},r.$$.update=()=>{r.$$.dirty&1&&o(t(2,{runState:n}=a,n)),r.$$.dirty&8&&t(1,l=(()=>{let c;const f=s==null?void 0:s.state;return f==="processing"&&(c="loading"),f==="failure"&&(c="error"),c})())},[a,l,n,s,u]}class K6 extends X{constructor(e){super(),Q(this,e,HG,zG,G,{queryRunner:0})}}const VG=4418;function sb(r,e,t){const n=r.slice();return n[22]=e[t],n}function ib(r,e,t){const n=r.slice();return n[9]=e[t],n}function ob(r,e,t){const n=r.slice();return n[16]=e[t],n}function ab(r,e,t){const n=r.slice();return n[19]=e[t],n}function qG(r){const e=r.slice(),t=e[3].getInitialColumnsAndTransformsUtilizingThemByColumnIds([e[12]]);e[13]=t;const n=e[13].initialColumnsUsingColumnIds;e[14]=n;const l=e[13].transformsUsingColumnIds;return e[15]=l,e}function UG(r){const e=r.slice(),t=Number(e[9].detail.column_id);return e[12]=t,e}function WG(r){let e,t=r[0],n=[];for(let l=0;l<t.length;l+=1)n[l]=ub(sb(r,t,l));return{c(){e=I("ul");for(let l=0;l<n.length;l+=1)n[l].c();D(e,"class","svelte-s7yd6j")},m(l,s){w(l,e,s);for(let i=0;i<n.length;i+=1)n[i].m(e,null)},p(l,s){if(s&1){t=l[0];let i;for(i=0;i<t.length;i+=1){const o=sb(l,t,i);n[i]?n[i].p(o,s):(n[i]=ub(o),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},i:z,o:z,d(l){l&&$(e),Fn(n,l)}}}function BG(r){let e,t,n=r[0].errors,l=[];for(let i=0;i<n.length;i+=1)l[i]=pb(ib(r,n,i));const s=i=>g(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=ae()},m(i,o){for(let a=0;a<l.length;a+=1)l[a].m(i,o);w(i,e,o),t=!0},p(i,o){if(o&123){n=i[0].errors;let a;for(a=0;a<n.length;a+=1){const u=ib(i,n,a);l[a]?(l[a].p(u,o),p(l[a],1)):(l[a]=pb(u),l[a].c(),p(l[a],1),l[a].m(e.parentNode,e))}for(q(),a=n.length;a<l.length;a+=1)s(a);U()}},i(i){if(!t){for(let o=0;o<n.length;o+=1)p(l[o]);t=!0}},o(i){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)g(l[o]);t=!1},d(i){Fn(l,i),i&&$(e)}}}function ub(r){let e,t=r[22]+"",n;return{c(){e=I("li"),n=B(t),D(e,"class","error")},m(l,s){w(l,e,s),M(e,n)},p(l,s){s&1&&t!==(t=l[22]+"")&&he(n,t)},d(l){l&&$(e)}}}function jG(r){let e,t=r[9].message+"",n;return{c(){e=I("li"),n=B(t),D(e,"class","error")},m(l,s){w(l,e,s),M(e,n)},p(l,s){s&1&&t!==(t=l[9].message+"")&&he(n,t)},i:z,o:z,d(l){l&&$(e)}}}function YG(r){let e,t,n,l,s,i;const o=[GG,KG],a=[];function u(f,m){return f[1]?0:f[4]&&f[5]&&f[3].id?1:-1}function c(f,m){return m===0?qG(f):f}return~(l=u(r))&&(s=a[l]=o[l](c(r,l))),{c(){e=I("li"),t=I("p"),t.textContent=`Some of the columns present in the query are missing in the
                underlying base table.`,n=O(),s&&s.c(),D(t,"class","strong svelte-s7yd6j"),D(e,"class","error")},m(f,m){w(f,e,m),M(e,t),M(e,n),~l&&a[l].m(e,null),i=!0},p(f,m){let d=l;l=u(f),l===d?~l&&a[l].p(c(f,l),m):(s&&(q(),g(a[d],1,1,()=>{a[d]=null}),U()),~l?(s=a[l],s?s.p(c(f,l),m):(s=a[l]=o[l](c(f,l)),s.c()),p(s,1),s.m(e,null)):s=null)},i(f){i||(p(s),i=!0)},o(f){g(s),i=!1},d(f){f&&$(e),~l&&a[l].d()}}}function KG(r){let e,t,n,l,s,i;return{c(){e=I("p"),e.textContent=`You can edit the exploration in the Data Explorer to attempt
                  recovering it.`,t=O(),n=I("p"),l=I("a"),s=B("Edit in Data Explorer"),D(e,"class","svelte-s7yd6j"),D(l,"class","btn btn-secondary"),D(l,"href",i=il(r[4].name,r[5].id,r[3].id)),D(n,"class","svelte-s7yd6j")},m(o,a){w(o,e,a),w(o,t,a),w(o,n,a),M(n,l),M(l,s)},p(o,a){a&56&&i!==(i=il(o[4].name,o[5].id,o[3].id))&&D(l,"href",i)},i:z,o:z,d(o){o&&$(e),o&&$(t),o&&$(n)}}}function GG(r){let e,t,n,l,s,i,o,a=r[14].length>0&&cb(r),u=r[15].length>0&&mb(r);function c(){return r[8](r[12])}return i=new ut({props:{appearance:"secondary",$$slots:{default:[QG]},$$scope:{ctx:r}}}),i.$on("click",c),{c(){e=I("p"),e.textContent=`You can attempt to recover the query by clicking on the button
                  below.`,t=O(),a&&a.c(),n=O(),u&&u.c(),l=O(),s=I("p"),C(i.$$.fragment),D(e,"class","svelte-s7yd6j"),D(s,"class","svelte-s7yd6j")},m(f,m){w(f,e,m),w(f,t,m),a&&a.m(f,m),w(f,n,m),u&&u.m(f,m),w(f,l,m),w(f,s,m),y(i,s,null),o=!0},p(f,m){r=f,r[14].length>0?a?a.p(r,m):(a=cb(r),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),r[15].length>0?u?u.p(r,m):(u=mb(r),u.c(),u.m(l.parentNode,l)):u&&(u.d(1),u=null);const d={};m&33554432&&(d.$$scope={dirty:m,ctx:r}),i.$set(d)},i(f){o||(p(i.$$.fragment,f),o=!0)},o(f){g(i.$$.fragment,f),o=!1},d(f){f&&$(e),f&&$(t),a&&a.d(f),f&&$(n),u&&u.d(f),f&&$(l),f&&$(s),S(i)}}}function cb(r){let e,t,n,l=[],s=new Map,i=r[14];const o=a=>a[19].alias;for(let a=0;a<i.length;a+=1){let u=ab(r,i,a),c=o(u);s.set(c,l[a]=fb(c,u))}return{c(){e=I("p"),e.textContent="This will remove the following column(s):",t=O(),n=I("ul");for(let a=0;a<l.length;a+=1)l[a].c();D(e,"class","svelte-s7yd6j"),D(n,"class","removal-list svelte-s7yd6j")},m(a,u){w(a,e,u),w(a,t,u),w(a,n,u);for(let c=0;c<l.length;c+=1)l[c].m(n,null)},p(a,u){u&9&&(i=a[14],l=pt(l,u,o,1,a,i,s,n,ca,fb,null,ab))},d(a){a&&$(e),a&&$(t),a&&$(n);for(let u=0;u<l.length;u+=1)l[u].d()}}}function fb(r,e){var i;let t,n=((i=e[3].display_names[e[19].alias])!=null?i:e[19].alias)+"",l,s;return{key:r,first:null,c(){t=I("li"),l=B(n),s=O(),this.first=t},m(o,a){w(o,t,a),M(t,l),M(t,s)},p(o,a){var u;e=o,a&9&&n!==(n=((u=e[3].display_names[e[19].alias])!=null?u:e[19].alias)+"")&&he(l,n)},d(o){o&&$(t)}}}function mb(r){let e,t,n,l=[],s=new Map,i=r[15];const o=a=>a[16];for(let a=0;a<i.length;a+=1){let u=ob(r,i,a),c=o(u);s.set(c,l[a]=db(c,u))}return{c(){e=I("p"),e.textContent="This will remove the following transformation(s):",t=O(),n=I("ul");for(let a=0;a<l.length;a+=1)l[a].c();D(e,"class","svelte-s7yd6j"),D(n,"class","removal-list svelte-s7yd6j")},m(a,u){w(a,e,u),w(a,t,u),w(a,n,u);for(let c=0;c<l.length;c+=1)l[c].m(n,null)},p(a,u){u&9&&(i=a[15],l=pt(l,u,o,1,a,i,s,n,ca,db,null,ob))},d(a){a&&$(e),a&&$(t),a&&$(n);for(let u=0;u<l.length;u+=1)l[u].d()}}}function db(r,e){let t,n=e[16].index+1+"",l,s,i=e[16].transform.name+"",o,a;return{key:r,first:null,c(){t=I("li"),l=B(n),s=B(": "),o=B(i),a=O(),this.first=t},m(u,c){w(u,t,c),M(t,l),M(t,s),M(t,o),M(t,a)},p(u,c){e=u,c&9&&n!==(n=e[16].index+1+"")&&he(l,n),c&9&&i!==(i=e[16].transform.name+"")&&he(o,i)},d(u){u&&$(t)}}}function QG(r){let e;return{c(){e=B("Attempt Exploration recovery")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function pb(r){let e,t,n,l,s,i;const o=[YG,jG],a=[];function u(f,m){return m&1&&(t=null),t==null&&(t=!!(f[9].code===VG&&Rl(f[9].detail,"column_id"))),t?0:1}function c(f,m){return m===0?UG(f):f}return n=u(r,-1),l=a[n]=o[n](c(r,n)),{c(){e=I("ul"),l.c(),s=O(),D(e,"class","svelte-s7yd6j")},m(f,m){w(f,e,m),a[n].m(e,null),M(e,s),i=!0},p(f,m){let d=n;n=u(f,m),n===d?a[n].p(c(f,n),m):(q(),g(a[d],1,1,()=>{a[d]=null}),U(),l=a[n],l?l.p(c(f,n),m):(l=a[n]=o[n](c(f,n)),l.c()),p(l,1),l.m(e,s))},i(f){i||(p(l),i=!0)},o(f){g(l),i=!1},d(f){f&&$(e),a[n].d()}}}function XG(r){let e,t,n,l,s,i;const o=[BG,WG],a=[];function u(c,f){return c[0]instanceof Hs?0:1}return n=u(r),l=a[n]=o[n](r),{c(){e=I("p"),e.textContent="The result could not be displayed.",t=O(),l.c(),s=ae(),D(e,"class","error-header svelte-s7yd6j")},m(c,f){w(c,e,f),w(c,t,f),a[n].m(c,f),w(c,s,f),i=!0},p(c,f){let m=n;n=u(c),n===m?a[n].p(c,f):(q(),g(a[m],1,1,()=>{a[m]=null}),U(),l=a[n],l?l.p(c,f):(l=a[n]=o[n](c),l.c()),p(l,1),l.m(s.parentNode,s))},i(c){i||(p(l),i=!0)},o(c){g(l),i=!1},d(c){c&&$(e),c&&$(t),a[n].d(c),c&&$(s)}}}function JG(r){let e,t,n;return t=new zn({props:{fullWidth:!0,$$slots:{default:[XG]},$$scope:{ctx:r}}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","query-run-errors svelte-s7yd6j")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,[s]){const i={};s&33554491&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function ZG(r,e,t){let n,l,s,i=z,o=()=>(i(),i=se(l,_=>t(3,s=_)),l),a,u;de(r,gn,_=>t(4,a=_)),de(r,hn,_=>t(5,u=_)),r.$$.on_destroy.push(()=>i());let{queryHandler:c}=e,{errors:f}=e;function m(_){n&&n.update(h=>h.withoutColumnsById([_]))}const d=_=>m(_);return r.$$set=_=>{"queryHandler"in _&&t(7,c=_.queryHandler),"errors"in _&&t(0,f=_.errors)},r.$$.update=()=>{r.$$.dirty&128&&t(1,n=c instanceof Ja?c:void 0),r.$$.dirty&128&&o(t(2,{query:l}=c,l))},[f,n,l,s,a,u,m,c,d]}class xG extends X{constructor(e){super(),Q(this,e,ZG,JG,G,{queryHandler:7,errors:0})}}function eQ(r){var n;let e,t;return e=new Bn({props:{isLoading:r[3]==="processing"&&r[1].column.type==="unknown",column:{...r[1].column,name:(n=r[1].column.display_name)!=null?n:r[1].column.alias}}}),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){var o;const i={};s&10&&(i.isLoading=l[3]==="processing"&&l[1].column.type==="unknown"),s&2&&(i.column={...l[1].column,name:(o=l[1].column.display_name)!=null?o:l[1].column.alias}),e.$set(i)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function tQ(r){let e,t,n,l,s,i;t=new ut({props:{appearance:"plain",class:"column-name-wrapper "+(r[2]?"selected":""),$$slots:{default:[eQ]},$$scope:{ctx:r}}}),t.$on("click",r[6]),l=new rf({props:{columnIdentifierKey:r[1].id}});let o=[r[7],{style:s=r[8]}],a={};for(let u=0;u<o.length;u+=1)a=x(a,o[u]);return{c(){e=I("div"),C(t.$$.fragment),n=O(),C(l.$$.fragment),it(e,a)},m(u,c){w(u,e,c),y(t,e,null),M(e,n),y(l,e,null),i=!0},p(u,c){const f={};c&4&&(f.class="column-name-wrapper "+(u[2]?"selected":"")),c&522&&(f.$$scope={dirty:c,ctx:u}),t.$set(f);const m={};c&2&&(m.columnIdentifierKey=u[1].id),l.$set(m),it(e,a=ce(o,[c&128&&u[7],(!i||c&256&&s!==(s=u[8]))&&{style:s}]))},i(u){i||(p(t.$$.fragment,u),p(l.$$.fragment,u),i=!0)},o(u){g(t.$$.fragment,u),g(l.$$.fragment,u),i=!1},d(u){u&&$(e),S(t),S(l)}}}function nQ(r){let e,t;return e=new Pr({props:{columnIdentifierKey:r[1].id,$$slots:{default:[tQ,({htmlAttributes:n,style:l})=>({7:n,8:l}),({htmlAttributes:n,style:l})=>(n?128:0)|(l?256:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.columnIdentifierKey=n[1].id),l&911&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function rQ(r,e,t){let n,l,s,i=z,o=()=>(i(),i=se(n,m=>t(5,s=m)),n);r.$$.on_destroy.push(()=>i());let{queryRunner:a}=e,{processedQueryColumn:u}=e,{isSelected:c}=e;const f=()=>{a.selectColumn(u.column.alias)};return r.$$set=m=>{"queryRunner"in m&&t(0,a=m.queryRunner),"processedQueryColumn"in m&&t(1,u=m.processedQueryColumn),"isSelected"in m&&t(2,c=m.isSelected)},r.$$.update=()=>{r.$$.dirty&1&&o(t(4,{runState:n}=a,n)),r.$$.dirty&32&&t(3,l=s==null?void 0:s.state)},[a,u,c,l,n,s,f]}class lQ extends X{constructor(e){super(),Q(this,e,rQ,nQ,G,{queryRunner:0,processedQueryColumn:1,isSelected:2})}}function _b(r){var n;let e,t;return e=new Qi({props:{isActive:r[6],isSelectedInRange:r[5],columnFabric:r[0],value:(n=r[1])==null?void 0:n.record[r[0].id],showAsSkeleton:r[2]==="processing",disabled:!0}}),e.$on("movementKeyDown",r[9]),e.$on("activate",r[12]),e.$on("onSelectionStart",r[13]),e.$on("onMouseEnterCellWhileSelection",r[14]),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){var o;const i={};s&64&&(i.isActive=l[6]),s&32&&(i.isSelectedInRange=l[5]),s&1&&(i.columnFabric=l[0]),s&3&&(i.value=(o=l[1])==null?void 0:o.record[l[0].id]),s&4&&(i.showAsSkeleton=l[2]==="processing"),e.$set(i)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function sQ(r){let e,t,n,l=(r[1]||r[2]==="processing")&&_b(r),s=[r[16],{style:t=r[17]},{class:"cell"}],i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return{c(){e=I("div"),l&&l.c(),it(e,i),Z(e,"is-active",r[6]),Z(e,"svelte-1aeptbx",!0)},m(o,a){w(o,e,a),l&&l.m(e,null),n=!0},p(o,a){o[1]||o[2]==="processing"?l?(l.p(o,a),a&6&&p(l,1)):(l=_b(o),l.c(),p(l,1),l.m(e,null)):l&&(q(),g(l,1,1,()=>{l=null}),U()),it(e,i=ce(s,[a&65536&&o[16],(!n||a&131072&&t!==(t=o[17]))&&{style:t},{class:"cell"}])),Z(e,"is-active",o[6]),Z(e,"svelte-1aeptbx",!0)},i(o){n||(p(l),n=!0)},o(o){g(l),n=!1},d(o){o&&$(e),l&&l.d()}}}function iQ(r){let e,t;return e=new Pr({props:{columnIdentifierKey:r[0].id,$$slots:{default:[sQ,({htmlAttributes:n,style:l})=>({16:n,17:l}),({htmlAttributes:n,style:l})=>(n?65536:0)|(l?131072:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.columnIdentifierKey=n[0].id),l&458879&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function oQ(r,e,t){let n,l,s,i,o,a=z,u=()=>(a(),a=se(l,L=>t(10,o=L)),l),c,f=z,m=()=>(f(),f=se(n,L=>t(11,c=L)),n);r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>f());let{processedQueryColumn:d}=e,{row:_}=e,{recordRunState:h}=e,{selection:b}=e,{inspector:v}=e;async function k(L){L==="moved"&&(await Gt(),Sv())}async function T(L){const{originalEvent:A}=L.detail,N=b.handleKeyEventsOnActiveCell(A);N&&(A.stopPropagation(),A.preventDefault(),await k(N))}const E=()=>{_&&(b.activateCell(_,d),v.selectCellTab())},P=()=>{_&&b.onStartSelection(_,d)},R=()=>{_&&b.onMouseEnterCellWhileSelection(_,d)};return r.$$set=L=>{"processedQueryColumn"in L&&t(0,d=L.processedQueryColumn),"row"in L&&t(1,_=L.row),"recordRunState"in L&&t(2,h=L.recordRunState),"selection"in L&&t(3,b=L.selection),"inspector"in L&&t(4,v=L.inspector)},r.$$.update=()=>{r.$$.dirty&8&&m(t(8,{activeCell:n,selectedCells:l}=b,n,u(t(7,l)))),r.$$.dirty&2051&&t(6,s=c&&_&&kv(c,_,d)),r.$$.dirty&1027&&t(5,i=_&&Ci(o,_,d)&&o.size>1)},[d,_,h,b,v,i,s,l,n,T,o,c,E,P,R]}class aQ extends X{constructor(e){super(),Q(this,e,oQ,iQ,G,{processedQueryColumn:0,row:1,recordRunState:2,selection:3,inspector:4})}}function gb(r,e,t){const n=r.slice();return n[32]=e[t],n}function hb(r,e,t){const n=r.slice();return n[37]=e[t],n}function bb(r,e,t){const n=r.slice();return n[37]=e[t],n}function uQ(r){let e,t,n,l,s,i,o,a;e=new tf({props:{columns:r[11],getColumnIdentifier:vQ,columnWidths:r[24],clipboardHandler:r[15],usesVirtualList:!0,$$slots:{default:[hQ]},$$scope:{ctx:r}}});function u(d,_){if(d[10])return $Q;if(d[4]==="success")return bQ}let c=u(r),f=c&&c(r);i=new W6({props:{pagination:r[23],totalCount:r[10]}}),i.$on("change",r[30]);let m=r[1]&&yb(r);return{c(){C(e.$$.fragment),t=O(),n=I("div"),f&&f.c(),l=O(),s=I("div"),C(i.$$.fragment),o=O(),m&&m.c(),D(s,"class","pagination-controls svelte-1rwxxuc"),D(n,"data-identifier","status-bar"),D(n,"class","svelte-1rwxxuc")},m(d,_){y(e,d,_),w(d,t,_),w(d,n,_),f&&f.m(n,null),M(n,l),M(n,s),y(i,s,null),M(s,o),m&&m.m(s,null),a=!0},p(d,_){const h={};_[0]&2048&&(h.columns=d[11]),_[0]&32768&&(h.clipboardHandler=d[15]),_[0]&14811773|_[1]&4096&&(h.$$scope={dirty:_,ctx:d}),e.$set(h),c===(c=u(d))&&f?f.p(d,_):(f&&f.d(1),f=c&&c(d),f&&(f.c(),f.m(n,l)));const b={};_[0]&8388608&&(b.pagination=d[23]),_[0]&1024&&(b.totalCount=d[10]),i.$set(b),d[1]?m?(m.p(d,_),_[0]&2&&p(m,1)):(m=yb(d),m.c(),p(m,1),m.m(s,null)):m&&(q(),g(m,1,1,()=>{m=null}),U())},i(d){a||(p(e.$$.fragment,d),p(i.$$.fragment,d),p(m),a=!0)},o(d){g(e.$$.fragment,d),g(i.$$.fragment,d),g(m),a=!1},d(d){S(e,d),d&&$(t),d&&$(n),f&&f.d(),S(i),m&&m.d()}}}function cQ(r){let e,t,n;return t=new xG({props:{errors:r[12],queryHandler:r[0]}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","empty-state svelte-1rwxxuc")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s[0]&4096&&(i.errors=l[12]),s[0]&1&&(i.queryHandler=l[0]),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function fQ(r){let e;return{c(){e=I("div"),e.textContent=`This exploration does not contain any columns. Edit the exploration to add
      columns to it.`,D(e,"class","empty-state svelte-1rwxxuc")},m(t,n){w(t,e,n)},p:z,i:z,o:z,d(t){t&&$(e)}}}function mQ(r){let e,t,n=[r[35],{style:t=r[40]}],l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return{c(){e=I("div"),it(e,l),Z(e,"svelte-1rwxxuc",!0)},m(s,i){w(s,e,i)},p(s,i){it(e,l=ce(n,[i[1]&16&&s[35],i[1]&512&&t!==(t=s[40])&&{style:t}])),Z(e,"svelte-1rwxxuc",!0)},d(s){s&&$(e)}}}function $b(r,e){let t,n,l;return n=new lQ({props:{processedQueryColumn:e[37],queryRunner:e[0],isSelected:Is(e[21],e[22],e[37])}}),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i[0]&32&&(o.processedQueryColumn=e[37]),i[0]&1&&(o.queryRunner=e[0]),i[0]&6291488&&(o.isSelected=Is(e[21],e[22],e[37])),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}function dQ(r){let e,t,n=[],l=new Map,s,i;e=new Pr({props:{columnIdentifierKey:ta,isStatic:!0,isControlCell:!0,$$slots:{default:[mQ,({htmlAttributes:u,style:c})=>({35:u,40:c}),({htmlAttributes:u,style:c})=>[0,(u?16:0)|(c?512:0)]]},$$scope:{ctx:r}}});let o=r[5];const a=u=>u[37].id;for(let u=0;u<o.length;u+=1){let c=bb(r,o,u),f=a(c);l.set(f,n[u]=$b(f,c))}return{c(){C(e.$$.fragment),t=O();for(let u=0;u<n.length;u+=1)n[u].c();s=ae()},m(u,c){y(e,u,c),w(u,t,c);for(let f=0;f<n.length;f+=1)n[f].m(u,c);w(u,s,c),i=!0},p(u,c){const f={};c[1]&4624&&(f.$$scope={dirty:c,ctx:u}),e.$set(f),c[0]&6291489&&(o=u[5],q(),n=pt(n,c,a,1,u,o,l,s.parentNode,ht,$b,s,bb),U())},i(u){if(!i){p(e.$$.fragment,u);for(let c=0;c<o.length;c+=1)p(n[c]);i=!0}},o(u){g(e.$$.fragment,u);for(let c=0;c<n.length;c+=1)g(n[c]);i=!1},d(u){S(e,u),u&&$(t);for(let c=0;c<n.length;c+=1)n[c].d(u);u&&$(s)}}}function wb(r){let e,t;return e=new lf({props:{style:r[32].style,$$slots:{default:[_Q,({htmlAttributes:n,styleString:l})=>({35:n,36:l}),({htmlAttributes:n,styleString:l})=>[0,(n?16:0)|(l?32:0)]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[1]&1&&(s.style=n[32].style),l[0]&8519796|l[1]&4145&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function pQ(r){let e,t,n,l=r[23].offset+r[32].index+1+"",s,i,o;t=new cr({props:{color:"var(--cell-bg-color-header)"}});let a=[r[35],{style:i=r[40]}],u={};for(let c=0;c<a.length;c+=1)u=x(u,a[c]);return{c(){e=I("div"),C(t.$$.fragment),n=O(),s=B(l),it(e,u),Z(e,"svelte-1rwxxuc",!0)},m(c,f){w(c,e,f),y(t,e,null),M(e,n),M(e,s),o=!0},p(c,f){(!o||f[0]&8388608|f[1]&1)&&l!==(l=c[23].offset+c[32].index+1+"")&&he(s,l),it(e,u=ce(a,[f[1]&16&&c[35],(!o||f[1]&512&&i!==(i=c[40]))&&{style:i}])),Z(e,"svelte-1rwxxuc",!0)},i(c){o||(p(t.$$.fragment,c),o=!0)},o(c){g(t.$$.fragment,c),o=!1},d(c){c&&$(e),S(t)}}}function vb(r,e){let t,n,l;return n=new aQ({props:{processedQueryColumn:e[37],row:e[2][e[32].index],recordRunState:e[4],selection:e[6],inspector:e[17]}}),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i[0]&32&&(o.processedQueryColumn=e[37]),i[0]&4|i[1]&1&&(o.row=e[2][e[32].index]),i[0]&16&&(o.recordRunState=e[4]),i[0]&64&&(o.selection=e[6]),i[0]&131072&&(o.inspector=e[17]),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}function _Q(r){let e,t,n,l=[],s=new Map,i,o,a;t=new Pr({props:{columnIdentifierKey:ta,isStatic:!0,isControlCell:!0,$$slots:{default:[pQ,({htmlAttributes:d,style:_})=>({35:d,40:_}),({htmlAttributes:d,style:_})=>[0,(d?16:0)|(_?512:0)]]},$$scope:{ctx:r}}});let u=r[5];const c=d=>d[37].id;for(let d=0;d<u.length;d+=1){let _=hb(r,u,d),h=c(_);s.set(h,l[d]=vb(h,_))}let f=[r[35],{style:i="--cell-height:"+(El-1)+"px;"+r[36]}],m={};for(let d=0;d<f.length;d+=1)m=x(m,f[d]);return{c(){e=I("div"),C(t.$$.fragment),n=O();for(let d=0;d<l.length;d+=1)l[d].c();o=O(),it(e,m),Z(e,"svelte-1rwxxuc",!0)},m(d,_){w(d,e,_),y(t,e,null),M(e,n);for(let h=0;h<l.length;h+=1)l[h].m(e,null);w(d,o,_),a=!0},p(d,_){const h={};_[0]&8388608|_[1]&4625&&(h.$$scope={dirty:_,ctx:d}),t.$set(h),_[0]&131188|_[1]&1&&(u=d[5],q(),l=pt(l,_,c,1,d,u,s,e,ht,vb,null,hb),U()),it(e,m=ce(f,[_[1]&16&&d[35],(!a||_[1]&32&&i!==(i="--cell-height:"+(El-1)+"px;"+d[36]))&&{style:i}])),Z(e,"svelte-1rwxxuc",!0)},i(d){if(!a){p(t.$$.fragment,d);for(let _=0;_<u.length;_+=1)p(l[_]);a=!0}},o(d){g(t.$$.fragment,d);for(let _=0;_<l.length;_+=1)g(l[_]);a=!1},d(d){d&&$(e),S(t);for(let _=0;_<l.length;_+=1)l[_].d();d&&$(o)}}}function kb(r,e){let t,n,l,s=(e[2][e[32].index]||e[3])&&wb(e);return{key:r,first:null,c(){t=ae(),s&&s.c(),n=ae(),this.first=t},m(i,o){w(i,t,o),s&&s.m(i,o),w(i,n,o),l=!0},p(i,o){e=i,e[2][e[32].index]||e[3]?s?(s.p(e,o),o[0]&12|o[1]&1&&p(s,1)):(s=wb(e),s.c(),p(s,1),s.m(n.parentNode,n)):s&&(q(),g(s,1,1,()=>{s=null}),U())},i(i){l||(p(s),l=!0)},o(i){g(s),l=!1},d(i){i&&$(t),s&&s.d(i),i&&$(n)}}}function gQ(r){let e=[],t=new Map,n,l,s=r[31];const i=o=>o[32].key;for(let o=0;o<s.length;o+=1){let a=gb(r,s,o),u=i(a);t.set(u,e[o]=kb(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=ae()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,a){a[0]&8519804|a[1]&561&&(s=o[31],q(),e=pt(e,a,i,1,o,s,t,n.parentNode,ht,kb,n,gb),U())},i(o){if(!l){for(let a=0;a<s.length;a+=1)p(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&$(n)}}}function hQ(r){let e,t,n,l;return e=new nf({props:{$$slots:{default:[dQ]},$$scope:{ctx:r}}}),n=new vv({props:{itemCount:r[9],paddingBottom:30,itemSize:r[29],$$slots:{default:[gQ,({items:s})=>({31:s}),({items:s})=>[0,s?1:0]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i[0]&6291489|i[1]&4096&&(o.$$scope={dirty:i,ctx:s}),e.$set(o);const a={};i[0]&512&&(a.itemCount=s[9]),i[0]&8519804|i[1]&4097&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(p(e.$$.fragment,s),p(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&$(t),S(n,s)}}}function bQ(r){let e;return{c(){e=B("No results found")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function $Q(r){let e,t,n=r[23].leftBound+"",l,s,i=Math.min(r[10],r[23].rightBound)+"",o,a,u;return{c(){e=I("div"),t=B("Showing "),l=B(n),s=B("-"),o=B(i),a=B(" of "),u=B(r[10])},m(c,f){w(c,e,f),M(e,t),M(e,l),M(e,s),M(e,o),M(e,a),M(e,u)},p(c,f){f[0]&8388608&&n!==(n=c[23].leftBound+"")&&he(l,n),f[0]&8389632&&i!==(i=Math.min(c[10],c[23].rightBound)+"")&&he(o,i),f[0]&1024&&he(u,c[10])},d(c){c&&$(e)}}}function yb(r){let e,t;return e=new K6({props:{queryRunner:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1&&(s.queryRunner=n[0]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function wQ(r){let e,t,n,l;const s=[fQ,cQ,uQ],i=[];function o(a,u){return a[16].length?a[12]?1:2:0}return t=o(r),n=i[t]=s[t](r),{c(){e=I("div"),n.c(),D(e,"data-identifier","query-run-result"),D(e,"class","svelte-1rwxxuc")},m(a,u){w(a,e,u),i[t].m(e,null),l=!0},p(a,u){let c=t;t=o(a),t===c?i[t].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),p(n,1),n.m(e,null))},i(a){l||(p(n),l=!0)},o(a){g(n),l=!1},d(a){a&&$(e),i[t].d()}}}const ta="row-control",vQ=r=>r.id;function kQ(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,_,h,b,v,k,T,E,P,R,L=z,A=()=>(L(),L=se(s,Ke=>t(25,R=Ke)),s),N,F=z,K=()=>(F(),F=se(l,Ke=>t(26,N=Ke)),l),W,j=z,Y=()=>(j(),j=se(o,Ke=>t(27,W=Ke)),o),oe,te=z,ne=()=>(te(),te=se(n,Ke=>t(28,oe=Ke)),n),H,ee=z,pe=()=>(ee(),ee=se(m,Ke=>t(21,H=Ke)),m),ue,ie=z,me=()=>(ie(),ie=se(d,Ke=>t(22,ue=Ke)),d),Se,$e=z,He=()=>($e(),$e=se(i,Ke=>t(23,Se=Ke)),i);r.$$.on_destroy.push(()=>L()),r.$$.on_destroy.push(()=>F()),r.$$.on_destroy.push(()=>j()),r.$$.on_destroy.push(()=>te()),r.$$.on_destroy.push(()=>ee()),r.$$.on_destroy.push(()=>ie()),r.$$.on_destroy.push(()=>$e());let{queryHandler:we}=e,{isExplorationPage:je=!1}=e;const Re=new vt([[ta,_v]]),Oe=()=>El,Ze=Ke=>{we.setPagination(Ke.detail)};return r.$$set=Ke=>{"queryHandler"in Ke&&t(0,we=Ke.queryHandler),"isExplorationPage"in Ke&&t(1,je=Ke.isExplorationPage)},r.$$.update=()=>{r.$$.dirty[0]&1&&ne(t(20,{query:n,processedColumns:l,rowsData:s,pagination:i,runState:o,selection:a,inspector:u}=we,n,K(t(7,l)),A(t(8,s)),He(t(19,i)),Y(t(18,o)),(t(6,a),t(0,we)),(t(17,u),t(0,we)))),r.$$.dirty[0]&268435456&&t(16,{initial_columns:c}=oe,c),r.$$.dirty[0]&448&&t(15,f=new j6({selection:a,toast:At,getRows:()=>Qe(s).rows,getColumnsMap:()=>Qe(l),getRecordSummaries:()=>new vt})),r.$$.dirty[0]&64&&pe(t(14,{selectedCells:m,columnsSelectedWhenTheTableIsEmpty:d}=a,m,me(t(13,d)))),r.$$.dirty[0]&134217728&&t(4,_=W==null?void 0:W.state),r.$$.dirty[0]&134217728&&t(12,h=(W==null?void 0:W.state)==="failure"?W.errors:void 0),r.$$.dirty[0]&67108864&&t(5,b=[...N.values()]),r.$$.dirty[0]&32&&t(11,v=b.length?[{id:ta},...b]:[]),r.$$.dirty[0]&33554432&&t(2,k=R.rows),r.$$.dirty[0]&33554432&&t(10,T=R.totalCount),r.$$.dirty[0]&20&&t(3,E=(_==="success"||_==="processing")&&!k.length),r.$$.dirty[0]&12&&t(9,P=E?1:k.length)},[we,je,k,E,_,b,a,l,s,P,T,v,h,d,m,f,c,u,o,i,n,H,ue,Se,Re,R,N,W,oe,Oe,Ze]}class G6 extends X{constructor(e){super(),Q(this,e,kQ,wQ,G,{queryHandler:0,isExplorationPage:1},null,[-1,-1])}}function yQ(r){let e,t,n,l,s,i,o,a,u;return i=new K6({props:{queryRunner:r[0]}}),a=new G6({props:{queryHandler:r[0]}}),{c(){e=I("section"),t=I("header"),n=I("span"),n.textContent="Result",l=O(),s=I("div"),C(i.$$.fragment),o=O(),C(a.$$.fragment),D(n,"class","title svelte-1gzxbr"),D(s,"class","actions svelte-1gzxbr"),D(t,"class","svelte-1gzxbr"),D(e,"data-identifier","result"),D(e,"class","svelte-1gzxbr")},m(c,f){w(c,e,f),M(e,t),M(t,n),M(t,l),M(t,s),y(i,s,null),M(e,o),y(a,e,null),u=!0},p(c,[f]){const m={};f&1&&(m.queryRunner=c[0]),i.$set(m);const d={};f&1&&(d.queryHandler=c[0]),a.$set(d)},i(c){u||(p(i.$$.fragment,c),p(a.$$.fragment,c),u=!0)},o(c){g(i.$$.fragment,c),g(a.$$.fragment,c),u=!1},d(c){c&&$(e),S(i),S(a)}}}function SQ(r,e,t){let{queryHandler:n}=e;return r.$$set=l=>{"queryHandler"in l&&t(0,n=l.queryHandler)},[n]}class CQ extends X{constructor(e){super(),Q(this,e,SQ,yQ,G,{queryHandler:0})}}function TQ(r){let e,t,n;return t=new SG({props:{queryManager:r[1],linkCollapsibleOpenState:r[0],$$slots:{default:[AQ]},$$scope:{ctx:r}}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","content-pane svelte-182edct")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&2&&(i.queryManager=l[1]),s&1&&(i.linkCollapsibleOpenState=l[0]),s&4150&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function DQ(r){let e,t,n,l,s=r[7].requestStatus.state==="success"&&r[7].data.size===0&&Sb(r);return{c(){e=I("div"),s&&s.c(),t=O(),n=I("div"),n.textContent="Get started by selecting a table and adding columns",D(n,"class","help-text svelte-182edct"),D(e,"class","initial-content svelte-182edct")},m(i,o){w(i,e,o),s&&s.m(e,null),M(e,t),M(e,n),l=!0},p(i,o){i[7].requestStatus.state==="success"&&i[7].data.size===0?s?o&128&&p(s,1):(s=Sb(i),s.c(),p(s,1),s.m(e,t)):s&&(q(),g(s,1,1,()=>{s=null}),U())},i(i){l||(p(s),l=!0)},o(i){g(s),l=!1},d(i){i&&$(e),s&&s.d()}}}function IQ(r){let e,t;return e=new F6({props:{isInspectorOpen:r[4],queryHandler:r[1],canEditMetadata:r[2],$$slots:{default:[MQ]},$$scope:{ctx:r}}}),e.$on("delete",r[11]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.isInspectorOpen=n[4]),l&2&&(s.queryHandler=n[1]),l&4&&(s.canEditMetadata=n[2]),l&4098&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function EQ(r){let e;return{c(){e=I("div"),e.textContent="Get started by adding columns from the left",D(e,"class","help-text svelte-182edct")},m(t,n){w(t,e,n)},p:z,i:z,o:z,d(t){t&&$(e)}}}function MQ(r){let e,t;return e=new CQ({props:{queryHandler:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.queryHandler=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function AQ(r){let e,t,n,l;const s=[EQ,IQ],i=[];function o(a,u){return a[5]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function Sb(r){let e,t,n;return t=new pc({props:{$$slots:{body:[PQ],title:[RQ]},$$scope:{ctx:r}}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","tutorial-holder svelte-182edct")},m(l,s){w(l,e,s),y(t,e,null),n=!0},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function RQ(r){let e;return{c(){e=I("span"),e.textContent="Create and Share Explorations of Your Data",D(e,"slot","title")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function PQ(r){let e;return{c(){e=I("span"),e.textContent=`Use Data Explorer to analyze and share your data. Explorations are
              based on tables in your schema, to get started choose a table and
              start adding columns and transformations.`,D(e,"slot","body")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function OQ(r){let e,t,n,l,s,i,o,a;function u(h){r[8](h)}function c(h){r[9](h)}let f={queryManager:r[1],canEditMetadata:r[2]};r[0]!==void 0&&(f.linkCollapsibleOpenState=r[0]),r[4]!==void 0&&(f.isInspectorOpen=r[4]),t=new Sj({props:f}),ye.push(()=>Pe(t,"linkCollapsibleOpenState",u)),ye.push(()=>Pe(t,"isInspectorOpen",c)),t.$on("close",r[10]);const m=[DQ,TQ],d=[];function _(h,b){return h[3].base_table?1:0}return i=_(r),o=d[i]=m[i](r),{c(){e=I("div"),C(t.$$.fragment),s=O(),o.c(),D(e,"class","data-explorer svelte-182edct")},m(h,b){w(h,e,b),y(t,e,null),M(e,s),d[i].m(e,null),a=!0},p(h,[b]){const v={};b&2&&(v.queryManager=h[1]),b&4&&(v.canEditMetadata=h[2]),!n&&b&1&&(n=!0,v.linkCollapsibleOpenState=h[0],Ne(()=>n=!1)),!l&&b&16&&(l=!0,v.isInspectorOpen=h[4],Ne(()=>l=!1)),t.$set(v);let k=i;i=_(h),i===k?d[i].p(h,b):(q(),g(d[k],1,1,()=>{d[k]=null}),U(),o=d[i],o?o.p(h,b):(o=d[i]=m[i](h),o.c()),p(o,1),o.m(e,null))},i(h){a||(p(t.$$.fragment,h),p(o),a=!0)},o(h){g(t.$$.fragment,h),g(o),a=!1},d(h){h&&$(e),S(t),d[i].d()}}}function LQ(r,e,t){let n,l,s,i=z,o=()=>(i(),i=se(n,v=>t(3,s=v)),n),a;de(r,Zl,v=>t(7,a=v)),r.$$.on_destroy.push(()=>i());let{queryManager:u}=e,{linkCollapsibleOpenState:c={}}=e,{canEditMetadata:f}=e,m=!0;function d(v){c=v,t(0,c)}function _(v){m=v,t(4,m)}function h(v){ve.call(this,r,v)}function b(v){ve.call(this,r,v)}return r.$$set=v=>{"queryManager"in v&&t(1,u=v.queryManager),"linkCollapsibleOpenState"in v&&t(0,c=v.linkCollapsibleOpenState),"canEditMetadata"in v&&t(2,f=v.canEditMetadata)},r.$$.update=()=>{r.$$.dirty&2&&o(t(6,{query:n}=u,n)),r.$$.dirty&8&&t(5,l=s.initial_columns.length===0)},[c,u,f,s,m,l,n,a,d,_,h,b]}class NQ extends X{constructor(e){super(),Q(this,e,LQ,OQ,G,{queryManager:1,linkCollapsibleOpenState:0,canEditMetadata:2})}}class na{static baseTable(e){return{id:e.id,name:e.name}}static terseSummarizedColumn(e){return{id:e.id,name:e.name}}static terseSummarization(e){return{baseTable:na.baseTable(e.baseTable),columns:e.columns.map(t=>na.terseSummarizedColumn(t)),terseGrouping:e.terseGrouping}}}function Q6(r){return Pa.encode(JSON.stringify(na.terseSummarization(r)))}function X6(r,e,t){const n=pr(r,e),l=Q6({baseTable:t,columns:[],terseGrouping:[]});return`${n}#${l}`}function FQ(r,e,t){const n=pr(r,e),{columns:l,terseGrouping:s}=t;if(s.length>0&&l.length>0){const i=Q6(t);return`${n}#${i}`}}function zQ(r){var v;const e=JSON.parse(Pa.decode(r));if(!e.baseTable)return;const{baseTable:t}=e;let n=[],l=[];if(!((v=e.terseGrouping)!=null&&v.length)||!e.columns)return{base_table:t.id};const s=new Map(e.columns.map(k=>[k.id,k])),i=e.terseGrouping.filter(k=>s.has(k[0])),o=i.map(k=>s.get(k[0])).filter(k=>k!==void 0);if(o.length===0)return{base_table:t.id};const a=o[0],u=i[0][1],c=e.columns.find(k=>!o.includes(k)),f=c?[c]:[];n=[...o,...f].map(k=>({alias:k.name,id:k.id}));const m=o.map((k,T)=>({input_alias:k.name,output_alias:`${k.name}_grouped`,preproc:T===0?u:void 0})),d=f.map(k=>({input_alias:k.name,output_alias:`${t.name}_agged`,function:"count"}));l=[{type:"summarize",spec:{base_grouping_column:a.name,grouping_expressions:m,aggregation_expressions:d}}];const h=m.reduce((k,T)=>({...k,[T.output_alias]:`${T.input_alias} group`}),{}),b=d.reduce((k,T)=>({...k,[T.output_alias]:`${t.name} count`}),h);return{base_table:t.id,initial_columns:n,transformations:l,display_names:b}}function HQ(r){let e;return{c(){e=B(`Warning: This action is permanent and once deleted, the table cannot be
    recovered.`)},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function VQ(r){let e,t,n,l,s,i,o,a,u,c,f,m;function d(h){r[3](h)}let _={autofocus:!0};return r[1]!==void 0&&(_.value=r[1]),a=new $n({props:_}),ye.push(()=>Pe(a,"value",d)),f=new Ks({props:{$$slots:{default:[HQ]},$$scope:{ctx:r}}}),{c(){e=I("div"),t=I("p"),n=B("To confirm the deletion of the "),l=I("strong"),s=B(r[0]),i=B(` table, please enter
    the table name into the input field below.`),o=O(),C(a.$$.fragment),c=O(),C(f.$$.fragment),D(t,"class","svelte-lbyl48"),D(e,"class","table-delete-confirmation-body svelte-lbyl48")},m(h,b){w(h,e,b),M(e,t),M(t,n),M(t,l),M(l,s),M(t,i),M(e,o),y(a,e,null),M(e,c),y(f,e,null),m=!0},p(h,[b]){(!m||b&1)&&he(s,h[0]);const v={};!u&&b&2&&(u=!0,v.value=h[1],Ne(()=>u=!1)),a.$set(v);const k={};b&32&&(k.$$scope={dirty:b,ctx:h}),f.$set(k)},i(h){m||(p(a.$$.fragment,h),p(f.$$.fragment,h),m=!0)},o(h){g(a.$$.fragment,h),g(f.$$.fragment,h),m=!1},d(h){h&&$(e),S(a),S(f)}}}function qQ(r,e,t){let n,{tableName:l}=e,s="",{canProceed:i}=Ic;de(r,i,a=>t(4,n=a));function o(a){s=a,t(1,s)}return r.$$set=a=>{"tableName"in a&&t(0,l=a.tableName)},r.$$.update=()=>{r.$$.dirty&3&&Zt(i,n=s.trim().toLowerCase()===l.toLowerCase(),n)},[l,s,i,o]}class J6 extends X{constructor(e){super(),Q(this,e,qQ,VQ,G,{tableName:0})}}const UQ=r=>({}),Cb=r=>({getNameValidationErrors:r[0],onUpdate:r[1]});function WQ(r){let e;const t=r[4].default,n=De(t,r,r[3],Cb);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,[s]){n&&n.p&&(!e||s&8)&&Ee(n,t,l,l[3],e?Ie(t,l[3],s,UQ):Me(l[3]),Cb)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function BQ(r,e,t){let n,l;de(r,Dr,f=>t(5,n=f)),de(r,ln,f=>t(6,l=f));let{$$slots:s={},$$scope:i}=e,{tableId:o}=e;function a(f){const d=[...l.data.values()].filter(_=>_.name===f);return d.length>0&&d[0].id!==o}function u(f){return f.trim()?a(f)?["A table with that name already exists."]:[]:["Name cannot be empty."]}async function c(f){await tz(o,f),n&&await Di(n)}return r.$$set=f=>{"tableId"in f&&t(2,o=f.tableId),"$$scope"in f&&t(3,i=f.$$scope)},[u,c,o,i,s]}class Mf extends X{constructor(e){super(),Q(this,e,BQ,WQ,G,{tableId:2})}}function jQ(r){let e=r[7]+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&128&&e!==(e=n[7]+"")&&he(t,e)},d(n){n&&$(t)}}}function YQ(r){let e,t,n,l,s;return n=new rl({props:{$$slots:{default:[jQ]},$$scope:{ctx:r}}}),{c(){e=I("span"),t=B("Edit "),C(n.$$.fragment),l=B(" Table"),D(e,"slot","title")},m(i,o){w(i,e,o),M(e,t),y(n,e,null),M(e,l),s=!0},p(i,o){const a={};o&384&&(a.$$scope={dirty:o,ctx:i}),n.$set(a)},i(i){s||(p(n.$$.fragment,i),s=!0)},o(i){g(n.$$.fragment,i),s=!1},d(i){i&&$(e),S(n)}}}function KQ(r){let e,t;function n(...l){return r[2](r[6],...l)}return e=new kf({props:{controller:r[1],save:n,getNameValidationErrors:r[5],getInitialName:r[3],getInitialDescription:r[4],$$slots:{title:[YQ,({initialName:l})=>({7:l}),({initialName:l})=>l?128:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){r=l;const i={};s&2&&(i.controller=r[1]),s&64&&(i.save=n),s&32&&(i.getNameValidationErrors=r[5]),s&1&&(i.getInitialName=r[3]),s&1&&(i.getInitialDescription=r[4]),s&384&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function GQ(r){let e,t;return e=new Mf({props:{tableId:r[0].id,$$slots:{default:[KQ,({getNameValidationErrors:n,onUpdate:l})=>({5:n,6:l}),({getNameValidationErrors:n,onUpdate:l})=>(n?32:0)|(l?64:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.tableId=n[0].id),l&355&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function QQ(r,e,t){let{table:n}=e,{modalController:l}=e;const s=(a,u,c)=>a({name:u,description:c}),i=()=>{var a;return(a=n.name)!=null?a:""},o=()=>{var a;return(a=n.description)!=null?a:""};return r.$$set=a=>{"table"in a&&t(0,n=a.table),"modalController"in a&&t(1,l=a.modalController)},[n,l,s,i,o]}class XQ extends X{constructor(e){super(),Q(this,e,QQ,GQ,G,{table:0,modalController:1})}}function Tb(r){let e,t;return e=new Fs({props:{lines:2,popoverPlacements:["bottom","left","top","right"],$$slots:{default:[JQ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&524320&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function JQ(r){let e;return{c(){e=B(r[5])},m(t,n){w(t,e,n)},p(t,n){n&32&&he(e,t[5])},d(t){t&&$(e)}}}function Db(r){let e;return{c(){e=B("Needs Import Confirmation")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function Ib(r){let e,t,n,l;e=new Ir({props:{href:r[6],icon:An,$$slots:{default:[ZQ]},$$scope:{ctx:r}}});let s=r[1]&&Eb(r);return{c(){C(e.$$.fragment),t=O(),s&&s.c(),n=ae()},m(i,o){y(e,i,o),w(i,t,o),s&&s.m(i,o),w(i,n,o),l=!0},p(i,o){const a={};o&64&&(a.href=i[6]),o&524288&&(a.$$scope={dirty:o,ctx:i}),e.$set(a),i[1]?s?(s.p(i,o),o&2&&p(s,1)):(s=Eb(i),s.c(),p(s,1),s.m(n.parentNode,n)):s&&(q(),g(s,1,1,()=>{s=null}),U())},i(i){l||(p(e.$$.fragment,i),p(s),l=!0)},o(i){g(e.$$.fragment,i),g(s),l=!1},d(i){S(e,i),i&&$(t),s&&s.d(i),i&&$(n)}}}function ZQ(r){let e;return{c(){e=B("Explore Table")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function Eb(r){let e,t;return e=new xt({props:{icon:vs,$$slots:{default:[xQ]},$$scope:{ctx:r}}}),e.$on("click",r[10]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&524288&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function xQ(r){let e;return{c(){e=B("Edit Table")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function Mb(r){let e,t;return e=new xt({props:{danger:!0,icon:Ut,$$slots:{default:[eX]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&524288&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function eX(r){let e;return{c(){e=B("Delete Table")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function tX(r){let e,t,n,l=!r[2]&&Ib(r),s=r[1]&&Mb(r);return{c(){l&&l.c(),e=O(),s&&s.c(),t=ae()},m(i,o){l&&l.m(i,o),w(i,e,o),s&&s.m(i,o),w(i,t,o),n=!0},p(i,o){i[2]?l&&(q(),g(l,1,1,()=>{l=null}),U()):l?(l.p(i,o),o&4&&p(l,1)):(l=Ib(i),l.c(),p(l,1),l.m(e.parentNode,e)),i[1]?s?(s.p(i,o),o&2&&p(s,1)):(s=Mb(i),s.c(),p(s,1),s.m(t.parentNode,t)):s&&(q(),g(s,1,1,()=>{s=null}),U())},i(i){n||(p(l),p(s),n=!0)},o(i){g(l),g(s),n=!1},d(i){l&&l.d(i),i&&$(e),s&&s.d(i),i&&$(t)}}}function Ab(r){let e,t,n,l,s,i,o;const a=[Po];let u={};for(let c=0;c<a.length;c+=1)u=x(u,a[c]);return t=new Fe({props:u}),{c(){e=I("button"),C(t.$$.fragment),n=O(),l=I("span"),l.textContent="Find a Record",D(l,"class","label svelte-1uih7mh"),D(e,"class","bottom-button passthrough svelte-1uih7mh")},m(c,f){w(c,e,f),y(t,e,null),M(e,n),M(e,l),s=!0,i||(o=[Le(e,"mouseenter",r[16]),Le(e,"mouseleave",r[17]),Le(e,"click",r[11])],i=!0)},p(c,f){const m=f&0?ce(a,[be(Po)]):{};t.$set(m)},i(c){s||(p(t.$$.fragment,c),s=!0)},o(c){g(t.$$.fragment,c),s=!1},d(c){c&&$(e),S(t),i=!1,Dt(o)}}}function nX(r){let e,t,n,l,s,i,o,a,u,c,f,m,d,_,h,b,v,k,T,E,P;s=new Cn({props:{table:r[0]}});let R=r[5]&&Tb(r),L=r[2]&&Db();h=new Ar({props:{showArrow:!1,triggerAppearance:"ghost",triggerClass:"dropdown-menu-button",closeOnInnerClick:!0,placements:["bottom-end","right-start","left-start"],label:"",icon:Tc,size:"small",$$slots:{default:[tX]},$$scope:{ctx:r}}});let A=!r[2]&&Ab(r);return k=new XQ({props:{modalController:r[8],table:r[0]}}),{c(){e=I("div"),t=I("a"),n=I("div"),l=I("div"),C(s.$$.fragment),i=O(),o=I("div"),a=O(),u=I("div"),R&&R.c(),c=O(),f=I("div"),L&&L.c(),d=O(),_=I("div"),C(h.$$.fragment),b=O(),A&&A.c(),v=O(),C(k.$$.fragment),D(l,"class","top-content svelte-1uih7mh"),D(o,"class","fake-button svelte-1uih7mh"),D(n,"class","top svelte-1uih7mh"),D(u,"class","description svelte-1uih7mh"),D(f,"class","bottom svelte-1uih7mh"),D(t,"class","link passthrough svelte-1uih7mh"),D(t,"href",r[7]),D(t,"aria-label",m=r[0].name),D(_,"class","menu-container svelte-1uih7mh"),D(e,"class","table-card svelte-1uih7mh"),Z(e,"hovering-menu-trigger",r[3]),Z(e,"hovering-bottom-button",r[4]),Z(e,"unconfirmed-import",r[2])},m(N,F){w(N,e,F),M(e,t),M(t,n),M(n,l),y(s,l,null),M(n,i),M(n,o),M(t,a),M(t,u),R&&R.m(u,null),M(t,c),M(t,f),L&&L.m(f,null),M(e,d),M(e,_),y(h,_,null),M(e,b),A&&A.m(e,null),w(N,v,F),y(k,N,F),T=!0,E||(P=[Le(_,"mouseenter",r[14]),Le(_,"mouseleave",r[15])],E=!0)},p(N,[F]){const K={};F&1&&(K.table=N[0]),s.$set(K),N[5]?R?(R.p(N,F),F&32&&p(R,1)):(R=Tb(N),R.c(),p(R,1),R.m(u,null)):R&&(q(),g(R,1,1,()=>{R=null}),U()),N[2]?L||(L=Db(),L.c(),L.m(f,null)):L&&(L.d(1),L=null),(!T||F&128)&&D(t,"href",N[7]),(!T||F&1&&m!==(m=N[0].name))&&D(t,"aria-label",m);const W={};F&524358&&(W.$$scope={dirty:F,ctx:N}),h.$set(W),N[2]?A&&(q(),g(A,1,1,()=>{A=null}),U()):A?(A.p(N,F),F&4&&p(A,1)):(A=Ab(N),A.c(),p(A,1),A.m(e,null)),(!T||F&8)&&Z(e,"hovering-menu-trigger",N[3]),(!T||F&16)&&Z(e,"hovering-bottom-button",N[4]),(!T||F&4)&&Z(e,"unconfirmed-import",N[2]);const j={};F&1&&(j.table=N[0]),k.$set(j)},i(N){T||(p(s.$$.fragment,N),p(R),p(h.$$.fragment,N),p(A),p(k.$$.fragment,N),T=!0)},o(N){g(s.$$.fragment,N),g(R),g(h.$$.fragment,N),g(A),g(k.$$.fragment,N),T=!1},d(N){N&&$(e),S(s),R&&R.d(),L&&L.d(),S(h),A&&A.d(),N&&$(v),S(k,N),E=!1,Dt(P)}}}function rX(r,e,t){let n,l,s,i;const o=zi(),a=dr.spawnModalController();let{table:u}=e,{database:c}=e,{schema:f}=e,{canExecuteDDL:m}=e,d=!1,_=!1;function h(){_l({identifierType:"Table",body:{component:J6,props:{tableName:u.name}},onProceed:async()=>{await Ba(c,f,u.id)}})}function b(){a.open()}function v(){o.navigateToRecordPage({tableId:u.id})}const k=()=>{t(3,d=!0)},T=()=>{t(3,d=!1)},E=()=>{t(4,_=!0)},P=()=>{t(4,_=!1)};return r.$$set=R=>{"table"in R&&t(0,u=R.table),"database"in R&&t(12,c=R.database),"schema"in R&&t(13,f=R.schema),"canExecuteDDL"in R&&t(1,m=R.canExecuteDDL)},r.$$.update=()=>{var R;r.$$.dirty&1&&t(2,n=Ea(u)),r.$$.dirty&12293&&t(7,l=n?Da(c.name,f.id,u.id,{useColumnTypeInference:!0}):hl(c.name,f.id,u.id)),r.$$.dirty&12289&&t(6,s=X6(c.name,f.id,u)),r.$$.dirty&1&&t(5,i=(R=u.description)!=null?R:"")},[u,m,n,d,_,i,s,l,a,h,b,v,c,f,k,T,E,P]}class lX extends X{constructor(e){super(),Q(this,e,rX,nX,G,{table:0,database:12,schema:13,canExecuteDDL:1})}}function Rb(r,e,t){const n=r.slice();return n[4]=e[t],n}function Pb(r){let e,t;return e=new I6({props:{icon:Bl,$$slots:{default:[sX]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&128&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function sX(r){let e,t;return{c(){e=I("p"),e.textContent="No Tables",t=O()},m(n,l){w(n,e,l),w(n,t,l)},p:z,d(n){n&&$(e),n&&$(t)}}}function Ob(r,e){let t,n,l;return n=new lX({props:{canExecuteDDL:e[3],table:e[4],database:e[1],schema:e[2]}}),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&8&&(o.canExecuteDDL=e[3]),i&1&&(o.table=e[4]),i&2&&(o.database=e[1]),i&4&&(o.schema=e[2]),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}function iX(r){let e,t=[],n=new Map,l,s=r[0];const i=a=>a[4].id;for(let a=0;a<s.length;a+=1){let u=Rb(r,s,a),c=i(u);n.set(c,t[a]=Ob(c,u))}let o=null;return s.length||(o=Pb(r)),{c(){e=I("div");for(let a=0;a<t.length;a+=1)t[a].c();o&&o.c(),D(e,"class","container svelte-12ub9ef")},m(a,u){w(a,e,u);for(let c=0;c<t.length;c+=1)t[c].m(e,null);o&&o.m(e,null),l=!0},p(a,[u]){u&15&&(s=a[0],q(),t=pt(t,u,i,1,a,s,n,e,ht,Ob,null,Rb),U(),!s.length&&o?o.p(a,u):s.length?o&&(q(),g(o,1,1,()=>{o=null}),U()):(o=Pb(a),o.c(),p(o,1),o.m(e,null)))},i(a){if(!l){for(let u=0;u<s.length;u+=1)p(t[u]);l=!0}},o(a){for(let u=0;u<t.length;u+=1)g(t[u]);l=!1},d(a){a&&$(e);for(let u=0;u<t.length;u+=1)t[u].d();o&&o.d()}}}function oX(r,e,t){let{tables:n}=e,{database:l}=e,{schema:s}=e,{canExecuteDDL:i}=e;return r.$$set=o=>{"tables"in o&&t(0,n=o.tables),"database"in o&&t(1,l=o.database),"schema"in o&&t(2,s=o.schema),"canExecuteDDL"in o&&t(3,i=o.canExecuteDDL)},[n,l,s,i]}class Z6 extends X{constructor(e){super(),Q(this,e,oX,iX,G,{tables:0,database:1,schema:2,canExecuteDDL:3})}}function Lb(r){let e,t,n,l,s,i;return s=new Cn({props:{table:r[3]}}),{c(){e=I("div"),t=I("span"),t.textContent="Based on",n=O(),l=I("div"),C(s.$$.fragment),D(t,"class","meta svelte-1h6i4hz"),D(l,"class","horizontal-container svelte-1h6i4hz"),D(e,"class","horizontal-container svelte-1h6i4hz")},m(o,a){w(o,e,a),M(e,t),M(e,n),M(e,l),y(s,l,null),i=!0},p(o,a){const u={};a&8&&(u.table=o[3]),s.$set(u)},i(o){i||(p(s.$$.fragment,o),i=!0)},o(o){g(s.$$.fragment,o),i=!1},d(o){o&&$(e),S(s)}}}function aX(r){let e,t,n,l,s,i,o=r[0].name+"",a,u,c,f;const m=[An];let d={};for(let h=0;h<m.length;h+=1)d=x(d,m[h]);l=new Fe({props:d});let _=r[3]&&Lb(r);return{c(){e=I("a"),t=I("div"),n=I("div"),C(l.$$.fragment),s=O(),i=I("span"),a=B(o),u=O(),_&&_.c(),D(n,"class","horizontal-container name-and-icon svelte-1h6i4hz"),D(t,"class","container svelte-1h6i4hz"),D(e,"class","link-container svelte-1h6i4hz"),D(e,"href",c=Il(r[1].name,r[2].id,r[0].id))},m(h,b){w(h,e,b),M(e,t),M(t,n),y(l,n,null),M(n,s),M(n,i),M(i,a),M(t,u),_&&_.m(t,null),f=!0},p(h,[b]){const v=b&0?ce(m,[be(An)]):{};l.$set(v),(!f||b&1)&&o!==(o=h[0].name+"")&&he(a,o),h[3]?_?(_.p(h,b),b&8&&p(_,1)):(_=Lb(h),_.c(),p(_,1),_.m(t,null)):_&&(q(),g(_,1,1,()=>{_=null}),U()),(!f||b&7&&c!==(c=Il(h[1].name,h[2].id,h[0].id)))&&D(e,"href",c)},i(h){f||(p(l.$$.fragment,h),p(_),f=!0)},o(h){g(l.$$.fragment,h),g(_),f=!1},d(h){h&&$(e),S(l),_&&_.d()}}}function uX(r,e,t){let n,l;de(r,ln,a=>t(4,l=a));let{exploration:s}=e,{database:i}=e,{schema:o}=e;return r.$$set=a=>{"exploration"in a&&t(0,s=a.exploration),"database"in a&&t(1,i=a.database),"schema"in a&&t(2,o=a.schema)},r.$$.update=()=>{r.$$.dirty&17&&t(3,n=l.data.get(s.base_table))},[s,i,o,n,l]}class cX extends X{constructor(e){super(),Q(this,e,uX,aX,G,{exploration:0,database:1,schema:2})}}function Nb(r,e,t){const n=r.slice();return n[4]=e[t],n[6]=t,n}function Fb(r){let e,t;return e=new I6({props:{icon:An,$$slots:{default:[fX]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&128&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function fX(r){let e,t;return{c(){e=I("p"),e.textContent="No Explorations",t=O()},m(n,l){w(n,e,l),w(n,t,l)},p:z,d(n){n&&$(e),n&&$(t)}}}function zb(r){let e;return{c(){e=I("div"),D(e,"class","divider svelte-15dd43z")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function Hb(r,e){let t,n,l,s,i;n=new cX({props:{exploration:e[4],database:e[1],schema:e[2]}});let o=e[6]!==e[0].length-1&&zb();return{key:r,first:null,c(){t=ae(),C(n.$$.fragment),l=O(),o&&o.c(),s=ae(),this.first=t},m(a,u){w(a,t,u),y(n,a,u),w(a,l,u),o&&o.m(a,u),w(a,s,u),i=!0},p(a,u){e=a;const c={};u&1&&(c.exploration=e[4]),u&2&&(c.database=e[1]),u&4&&(c.schema=e[2]),n.$set(c),e[6]!==e[0].length-1?o||(o=zb(),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(a){i||(p(n.$$.fragment,a),i=!0)},o(a){g(n.$$.fragment,a),i=!1},d(a){a&&$(t),S(n,a),a&&$(l),o&&o.d(a),a&&$(s)}}}function mX(r){let e,t=[],n=new Map,l,s=r[0];const i=a=>a[4].id;for(let a=0;a<s.length;a+=1){let u=Nb(r,s,a),c=i(u);n.set(c,t[a]=Hb(c,u))}let o=null;return s.length||(o=Fb(r)),{c(){e=I("div");for(let a=0;a<t.length;a+=1)t[a].c();o&&o.c(),D(e,"class","container svelte-15dd43z"),Z(e,"bordered",r[0].length>0&&r[3])},m(a,u){w(a,e,u);for(let c=0;c<t.length;c+=1)t[c].m(e,null);o&&o.m(e,null),l=!0},p(a,[u]){u&7&&(s=a[0],q(),t=pt(t,u,i,1,a,s,n,e,ht,Hb,null,Nb),U(),!s.length&&o?o.p(a,u):s.length?o&&(q(),g(o,1,1,()=>{o=null}),U()):(o=Fb(a),o.c(),p(o,1),o.m(e,null))),(!l||u&9)&&Z(e,"bordered",a[0].length>0&&a[3])},i(a){if(!l){for(let u=0;u<s.length;u+=1)p(t[u]);l=!0}},o(a){for(let u=0;u<t.length;u+=1)g(t[u]);l=!1},d(a){a&&$(e);for(let u=0;u<t.length;u+=1)t[u].d();o&&o.d()}}}function dX(r,e,t){let{explorations:n}=e,{database:l}=e,{schema:s}=e,{bordered:i=!0}=e;return r.$$set=o=>{"explorations"in o&&t(0,n=o.explorations),"database"in o&&t(1,l=o.database),"schema"in o&&t(2,s=o.schema),"bordered"in o&&t(3,i=o.bordered)},[n,l,s,i]}class x6 extends X{constructor(e){super(),Q(this,e,dX,mX,G,{explorations:0,database:1,schema:2,bordered:3})}}function Vb(r){let e,t;return e=new an({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function pX(r){let e,t,n=r[1]&&Vb();const l=r[5].default,s=De(l,r,r[6],null);return{c(){n&&n.c(),e=O(),s&&s.c()},m(i,o){n&&n.m(i,o),w(i,e,o),s&&s.m(i,o),t=!0},p(i,o){i[1]?n?o&2&&p(n,1):(n=Vb(),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(q(),g(n,1,1,()=>{n=null}),U()),s&&s.p&&(!t||o&64)&&Ee(s,l,i,i[6],t?Ie(l,i[6],o,null):Me(i[6]),null)},i(i){t||(p(n),p(s,i),t=!0)},o(i){g(n),g(s,i),t=!1},d(i){n&&n.d(i),i&&$(e),s&&s.d(i)}}}function _X(r){let e,t;return e=new ut({props:{disabled:r[1],appearance:"plain-primary",class:r[0],$$slots:{default:[pX]},$$scope:{ctx:r}}}),e.$on("click",r[2]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.disabled=n[1]),l&1&&(s.class=n[0]),l&66&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function gX(r,e,t){let{$$slots:n={},$$scope:l}=e,{database:s}=e,{schema:i}=e,{class:o=""}=e,a=!1;async function u(){t(1,a=!0);const c=await Gi(s,i,{});t(1,a=!1),on.goto(hl(s.name,i.id,c.id),!1)}return r.$$set=c=>{"database"in c&&t(3,s=c.database),"schema"in c&&t(4,i=c.schema),"class"in c&&t(0,o=c.class),"$$scope"in c&&t(6,l=c.$$scope)},[o,a,u,s,i,n,l]}class hX extends X{constructor(e){super(),Q(this,e,gX,_X,G,{database:3,schema:4,class:0})}}function bX(r){let e;return{c(){e=I("span"),e.textContent="You've created a new schema, now add tables to it.",D(e,"slot","title")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function $X(r){let e;return{c(){e=I("span"),e.textContent=`Tables store your data. It's good to have one table per entity. An entity is
    a thing you wish to keep data about. For example, in your personal financial
    schema, you may have a table for your bank accounts and another for your
    transactions. You can have as many tables as you wish.`,D(e,"slot","body")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function wX(r){let e;return{c(){e=I("span"),e.textContent="From Scratch"},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function vX(r){let e;return{c(){e=B("Import from a File")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function kX(r){let e,t,n,l,s,i,o,a;return s=new hX({props:{class:"padding-zero",database:r[0],schema:r[1],$$slots:{default:[wX]},$$scope:{ctx:r}}}),o=new ml({props:{href:sl(r[0].name,r[1].id),$$slots:{default:[vX]},$$scope:{ctx:r}}}),{c(){e=I("div"),t=I("span"),t.textContent="How do you want to create your table?",n=O(),l=I("div"),C(s.$$.fragment),i=O(),C(o.$$.fragment),D(t,"class","svelte-doup50"),D(l,"class","new-table-tutorial-actions svelte-doup50"),D(e,"class","new-table-tutorial-footer svelte-doup50"),D(e,"slot","footer")},m(u,c){w(u,e,c),M(e,t),M(e,n),M(e,l),y(s,l,null),M(l,i),y(o,l,null),a=!0},p(u,c){const f={};c&1&&(f.database=u[0]),c&2&&(f.schema=u[1]),c&4&&(f.$$scope={dirty:c,ctx:u}),s.$set(f);const m={};c&3&&(m.href=sl(u[0].name,u[1].id)),c&4&&(m.$$scope={dirty:c,ctx:u}),o.$set(m)},i(u){a||(p(s.$$.fragment,u),p(o.$$.fragment,u),a=!0)},o(u){g(s.$$.fragment,u),g(o.$$.fragment,u),a=!1},d(u){u&&$(e),S(s),S(o)}}}function yX(r){let e,t;return e=new pc({props:{$$slots:{footer:[kX],body:[$X],title:[bX]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&7&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function SX(r,e,t){let{database:n}=e,{schema:l}=e;return r.$$set=s=>{"database"in s&&t(0,n=s.database),"schema"in s&&t(1,l=s.schema)},[n,l]}class ek extends X{constructor(e){super(),Q(this,e,SX,yX,G,{database:0,schema:1})}}function CX(r){let e;return{c(){e=I("span"),e.textContent="It's time to use your tables. Create your first exploration.",D(e,"slot","title")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function TX(r){let e;return{c(){e=I("span"),e.textContent=`Explorations let you query your\xA0data to uncover trends and insights. They
    may be stored and run anytime to see the latest data. Explorations make
    great reports. You might, for example, create an exploration that shows your
    monthly spending.`,D(e,"slot","body")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function DX(r){let e;return{c(){e=B("Open Data Explorer")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function IX(r){let e,t;return e=new ml({props:{slot:"footer",href:pr(r[0].name,r[1].id),$$slots:{default:[DX]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&3&&(s.href=pr(n[0].name,n[1].id)),l&4&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function EX(r){let e,t;return e=new pc({props:{$$slots:{footer:[IX],body:[TX],title:[CX]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&7&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function MX(r,e,t){let{database:n}=e,{schema:l}=e;return r.$$set=s=>{"database"in s&&t(0,n=s.database),"schema"in s&&t(1,l=s.schema)},[n,l]}class tk extends X{constructor(e){super(),Q(this,e,MX,EX,G,{database:0,schema:1})}}function AX(r){let e;return{c(){e=B("From Scratch")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function RX(r){let e;return{c(){e=B("From Data Import")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function PX(r){let e,t,n,l;return e=new xt({props:{$$slots:{default:[AX]},$$scope:{ctx:r}}}),e.$on("click",r[3]),n=new Ir({props:{href:sl(r[0].name,r[1].id),$$slots:{default:[RX]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&16&&(o.$$scope={dirty:i,ctx:s}),e.$set(o);const a={};i&3&&(a.href=sl(s[0].name,s[1].id)),i&16&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(p(e.$$.fragment,s),p(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&$(t),S(n,s)}}}function OX(r){let e,t;const n=[Qt];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[be(Qt)]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function LX(r){let e,t;return e=new an({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function NX(r){let e,t,n,l,s,i;const o=[LX,OX],a=[];function u(c,f){return c[2]?0:1}return t=u(r),n=a[t]=o[t](r),{c(){e=I("div"),n.c(),l=O(),s=I("span"),s.textContent="New Table",D(e,"slot","trigger")},m(c,f){w(c,e,f),a[t].m(e,null),M(e,l),M(e,s),i=!0},p(c,f){let m=t;t=u(c),t===m?a[t].p(c,f):(q(),g(a[m],1,1,()=>{a[m]=null}),U(),n=a[t],n?n.p(c,f):(n=a[t]=o[t](c),n.c()),p(n,1),n.m(e,l))},i(c){i||(p(n),i=!0)},o(c){g(n),i=!1},d(c){c&&$(e),a[t].d()}}}function FX(r){let e,t;return e=new Ar({props:{showArrow:!0,triggerAppearance:"primary",closeOnInnerClick:!0,label:"New Table",$$slots:{trigger:[NX],default:[PX]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&23&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function zX(r,e,t){let{database:n}=e,{schema:l}=e,s=!1;async function i(){t(2,s=!0);const o=await Gi(n,l,{});t(2,s=!1),on.goto(hl(n.name,l.id,o.id),!1)}return r.$$set=o=>{"database"in o&&t(0,n=o.database),"schema"in o&&t(1,l=o.schema)},[n,l,s,i]}class nk extends X{constructor(e){super(),Q(this,e,zX,FX,G,{database:0,schema:1})}}function qb(r,e,t){const n=r.slice();return n[1]=e[t],n[3]=t,n}function Ub(r,e){let t,n,l,s;return n=new vc({props:{loading:!0}}),{key:r,first:null,c(){t=I("div"),C(n.$$.fragment),l=O(),D(t,"class","table-skeleton svelte-urq83"),this.first=t},m(i,o){w(i,t,o),y(n,t,null),M(t,l),s=!0},p(i,o){},i(i){s||(p(n.$$.fragment,i),s=!0)},o(i){g(n.$$.fragment,i),s=!1},d(i){i&&$(t),S(n)}}}function HX(r){let e,t=[],n=new Map,l,s=Array(r[0]);const i=o=>o[3];for(let o=0;o<s.length;o+=1){let a=qb(r,s,o),u=i(a);n.set(u,t[o]=Ub(u))}return{c(){e=I("div");for(let o=0;o<t.length;o+=1)t[o].c();D(e,"class","table-skeleton-container svelte-urq83")},m(o,a){w(o,e,a);for(let u=0;u<t.length;u+=1)t[u].m(e,null);l=!0},p(o,[a]){a&1&&(s=Array(o[0]),q(),t=pt(t,a,i,1,o,s,n,e,ht,Ub,null,qb),U())},i(o){if(!l){for(let a=0;a<s.length;a+=1)p(t[a]);l=!0}},o(o){for(let a=0;a<t.length;a+=1)g(t[a]);l=!1},d(o){o&&$(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function VX(r,e,t){let{numTables:n=9}=e;return r.$$set=l=>{"numTables"in l&&t(0,n=l.numTables)},[n]}class rk extends X{constructor(e){super(),Q(this,e,VX,HX,G,{numTables:0})}}function qX(r){let e,t,n;return t=new vc({props:{loading:!0}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","exploration-skeleton-container svelte-1rmp9hx")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p:z,i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}class lk extends X{constructor(e){super(),Q(this,e,null,qX,G,{})}}function Wb(r){let e,t;return e=new nk({props:{database:r[5],schema:r[6]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.database=n[5]),l&64&&(s.schema=n[6]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function UX(r){let e,t,n=r[4]&&Wb(r);return{c(){n&&n.c(),e=ae()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[4]?n?(n.p(l,s),s&16&&p(n,1)):(n=Wb(l),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&$(e)}}}function WX(r){let e,t;return e=new Z6({props:{canExecuteDDL:r[4],tables:[...r[0].values()],database:r[5],schema:r[6]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.canExecuteDDL=n[4]),l&1&&(s.tables=[...n[0].values()]),l&32&&(s.database=n[5]),l&64&&(s.schema=n[6]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function BX(r){let e,t;return e=new ek({props:{database:r[5],schema:r[6]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.database=n[5]),l&64&&(s.schema=n[6]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function jX(r){let e,t;return e=new rk({props:{numTables:r[6].num_tables}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&64&&(s.numTables=n[6].num_tables),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function YX(r){let e,t;return e=new x6({props:{bordered:!1,explorations:[...r[1].values()],database:r[5],schema:r[6]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.explorations=[...n[1].values()]),l&32&&(s.database=n[5]),l&64&&(s.schema=n[6]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function KX(r){let e,t;return e=new tk({props:{database:r[5],schema:r[6]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.database=n[5]),l&64&&(s.schema=n[6]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function GX(r){let e,t;return e=new lk({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Bb(r){let e,t,n,l,s,i,o,a;return t=new rc({props:{title:"Explore your Data"}}),o=new ml({props:{href:pr(r[5].name,r[6].id),$$slots:{default:[QX]},$$scope:{ctx:r}}}),{c(){e=I("div"),C(t.$$.fragment),n=O(),l=I("span"),l.textContent="Explorations let you query your data to uncover trends and insights.",s=O(),i=I("div"),C(o.$$.fragment),D(e,"class","vertical-container svelte-36ix5v")},m(u,c){w(u,e,c),y(t,e,null),M(e,n),M(e,l),M(e,s),M(e,i),y(o,i,null),a=!0},p(u,c){const f={};c&96&&(f.href=pr(u[5].name,u[6].id)),c&8192&&(f.$$scope={dirty:c,ctx:u}),o.$set(f)},i(u){a||(p(t.$$.fragment,u),p(o.$$.fragment,u),a=!0)},o(u){g(t.$$.fragment,u),g(o.$$.fragment,u),a=!1},d(u){u&&$(e),S(t),S(o)}}}function QX(r){let e;return{c(){e=B("Open Data Explorer")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function XX(r){let e,t,n,l,s,i,o,a,u,c,f,m,d,_,h;n=new rc({props:{title:"Tables",$$slots:{action:[UX]},$$scope:{ctx:r}}});const b=[jX,BX,WX],v=[];function k(L,A){return L[2]?0:L[9]?1:2}s=k(r),i=v[s]=b[s](r),c=new rc({props:{title:"Saved Explorations"}});const T=[GX,KX,YX],E=[];function P(L,A){return L[3]?0:L[8]?1:2}m=P(r),d=E[m]=T[m](r);let R=r[7]&&Bb(r);return{c(){e=I("div"),t=I("div"),C(n.$$.fragment),l=O(),i.c(),o=O(),a=I("div"),u=I("div"),C(c.$$.fragment),f=O(),d.c(),_=O(),R&&R.c(),D(t,"class","vertical-container tables svelte-36ix5v"),D(u,"class","vertical-container svelte-36ix5v"),D(a,"class","vertical-container explorations svelte-36ix5v"),D(e,"class","container svelte-36ix5v")},m(L,A){w(L,e,A),M(e,t),y(n,t,null),M(t,l),v[s].m(t,null),M(e,o),M(e,a),M(a,u),y(c,u,null),M(u,f),E[m].m(u,null),M(a,_),R&&R.m(a,null),h=!0},p(L,[A]){const N={};A&8304&&(N.$$scope={dirty:A,ctx:L}),n.$set(N);let F=s;s=k(L),s===F?v[s].p(L,A):(q(),g(v[F],1,1,()=>{v[F]=null}),U(),i=v[s],i?i.p(L,A):(i=v[s]=b[s](L),i.c()),p(i,1),i.m(t,null));let K=m;m=P(L),m===K?E[m].p(L,A):(q(),g(E[K],1,1,()=>{E[K]=null}),U(),d=E[m],d?d.p(L,A):(d=E[m]=T[m](L),d.c()),p(d,1),d.m(u,null)),L[7]?R?(R.p(L,A),A&128&&p(R,1)):(R=Bb(L),R.c(),p(R,1),R.m(a,null)):R&&(q(),g(R,1,1,()=>{R=null}),U())},i(L){h||(p(n.$$.fragment,L),p(i),p(c.$$.fragment,L),p(d),p(R),h=!0)},o(L){g(n.$$.fragment,L),g(i),g(c.$$.fragment,L),g(d),g(R),h=!1},d(L){L&&$(e),S(n),v[s].d(),S(c),E[m].d(),R&&R.d()}}}function JX(r,e,t){let n,l,s,i,o,{tablesMap:a}=e,{explorationsMap:u}=e,{isTablesLoading:c=!1}=e,{isExplorationsLoading:f=!1}=e,{canExecuteDDL:m}=e,{canEditMetadata:d}=e,{database:_}=e,{schema:h}=e;return r.$$set=b=>{"tablesMap"in b&&t(0,a=b.tablesMap),"explorationsMap"in b&&t(1,u=b.explorationsMap),"isTablesLoading"in b&&t(2,c=b.isTablesLoading),"isExplorationsLoading"in b&&t(3,f=b.isExplorationsLoading),"canExecuteDDL"in b&&t(4,m=b.canExecuteDDL),"canEditMetadata"in b&&t(10,d=b.canEditMetadata),"database"in b&&t(5,_=b.database),"schema"in b&&t(6,h=b.schema)},r.$$.update=()=>{r.$$.dirty&1&&t(12,n=a.size>0),r.$$.dirty&2&&t(11,l=u.size>0),r.$$.dirty&4112&&t(9,s=!n&&m),r.$$.dirty&7168&&t(8,i=n&&!l&&d),r.$$.dirty&6152&&t(7,o=n&&l&&!f)},[a,u,c,f,m,_,h,o,i,s,d,l,n]}class ZX extends X{constructor(e){super(),Q(this,e,JX,XX,G,{tablesMap:0,explorationsMap:1,isTablesLoading:2,isExplorationsLoading:3,canExecuteDDL:4,canEditMetadata:10,database:5,schema:6})}}function jb(r){let e,t;return e=new nk({props:{database:r[0],schema:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function xX(r){let e,t,n=r[2]&&jb(r);return{c(){n&&n.c(),e=ae()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[2]?n?(n.p(l,s),s&4&&p(n,1)):(n=jb(l),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&$(e)}}}function eJ(r){let e,t=Yt(r[4],"results")+"",n,l,s,i;return{c(){e=I("p"),n=B(t),l=B(`
      for all tables matching
      `),s=I("strong"),i=B(r[3])},m(o,a){w(o,e,a),M(e,n),M(e,l),M(e,s),M(s,i)},p(o,a){a&16&&t!==(t=Yt(o[4],"results")+"")&&he(n,t),a&8&&he(i,o[3])},d(o){o&&$(e)}}}function tJ(r){let e,t;return e=new Z6({props:{canExecuteDDL:r[2],tables:r[4],database:r[0],schema:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.canExecuteDDL=n[2]),l&16&&(s.tables=n[4]),l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function nJ(r){let e,t;return e=new ek({props:{database:r[0],schema:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function rJ(r){let e,t,n,l;const s=[nJ,tJ],i=[];function o(a,u){return a[5]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function lJ(r){let e,t,n;function l(i){r[8](i)}let s={searchPlaceholder:"Search Tables",$$slots:{content:[rJ],resultInfo:[eJ],action:[xX]},$$scope:{ctx:r}};return r[3]!==void 0&&(s.searchQuery=r[3]),e=new Qa({props:s}),ye.push(()=>Pe(e,"searchQuery",l)),e.$on("clear",r[6]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&575&&(a.$$scope={dirty:o,ctx:i}),!t&&o&8&&(t=!0,a.searchQuery=i[3],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function sJ(r,e){return[...r.values()].filter(t=>t.name.toLowerCase().includes(e.trim().toLowerCase()))}function iJ(r,e,t){let n,l,{tablesMap:s}=e,{database:i}=e,{schema:o}=e,{canExecuteDDL:a}=e,u="";function c(){t(3,u="")}function f(m){u=m,t(3,u)}return r.$$set=m=>{"tablesMap"in m&&t(7,s=m.tablesMap),"database"in m&&t(0,i=m.database),"schema"in m&&t(1,o=m.schema),"canExecuteDDL"in m&&t(2,a=m.canExecuteDDL)},r.$$.update=()=>{r.$$.dirty&132&&t(5,n=s.size===0&&a),r.$$.dirty&136&&t(4,l=sJ(s,u))},[i,o,a,u,l,n,c,s,f]}class oJ extends X{constructor(e){super(),Q(this,e,iJ,lJ,G,{tablesMap:7,database:0,schema:1,canExecuteDDL:2})}}function aJ(r){let e;return{c(){e=B("Open Data Explorer")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function uJ(r){let e,t;return e=new ml({props:{href:pr(r[0].name,r[1].id),$$slots:{default:[aJ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&3&&(s.href=pr(n[0].name,n[1].id)),l&1024&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function cJ(r){let e,t=Yt(r[3],"results")+"",n,l,s,i;return{c(){e=I("p"),n=B(t),l=B(`
      for all explorations matching
      `),s=I("strong"),i=B(r[2])},m(o,a){w(o,e,a),M(e,n),M(e,l),M(e,s),M(s,i)},p(o,a){a&8&&t!==(t=Yt(o[3],"results")+"")&&he(n,t),a&4&&he(i,o[2])},d(o){o&&$(e)}}}function fJ(r){let e,t;return e=new x6({props:{explorations:r[3],database:r[0],schema:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.explorations=n[3]),l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function mJ(r){let e,t;return e=new tk({props:{database:r[0],schema:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function dJ(r){let e,t,n,l;const s=[mJ,fJ],i=[];function o(a,u){return a[4]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function pJ(r){let e,t,n;function l(i){r[9](i)}let s={searchPlaceholder:"Search Explorations",$$slots:{content:[dJ],resultInfo:[cJ],action:[uJ]},$$scope:{ctx:r}};return r[2]!==void 0&&(s.searchQuery=r[2]),e=new Qa({props:s}),ye.push(()=>Pe(e,"searchQuery",l)),e.$on("clear",r[5]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&1055&&(a.$$scope={dirty:o,ctx:i}),!t&&o&4&&(t=!0,a.searchQuery=i[2],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function _J(r,e){return[...r.values()].filter(t=>t.name.toLowerCase().includes(e.trim().toLowerCase()))}function gJ(r,e,t){let n,l,{database:s}=e,{schema:i}=e,{explorationsMap:o}=e,{hasTablesToExplore:a}=e,{canEditMetadata:u}=e,c="";function f(){t(2,c="")}function m(d){c=d,t(2,c)}return r.$$set=d=>{"database"in d&&t(0,s=d.database),"schema"in d&&t(1,i=d.schema),"explorationsMap"in d&&t(6,o=d.explorationsMap),"hasTablesToExplore"in d&&t(7,a=d.hasTablesToExplore),"canEditMetadata"in d&&t(8,u=d.canEditMetadata)},r.$$.update=()=>{r.$$.dirty&448&&t(4,n=o.size===0&&a&&u),r.$$.dirty&68&&t(3,l=_J(o,c))},[s,i,c,l,n,f,o,a,u,m]}class hJ extends X{constructor(e){super(),Q(this,e,gJ,pJ,G,{database:0,schema:1,explorationsMap:6,hasTablesToExplore:7,canEditMetadata:8})}}function bJ(r){let e,t;return e=new zn({props:{$$slots:{default:[vJ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8208&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function $J(r){let e;return{c(){e=I("div"),e.textContent="Loading"},m(t,n){w(t,e,n)},p:z,i:z,o:z,d(t){t&&$(e)}}}function wJ(r){let e,t;return e=new D6({props:{accessControlObject:"schema",usersWithAccess:r[5],usersWithoutAccess:r[6],addAccessForUser:r[8],removeAccessForUser:r[9],getUserRoles:r[10]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.usersWithAccess=n[5]),l&64&&(s.usersWithoutAccess=n[6]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function vJ(r){let e=r[4].errors.join(", ")+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&16&&e!==(e=n[4].errors.join(", ")+"")&&he(t,e)},d(n){n&&$(t)}}}function kJ(r){let e,t,n,l;const s=[wJ,$J,bJ],i=[];function o(a,u){var c,f,m;return((c=a[4])==null?void 0:c.state)==="success"?0:((f=a[4])==null?void 0:f.state)==="processing"?1:((m=a[4])==null?void 0:m.state)==="failure"?2:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=ae()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(q(),g(i[c],1,1,()=>{i[c]=null}),U()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&$(n)}}}function yJ(r){let e=r[1].name+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&2&&e!==(e=n[1].name+"")&&he(t,e)},d(n){n&&$(t)}}}function SJ(r){let e,t,n,l;return t=new rl({props:{$$slots:{default:[yJ]},$$scope:{ctx:r}}}),{c(){e=B("Manage "),C(t.$$.fragment),n=B(" Schema Access")},m(s,i){w(s,e,i),y(t,s,i),w(s,n,i),l=!0},p(s,i){const o={};i&8194&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){l||(p(t.$$.fragment,s),l=!0)},o(s){g(t.$$.fragment,s),l=!1},d(s){s&&$(e),S(t,s),s&&$(n)}}}function CJ(r){let e,t;return e=new Pl({props:{controller:r[0],size:"medium",closeOn:["button","esc","overlay"],$$slots:{title:[SJ],default:[kJ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.controller=n[0]),l&8306&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function TJ(r,e,t){let n,l,s,i,o=z,a=()=>(o(),o=se(l,E=>t(5,i=E)),l),u,c=z,f=()=>(c(),c=se(n,E=>t(6,u=E)),n);r.$$.on_destroy.push(()=>o()),r.$$.on_destroy.push(()=>c());let{controller:m}=e,{database:d}=e,{schema:_}=e;const h=Ac(),{requestStatus:b}=h;de(r,b,E=>t(4,s=E));async function v(E,P){await h.addSchemaRoleForUser(E.id,_,P)}async function k(E){await h.removeSchemaAccessForUser(E.id,_)}function T(E){const P=new Map,R=E.getRoleForDb(d);R&&P.set("database",R.role);const L=E.getRoleForSchema(_);return L&&P.set("schema",L.role),P.size?P:void 0}return r.$$set=E=>{"controller"in E&&t(0,m=E.controller),"database"in E&&t(11,d=E.database),"schema"in E&&t(1,_=E.schema)},r.$$.update=()=>{r.$$.dirty&2&&f(t(3,n=h.getNormalUsersWithoutDirectSchemaRole(_))),r.$$.dirty&2050&&a(t(2,l=h.getUsersWithAccessToSchema(d,_)))},[m,_,l,n,s,i,u,b,v,k,T,d]}class DJ extends X{constructor(e){super(),Q(this,e,TJ,CJ,G,{controller:0,database:11,schema:1})}}const IJ=r=>({}),Yb=r=>({slot:"bottom"});function EJ(r){let e,t,n,l;const s=[PJ,RJ],i=[];function o(a,u){return a[8]?0:1}return t=o(r),n=i[t]=s[t](r),{c(){e=I("div"),n.c(),D(e,"class","tab-container svelte-jadtkf")},m(a,u){w(a,e,u),i[t].m(e,null),l=!0},p(a,u){let c=t;t=o(a),t===c?i[t].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),p(n,1),n.m(e,null))},i(a){l||(p(n),l=!0)},o(a){g(n),l=!1},d(a){a&&$(e),i[t].d()}}}function MJ(r){let e,t,n,l;const s=[LJ,OJ],i=[];function o(a,u){return a[9]?0:1}return t=o(r),n=i[t]=s[t](r),{c(){e=I("div"),n.c(),D(e,"class","tab-container svelte-jadtkf")},m(a,u){w(a,e,u),i[t].m(e,null),l=!0},p(a,u){let c=t;t=o(a),t===c?i[t].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),p(n,1),n.m(e,null))},i(a){l||(p(n),l=!0)},o(a){g(n),l=!1},d(a){a&&$(e),i[t].d()}}}function AJ(r){let e,t,n;return t=new ZX({props:{canExecuteDDL:r[5],canEditMetadata:r[11],isTablesLoading:r[9],isExplorationsLoading:r[8],tablesMap:r[4],explorationsMap:r[3],database:r[0],schema:r[1]}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","tab-container svelte-jadtkf")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&32&&(i.canExecuteDDL=l[5]),s&2048&&(i.canEditMetadata=l[11]),s&512&&(i.isTablesLoading=l[9]),s&256&&(i.isExplorationsLoading=l[8]),s&16&&(i.tablesMap=l[4]),s&8&&(i.explorationsMap=l[3]),s&1&&(i.database=l[0]),s&2&&(i.schema=l[1]),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function RJ(r){let e,t;return e=new hJ({props:{canEditMetadata:r[11],hasTablesToExplore:!!r[4].size,explorationsMap:r[3],database:r[0],schema:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2048&&(s.canEditMetadata=n[11]),l&16&&(s.hasTablesToExplore=!!n[4].size),l&8&&(s.explorationsMap=n[3]),l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function PJ(r){let e,t;return e=new lk({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function OJ(r){let e,t;return e=new oJ({props:{canExecuteDDL:r[5],tablesMap:r[4],database:r[0],schema:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.canExecuteDDL=n[5]),l&16&&(s.tablesMap=n[4]),l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function LJ(r){let e,t;return e=new rk({props:{numTables:r[1].num_tables}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.numTables=n[1].num_tables),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function NJ(r){let e,t,n,l;const s=[AJ,MJ,EJ],i=[];function o(a,u){var c,f,m;return((c=a[7])==null?void 0:c.id)==="overview"?0:((f=a[7])==null?void 0:f.id)==="tables"?1:((m=a[7])==null?void 0:m.id)==="explorations"?2:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=ae()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(q(),g(i[c],1,1,()=>{i[c]=null}),U()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&$(n)}}}function Kb(r){let e,t=r[25].count+"",n;return{c(){e=I("span"),n=B(t),D(e,"class","count svelte-jadtkf")},m(l,s){w(l,e,s),M(e,n)},p(l,s){s&33554432&&t!==(t=l[25].count+"")&&he(n,t)},d(l){l&&$(e)}}}function FJ(r){let e,t,n=r[25].label+"",l,s,i=r[25].count!==void 0&&Kb(r);return{c(){e=I("div"),t=I("span"),l=B(n),s=O(),i&&i.c(),D(e,"slot","tab"),D(e,"class","tab-header-container svelte-jadtkf")},m(o,a){w(o,e,a),M(e,t),M(t,l),M(e,s),i&&i.m(e,null)},p(o,a){a&33554432&&n!==(n=o[25].label+"")&&he(l,n),o[25].count!==void 0?i?i.p(o,a):(i=Kb(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(o){o&&$(e),i&&i.d()}}}function zJ(r){let e,t;return e=new wa({props:{activeTab:r[7],tabs:r[2],uniformTabWidth:!1,$$slots:{tab:[FJ,({tab:n})=>({25:n}),({tab:n})=>n?33554432:0],default:[NJ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&128&&(s.activeTab=n[7]),l&4&&(s.tabs=n[2]),l&50334651&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Gb(r){let e,t;return e=new ut({props:{appearance:"secondary",$$slots:{default:[HJ]},$$scope:{ctx:r}}}),e.$on("click",r[15]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16777216&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function HJ(r){let e,t,n,l;const s=[vs];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new Fe({props:i}),{c(){C(e.$$.fragment),t=O(),n=I("span"),n.textContent="Edit Schema"},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),l=!0},p(o,a){const u=a&0?ce(s,[be(vs)]):{};e.$set(u)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),o&&$(n)}}}function Qb(r){let e,t;return e=new ut({props:{appearance:"secondary",$$slots:{default:[VJ]},$$scope:{ctx:r}}}),e.$on("click",r[16]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16777216&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function VJ(r){let e,t,n,l;const s=[Ro];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new Fe({props:i}),{c(){C(e.$$.fragment),t=O(),n=I("span"),n.textContent="Manage Access"},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),l=!0},p(o,a){const u=a&0?ce(s,[be(Ro)]):{};e.$set(u)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),o&&$(n)}}}function qJ(r){let e,t,n,l=!r[6]&&r[5]&&Gb(r),s=r[10]&&Qb(r);return{c(){e=I("div"),l&&l.c(),t=O(),s&&s.c(),D(e,"slot","action")},m(i,o){w(i,e,o),l&&l.m(e,null),M(e,t),s&&s.m(e,null),n=!0},p(i,o){!i[6]&&i[5]?l?(l.p(i,o),o&96&&p(l,1)):(l=Gb(i),l.c(),p(l,1),l.m(e,t)):l&&(q(),g(l,1,1,()=>{l=null}),U()),i[10]?s?(s.p(i,o),o&1024&&p(s,1)):(s=Qb(i),s.c(),p(s,1),s.m(e,null)):s&&(q(),g(s,1,1,()=>{s=null}),U())},i(i){n||(p(l),p(s),n=!0)},o(i){g(l),g(s),n=!1},d(i){i&&$(e),l&&l.d(),s&&s.d()}}}function Xb(r){let e,t=r[1].description+"",n;return{c(){e=I("span"),n=B(t),D(e,"class","description")},m(l,s){w(l,e,s),M(e,n)},p(l,s){s&2&&t!==(t=l[1].description+"")&&he(n,t)},d(l){l&&$(e)}}}function UJ(r){let e,t=r[1].description&&Xb(r);return{c(){t&&t.c(),e=ae()},m(n,l){t&&t.m(n,l),w(n,e,l)},p(n,l){n[1].description?t?t.p(n,l):(t=Xb(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&$(e)}}}function WJ(r){let e;const t=r[23].default,n=De(t,r,r[24],Yb),l=n||UJ(r);return{c(){l&&l.c()},m(s,i){l&&l.m(s,i),e=!0},p(s,i){n?n.p&&(!e||i&16777216)&&Ee(n,t,s,s[24],e?Ie(t,s[24],i,IJ):Me(s[24]),Yb):l&&l.p&&(!e||i&2)&&l.p(s,e?i:-1)},i(s){e||(p(l,s),e=!0)},o(s){g(l,s),e=!1},d(s){l&&l.d(s)}}}function BJ(r){let e,t;return e=new vf({props:{slot:"secondary-header",theme:"light",pageTitleAndMetaProps:{name:r[1].name,type:"schema",icon:Cs},$$slots:{bottom:[WJ],action:[qJ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.pageTitleAndMetaProps={name:n[1].name,type:"schema",icon:Cs}),l&16778338&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function jJ(r){let e,t,n,l,s,i,o,a;return document.title=e=Rn(r[1].name),n=new Or({props:{restrictWidth:!0,cssVariables:{"--max-layout-width":"var(--max-layout-width-console-pages)"},$$slots:{"secondary-header":[BJ],default:[zJ]},$$scope:{ctx:r}}}),s=new C6({props:{controller:r[13],database:r[0],schema:r[1]}}),o=new DJ({props:{controller:r[14],database:r[0],schema:r[1]}}),{c(){t=O(),C(n.$$.fragment),l=O(),C(s.$$.fragment),i=O(),C(o.$$.fragment)},m(u,c){w(u,t,c),y(n,u,c),w(u,l,c),y(s,u,c),w(u,i,c),y(o,u,c),a=!0},p(u,[c]){(!a||c&2)&&e!==(e=Rn(u[1].name))&&(document.title=e);const f={};c&16781311&&(f.$$scope={dirty:c,ctx:u}),n.$set(f);const m={};c&1&&(m.database=u[0]),c&2&&(m.schema=u[1]),s.$set(m);const d={};c&1&&(d.database=u[0]),c&2&&(d.schema=u[1]),o.$set(d)},i(u){a||(p(n.$$.fragment,u),p(s.$$.fragment,u),p(o.$$.fragment,u),a=!0)},o(u){g(n.$$.fragment,u),g(s.$$.fragment,u),g(o.$$.fragment,u),a=!1},d(u){u&&$(t),S(n,u),u&&$(l),S(s,u),u&&$(i),S(o,u)}}}function YJ(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,_,h,b,v;de(r,Zl,W=>t(19,_=W)),de(r,ln,W=>t(20,h=W)),de(r,ja,W=>t(21,b=W));let{$$slots:k={},$$scope:T}=e,{database:E}=e,{schema:P}=e,{section:R}=e;const L=Xt();de(r,L,W=>t(22,v=W));const A=dr.spawnModalController(),N=dr.spawnModalController();function F(){A.open()}function K(){N.open()}return AB("opened_schema",{database_name:E.name,schema_name:P.name,source:"schema_page"}),r.$$set=W=>{"database"in W&&t(0,E=W.database),"schema"in W&&t(1,P=W.schema),"section"in W&&t(17,R=W.section),"$$scope"in W&&t(24,T=W.$$scope)},r.$$.update=()=>{var W,j;r.$$.dirty&4194304&&t(18,n=v),r.$$.dirty&262147&&t(5,l=(W=n==null?void 0:n.hasPermission({database:E,schema:P},"canExecuteDDL"))!=null?W:!1),r.$$.dirty&262147&&t(11,s=(j=n==null?void 0:n.hasPermission({database:E,schema:P},"canEditMetadata"))!=null?j:!1),r.$$.dirty&262147&&t(10,i=n==null?void 0:n.hasPermission({database:E,schema:P},"canEditPermissions")),r.$$.dirty&3145760&&t(4,o=l?h.data:b),r.$$.dirty&524288&&t(3,a=_.data),r.$$.dirty&1048576&&t(9,u=h.state===St.Loading),r.$$.dirty&524288&&t(8,c=_.requestStatus.state==="processing"),r.$$.dirty&27&&t(2,f=[{label:"Overview",id:"overview",href:rr(E.name,P.id)},{label:"Tables",id:"tables",count:o.size,href:pw(E.name,P.id)},{label:"Explorations",id:"explorations",count:a.size,href:_w(E.name,P.id)}]),r.$$.dirty&131076&&t(7,m=f.find(Y=>Y.id===R)||f[0]),r.$$.dirty&2&&t(6,d=P.name==="public")},[E,P,f,a,o,l,d,m,c,u,i,s,L,A,N,F,K,R,n,_,h,b,v,k,T]}class KJ extends X{constructor(e){super(),Q(this,e,YJ,jJ,G,{database:0,schema:1,section:17})}}const GJ=r=>({meta:r&64}),Jb=r=>({meta:r[6]});function QJ(r){let e,t,n;e=new wf({props:{meta:r[6]}}),e.$on("load",r[3]),e.$on("unload",r[4]);const l=r[2].default,s=De(l,r,r[5],Jb);return{c(){C(e.$$.fragment),t=O(),s&&s.c()},m(i,o){y(e,i,o),w(i,t,o),s&&s.m(i,o),n=!0},p(i,o){const a={};o&64&&(a.meta=i[6]),e.$set(a),s&&s.p&&(!n||o&96)&&Ee(s,l,i,i[5],n?Ie(l,i[5],o,GJ):Me(i[5]),Jb)},i(i){n||(p(e.$$.fragment,i),p(s,i),n=!0)},o(i){g(e.$$.fragment,i),g(s,i),n=!1},d(i){S(e,i),i&&$(t),s&&s.d(i)}}}function XJ(r){let e,t;return e=new Lt({props:{path:r[0],firstmatch:r[1],$$slots:{default:[QJ,({meta:n})=>({6:n}),({meta:n})=>n?64:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.path=n[0]),l&2&&(s.firstmatch=n[1]),l&96&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function JJ(r,e,t){let{$$slots:n={},$$scope:l}=e,{path:s}=e,{firstmatch:i=!1}=e;function o(u){ve.call(this,r,u)}function a(u){ve.call(this,r,u)}return r.$$set=u=>{"path"in u&&t(0,s=u.path),"firstmatch"in u&&t(1,i=u.firstmatch),"$$scope"in u&&t(5,l=u.$$scope)},[s,i,n,o,a,l]}class ZJ extends X{constructor(e){super(),Q(this,e,JJ,XJ,G,{path:0,firstmatch:1})}}const xJ=r=>({meta:r&2,path:r&2}),Zb=r=>({meta:r[1].meta,path:r[1].routePath.name});function xb(r,e,t){const n=r.slice();return n[8]=e[t],n}function e0(r,e){let t,n,l;function s(...o){return e[6](e[8],...o)}function i(){return e[7](e[8])}return n=new ZJ({props:{path:e[8].path,firstmatch:!0}}),n.$on("load",s),n.$on("unload",i),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(o,a){w(o,t,a),y(n,o,a),l=!0},p(o,a){e=o;const u={};a&1&&(u.path=e[8].path),n.$set(u)},i(o){l||(p(n.$$.fragment,o),l=!0)},o(o){g(n.$$.fragment,o),l=!1},d(o){o&&$(t),S(n,o)}}}function t0(r){let e;const t=r[5].default,n=De(t,r,r[4],Zb);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&18)&&Ee(n,t,l,l[4],e?Ie(t,l[4],s,xJ):Me(l[4]),Zb)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function eZ(r){let e=[],t=new Map,n,l,s,i=r[0];const o=u=>u[8].name;for(let u=0;u<i.length;u+=1){let c=xb(r,i,u),f=o(c);t.set(f,e[u]=e0(f,c))}let a=r[1]&&t0(r);return{c(){for(let u=0;u<e.length;u+=1)e[u].c();n=O(),a&&a.c(),l=ae()},m(u,c){for(let f=0;f<e.length;f+=1)e[f].m(u,c);w(u,n,c),a&&a.m(u,c),w(u,l,c),s=!0},p(u,[c]){c&13&&(i=u[0],q(),e=pt(e,c,o,1,u,i,t,n.parentNode,ht,e0,n,xb),U()),u[1]?a?(a.p(u,c),c&2&&p(a,1)):(a=t0(u),a.c(),p(a,1),a.m(l.parentNode,l)):a&&(q(),g(a,1,1,()=>{a=null}),U())},i(u){if(!s){for(let c=0;c<i.length;c+=1)p(e[c]);p(a),s=!0}},o(u){for(let c=0;c<e.length;c+=1)g(e[c]);g(a),s=!1},d(u){for(let c=0;c<e.length;c+=1)e[c].d(u);u&&$(n),a&&a.d(u),u&&$(l)}}}function tZ(r,e,t){let{$$slots:n={},$$scope:l}=e,{paths:s}=e,i;function o(f,m){t(1,i={routePath:f,meta:m})}async function a(f){await Gt(),(i==null?void 0:i.routePath)===f&&t(1,i=void 0)}const u=(f,m)=>o(f,m.detail),c=f=>a(f);return r.$$set=f=>{"paths"in f&&t(0,s=f.paths),"$$scope"in f&&t(4,l=f.$$scope)},[s,i,o,a,l,n,u,c]}class n0 extends X{constructor(e){super(),Q(this,e,tZ,eZ,G,{paths:0})}}function nZ(r){let e,t;return e=new NQ({props:{queryManager:r[0],canEditMetadata:r[1]}}),e.$on("close",r[6]),e.$on("delete",r[5]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.queryManager=n[0]),l&2&&(s.canEditMetadata=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function rZ(r){var s;let e,t,n,l;return document.title=e=Rn((s=r[3].name)!=null?s:"Data Explorer"),n=new Or({props:{fitViewport:!0,$$slots:{default:[nZ]},$$scope:{ctx:r}}}),{c(){t=O(),C(n.$$.fragment)},m(i,o){w(i,t,o),y(n,i,o),l=!0},p(i,[o]){var u;(!l||o&8)&&e!==(e=Rn((u=i[3].name)!=null?u:"Data Explorer"))&&(document.title=e);const a={};o&1027&&(a.$$scope={dirty:o,ctx:i}),n.$set(a)},i(i){l||(p(n.$$.fragment,i),l=!0)},o(i){g(n.$$.fragment,i),l=!1},d(i){i&&$(t),S(n,i)}}}function lZ(r,e,t){let n,l,s,i=z,o=()=>(i(),i=se(n,h=>t(3,s=h)),n),a;r.$$.on_destroy.push(()=>i());const u=Xt();de(r,u,h=>t(9,a=h));let{database:c}=e,{schema:f}=e,{queryManager:m}=e;function d(){on.goto(rr(c.name,f.id))}function _(){s.id&&on.goto(Il(c.name,f.id,s.id))}return r.$$set=h=>{"database"in h&&t(7,c=h.database),"schema"in h&&t(8,f=h.schema),"queryManager"in h&&t(0,m=h.queryManager)},r.$$.update=()=>{var h;r.$$.dirty&1&&o(t(2,{query:n}=m,n)),r.$$.dirty&896&&t(1,l=(h=a==null?void 0:a.hasPermission({database:c,schema:f},"canEditMetadata"))!=null?h:!1)},[m,l,n,s,u,d,_,c,f,a]}class sZ extends X{constructor(e){super(),Q(this,e,lZ,rZ,G,{database:7,schema:8,queryManager:0})}}function iZ(r){let e,t;return e=new Nn({props:{item:{type:"simple",href:pr(r[0].name,r[1].id),label:"Data Explorer",icon:An}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&3&&(s.item={type:"simple",href:pr(n[0].name,n[1].id),label:"Data Explorer",icon:An}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function oZ(r){let e,t,n,l;const s=[uZ,aZ],i=[];function o(a,u){return a[5].name?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function aZ(r){let e,t;return e=new Nn({props:{item:{type:"simple",href:il(r[0].name,r[1].id,r[5].id),label:"Data Explorer",icon:An}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&35&&(s.item={type:"simple",href:il(n[0].name,n[1].id,n[5].id),label:"Data Explorer",icon:An}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function uZ(r){let e,t,n,l;return e=new Nn({props:{item:{type:"exploration",database:r[0],schema:r[1],query:{id:r[5].id,name:r[5].name}}}}),n=new Nn({props:{item:{type:"simple",href:il(r[0].name,r[1].id,r[5].id),label:"Edit",icon:vs}}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&35&&(o.item={type:"exploration",database:s[0],schema:s[1],query:{id:s[5].id,name:s[5].name}}),e.$set(o);const a={};i&35&&(a.item={type:"simple",href:il(s[0].name,s[1].id,s[5].id),label:"Edit",icon:vs}),n.$set(a)},i(s){l||(p(e.$$.fragment,s),p(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&$(t),S(n,s)}}}function cZ(r){let e,t;return e=new Wr({props:{$$slots:{default:[mZ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32768&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function fZ(r){let e,t;return e=new sZ({props:{queryManager:r[3],database:r[0],schema:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.queryManager=n[3]),l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function mZ(r){let e;return{c(){e=B("Exploration not found.")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function dZ(r){let e,t,n,l,s,i,o;const a=[oZ,iZ],u=[];function c(_,h){var b;return(b=_[5])!=null&&b.id?0:1}e=c(r),t=u[e]=a[e](r);const f=[fZ,cZ],m=[];function d(_,h){return _[3]?0:_[2]?1:-1}return~(l=d(r))&&(s=m[l]=f[l](r)),{c(){t.c(),n=O(),s&&s.c(),i=ae()},m(_,h){u[e].m(_,h),w(_,n,h),~l&&m[l].m(_,h),w(_,i,h),o=!0},p(_,[h]){let b=e;e=c(_),e===b?u[e].p(_,h):(q(),g(u[b],1,1,()=>{u[b]=null}),U(),t=u[e],t?t.p(_,h):(t=u[e]=a[e](_),t.c()),p(t,1),t.m(n.parentNode,n));let v=l;l=d(_),l===v?~l&&m[l].p(_,h):(s&&(q(),g(m[v],1,1,()=>{m[v]=null}),U()),~l?(s=m[l],s?s.p(_,h):(s=m[l]=f[l](_),s.c()),p(s,1),s.m(i.parentNode,i)):s=null)},i(_){o||(p(t),p(s),o=!0)},o(_){g(t),g(s),o=!1},d(_){u[e].d(_),_&&$(n),~l&&m[l].d(_),_&&$(i)}}}function pZ(r,e,t){let n,l,s,i=z,o=()=>(i(),i=se(_,E=>t(5,s=E)),_);de(r,on,E=>t(8,n=E)),de(r,sr,E=>t(9,l=E)),r.$$.on_destroy.push(()=>i());let{database:a}=e,{schema:u}=e,{queryId:c}=e,f=!1,m,d,_=Tl(void 0);o();function h(E){m==null||m.destroy(),t(3,m=new Ja({query:new On(E),abstractTypeMap:l.data,onSave:async P=>{try{const R=il(a.name,u.id,P.id);on.goto(R,!0)}catch(R){console.error("There was an error when updating the URL",R)}}})),o(t(4,_=m.query)),t(2,f=!1)}function b(){m==null||m.destroy(),t(2,f=!0),o(t(4,_=Tl(void 0))),t(3,m=void 0)}function v(){if(m&&typeof m.getQueryModel().id>"u")return;const{hash:E}=n;if(E)try{const P=zQ(E);on.location.hash.clear(),h(P!=null?P:{});return}catch(P){console.error("Unable to create query model from hash",E)}h({})}async function k(E){if(Number.isNaN(E)){b();return}if(!(m&&m.getQueryModel().id===E)){d==null||d.cancel(),d=wV(E);try{const P=await d;h(P)}catch(P){b()}}}function T(E){E?k(E):v()}return r.$$set=E=>{"database"in E&&t(0,a=E.database),"schema"in E&&t(1,u=E.schema),"queryId"in E&&t(6,c=E.queryId)},r.$$.update=()=>{r.$$.dirty&64&&T(c)},[a,u,f,m,_,s,c]}class _Z extends X{constructor(e){super(),Q(this,e,pZ,dZ,G,{database:0,schema:1,queryId:6})}}function gZ(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,_=z,h=()=>(_(),_=se(m,Oe=>t(16,d=Oe)),m),b,v=z,k=()=>(v(),v=se(o,Oe=>t(17,b=Oe)),o),T,E=z,P=()=>(E(),E=se(i,Oe=>t(27,T=Oe)),i),R,L=z,A=()=>(L(),L=se(c,Oe=>t(18,R=Oe)),c),N,F=z,K=()=>(F(),F=se(f,Oe=>t(19,N=Oe)),f),W,j=z,Y=()=>(j(),j=se(u,Oe=>t(20,W=Oe)),u),oe,te=z,ne=()=>(te(),te=se(a,Oe=>t(21,oe=Oe)),a),H;r.$$.on_destroy.push(()=>_()),r.$$.on_destroy.push(()=>v()),r.$$.on_destroy.push(()=>E()),r.$$.on_destroy.push(()=>L()),r.$$.on_destroy.push(()=>F()),r.$$.on_destroy.push(()=>j()),r.$$.on_destroy.push(()=>te());const ee=Rt();de(r,ee,Oe=>t(22,H=Oe));let{api:pe}=e,ue,ie,me,Se;my(()=>{t(9,ue=oe),t(10,ie=W),t(11,me=R),t(12,Se=N)});let $e=0,He=0,we,je;async function Re(Oe,Ze){var ot,nt;if(we!==R||R.entries.length>0&&je!==Oe){await Gt(),pe.recalculateHeightsAfterIndex(0),we=R,je=Oe;return}const Ke=(ot=Ze.length)!=null?ot:0,tt=(nt=T.length)!=null?nt:0;if($e!==tt){const ze=Math.max(He-$e-3,0);await Gt(),$e<tt&&pe.scrollToBottom(),$e=tt,He=Ke,pe.recalculateHeightsAfterIndex(ze)}}return r.$$set=Oe=>{"api"in Oe&&t(8,pe=Oe.api)},r.$$.update=()=>{r.$$.dirty&4194304&&t(15,{recordsData:n,display:l,meta:s}=H,n,(t(13,l),t(22,H)),(t(14,s),t(22,H))),r.$$.dirty&32768&&P(t(6,{newRecords:i,state:o}=n,i,k(t(5,o)))),r.$$.dirty&16384&&ne(t(4,{sorting:a,filtering:u,grouping:c,pagination:f}=s,a,Y(t(3,u)),A(t(2,c)),K(t(1,f)))),r.$$.dirty&8192&&h(t(0,{displayableRecords:m}=l,m)),r.$$.dirty&3940096&&(ue!==oe||ie!==W||me!==R||Se!==N)&&pe.scrollToTop(),r.$$.dirty&196608&&Re(b,d)},[m,f,c,u,a,o,i,ee,pe,ue,ie,me,Se,l,s,n,d,b,R,N,W,oe,H]}class hZ extends X{constructor(e){super(),Q(this,e,gZ,null,G,{api:8})}}function bZ(r){let e,t,n,l=[{class:"new-record-message"},r[1],{style:n=r[2]+";min-width:400px;"}],s={};for(let i=0;i<l.length;i+=1)s=x(s,l[i]);return{c(){e=I("div"),t=B("New records will be repositioned on refresh"),it(e,s),Z(e,"svelte-1omvatk",!0)},m(i,o){w(i,e,o),M(e,t)},p(i,o){it(e,s=ce(l,[{class:"new-record-message"},o&2&&i[1],o&4&&n!==(n=i[2]+";min-width:400px;")&&{style:n}])),Z(e,"svelte-1omvatk",!0)},d(i){i&&$(e)}}}function $Z(r){let e,t;return e=new pv({props:{index:0,columnSpan:r[0]+1,$$slots:{default:[bZ,({htmlAttributes:n,style:l})=>({1:n,2:l}),({htmlAttributes:n,style:l})=>(n?2:0)|(l?4:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.columnSpan=n[0]+1),l&14&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function wZ(r,e,t){let{columnCount:n}=e;return r.$$set=l=>{"columnCount"in l&&t(0,n=l.columnCount)},[n]}class vZ extends X{constructor(e){super(),Q(this,e,wZ,$Z,G,{columnCount:0})}}function r0(r){let e,t;return{c(){e=I("span"),t=B(r[2]),D(e,"class","preproc svelte-11781fh")},m(n,l){w(n,e,l),M(e,t)},p(n,l){l&4&&he(t,n[2])},d(n){n&&$(e)}}}function kZ(r){let e,t;return e=new Bi({props:{value:r[3]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.value=n[3]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function yZ(r){let e,t;return e=new Va({props:{recordSummary:r[6],recordId:r[4],recordPageHref:r[5]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&64&&(s.recordSummary=n[6]),l&16&&(s.recordId=n[4]),l&32&&(s.recordPageHref=n[5]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function SZ(r){var h,b;let e,t,n=((b=(h=r[0].get(r[1]))==null?void 0:h.column.name)!=null?b:"")+"",l,s,i,o,a,u,c,f=r[2]&&r0(r);const m=[yZ,kZ],d=[];function _(v,k){return v[6]?0:1}return a=_(r),u=d[a]=m[a](r),{c(){e=I("span"),t=I("span"),l=B(n),s=O(),f&&f.c(),i=O(),o=I("span"),u.c(),D(t,"class","name svelte-11781fh"),D(o,"class","value svelte-11781fh"),D(e,"class","tag svelte-11781fh")},m(v,k){w(v,e,k),M(e,t),M(t,l),M(t,s),f&&f.m(t,null),M(e,i),M(e,o),d[a].m(o,null),c=!0},p(v,[k]){var E,P;(!c||k&3)&&n!==(n=((P=(E=v[0].get(v[1]))==null?void 0:E.column.name)!=null?P:"")+"")&&he(l,n),v[2]?f?f.p(v,k):(f=r0(v),f.c(),f.m(t,null)):f&&(f.d(1),f=null);let T=a;a=_(v),a===T?d[a].p(v,k):(q(),g(d[T],1,1,()=>{d[T]=null}),U(),u=d[a],u?u.p(v,k):(u=d[a]=m[a](v),u.c()),p(u,1),u.m(o,null))},i(v){c||(p(u),c=!0)},o(v){g(u),c=!1},d(v){v&&$(e),f&&f.d(),d[a].d()}}}function CZ(r,e,t){let n,l,s,i;de(r,Nl,m=>t(8,i=m));let{processedColumnsMap:o}=e,{recordSummariesForSheet:a}=e,{columnId:u}=e,{preprocName:c=void 0}=e,{cellValue:f=void 0}=e;return r.$$set=m=>{"processedColumnsMap"in m&&t(0,o=m.processedColumnsMap),"recordSummariesForSheet"in m&&t(7,a=m.recordSummariesForSheet),"columnId"in m&&t(1,u=m.columnId),"preprocName"in m&&t(2,c=m.preprocName),"cellValue"in m&&t(3,f=m.cellValue)},r.$$.update=()=>{var m,d,_;r.$$.dirty&8&&t(4,n=String(f)),r.$$.dirty&146&&t(6,l=(m=a.get(String(u)))==null?void 0:m.get(n)),r.$$.dirty&275&&t(5,s=i({tableId:(_=(d=o==null?void 0:o.get(u))==null?void 0:d.linkFk)==null?void 0:_.referent_table,recordId:n}))},[o,u,c,f,n,s,l,a,i]}class TZ extends X{constructor(e){super(),Q(this,e,CZ,SZ,G,{processedColumnsMap:0,recordSummariesForSheet:7,columnId:1,preprocName:2,cellValue:3})}}function l0(r,e,t){const n=r.slice();return n[11]=e[t],n[13]=t,n}function s0(r,e){let t,n,l;return n=new TZ({props:{processedColumnsMap:e[0],cellValue:e[1].groupValues?e[1].groupValues[e[11]]:void 0,recordSummariesForSheet:e[3],columnId:e[11],preprocName:e[5][e[13]]}}),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&1&&(o.processedColumnsMap=e[0]),i&18&&(o.cellValue=e[1].groupValues?e[1].groupValues[e[11]]:void 0),i&8&&(o.recordSummariesForSheet=e[3]),i&16&&(o.columnId=e[11]),i&48&&(o.preprocName=e[5][e[13]]),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}function DZ(r){let e=r[2].count+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&4&&e!==(e=n[2].count+"")&&he(t,e)},d(n){n&&$(t)}}}function IZ(r){let e,t,n,l,s=[],i=new Map,o,a,u,c,f;t=new cr({props:{color:"var(--sand-200)"}});let m=r[4];const d=b=>b[11];for(let b=0;b<m.length;b+=1){let v=l0(r,m,b),k=d(v);i.set(k,s[b]=s0(k,v))}u=new mc({props:{$$slots:{default:[DZ]},$$scope:{ctx:r}}});let _=[r[9],{style:c=r[10]},{class:"group-header"}],h={};for(let b=0;b<_.length;b+=1)h=x(h,_[b]);return{c(){e=I("div"),C(t.$$.fragment),n=O(),l=I("div");for(let b=0;b<s.length;b+=1)s[b].c();o=O(),a=I("div"),C(u.$$.fragment),D(a,"class","count-container svelte-178oaf1"),D(l,"class","groups-data svelte-178oaf1"),it(e,h),Z(e,"svelte-178oaf1",!0)},m(b,v){w(b,e,v),y(t,e,null),M(e,n),M(e,l);for(let k=0;k<s.length;k+=1)s[k].m(l,null);M(l,o),M(l,a),y(u,a,null),f=!0},p(b,v){v&59&&(m=b[4],q(),s=pt(s,v,d,1,b,m,i,l,ht,s0,o,l0),U());const k={};v&16388&&(k.$$scope={dirty:v,ctx:b}),u.$set(k),it(e,h=ce(_,[v&512&&b[9],(!f||v&1024&&c!==(c=b[10]))&&{style:c},{class:"group-header"}])),Z(e,"svelte-178oaf1",!0)},i(b){if(!f){p(t.$$.fragment,b);for(let v=0;v<m.length;v+=1)p(s[v]);p(u.$$.fragment,b),f=!0}},o(b){g(t.$$.fragment,b);for(let v=0;v<s.length;v+=1)g(s[v]);g(u.$$.fragment,b),f=!1},d(b){b&&$(e),S(t);for(let v=0;v<s.length;v+=1)s[v].d();S(u)}}}function EZ(r){let e,t;return e=new pv({props:{index:0,columnSpan:r[0].size+1,$$slots:{default:[IZ,({htmlAttributes:n,style:l})=>({9:n,10:l}),({htmlAttributes:n,style:l})=>(n?512:0)|(l?1024:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.columnSpan=n[0].size+1),l&17983&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function MZ(r,e,t){let n,l,s,i,{processedColumnsMap:o}=e,{row:a}=e,{grouping:u}=e,{group:c}=e,{recordSummariesForSheet:f}=e;return r.$$set=m=>{"processedColumnsMap"in m&&t(0,o=m.processedColumnsMap),"row"in m&&t(1,a=m.row),"grouping"in m&&t(6,u=m.grouping),"group"in m&&t(2,c=m.group),"recordSummariesForSheet"in m&&t(3,f=m.recordSummariesForSheet)},r.$$.update=()=>{r.$$.dirty&64&&t(4,{columnIds:n,preprocIds:l}=u,n,(t(8,l),t(6,u))),r.$$.dirty&17&&t(7,s=n.map(m=>{var d,_;return(_=(d=o.get(m))==null?void 0:d.preprocFunctions)!=null?_:[]})),r.$$.dirty&384&&t(5,i=l.map((m,d)=>{var _;return m?(_=s[d].find(h=>h.id===m))==null?void 0:_.name:void 0}))},[o,a,c,f,n,i,u,s,l]}class AZ extends X{constructor(e){super(),Q(this,e,MZ,EZ,G,{processedColumnsMap:0,row:1,grouping:6,group:2,recordSummariesForSheet:3})}}function RZ(r){let e,t,n,l,s,i,o,a;return e=new cr({props:{when:r[0],color:"var(--cell-bg-color-row-selected)"}}),n=new cr({props:{when:r[1],color:"var(--cell-bg-color-processing)"}}),s=new cr({props:{when:r[2],color:"var(--cell-bg-color-error)"}}),o=new cr({props:{class:"cell-bg-row-hover",color:"var(--cell-bg-color-row-hover, var(--cell-bg-color-base, white))"}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment),l=O(),C(s.$$.fragment),i=O(),C(o.$$.fragment)},m(u,c){y(e,u,c),w(u,t,c),y(n,u,c),w(u,l,c),y(s,u,c),w(u,i,c),y(o,u,c),a=!0},p(u,[c]){const f={};c&1&&(f.when=u[0]),e.$set(f);const m={};c&2&&(m.when=u[1]),n.$set(m);const d={};c&4&&(d.when=u[2]),s.$set(d)},i(u){a||(p(e.$$.fragment,u),p(n.$$.fragment,u),p(s.$$.fragment,u),p(o.$$.fragment,u),a=!0)},o(u){g(e.$$.fragment,u),g(n.$$.fragment,u),g(s.$$.fragment,u),g(o.$$.fragment,u),a=!1},d(u){S(e,u),u&&$(t),S(n,u),u&&$(l),S(s,u),u&&$(i),S(o,u)}}}function PZ(r,e,t){let{isSelected:n=!1}=e,{isProcessing:l=!1}=e,{hasErrors:s=!1}=e;return r.$$set=i=>{"isSelected"in i&&t(0,n=i.isSelected),"isProcessing"in i&&t(1,l=i.isProcessing),"hasErrors"in i&&t(2,s=i.hasErrors)},[n,l,s]}class sk extends X{constructor(e){super(),Q(this,e,PZ,RZ,G,{isSelected:0,isProcessing:1,hasErrors:2})}}function i0(r){let e,t=r[0].join(" ")+"",n,l,s,i;return{c(){e=I("div"),n=B(t),D(e,"class","errors svelte-1sujiaa")},m(o,a){w(o,e,a),M(e,n),s||(i=[Dn(Rs.call(null,e)),Dn(l=fc.call(null,e,{reference:r[3],options:{placement:"top-start"}}))],s=!0)},p(o,a){a&1&&t!==(t=o[0].join(" ")+"")&&he(n,t),l&&Et(l.update)&&a&8&&l.update.call(null,{reference:o[3],options:{placement:"top-start"}})},d(o){o&&$(e),s=!1,Dt(i)}}}function OZ(r){let e,t,n,l,s=r[3]&&r[2]&&i0(r);return{c(){e=It("svg"),t=It("path"),n=O(),s&&s.c(),l=ae(),D(t,"d","M 0 0 L 10 0 L 10 10 Z"),D(t,"class","svelte-1sujiaa"),D(e,"class","error-indicator svelte-1sujiaa"),D(e,"viewBox","0 0 10 10")},m(i,o){w(i,e,o),M(e,t),r[6](e),w(i,n,o),s&&s.m(i,o),w(i,l,o)},p(i,[o]){i[3]&&i[2]?s?s.p(i,o):(s=i0(i),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},i:z,o:z,d(i){i&&$(e),r[6](null),i&&$(n),s&&s.d(i),i&&$(l)}}}function LZ(r,e,t){let n,l,{errors:s}=e,{forceShowErrors:i=!1}=e,o,a=!1;function u(){t(5,a=!0)}function c(){t(5,a=!1)}rn(()=>{const m=o==null?void 0:o.parentElement;return m?(m.addEventListener("mouseenter",u),m.addEventListener("mouseleave",c),()=>{m.removeEventListener("mouseenter",u),m.removeEventListener("mouseleave",c)}):()=>{}});function f(m){ye[m?"unshift":"push"](()=>{o=m,t(1,o)})}return r.$$set=m=>{"errors"in m&&t(0,s=m.errors),"forceShowErrors"in m&&t(4,i=m.forceShowErrors)},r.$$.update=()=>{r.$$.dirty&2&&t(3,n=o==null?void 0:o.parentElement),r.$$.dirty&48&&t(2,l=a||i)},[s,o,l,n,i,a,f]}class ik extends X{constructor(e){super(),Q(this,e,LZ,OZ,G,{errors:0,forceShowErrors:4})}}class NZ extends K4{async beginAddingNewFilteringEntry(e){await this.dispatch("openDropdown"),await Gt(),await this.dispatch("addFilter",e),await Gt(),await this.dispatch("activateLastFilterInput")}onOpenDropdown(e){return this.on("openDropdown",e)}onAddFilter(e){return this.on("addFilter",e)}onActivateLastFilterInput(e){return this.on("activateLastFilterInput",e)}}const ok=Symbol("ImperativeFilterController");function FZ(){const r=new NZ;return Un(ok,r),r}function Af(){return In(ok)}function o0(r){let e,t;return e=new xt({props:{icon:jI,$$slots:{default:[VZ]},$$scope:{ctx:r}}}),e.$on("click",r[10]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1073741888&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function zZ(r){let e;return{c(){e=B("Filter Column")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function HZ(r){let e;return{c(){e=B("Add Filter")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function VZ(r){let e;function t(s,i){return s[6]>0?HZ:zZ}let n=t(r),l=n(r);return{c(){l.c(),e=ae()},m(s,i){l.m(s,i),w(s,e,i)},p(s,i){n!==(n=t(s))&&(l.d(1),l=n(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&$(e)}}}function a0(r){let e,t;return e=new xt({props:{icon:QI,$$slots:{default:[qZ]},$$scope:{ctx:r}}}),e.$on("click",r[11]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1073741888&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function qZ(r){let e,t=Yt(r[6],"filters",{casing:"title",countWhenSingular:"hidden"})+"",n;return{c(){e=B("Remove "),n=B(t)},m(l,s){w(l,e,s),w(l,n,s)},p(l,s){s&64&&t!==(t=Yt(l[6],"filters",{casing:"title",countWhenSingular:"hidden"})+"")&&he(n,t)},d(l){l&&$(e),l&&$(n)}}}function UZ(r){let e,t;return e=new xt({props:{icon:Oo,$$slots:{default:[BZ]},$$scope:{ctx:r}}}),e.$on("click",r[27]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1073741840&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function WZ(r){let e,t;return e=new xt({props:{icon:Oo,$$slots:{default:[jZ]},$$scope:{ctx:r}}}),e.$on("click",r[12]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1073741840&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function BZ(r){let e,t=r[4].ASCENDING+"",n;return{c(){e=B("Sort "),n=B(t)},m(l,s){w(l,e,s),w(l,n,s)},p(l,s){s&16&&t!==(t=l[4].ASCENDING+"")&&he(n,t)},d(l){l&&$(e),l&&$(n)}}}function jZ(r){let e,t=r[4].ASCENDING+"",n,l;return{c(){e=B("Remove "),n=B(t),l=B(" Sorting")},m(s,i){w(s,e,i),w(s,n,i),w(s,l,i)},p(s,i){i&16&&t!==(t=s[4].ASCENDING+"")&&he(n,t)},d(s){s&&$(e),s&&$(n),s&&$(l)}}}function YZ(r){let e,t;return e=new xt({props:{icon:Lo,$$slots:{default:[GZ]},$$scope:{ctx:r}}}),e.$on("click",r[28]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1073741840&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function KZ(r){let e,t;return e=new xt({props:{icon:Lo,$$slots:{default:[QZ]},$$scope:{ctx:r}}}),e.$on("click",r[12]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1073741840&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function GZ(r){let e,t=r[4].DESCENDING+"",n;return{c(){e=B("Sort "),n=B(t)},m(l,s){w(l,e,s),w(l,n,s)},p(l,s){s&16&&t!==(t=l[4].DESCENDING+"")&&he(n,t)},d(l){l&&$(e),l&&$(n)}}}function QZ(r){let e,t=r[4].DESCENDING+"",n,l;return{c(){e=B("Remove "),n=B(t),l=B(" Sorting")},m(s,i){w(s,e,i),w(s,n,i),w(s,l,i)},p(s,i){i&16&&t!==(t=s[4].DESCENDING+"")&&he(n,t)},d(s){s&&$(e),s&&$(n),s&&$(l)}}}function XZ(r){let e,t;return e=new xt({props:{icon:Ss,$$slots:{default:[ZZ]},$$scope:{ctx:r}}}),e.$on("click",r[14]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1073741824&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function JZ(r){let e,t;return e=new xt({props:{icon:Ss,$$slots:{default:[xZ]},$$scope:{ctx:r}}}),e.$on("click",r[15]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1073741824&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ZZ(r){let e;return{c(){e=B("Group by Column")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function xZ(r){let e;return{c(){e=B("Remove Grouping")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function ex(r){let e,t,n,l,s,i,o,a,u,c,f,m,d=r[7]&&o0(r),_=r[6]>0&&a0(r);const h=[WZ,UZ],b=[];function v(A,N){return A[5]==="ASCENDING"?0:1}n=v(r),l=b[n]=h[n](r);const k=[KZ,YZ],T=[];function E(A,N){return A[5]==="DESCENDING"?0:1}i=E(r),o=T[i]=k[i](r);const P=[JZ,XZ],R=[];function L(A,N){return A[3]?0:1}return u=L(r),c=R[u]=P[u](r),{c(){d&&d.c(),e=O(),_&&_.c(),t=O(),l.c(),s=O(),o.c(),a=O(),c.c(),f=ae()},m(A,N){d&&d.m(A,N),w(A,e,N),_&&_.m(A,N),w(A,t,N),b[n].m(A,N),w(A,s,N),T[i].m(A,N),w(A,a,N),R[u].m(A,N),w(A,f,N),m=!0},p(A,[N]){A[7]?d?(d.p(A,N),N&128&&p(d,1)):(d=o0(A),d.c(),p(d,1),d.m(e.parentNode,e)):d&&(q(),g(d,1,1,()=>{d=null}),U()),A[6]>0?_?(_.p(A,N),N&64&&p(_,1)):(_=a0(A),_.c(),p(_,1),_.m(t.parentNode,t)):_&&(q(),g(_,1,1,()=>{_=null}),U());let F=n;n=v(A),n===F?b[n].p(A,N):(q(),g(b[F],1,1,()=>{b[F]=null}),U(),l=b[n],l?l.p(A,N):(l=b[n]=h[n](A),l.c()),p(l,1),l.m(s.parentNode,s));let K=i;i=E(A),i===K?T[i].p(A,N):(q(),g(T[K],1,1,()=>{T[K]=null}),U(),o=T[i],o?o.p(A,N):(o=T[i]=k[i](A),o.c()),p(o,1),o.m(a.parentNode,a));let W=u;u=L(A),u===W?R[u].p(A,N):(q(),g(R[W],1,1,()=>{R[W]=null}),U(),c=R[u],c?c.p(A,N):(c=R[u]=P[u](A),c.c()),p(c,1),c.m(f.parentNode,f))},i(A){m||(p(d),p(_),p(l),p(o),p(c),m=!0)},o(A){g(d),g(_),g(l),g(o),g(c),m=!1},d(A){d&&d.d(A),A&&$(e),_&&_.d(A),A&&$(t),b[n].d(A),A&&$(s),T[i].d(A),A&&$(a),R[u].d(A),A&&$(f)}}}function tx(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,_,h=z,b=()=>(h(),h=se(i,me=>t(20,_=me)),i),v,k=z,T=()=>(k(),k=se(s,me=>t(21,v=me)),s),E,P=z,R=()=>(P(),P=se(o,me=>t(22,E=me)),o),L,A,N,F;de(r,hn,me=>t(24,A=me)),de(r,gn,me=>t(25,N=me)),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>k()),r.$$.on_destroy.push(()=>P());const K=Xt();de(r,K,me=>t(26,F=me));let{processedColumn:W}=e;const j=Af(),Y=Rt();de(r,Y,me=>t(23,L=me));function oe(){j==null||j.beginAddingNewFilteringEntry(a)}function te(){o.update(me=>me.withoutColumns([a]))}function ne(){s.update(me=>me.without(a))}function H(me){s.update(Se=>Se.with(a,me))}function ee(){i.update(me=>me.withEntry({columnId:a,preprocFnId:void 0}))}function pe(){i.update(me=>me.withoutColumns([a]))}const ue=()=>H("ASCENDING"),ie=()=>H("DESCENDING");return r.$$set=me=>{"processedColumn"in me&&t(16,W=me.processedColumn)},r.$$.update=()=>{r.$$.dirty&117440512&&t(19,n=!!(F!=null&&F.hasPermission({database:N,schema:A},"canViewLinkedEntities"))),r.$$.dirty&589824&&t(7,l=W.linkFk?n:!0),r.$$.dirty&8388608&&T(t(1,{meta:{sorting:s,grouping:i,filtering:o}}=L,s,b(t(0,i)),R(t(2,o)))),r.$$.dirty&65536&&t(17,a=W.id),r.$$.dirty&4325376&&t(18,u=E.entries.filter(me=>me.columnId===a)),r.$$.dirty&262144&&t(6,c=u.length),r.$$.dirty&2162688&&t(5,f=v.get(W.id)),r.$$.dirty&65536&&t(4,m=cv(W.abstractType.cellInfo.type,!!W.linkFk)),r.$$.dirty&1179648&&t(3,d=_.hasColumn(a))},[i,s,o,d,m,f,c,l,K,Y,oe,te,ne,H,ee,pe,W,a,u,n,_,v,E,L,A,N,F,ue,ie]}class ak extends X{constructor(e){super(),Q(this,e,tx,ex,G,{processedColumn:16})}}const uk=r=>`Once deleted, the ${Er(r,"records")} cannot be recovered. Are you sure you want to proceed?`;function u0(r){let e,t;return e=new Ir({props:{href:r[3]({recordId:r[0]})||"",icon:xr,$$slots:{default:[nx]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&9&&(s.href=n[3]({recordId:n[0]})||""),l&8192&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function nx(r){let e;return{c(){e=B("Go to Record Page")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function c0(r){let e,t;return e=new xt({props:{icon:Ut,$$slots:{default:[rx]},$$scope:{ctx:r}}}),e.$on("click",r[5]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8192&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function rx(r){let e;return{c(){e=B("Delete Record")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function lx(r){let e,t,n,l=r[1]&&u0(r),s=r[2]&&c0(r);return{c(){l&&l.c(),e=O(),s&&s.c(),t=ae()},m(i,o){l&&l.m(i,o),w(i,e,o),s&&s.m(i,o),w(i,t,o),n=!0},p(i,[o]){i[1]?l?(l.p(i,o),o&2&&p(l,1)):(l=u0(i),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(q(),g(l,1,1,()=>{l=null}),U()),i[2]?s?(s.p(i,o),o&4&&p(s,1)):(s=c0(i),s.c(),p(s,1),s.m(t.parentNode,t)):s&&(q(),g(s,1,1,()=>{s=null}),U())},i(i){n||(p(l),p(s),n=!0)},o(i){g(l),g(s),n=!1},d(i){l&&l.d(i),i&&$(e),s&&s.d(i),i&&$(t)}}}function sx(r,e,t){let n,l,s,i,o,a,u,c;de(r,hn,b=>t(11,a=b)),de(r,gn,b=>t(12,u=b)),de(r,Nl,b=>t(3,c=b));let{row:f}=e,{recordPk:m}=e,{recordsData:d}=e;const _=Xt();de(r,_,b=>t(10,o=b));async function h(){if(Cr(f)){const b=[Number(f.rowIndex)];_l({identifierType:"Record",body:uk(b),onProceed:()=>d.deleteSelected(b),onError:v=>At.fromError(v),onSuccess:()=>At.success({title:"Record deleted successfully!"})})}}return r.$$set=b=>{"row"in b&&t(6,f=b.row),"recordPk"in b&&t(0,m=b.recordPk),"recordsData"in b&&t(7,d=b.recordsData)},r.$$.update=()=>{r.$$.dirty&4096&&t(9,n=u),r.$$.dirty&2048&&t(8,l=a),r.$$.dirty&1792&&t(2,s=!!(o!=null&&o.hasPermission({database:n,schema:l},"canEditTableRecords"))),r.$$.dirty&1792&&t(1,i=!!(o!=null&&o.hasPermission({database:n,schema:l},"canViewLinkedEntities")))},[m,i,s,c,_,h,f,d,l,n,o,a,u]}class ck extends X{constructor(e){super(),Q(this,e,sx,lx,G,{row:6,recordPk:0,recordsData:7})}}function f0(r){let e,t;return e=new sk({props:{hasErrors:r[4]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&16&&(s.hasErrors=n[4]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function m0(r){let e,t,n,l,s,i;e=new zs({props:{$$slots:{default:[ix]},$$scope:{ctx:r}}});let o=r[12]&&d0(r),a=r[15]&&r[11]&&p0(r);return s=new Ni({}),{c(){C(e.$$.fragment),t=O(),o&&o.c(),n=O(),a&&a.c(),l=O(),C(s.$$.fragment)},m(u,c){y(e,u,c),w(u,t,c),o&&o.m(u,c),w(u,n,c),a&&a.m(u,c),w(u,l,c),y(s,u,c),i=!0},p(u,c){const f={};c[1]&33554432&&(f.$$scope={dirty:c,ctx:u}),e.$set(f),u[12]?o?(o.p(u,c),c[0]&4096&&p(o,1)):(o=d0(u),o.c(),p(o,1),o.m(n.parentNode,n)):o&&(q(),g(o,1,1,()=>{o=null}),U()),u[15]&&u[11]?a?(a.p(u,c),c[0]&34816&&p(a,1)):(a=p0(u),a.c(),p(a,1),a.m(l.parentNode,l)):a&&(q(),g(a,1,1,()=>{a=null}),U())},i(u){i||(p(e.$$.fragment,u),p(o),p(a),p(s.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),g(o),g(a),g(s.$$.fragment,u),i=!1},d(u){S(e,u),u&&$(t),o&&o.d(u),u&&$(n),a&&a.d(u),u&&$(l),S(s,u)}}}function ix(r){let e;return{c(){e=B("Cell")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function d0(r){let e,t;return e=new xt({props:{icon:Z$,disabled:!r[19],$$slots:{default:[ox]},$$scope:{ctx:r}}}),e.$on("click",r[52]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&524288&&(s.disabled=!n[19]),l[1]&33554432&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ox(r){let e,t,n;return t=new Us({}),{c(){e=B("Set to "),C(t.$$.fragment)},m(l,s){w(l,e,s),y(t,l,s),n=!0},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t,l)}}}function p0(r){let e,t;return e=new Ir({props:{icon:Ho,href:r[11],$$slots:{default:[ax]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&2048&&(s.href=n[11]),l[1]&33554432&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ax(r){let e;return{c(){e=B("Go To Linked Record")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function ux(r){let e;return{c(){e=B("Column")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function _0(r){let e,t,n,l,s,i;return e=new Ni({}),n=new zs({props:{$$slots:{default:[cx]},$$scope:{ctx:r}}}),s=new ck({props:{recordPk:r[8],recordsData:r[1],row:r[3]}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment),l=O(),C(s.$$.fragment)},m(o,a){y(e,o,a),w(o,t,a),y(n,o,a),w(o,l,a),y(s,o,a),i=!0},p(o,a){const u={};a[1]&33554432&&(u.$$scope={dirty:a,ctx:o}),n.$set(u);const c={};a[0]&256&&(c.recordPk=o[8]),a[0]&2&&(c.recordsData=o[1]),a[0]&8&&(c.row=o[3]),s.$set(c)},i(o){i||(p(e.$$.fragment,o),p(n.$$.fragment,o),p(s.$$.fragment,o),i=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),g(s.$$.fragment,o),i=!1},d(o){S(e,o),o&&$(t),S(n,o),o&&$(l),S(s,o)}}}function cx(r){let e;return{c(){e=B("Row")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function fx(r){let e,t,n,l,s,i,o,a=(r[12]||r[15])&&m0(r);t=new zs({props:{$$slots:{default:[ux]},$$scope:{ctx:r}}}),l=new ak({props:{processedColumn:r[6]}});let u=(r[12]||r[15])&&_0(r);return{c(){a&&a.c(),e=O(),C(t.$$.fragment),n=O(),C(l.$$.fragment),s=O(),u&&u.c(),i=ae()},m(c,f){a&&a.m(c,f),w(c,e,f),y(t,c,f),w(c,n,f),y(l,c,f),w(c,s,f),u&&u.m(c,f),w(c,i,f),o=!0},p(c,f){c[12]||c[15]?a?(a.p(c,f),f[0]&36864&&p(a,1)):(a=m0(c),a.c(),p(a,1),a.m(e.parentNode,e)):a&&(q(),g(a,1,1,()=>{a=null}),U());const m={};f[1]&33554432&&(m.$$scope={dirty:f,ctx:c}),t.$set(m);const d={};f[0]&64&&(d.processedColumn=c[6]),l.$set(d),c[12]||c[15]?u?(u.p(c,f),f[0]&36864&&p(u,1)):(u=_0(c),u.c(),p(u,1),u.m(i.parentNode,i)):u&&(q(),g(u,1,1,()=>{u=null}),U())},i(c){o||(p(a),p(t.$$.fragment,c),p(l.$$.fragment,c),p(u),o=!0)},o(c){g(a),g(t.$$.fragment,c),g(l.$$.fragment,c),g(u),o=!1},d(c){a&&a.d(c),c&&$(e),S(t,c),c&&$(n),S(l,c),c&&$(s),u&&u.d(c),c&&$(i)}}}function g0(r){let e,t;return e=new ik({props:{errors:r[14],forceShowErrors:r[21]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&16384&&(s.errors=n[14]),l[0]&2097152&&(s.forceShowErrors=n[21]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function mx(r){var v;let e,t,n,l,s,i,o,a,u,c,f,m;t=new cr({props:{when:r[18],color:"var(--cell-bg-color-error)"}}),l=new cr({props:{when:!r[16],color:"var(--cell-bg-color-disabled)"}});let d=!(r[16]&&r[21])&&f0(r);o=new Qi({props:{columnFabric:r[6],isActive:r[21],isSelectedInRange:r[20],value:r[0],isProcessing:r[17],canViewLinkedEntities:r[10],recordSummary:(v=r[27].get(String(r[9].id)))==null?void 0:v.get(String(r[0])),setRecordSummary:r[48],showAsSkeleton:r[28]===St.Loading,disabled:!r[16],horizontalAlignment:r[9].primary_key?"left":void 0}}),o.$on("movementKeyDown",r[30]),o.$on("activate",r[49]),o.$on("update",r[32]),o.$on("onSelectionStart",r[50]),o.$on("onMouseEnterCellWhileSelection",r[51]),u=new gc({props:{$$slots:{default:[fx]},$$scope:{ctx:r}}});let _=r[14].length&&g0(r),h=[{class:"cell editable-cell"},r[54],{style:f=r[55]}],b={};for(let k=0;k<h.length;k+=1)b=x(b,h[k]);return{c(){var k;e=I("div"),C(t.$$.fragment),n=O(),C(l.$$.fragment),s=O(),d&&d.c(),i=O(),C(o.$$.fragment),a=O(),C(u.$$.fragment),c=O(),_&&_.c(),it(e,b),Z(e,"error",r[18]),Z(e,"modified",((k=r[13])==null?void 0:k.state)==="success"),Z(e,"is-active",r[21]),Z(e,"is-processing",r[17]),Z(e,"is-pk",r[9].primary_key),Z(e,"is-selected",r[20]),Z(e,"svelte-6927nu",!0)},m(k,T){w(k,e,T),y(t,e,null),M(e,n),y(l,e,null),M(e,s),d&&d.m(e,null),M(e,i),y(o,e,null),M(e,a),y(u,e,null),M(e,c),_&&_.m(e,null),m=!0},p(k,T){var A,N;const E={};T[0]&262144&&(E.when=k[18]),t.$set(E);const P={};T[0]&65536&&(P.when=!k[16]),l.$set(P),k[16]&&k[21]?d&&(q(),g(d,1,1,()=>{d=null}),U()):d?(d.p(k,T),T[0]&2162688&&p(d,1)):(d=f0(k),d.c(),p(d,1),d.m(e,i));const R={};T[0]&64&&(R.columnFabric=k[6]),T[0]&2097152&&(R.isActive=k[21]),T[0]&1048576&&(R.isSelectedInRange=k[20]),T[0]&1&&(R.value=k[0]),T[0]&131072&&(R.isProcessing=k[17]),T[0]&1024&&(R.canViewLinkedEntities=k[10]),T[0]&134218241&&(R.recordSummary=(A=k[27].get(String(k[9].id)))==null?void 0:A.get(String(k[0]))),T[0]&50331648&&(R.setRecordSummary=k[48]),T[0]&268435456&&(R.showAsSkeleton=k[28]===St.Loading),T[0]&65536&&(R.disabled=!k[16]),T[0]&512&&(R.horizontalAlignment=k[9].primary_key?"left":void 0),o.$set(R);const L={};T[0]&563530|T[1]&33554432&&(L.$$scope={dirty:T,ctx:k}),u.$set(L),k[14].length?_?(_.p(k,T),T[0]&16384&&p(_,1)):(_=g0(k),_.c(),p(_,1),_.m(e,null)):_&&(q(),g(_,1,1,()=>{_=null}),U()),it(e,b=ce(h,[{class:"cell editable-cell"},T[1]&8388608&&k[54],(!m||T[1]&16777216&&f!==(f=k[55]))&&{style:f}])),Z(e,"error",k[18]),Z(e,"modified",((N=k[13])==null?void 0:N.state)==="success"),Z(e,"is-active",k[21]),Z(e,"is-processing",k[17]),Z(e,"is-pk",k[9].primary_key),Z(e,"is-selected",k[20]),Z(e,"svelte-6927nu",!0)},i(k){m||(p(t.$$.fragment,k),p(l.$$.fragment,k),p(d),p(o.$$.fragment,k),p(u.$$.fragment,k),p(_),m=!0)},o(k){g(t.$$.fragment,k),g(l.$$.fragment,k),g(d),g(o.$$.fragment,k),g(u.$$.fragment,k),g(_),m=!1},d(k){k&&$(e),S(t),S(l),d&&d.d(),S(o),S(u),_&&_.d()}}}function dx(r){let e,t;return e=new Pr({props:{columnIdentifierKey:r[9].id,$$slots:{default:[mx,({htmlAttributes:n,style:l})=>({54:n,55:l}),({htmlAttributes:n,style:l})=>[0,(n?8388608:0)|(l?16777216:0)]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&512&&(s.columnIdentifierKey=n[9].id),l[0]&457178975|l[1]&58720256&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function px(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,_,h,b,v,k,T,E,P,R,L,A,N,F,K,W,j=z,Y=()=>(j(),j=se(We,lt=>t(41,W=lt)),We),oe,te=z,ne=()=>(te(),te=se(ct,lt=>t(42,oe=lt)),ct),H,ee=z,pe=()=>(ee(),ee=se(d,lt=>t(43,H=lt)),d),ue,ie=z,me=()=>(ie(),ie=se(m,lt=>t(44,ue=lt)),m),Se,$e,He,we,je=z,Re=()=>(je(),je=se(a,lt=>t(27,we=lt)),a),Oe,Ze=z,Ke=()=>(Ze(),Ze=se(o,lt=>t(28,Oe=lt)),o);de(r,Nl,lt=>t(40,K=lt)),de(r,hn,lt=>t(46,$e=lt)),de(r,gn,lt=>t(47,He=lt)),r.$$.on_destroy.push(()=>j()),r.$$.on_destroy.push(()=>te()),r.$$.on_destroy.push(()=>ee()),r.$$.on_destroy.push(()=>ie()),r.$$.on_destroy.push(()=>je()),r.$$.on_destroy.push(()=>Ze());let{recordsData:tt}=e,{selection:ot}=e,{row:nt}=e,{rowHasErrors:ze=!1}=e,{key:Xe}=e,{modificationStatusMap:ct}=e;ne();let{processedColumn:Ve}=e,{clientSideErrorMap:We}=e;Y();let{value:Je=void 0}=e,{rowKey:bt}=e;const _t=Xt();de(r,_t,lt=>t(45,Se=lt));async function xe(lt){lt==="moved"&&(await Gt(),Sv())}async function mt(lt){const{originalEvent:Nt}=lt.detail,Ct=ot.handleKeyEventsOnActiveCell(Nt);Ct&&(Nt.stopPropagation(),Nt.preventDefault(),await xe(Ct))}async function kt(lt){var Ct,Mn;if(lt===Je)return;t(0,Je=lt);const Nt=Xc(nt)?await tt.createOrUpdateRecord(nt,u):await tt.updateCell(nt,u);t(0,Je=(Mn=(Ct=Nt.record)==null?void 0:Ct[u.id])!=null?Mn:Je)}async function Wt(lt){await kt(lt.detail.value)}const Pt=(lt,Nt)=>a.addBespokeRecordSummary({columnId:String(f),recordId:lt,recordSummary:Nt}),rt=()=>{ot.activateCell(nt,Ve)},Kt=()=>{ot.onStartSelection(nt,Ve)},bn=()=>{ot.onMouseEnterCellWhileSelection(nt,Ve)},Jt=()=>kt(null);return r.$$set=lt=>{"recordsData"in lt&&t(1,tt=lt.recordsData),"selection"in lt&&t(2,ot=lt.selection),"row"in lt&&t(3,nt=lt.row),"rowHasErrors"in lt&&t(4,ze=lt.rowHasErrors),"key"in lt&&t(33,Xe=lt.key),"modificationStatusMap"in lt&&ne(t(5,ct=lt.modificationStatusMap)),"processedColumn"in lt&&t(6,Ve=lt.processedColumn),"clientSideErrorMap"in lt&&Y(t(7,We=lt.clientSideErrorMap)),"value"in lt&&t(0,Je=lt.value),"rowKey"in lt&&t(8,bt=lt.rowKey)},r.$$.update=()=>{var lt;r.$$.dirty[1]&65536&&t(39,n=He),r.$$.dirty[1]&32768&&t(38,l=$e),r.$$.dirty[1]&16768&&t(12,s=!!(Se!=null&&Se.hasPermission({database:n,schema:l},"canEditTableRecords"))),r.$$.dirty[1]&16768&&t(10,i=!!(Se!=null&&Se.hasPermission({database:n,schema:l},"canViewLinkedEntities"))),r.$$.dirty[0]&2&&Ke(t(26,o=tt.state)),r.$$.dirty[0]&2&&Re(t(25,{recordSummaries:a}=tt,a)),r.$$.dirty[0]&64&&t(9,{column:u,linkFk:c}=Ve,u,(t(34,c),t(6,Ve))),r.$$.dirty[0]&512&&t(24,f=u.id),r.$$.dirty[0]&4&&me(t(23,{activeCell:m,selectedCells:d}=ot,m,pe(t(22,d)))),r.$$.dirty[0]&72|r.$$.dirty[1]&8192&&t(21,_=ue&&kv(ue,nt,Ve)),r.$$.dirty[0]&72|r.$$.dirty[1]&4096&&t(20,h=Ci(H,nt,Ve)&&H.size>1),r.$$.dirty[1]&2052&&t(13,b=oe.get(Xe)),r.$$.dirty[0]&8192&&t(37,v=(b==null?void 0:b.state)==="failure"?b==null?void 0:b.errors:[]),r.$$.dirty[1]&1028&&t(36,k=(lt=W.get(Xe))!=null?lt:[]),r.$$.dirty[1]&96&&t(14,T=[...v,...k]),r.$$.dirty[0]&513&&t(19,E=u.nullable&&Je!==null),r.$$.dirty[0]&16384&&t(18,P=!!T.length),r.$$.dirty[0]&8192&&t(17,R=(b==null?void 0:b.state)==="processing"),r.$$.dirty[0]&4608&&t(16,L=!u.primary_key&&s),r.$$.dirty[1]&512&&t(35,A=K),r.$$.dirty[0]&1|r.$$.dirty[1]&24&&t(11,N=c?A({tableId:c.referent_table,recordId:Je}):void 0),r.$$.dirty[0]&3072&&t(15,F=N&&i)},[Je,tt,ot,nt,ze,ct,Ve,We,bt,u,i,N,s,b,T,F,L,R,P,E,h,_,d,m,f,a,o,we,Oe,_t,mt,kt,Wt,Xe,c,A,k,v,l,n,K,W,oe,H,ue,Se,$e,He,Pt,rt,Kt,bn,Jt]}class _x extends X{constructor(e){super(),Q(this,e,px,dx,G,{recordsData:1,selection:2,row:3,rowHasErrors:4,key:33,modificationStatusMap:5,processedColumn:6,clientSideErrorMap:7,value:0,rowKey:8},null,[-1,-1])}}function gx(r){var o;let e,t=r[0].rowIndex+(as(r[0])?((o=r[10])!=null?o:0)-r[11].length-r[12].length:r[13].offset)+1+"",n,l,s=as(r[0]),i=s&&h0();return{c(){e=I("span"),n=B(t),l=O(),i&&i.c(),D(e,"class","number")},m(a,u){w(a,e,u),M(e,n),M(e,l),i&&i.m(e,null)},p(a,u){var c;u&15361&&t!==(t=a[0].rowIndex+(as(a[0])?((c=a[10])!=null?c:0)-a[11].length-a[12].length:a[13].offset)+1+"")&&he(n,t),u&1&&(s=as(a[0])),s?i||(i=h0(),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:z,o:z,d(a){a&&$(e),i&&i.d()}}}function hx(r){let e,t;const n=[Qt];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[be(Qt)]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function h0(r){let e;return{c(){e=B("*")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function b0(r){let e,t;const n=[{class:"mod-indicator"},{size:"0.9em"},nr];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[n[0],n[1],be(nr)]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function $0(r){let e,t;return e=new ik({props:{errors:r[3]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.errors=n[3]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function bx(r){let e,t,n,l,s,i,o,a,u,c,f,m,d;e=new cr({props:{color:"var(--cell-bg-color-header)"}}),n=new sk({props:{isSelected:r[1],hasErrors:r[2]}});const _=[hx,gx],h=[];function b(T,E){return E&1&&(i=null),E&1&&(o=null),i==null&&(i=!!Tr(T[0])),i?0:(o==null&&(o=!!Cr(T[0])),o?1:-1)}~(a=b(r,-1))&&(u=h[a]=_[a](r));let v=r[4]==="processing"&&b0(),k=r[3].length&&$0(r);return{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment),l=O(),s=I("div"),u&&u.c(),c=O(),v&&v.c(),f=O(),k&&k.c(),m=ae(),D(s,"class","control svelte-b0v79h")},m(T,E){y(e,T,E),w(T,t,E),y(n,T,E),w(T,l,E),w(T,s,E),~a&&h[a].m(s,null),w(T,c,E),v&&v.m(T,E),w(T,f,E),k&&k.m(T,E),w(T,m,E),d=!0},p(T,[E]){const P={};E&2&&(P.isSelected=T[1]),E&4&&(P.hasErrors=T[2]),n.$set(P);let R=a;a=b(T,E),a===R?~a&&h[a].p(T,E):(u&&(q(),g(h[R],1,1,()=>{h[R]=null}),U()),~a?(u=h[a],u?u.p(T,E):(u=h[a]=_[a](T),u.c()),p(u,1),u.m(s,null)):u=null),T[4]==="processing"?v?(v.p(T,E),E&16&&p(v,1)):(v=b0(),v.c(),p(v,1),v.m(f.parentNode,f)):v&&(q(),g(v,1,1,()=>{v=null}),U()),T[3].length?k?(k.p(T,E),E&8&&p(k,1)):(k=$0(T),k.c(),p(k,1),k.m(m.parentNode,m)):k&&(q(),g(k,1,1,()=>{k=null}),U())},i(T){d||(p(e.$$.fragment,T),p(n.$$.fragment,T),p(u),p(v),p(k),d=!0)},o(T){g(e.$$.fragment,T),g(n.$$.fragment,T),g(u),g(v),g(k),d=!1},d(T){S(e,T),T&&$(t),S(n,T),T&&$(l),T&&$(s),~a&&h[a].d(),T&&$(c),v&&v.d(T),T&&$(f),k&&k.d(T),T&&$(m)}}}function $x(r,e,t){let n,l,s,i,o,a,u,c,f,m,d=z,_=()=>(d(),d=se(l,ne=>t(19,m=ne)),l),h,b=z,v=()=>(b(),b=se(o,ne=>t(10,h=ne)),o),k,T=z,E=()=>(T(),T=se(s,ne=>t(11,k=ne)),s),P,R=z,L=()=>(R(),R=se(i,ne=>t(12,P=ne)),i),A,N=z,F=()=>(N(),N=se(n,ne=>t(13,A=ne)),n);r.$$.on_destroy.push(()=>d()),r.$$.on_destroy.push(()=>b()),r.$$.on_destroy.push(()=>T()),r.$$.on_destroy.push(()=>R()),r.$$.on_destroy.push(()=>N());let{primaryKeyColumnId:K=void 0}=e,{row:W}=e,{meta:j}=e,{recordsData:Y}=e,{isSelected:oe=!1}=e,{hasErrors:te=!1}=e;return r.$$set=ne=>{"primaryKeyColumnId"in ne&&t(14,K=ne.primaryKeyColumnId),"row"in ne&&t(0,W=ne.row),"meta"in ne&&t(15,j=ne.meta),"recordsData"in ne&&t(16,Y=ne.recordsData),"isSelected"in ne&&t(1,oe=ne.isSelected),"hasErrors"in ne&&t(2,te=ne.hasErrors)},r.$$.update=()=>{var ne;r.$$.dirty&32768&&F(t(9,{pagination:n,rowStatus:l}=j,n,_(t(8,l)))),r.$$.dirty&65536&&E(t(7,{savedRecords:s,newRecords:i,totalCount:o}=Y,s,L(t(6,i)),v(t(5,o)))),r.$$.dirty&16385&&t(18,a=Kr(W,K)),r.$$.dirty&786432&&t(17,u=m.get(a)),r.$$.dirty&131072&&t(4,c=u==null?void 0:u.wholeRowState),r.$$.dirty&131072&&t(3,f=(ne=u==null?void 0:u.errorsFromWholeRowAndCells)!=null?ne:[])},[W,oe,te,f,c,o,i,s,l,n,h,k,P,A,K,j,Y,u,a,m]}class wx extends X{constructor(e){super(),Q(this,e,$x,bx,G,{primaryKeyColumnId:14,row:0,meta:15,recordsData:16,isSelected:1,hasErrors:2})}}function w0(r,e,t){const n=r.slice();return n[38]=e[t][0],n[39]=e[t][1],n[40]=e,n[41]=t,n}function v0(r){let e,t,n,l;return e=new wx({props:{primaryKeyColumnId:r[6],row:r[0],meta:r[7],recordsData:r[3],isSelected:r[10],hasErrors:r[8]}}),n=new gc({props:{$$slots:{default:[vx]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i[0]&64&&(o.primaryKeyColumnId=s[6]),i[0]&1&&(o.row=s[0]),i[0]&128&&(o.meta=s[7]),i[0]&8&&(o.recordsData=s[3]),i[0]&1024&&(o.isSelected=s[10]),i[0]&256&&(o.hasErrors=s[8]),e.$set(o);const a={};i[0]&41|i[1]&4096&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(p(e.$$.fragment,s),p(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&$(t),S(n,s)}}}function vx(r){let e,t;return e=new ck({props:{recordPk:r[5],recordsData:r[3],row:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&32&&(s.recordPk=n[5]),l[0]&8&&(s.recordsData=n[3]),l[0]&1&&(s.row=n[0]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function kx(r){let e,t=Cr(r[0]),n,l,s,i,o=t&&v0(r),a=[r[42],{style:n=r[1]}],u={};for(let c=0;c<a.length;c+=1)u=x(u,a[c]);return{c(){e=I("div"),o&&o.c(),it(e,u),Z(e,"svelte-13v63yp",!0)},m(c,f){w(c,e,f),o&&o.m(e,null),l=!0,s||(i=[Le(e,"mousedown",r[26]),Le(e,"mouseenter",r[27])],s=!0)},p(c,f){f[0]&1&&(t=Cr(c[0])),t?o?(o.p(c,f),f[0]&1&&p(o,1)):(o=v0(c),o.c(),p(o,1),o.m(e,null)):o&&(q(),g(o,1,1,()=>{o=null}),U()),it(e,u=ce(a,[f[1]&2048&&c[42],(!l||f[0]&2&&n!==(n=c[1]))&&{style:n}])),Z(e,"svelte-13v63yp",!0)},i(c){l||(p(o),l=!0)},o(c){g(o),l=!1},d(c){c&&$(e),o&&o.d(),s=!1,Dt(i)}}}function yx(r){let e=[],t=new Map,n,l,s=[...r[21]];const i=o=>o[38];for(let o=0;o<s.length;o+=1){let a=w0(r,s,o),u=i(a);t.set(u,e[o]=k0(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=ae()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,a){a[0]&2294317&&(s=[...o[21]],q(),e=pt(e,a,i,1,o,s,t,n.parentNode,ht,k0,n,w0),U())},i(o){if(!l){for(let a=0;a<s.length;a+=1)p(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&$(n)}}}function Sx(r){let e,t;return e=new AZ({props:{row:r[0],grouping:r[22],group:r[0].group,processedColumnsMap:r[21],recordSummariesForSheet:r[23]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1&&(s.row=n[0]),l[0]&4194304&&(s.grouping=n[22]),l[0]&1&&(s.group=n[0].group),l[0]&2097152&&(s.processedColumnsMap=n[21]),l[0]&8388608&&(s.recordSummariesForSheet=n[23]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Cx(r){let e,t;return e=new vZ({props:{columnCount:r[21].size}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&2097152&&(s.columnCount=n[21].size),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function k0(r,e){let t,n,l,s;function i(a){e[35](a,e[38])}let o={selection:e[2],row:e[0],rowHasErrors:e[9],key:Yo(e[5],e[38]),modificationStatusMap:e[17],clientSideErrorMap:e[16],processedColumn:e[39],recordsData:e[3],rowKey:e[5]};return e[0].record[e[38]]!==void 0&&(o.value=e[0].record[e[38]]),n=new _x({props:o}),ye.push(()=>Pe(n,"value",i)),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(a,u){w(a,t,u),y(n,a,u),s=!0},p(a,u){e=a;const c={};u[0]&4&&(c.selection=e[2]),u[0]&1&&(c.row=e[0]),u[0]&512&&(c.rowHasErrors=e[9]),u[0]&2097184&&(c.key=Yo(e[5],e[38])),u[0]&131072&&(c.modificationStatusMap=e[17]),u[0]&65536&&(c.clientSideErrorMap=e[16]),u[0]&2097152&&(c.processedColumn=e[39]),u[0]&8&&(c.recordsData=e[3]),u[0]&32&&(c.rowKey=e[5]),!l&&u[0]&2097153&&(l=!0,c.value=e[0].record[e[38]],Ne(()=>l=!1)),n.$set(c)},i(a){s||(p(n.$$.fragment,a),s=!0)},o(a){g(n.$$.fragment,a),s=!1},d(a){a&&$(t),S(n,a)}}}function Tx(r){let e,t,n,l,s,i,o,a,u,c,f,m;t=new Pr({props:{columnIdentifierKey:jo,isStatic:!0,isControlCell:!0,$$slots:{default:[kx,({htmlAttributes:k,style:T})=>({42:k,1:T}),({htmlAttributes:k,style:T})=>[T?2:0,k?2048:0]]},$$scope:{ctx:r}}});const d=[Cx,Sx,yx],_=[];function h(k,T){return T[0]&1&&(l=null),T[0]&4194305&&(s=null),T[0]&1&&(i=null),l==null&&(l=!!av(k[0])),l?0:(s==null&&(s=!!(ii(k[0])&&k[22]&&k[0].group)),s?1:(i==null&&(i=!!Cr(k[0])),i?2:-1))}~(o=h(r,[-1,-1]))&&(a=_[o]=d[o](r));let b=[{class:"row"},r[36],{style:u="--cell-height:"+(El-1)+"px;"+r[37]}],v={};for(let k=0;k<b.length;k+=1)v=x(v,b[k]);return{c(){e=I("div"),C(t.$$.fragment),n=O(),a&&a.c(),it(e,v),Z(e,"selected",r[10]),Z(e,"processing",r[4]==="processing"),Z(e,"failed",r[9]),Z(e,"created",r[12]==="success"),Z(e,"is-new",as(r[0])),Z(e,"is-group-header",ii(r[0])),Z(e,"is-add-placeholder",Tr(r[0])),Z(e,"svelte-13v63yp",!0)},m(k,T){w(k,e,T),y(t,e,null),M(e,n),~o&&_[o].m(e,null),c=!0,f||(m=Le(e,"mousedown",r[25]),f=!0)},p(k,T){const E={};T[0]&1515|T[1]&6144&&(E.$$scope={dirty:T,ctx:k}),t.$set(E);let P=o;o=h(k,T),o===P?~o&&_[o].p(k,T):(a&&(q(),g(_[P],1,1,()=>{_[P]=null}),U()),~o?(a=_[o],a?a.p(k,T):(a=_[o]=d[o](k),a.c()),p(a,1),a.m(e,null)):a=null),it(e,v=ce(b,[{class:"row"},T[1]&32&&k[36],(!c||T[1]&64&&u!==(u="--cell-height:"+(El-1)+"px;"+k[37]))&&{style:u}])),Z(e,"selected",k[10]),Z(e,"processing",k[4]==="processing"),Z(e,"failed",k[9]),Z(e,"created",k[12]==="success"),Z(e,"is-new",as(k[0])),Z(e,"is-group-header",ii(k[0])),Z(e,"is-add-placeholder",Tr(k[0])),Z(e,"svelte-13v63yp",!0)},i(k){c||(p(t.$$.fragment,k),p(a),c=!0)},o(k){g(t.$$.fragment,k),g(a),c=!1},d(k){k&&$(e),S(t),~o&&_[o].d(),f=!1,m()}}}function Dx(r){let e,t;return e=new lf({props:{style:r[1],$$slots:{default:[Tx,({htmlAttributes:n,styleString:l})=>({36:n,37:l}),({htmlAttributes:n,styleString:l})=>[0,(n?32:0)|(l?64:0)]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&2&&(s.style=n[1]),l[0]&14882815|l[1]&4192&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ix(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,_,h,b,v,k,T,E,P,R,L,A,N=z,F=()=>(N(),N=se(E,Xe=>t(30,A=Xe)),E),K,W=z,j=()=>(W(),W=se(a,Xe=>t(31,K=Xe)),a),Y,oe=z,te=()=>(oe(),oe=se(u,Xe=>t(32,Y=Xe)),u),ne,H=z,ee=()=>(H(),H=se(_,Xe=>t(33,ne=Xe)),_),pe,ue,ie=z,me=()=>(ie(),ie=se(i,Xe=>t(21,ue=Xe)),i),Se,$e=z,He=()=>($e(),$e=se(m,Xe=>t(22,Se=Xe)),m),we,je=z,Re=()=>(je(),je=se(d,Xe=>t(23,we=Xe)),d);r.$$.on_destroy.push(()=>N()),r.$$.on_destroy.push(()=>W()),r.$$.on_destroy.push(()=>oe()),r.$$.on_destroy.push(()=>H()),r.$$.on_destroy.push(()=>ie()),r.$$.on_destroy.push(()=>$e()),r.$$.on_destroy.push(()=>je());let{row:Oe}=e,{style:Ze}=e;const Ke=Rt();de(r,Ke,Xe=>t(34,pe=Xe));function tt(){Tr(Oe)&&(n.addEmptyRecord(),o.selectAndActivateFirstDataEntryCellInLastRow())}const ot=()=>{Cr(Oe)&&!Tr(Oe)&&o.onRowSelectionStart(Oe)},nt=()=>{Cr(Oe)&&!Tr(Oe)&&o.onMouseEnterRowHeaderWhileSelection(Oe)};function ze(Xe,ct){r.$$.not_equal(Oe.record[ct],Xe)&&(Oe.record[ct]=Xe,t(0,Oe))}return r.$$set=Xe=>{"row"in Xe&&t(0,Oe=Xe.row),"style"in Xe&&t(1,Ze=Xe.style)},r.$$.update=()=>{var Xe,ct;r.$$.dirty[1]&8&&t(3,{recordsData:n,columnsDataStore:l,meta:s,processedColumns:i,selection:o}=pe,n,(t(29,l),t(34,pe)),(t(7,s),t(34,pe)),me(t(20,i)),(t(2,o),t(34,pe))),r.$$.dirty[0]&128&&j(t(19,{rowStatus:a,rowCreationStatus:u,cellModificationStatus:c,cellClientSideErrors:f}=s,a,te(t(18,u)),(t(17,c),t(7,s),t(34,pe)),(t(16,f),t(7,s),t(34,pe)))),r.$$.dirty[0]&8&&He(t(15,{grouping:m,recordSummaries:d}=n,m,Re(t(14,d)))),r.$$.dirty[0]&536870912&&ee(t(13,{pkColumn:_}=l,_)),r.$$.dirty[1]&4&&t(6,h=ne==null?void 0:ne.id),r.$$.dirty[0]&65&&t(5,b=Kr(Oe,h)),r.$$.dirty[0]&32|r.$$.dirty[1]&2&&t(12,v=(Xe=Y.get(b))==null?void 0:Xe.state),r.$$.dirty[0]&32|r.$$.dirty[1]&1&&t(28,k=K.get(b)),r.$$.dirty[0]&268435456&&t(4,T=k==null?void 0:k.wholeRowState),r.$$.dirty[0]&4&&F(t(11,{selectedCells:E}=o,E)),r.$$.dirty[0]&1073741825&&t(10,P=Cr(Oe)&&PO(A,Oe)),r.$$.dirty[0]&16&&t(9,R=T==="failure"),r.$$.dirty[0]&268435456&&t(8,L=!!((ct=k==null?void 0:k.errorsFromWholeRowAndCells)!=null&&ct.length))},[Oe,Ze,o,n,T,b,h,s,L,R,P,E,v,_,d,m,f,c,u,a,i,ue,Se,we,Ke,tt,ot,nt,k,l,A,K,Y,ne,pe,ze]}class fk extends X{constructor(e){super(),Q(this,e,Ix,Dx,G,{row:0,style:1},null,[-1,-1])}}function y0(r,e,t){const n=r.slice();return n[28]=e[t],n}function S0(r,e,t){const n=r.slice();return n[25]=e[t],n[26]=e,n[27]=t,n}function Ex(r){let e=[],t=new Map,n,l,s=r[5];const i=o=>o[28];for(let o=0;o<s.length;o+=1){let a=y0(r,s,o),u=i(a);t.set(u,e[o]=C0(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=ae()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,a){a[0]&288&&(s=o[5],q(),e=pt(e,a,i,1,o,s,t,n.parentNode,ht,C0,n,y0),U())},i(o){if(!l){for(let a=0;a<s.length;a+=1)p(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&$(n)}}}function Mx(r){let e,t;return e=new vv({props:{itemCount:r[5].length,paddingBottom:30,itemSize:r[10],itemKey:r[20],$$slots:{default:[Ax,({items:n,api:l})=>({23:n,24:l}),({items:n,api:l})=>[(n?8388608:0)|(l?16777216:0)]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&32&&(s.itemCount=n[5].length),l[0]&32&&(s.itemKey=n[20]),l[0]&25165872|l[1]&1&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function C0(r,e){let t,n,l;return n=new fk({props:{style:{position:"relative",height:e[8](e[28])},row:e[28]}}),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i[0]&32&&(o.style={position:"relative",height:e[8](e[28])}),i[0]&32&&(o.row=e[28]),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}function T0(r){let e,t,n;function l(i){r[19](i,r[25])}let s={style:r[25].style};return r[5][r[25].index]!==void 0&&(s.row=r[5][r[25].index]),e=new fk({props:s}),ye.push(()=>Pe(e,"row",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){r=i;const a={};o[0]&8388608&&(a.style=r[25].style),!t&&o[0]&8388640&&(t=!0,a.row=r[5][r[25].index],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function D0(r,e){let t,n=e[5][e[25].index]&&!(Tr(e[5][e[25].index])&&!e[4]),l,s,i=n&&T0(e);return{key:r,first:null,c(){t=ae(),i&&i.c(),l=ae(),this.first=t},m(o,a){w(o,t,a),i&&i.m(o,a),w(o,l,a),s=!0},p(o,a){e=o,a[0]&8388656&&(n=e[5][e[25].index]&&!(Tr(e[5][e[25].index])&&!e[4])),n?i?(i.p(e,a),a[0]&8388656&&p(i,1)):(i=T0(e),i.c(),p(i,1),i.m(l.parentNode,l)):i&&(q(),g(i,1,1,()=>{i=null}),U())},i(o){s||(p(i),s=!0)},o(o){g(i),s=!1},d(o){o&&$(t),i&&i.d(o),o&&$(l)}}}function Ax(r){let e,t,n=[],l=new Map,s,i;e=new hZ({props:{api:r[24]}});let o=r[23];const a=u=>u[25].key;for(let u=0;u<o.length;u+=1){let c=S0(r,o,u),f=a(c);l.set(f,n[u]=D0(f,c))}return{c(){C(e.$$.fragment),t=O();for(let u=0;u<n.length;u+=1)n[u].c();s=ae()},m(u,c){y(e,u,c),w(u,t,c);for(let f=0;f<n.length;f+=1)n[f].m(u,c);w(u,s,c),i=!0},p(u,c){const f={};c[0]&16777216&&(f.api=u[24]),e.$set(f),c[0]&8388656&&(o=u[23],q(),n=pt(n,c,a,1,u,o,l,s.parentNode,ht,D0,s,S0),U())},i(u){if(!i){p(e.$$.fragment,u);for(let c=0;c<o.length;c+=1)p(n[c]);i=!0}},o(u){g(e.$$.fragment,u);for(let c=0;c<n.length;c+=1)g(n[c]);i=!1},d(u){S(e,u),u&&$(t);for(let c=0;c<n.length;c+=1)n[c].d(u);u&&$(s)}}}function I0(r){let e,t,n,l;const s=[Mx,Ex],i=[];function o(a,u){return a[0]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function Rx(r){let e=r[3],t,n,l=I0(r);return{c(){l.c(),t=ae()},m(s,i){l.m(s,i),w(s,t,i),n=!0},p(s,i){i[0]&8&&G(e,e=s[3])?(q(),g(l,1,1,z),U(),l=I0(s),l.c(),p(l,1),l.m(t.parentNode,t)):l.p(s,i)},i(s){n||(p(l),n=!0)},o(s){g(l),n=!1},d(s){s&&$(t),l.d(s)}}}function Px(r,e,t){let n,l,s,i,o,a,u,c,f,m,d=z,_=()=>(d(),d=se(c,Y=>t(5,m=Y)),c),h,b=z,v=()=>(b(),b=se(f,Y=>t(22,h=Y)),f),k,T,E,P;de(r,hn,Y=>t(17,E=Y)),de(r,gn,Y=>t(18,P=Y)),r.$$.on_destroy.push(()=>d()),r.$$.on_destroy.push(()=>b());const R=Rt();de(r,R,Y=>t(15,k=Y));const L=Xt();de(r,L,Y=>t(16,T=Y));let{usesVirtualList:A=!1}=e;function N(Y){return av(Y)?NP:ii(Y)?FP:El}function F(Y,oe){return oe?Kr(oe,h==null?void 0:h.id):`__index_${Y}`}function K(Y){const oe=m,te=oe==null?void 0:oe[Y];return te?N(te):El}function W(Y,oe){r.$$.not_equal(m[oe.index],Y)&&(m[oe.index]=Y,c.set(m))}const j=Y=>F(Y,m[Y]);return r.$$set=Y=>{"usesVirtualList"in Y&&t(0,A=Y.usesVirtualList)},r.$$.update=()=>{r.$$.dirty[0]&262144&&t(14,n=P),r.$$.dirty[0]&131072&&t(13,l=E),r.$$.dirty[0]&90112&&t(4,s=!!(T!=null&&T.hasPermission({database:n,schema:l},"canEditTableRecords"))),r.$$.dirty[0]&32768&&t(3,{id:i,display:o,columnsDataStore:a,selection:u}=k,i,(t(12,o),t(15,k)),(t(11,a),t(15,k))),r.$$.dirty[0]&4096&&_(t(2,{displayableRecords:c}=o,c)),r.$$.dirty[0]&2048&&v(t(1,{pkColumn:f}=a,f))},[A,f,c,i,s,m,R,L,N,F,K,a,o,l,n,k,T,E,P,W,j]}class Ox extends X{constructor(e){super(),Q(this,e,Px,Rx,G,{usesVirtualList:0},null,[-1,-1])}}function E0(r){let e,t,n,l,s=r[3]&&M0(r),i=r[4]&&A0(),o=r[2]&&R0();return{c(){e=I("div"),s&&s.c(),t=O(),i&&i.c(),n=O(),o&&o.c(),D(e,"class","indicator-icons svelte-16ujqv6")},m(a,u){w(a,e,u),s&&s.m(e,null),M(e,t),i&&i.m(e,null),M(e,n),o&&o.m(e,null),l=!0},p(a,u){a[3]?s?(s.p(a,u),u&8&&p(s,1)):(s=M0(a),s.c(),p(s,1),s.m(e,t)):s&&(q(),g(s,1,1,()=>{s=null}),U()),a[4]?i?(i.p(a,u),u&16&&p(i,1)):(i=A0(),i.c(),p(i,1),i.m(e,n)):i&&(q(),g(i,1,1,()=>{i=null}),U()),a[2]?o?(o.p(a,u),u&4&&p(o,1)):(o=R0(),o.c(),p(o,1),o.m(e,null)):o&&(q(),g(o,1,1,()=>{o=null}),U())},i(a){l||(p(s),p(i),p(o),l=!0)},o(a){g(s),g(i),g(o),l=!1},d(a){a&&$(e),s&&s.d(),i&&i.d(),o&&o.d()}}}function M0(r){let e,t;const n=[r[3]==="ASCENDING"?Oo:Lo];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&8?ce(n,[be(s[3]==="ASCENDING"?Oo:Lo)]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function A0(r){let e,t;const n=[zo];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[be(zo)]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function R0(r){let e,t;const n=[Ss];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[be(Ss)]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Lx(r){let e,t,n,l,s,i,o,a,u;t=new cr({props:{when:r[1],color:"var(--cell-bg-color-row-selected)"}}),s=new Bs({props:{processedColumn:r[0]}});let c=(r[3]||r[4]||r[2])&&E0(r);return{c(){e=I("div"),C(t.$$.fragment),n=O(),l=I("div"),C(s.$$.fragment),i=O(),c&&c.c(),D(l,"class","header-cell-btn btn btn-ghost size-medium  svelte-16ujqv6"),yn(l,"cursor","inherit"),D(e,"class","header-cell-root svelte-16ujqv6")},m(f,m){w(f,e,m),y(t,e,null),M(e,n),M(e,l),y(s,l,null),M(l,i),c&&c.m(l,null),o=!0,a||(u=[Le(l,"click",r[14]),Le(l,"mousedown",r[15]),Le(l,"mouseenter",r[16])],a=!0)},p(f,[m]){const d={};m&2&&(d.when=f[1]),t.$set(d);const _={};m&1&&(_.processedColumn=f[0]),s.$set(_),f[3]||f[4]||f[2]?c?(c.p(f,m),m&28&&p(c,1)):(c=E0(f),c.c(),p(c,1),c.m(l,null)):c&&(q(),g(c,1,1,()=>{c=null}),U())},i(f){o||(p(t.$$.fragment,f),p(s.$$.fragment,f),p(c),o=!0)},o(f){g(t.$$.fragment,f),g(s.$$.fragment,f),g(c),o=!1},d(f){f&&$(e),S(t),S(s),c&&c.d(),a=!1,Dt(u)}}}function Nx(r,e,t){let n,l,s,i,o,a,u,c,f=z,m=()=>(f(),f=se(i,F=>t(10,c=F)),i),d,_=z,h=()=>(_(),_=se(s,F=>t(11,d=F)),s),b,v=z,k=()=>(v(),v=se(l,F=>t(12,b=F)),l),T;r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>_()),r.$$.on_destroy.push(()=>v());let{processedColumn:E}=e,{isSelected:P=!1}=e;const R=Rt();de(r,R,F=>t(13,T=F));function L(F){ve.call(this,r,F)}function A(F){ve.call(this,r,F)}function N(F){ve.call(this,r,F)}return r.$$set=F=>{"processedColumn"in F&&t(0,E=F.processedColumn),"isSelected"in F&&t(1,P=F.isSelected)},r.$$.update=()=>{r.$$.dirty&8192&&t(9,{meta:n}=T,n),r.$$.dirty&512&&k(t(7,{filtering:l,sorting:s,grouping:i}=n,l,h(t(6,s)),m(t(5,i)))),r.$$.dirty&4097&&t(4,o=b.entries.some(F=>F.columnId===E.id)),r.$$.dirty&2049&&t(3,a=d.get(E.id)),r.$$.dirty&1025&&t(2,u=c.entries.some(F=>F.columnId===E.id))},[E,P,u,a,o,i,s,l,R,n,c,d,b,T,L,A,N]}class Fx extends X{constructor(e){super(),Q(this,e,Nx,Lx,G,{processedColumn:0,isSelected:1})}}function zx(r){let e=r[7]+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&128&&e!==(e=n[7]+"")&&he(t,e)},d(n){n&&$(t)}}}function Hx(r){let e,t;return e=new En({props:{icon:r[6].getIcon(),$$slots:{default:[zx]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&64&&(s.icon=n[6].getIcon()),l&384&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Vx(r){let e,t;return e=new kT({props:{options:r[2],getLabel:qx,value:r[3],valuesAreEqual:Ux,offsetOnFocus:2,disabled:r[1],$$slots:{default:[Hx,({option:n,label:l})=>({6:n,7:l}),({option:n,label:l})=>(n?64:0)|(l?128:0)]},$$scope:{ctx:r}}}),e.$on("change",r[5]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&4&&(s.options=n[2]),l&8&&(s.value=n[3]),l&2&&(s.disabled=n[1]),l&448&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}const qx=r=>{var e;return(e=r==null?void 0:r.name)!=null?e:""},Ux=(r,e)=>(r==null?void 0:r.identifier)===(e==null?void 0:e.identifier);function Wx(r,e,t){let n,l,s;de(r,sr,u=>t(4,s=u));let{value:i=Gu}=e,{disabled:o=!1}=e;const a=u=>{t(0,i=u.detail?IA(u.detail):Gu)};return r.$$set=u=>{"value"in u&&t(0,i=u.value),"disabled"in u&&t(1,o=u.disabled)},r.$$.update=()=>{r.$$.dirty&17&&t(3,n=Ql(i,s.data)),r.$$.dirty&16&&t(2,l=DA(s.data))},[i,o,l,n,s,a]}class Bx extends X{constructor(e){super(),Q(this,e,Wx,Vx,G,{value:0,disabled:1})}}function jx(r){let e,t;const n=[{class:"opt"},Qt,{size:"0.9em"}];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[n[0],be(Qt),n[2]]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Yx(r){let e,t;return e=new an({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Kx(r){let e,t,n,l;const s=[Yx,jx],i=[];function o(a,u){return a[4]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function Gx(r){let e,t,n,l,s,i,o,a;t=new _n({props:{field:r[1],label:"Column Name",layout:"stacked"}}),l=new _n({props:{field:r[6],input:{component:Bx},label:"Select Type",layout:"stacked"}});function u(){return r[11](r[14])}return o=new bl({props:{form:r[0],proceedButton:{label:"Add"},onProceed:u,onCancel:r[14],catchErrors:!0}}),{c(){e=I("div"),C(t.$$.fragment),n=O(),C(l.$$.fragment),s=O(),i=I("div"),C(o.$$.fragment),D(i,"class","submit svelte-1ci5n5s"),D(e,"slot","content"),D(e,"class","new-column-dropdown svelte-1ci5n5s")},m(c,f){w(c,e,f),y(t,e,null),M(e,n),y(l,e,null),M(e,s),M(e,i),y(o,i,null),a=!0},p(c,f){r=c;const m={};f&2&&(m.field=r[1]),t.$set(m);const d={};f&1&&(d.form=r[0]),f&16384&&(d.onProceed=u),f&16384&&(d.onCancel=r[14]),o.$set(d)},i(c){a||(p(t.$$.fragment,c),p(l.$$.fragment,c),p(o.$$.fragment,c),a=!0)},o(c){g(t.$$.fragment,c),g(l.$$.fragment,c),g(o.$$.fragment,c),a=!1},d(c){c&&$(e),S(t),S(l),S(o)}}}function Qx(r){let e,t;return e=new pl({props:{closeOnInnerClick:!1,triggerAppearance:"secondary",showArrow:!1,ariaLabel:"New Column",disabled:r[4],$$slots:{content:[Gx,({close:n})=>({14:n}),({close:n})=>n?16384:0],trigger:[Kx]},$$scope:{ctx:r}}}),e.$on("close",function(){Et(r[0].reset)&&r[0].reset.apply(this,arguments)}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){r=n;const s={};l&16&&(s.disabled=r[4]),l&49171&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Xx(r,e,t){let n,l,s,i,o,a,u,c=z,f=()=>(c(),c=se(s,L=>t(13,u=L)),s),m,d=z,_=()=>(d(),d=se(l,L=>t(9,m=L)),l),h,b,v=z,k=()=>(v(),v=se(o,L=>t(4,b=L)),o);r.$$.on_destroy.push(()=>c()),r.$$.on_destroy.push(()=>d()),r.$$.on_destroy.push(()=>v());const T=Rt();de(r,T,L=>t(10,h=L));const E=qt(void 0);de(r,E,L=>t(12,a=L));async function P(L){const A={name:u,type:a,nullable:!0,primary_key:!1};await n.add(A),L()}const R=L=>P(L);return r.$$.update=()=>{r.$$.dirty&1024&&t(8,{columnsDataStore:n}=h,n),r.$$.dirty&256&&_(t(3,{columns:l}=n,l)),r.$$.dirty&512&&f(t(1,s=qt("",[xo(m)]))),r.$$.dirty&2&&t(0,i=Vn({columnName:s,columnType:E})),r.$$.dirty&1&&k(t(2,{isSubmitting:o}=i,o))},[i,s,o,l,b,T,E,P,n,m,h,R]}class Jx extends X{constructor(e){super(),Q(this,e,Xx,Qx,G,{})}}function Zx(r){let e,t,n,l;const s=r[5].default,i=De(s,r,r[4],null);return{c(){e=I("div"),i&&i.c(),D(e,"class","draggable svelte-3gs1al"),D(e,"draggable",r[0]),Z(e,"draggable_active",r[0])},m(o,a){w(o,e,a),i&&i.m(e,null),t=!0,n||(l=Le(e,"dragstart",r[6]),n=!0)},p(o,[a]){i&&i.p&&(!t||a&16)&&Ee(i,s,o,o[4],t?Ie(s,o[4],a,null):Me(o[4]),null),(!t||a&1)&&D(e,"draggable",o[0]),(!t||a&1)&&Z(e,"draggable_active",o[0])},i(o){t||(p(i,o),t=!0)},o(o){g(i,o),t=!1},d(o){o&&$(e),i&&i.d(o),n=!1,l()}}}function xx(r,e,t){let n,{$$slots:l={},$$scope:s}=e,{selection:i}=e,{selectionInProgress:o=!0}=e,{column:a}=e;function u(c){ve.call(this,r,c)}return r.$$set=c=>{"selection"in c&&t(1,i=c.selection),"selectionInProgress"in c&&t(2,o=c.selectionInProgress),"column"in c&&t(3,a=c.column),"$$scope"in c&&t(4,s=c.$$scope)},r.$$.update=()=>{r.$$.dirty&14&&t(0,n=!o&&i&&i.isCompleteColumnSelected(a))},[n,i,o,a,s,l,u]}class eee extends X{constructor(e){super(),Q(this,e,xx,Zx,G,{selection:1,selectionInProgress:2,column:3})}}const tee=r=>({}),P0=r=>({class:"drag-over"});function nee(r){let e,t,n,l;const s=r[10].default,i=De(s,r,r[9],P0);return{c(){e=I("div"),i&&i.c(),D(e,"class","droppable svelte-15893zs"),Z(e,"is_selected",r[0]),Z(e,"dragged_over",r[1]),Z(e,"dragged_over_right",r[3]),Z(e,"dragged_over_left",r[2])},m(o,a){w(o,e,a),i&&i.m(e,null),t=!0,n||(l=[Le(e,"drop",r[11]),Le(e,"dragover",ree),Le(e,"dragenter",r[12]),Le(e,"dragleave",r[13])],n=!0)},p(o,[a]){i&&i.p&&(!t||a&512)&&Ee(i,s,o,o[9],t?Ie(s,o[9],a,tee):Me(o[9]),P0),(!t||a&1)&&Z(e,"is_selected",o[0]),(!t||a&2)&&Z(e,"dragged_over",o[1]),(!t||a&8)&&Z(e,"dragged_over_right",o[3]),(!t||a&4)&&Z(e,"dragged_over_left",o[2])},i(o){t||(p(i,o),t=!0)},o(o){g(i,o),t=!1},d(o){o&&$(e),i&&i.d(o),n=!1,Dt(l)}}}const ree=r=>r.preventDefault();function lee(r,e,t){let n,l,s,i,{$$slots:o={},$$scope:a}=e,{locationOfFirstDraggedColumn:u}=e,{columnLocation:c}=e,{isSelected:f=!1}=e;function m(k){k.preventDefault(),t(1,i+=1)}function d(){t(1,i-=1)}function _(k){return k===void 0?0:i}function h(k){ve.call(this,r,k)}const b=k=>m(k),v=()=>d();return r.$$set=k=>{"locationOfFirstDraggedColumn"in k&&t(6,u=k.locationOfFirstDraggedColumn),"columnLocation"in k&&t(7,c=k.columnLocation),"isSelected"in k&&t(0,f=k.isSelected),"$$scope"in k&&t(9,a=k.$$scope)},r.$$.update=()=>{r.$$.dirty&192&&t(8,n=u!==void 0?u-c:0),r.$$.dirty&256&&t(3,l=n<0),r.$$.dirty&256&&t(2,s=n>0),r.$$.dirty&64&&t(1,i=_(u))},[f,i,s,l,m,d,u,c,n,a,o,h,b,v]}class mk extends X{constructor(e){super(),Q(this,e,lee,nee,G,{locationOfFirstDraggedColumn:6,columnLocation:7,isSelected:0})}}function O0(r,e,t){const n=r.slice();return n[28]=e[t][0],n[29]=e[t][1],n}function see(r){let e,t,n=[r[26],{style:t=r[27]}],l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return{c(){e=I("div"),it(e,l),Z(e,"svelte-1vwp6b3",!0)},m(s,i){w(s,e,i)},p(s,i){it(e,l=ce(n,[i[0]&67108864&&s[26],i[0]&134217728&&t!==(t=s[27])&&{style:t}])),Z(e,"svelte-1vwp6b3",!0)},d(s){s&&$(e)}}}function iee(r){let e,t;return e=new mk({props:{locationOfFirstDraggedColumn:0,columnLocation:-1,$$slots:{default:[see]},$$scope:{ctx:r}}}),e.$on("drop",r[18]),e.$on("dragover",pee),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&201326592|l[1]&2&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function oee(r){let e,t;function n(){return r[19](r[29])}function l(){return r[20](r[29])}return e=new Fx({props:{processedColumn:r[29],isSelected:Is(r[3],r[2],r[29])}}),e.$on("mousedown",n),e.$on("mouseenter",l),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){r=s;const o={};i[0]&1024&&(o.processedColumn=r[29]),i[0]&1036&&(o.isSelected=Is(r[3],r[2],r[29])),e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function aee(r){let e,t;function n(){return r[21](r[29])}return e=new mk({props:{locationOfFirstDraggedColumn:r[4],columnLocation:r[5].indexOf(r[28].toString()),isSelected:Is(r[3],r[2],r[29]),$$slots:{default:[oee]},$$scope:{ctx:r}}}),e.$on("drop",n),e.$on("dragover",_ee),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){r=l;const i={};s[0]&16&&(i.locationOfFirstDraggedColumn=r[4]),s[0]&1056&&(i.columnLocation=r[5].indexOf(r[28].toString())),s[0]&1036&&(i.isSelected=Is(r[3],r[2],r[29])),s[0]&1038|s[1]&2&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function uee(r){let e,t;return e=new ak({props:{processedColumn:r[29]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1024&&(s.processedColumn=n[29]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function cee(r){let e,t,n,l,s,i,o,a,u;n=new eee({props:{column:r[29],selection:r[1],selectionInProgress:r[11],$$slots:{default:[aee]},$$scope:{ctx:r}}}),n.$on("dragstart",r[22]),s=new rf({props:{columnIdentifierKey:r[28]}}),o=new gc({props:{$$slots:{default:[uee]},$$scope:{ctx:r}}});let c=[r[26],{style:a=r[27]}],f={};for(let m=0;m<c.length;m+=1)f=x(f,c[m]);return{c(){e=I("div"),t=I("div"),C(n.$$.fragment),l=O(),C(s.$$.fragment),i=O(),C(o.$$.fragment),it(t,f),Z(t,"svelte-1vwp6b3",!0)},m(m,d){w(m,e,d),M(e,t),y(n,t,null),M(t,l),y(s,t,null),M(t,i),y(o,t,null),u=!0},p(m,d){const _={};d[0]&1024&&(_.column=m[29]),d[0]&2&&(_.selection=m[1]),d[0]&2048&&(_.selectionInProgress=m[11]),d[0]&1086|d[1]&2&&(_.$$scope={dirty:d,ctx:m}),n.$set(_);const h={};d[0]&1024&&(h.columnIdentifierKey=m[28]),s.$set(h);const b={};d[0]&1024|d[1]&2&&(b.$$scope={dirty:d,ctx:m}),o.$set(b),it(t,f=ce(c,[d[0]&67108864&&m[26],(!u||d[0]&134217728&&a!==(a=m[27]))&&{style:a}])),Z(t,"svelte-1vwp6b3",!0)},i(m){u||(p(n.$$.fragment,m),p(s.$$.fragment,m),p(o.$$.fragment,m),u=!0)},o(m){g(n.$$.fragment,m),g(s.$$.fragment,m),g(o.$$.fragment,m),u=!1},d(m){m&&$(e),S(n),S(s),S(o)}}}function L0(r,e){let t,n,l;return n=new Pr({props:{columnIdentifierKey:e[28],$$slots:{default:[cee,({htmlAttributes:s,style:i})=>({26:s,27:i}),({htmlAttributes:s,style:i})=>[(s?67108864:0)|(i?134217728:0)]]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i[0]&1024&&(o.columnIdentifierKey=e[28]),i[0]&201329726|i[1]&2&&(o.$$scope={dirty:i,ctx:e}),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}function N0(r){let e,t;return e=new Pr({props:{columnIdentifierKey:Xu,$$slots:{default:[fee,({htmlAttributes:n,style:l})=>({26:n,27:l}),({htmlAttributes:n,style:l})=>[(n?67108864:0)|(l?134217728:0)]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&201326592|l[1]&2&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function fee(r){let e,t,n,l;t=new Jx({});let s=[r[26],{class:"new-column-cell"},{style:n=r[27]}],i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return{c(){e=I("div"),C(t.$$.fragment),it(e,i),Z(e,"svelte-1vwp6b3",!0)},m(o,a){w(o,e,a),y(t,e,null),l=!0},p(o,a){it(e,i=ce(s,[a[0]&67108864&&o[26],{class:"new-column-cell"},(!l||a[0]&134217728&&n!==(n=o[27]))&&{style:n}])),Z(e,"svelte-1vwp6b3",!0)},i(o){l||(p(t.$$.fragment,o),l=!0)},o(o){g(t.$$.fragment,o),l=!1},d(o){o&&$(e),S(t)}}}function mee(r){let e,t,n=[],l=new Map,s,i,o;e=new Pr({props:{columnIdentifierKey:jo,isStatic:!0,isControlCell:!0,$$slots:{default:[iee,({htmlAttributes:f,style:m})=>({26:f,27:m}),({htmlAttributes:f,style:m})=>[(f?67108864:0)|(m?134217728:0)]]},$$scope:{ctx:r}}});let a=[...r[10]];const u=f=>f[28];for(let f=0;f<a.length;f+=1){let m=O0(r,a,f),d=u(m);l.set(d,n[f]=L0(d,m))}let c=r[0]&&N0(r);return{c(){C(e.$$.fragment),t=O();for(let f=0;f<n.length;f+=1)n[f].c();s=O(),c&&c.c(),i=ae()},m(f,m){y(e,f,m),w(f,t,m);for(let d=0;d<n.length;d+=1)n[d].m(f,m);w(f,s,m),c&&c.m(f,m),w(f,i,m),o=!0},p(f,m){const d={};m[0]&201326592|m[1]&2&&(d.$$scope={dirty:m,ctx:f}),e.$set(d),m[0]&201354302&&(a=[...f[10]],q(),n=pt(n,m,u,1,f,a,l,s.parentNode,ht,L0,s,O0),U()),f[0]?c?(c.p(f,m),m[0]&1&&p(c,1)):(c=N0(f),c.c(),p(c,1),c.m(i.parentNode,i)):c&&(q(),g(c,1,1,()=>{c=null}),U())},i(f){if(!o){p(e.$$.fragment,f);for(let m=0;m<a.length;m+=1)p(n[m]);p(c),o=!0}},o(f){g(e.$$.fragment,f);for(let m=0;m<n.length;m+=1)g(n[m]);g(c),o=!1},d(f){S(e,f),f&&$(t);for(let m=0;m<n.length;m+=1)n[m].d(f);f&&$(s),c&&c.d(f),f&&$(i)}}}function dee(r){let e,t;return e=new nf({props:{$$slots:{default:[mee]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&3135|l[1]&2&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}const pee=r=>r.preventDefault(),_ee=r=>r.preventDefault();function gee(r,e,t){let n,l,s,i,o,a,u,c,f=z,m=()=>(f(),f=se(s,ue=>t(10,c=ue)),s),d,_=z,h=()=>(_(),_=se(o,ue=>t(2,d=ue)),o),b,v=z,k=()=>(v(),v=se(i,ue=>t(3,b=ue)),i),T,E,P=z,R=()=>(P(),P=se(a,ue=>t(11,E=ue)),a);r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>_()),r.$$.on_destroy.push(()=>v()),r.$$.on_destroy.push(()=>P());const L=Rt();de(r,L,ue=>t(17,T=ue));let{hasNewColumnButton:A=!1}=e,{columnOrder:N}=e,{table:F}=e,K,W=[],j=[];function Y(){for(const ue of c.keys()){const ie=ue.toString();t(5,n=[...new Set(n)]),n.includes(ie)||t(5,n=[...n,ie])}t(5,n),t(15,N);for(const ue of n)u.map(String).includes(ue)?(W.push(ue),K||t(4,K=n.indexOf(ue))):j.push(ue)}function oe(ue){if(u.length>0&&ue&&u[0]===ue.id){t(4,K=void 0),W=[],j=[];return}ue?j.splice(n.indexOf(ue.id.toString()),0,...W):j.splice(0,0,...W),uz(F,j.map(Number)),t(4,K=void 0),W=[],j=[]}const te=()=>oe(),ne=ue=>l.onColumnSelectionStart(ue),H=ue=>l.onMouseEnterColumnHeaderWhileSelection(ue),ee=ue=>oe(ue),pe=()=>Y();return r.$$set=ue=>{"hasNewColumnButton"in ue&&t(0,A=ue.hasNewColumnButton),"columnOrder"in ue&&t(15,N=ue.columnOrder),"table"in ue&&t(16,F=ue.table)},r.$$.update=()=>{r.$$.dirty[0]&32768&&t(15,N=N!=null?N:[]),r.$$.dirty[0]&32768&&t(5,n=N.map(String)),r.$$.dirty[0]&131072&&t(1,{selection:l,processedColumns:s}=T,l,m(t(9,s))),r.$$.dirty[0]&2&&k(t(8,{selectedCells:i,columnsSelectedWhenTheTableIsEmpty:o,selectionInProgress:a}=l,i,h(t(7,o)),R(t(6,a)))),r.$$.dirty[0]&14&&(u=l.getSelectedUniqueColumnsId(b,d))},[A,l,d,b,K,n,a,o,i,s,c,E,L,Y,oe,N,F,T,te,ne,H,ee,pe]}class hee extends X{constructor(e){super(),Q(this,e,gee,dee,G,{hasNewColumnButton:0,columnOrder:15,table:16},null,[-1,-1])}}function F0(r){let e,t;return e=new ut({props:{disabled:r[3],size:"medium",appearance:"primary",$$slots:{default:[bee]},$$scope:{ctx:r}}}),e.$on("click",r[38]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&8&&(s.disabled=n[3]),l[1]&512&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function bee(r){let e,t,n,l;const s=[Qt];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new Fe({props:i}),{c(){C(e.$$.fragment),t=O(),n=I("span"),n.textContent="New Record"},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),l=!0},p(o,a){const u=a&0?ce(s,[be(Qt)]):{};e.$set(u)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),o&&$(n)}}}function $ee(r){let e;return{c(){e=B("No records found")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function wee(r){let e,t,n,l,s,i,o=Yt(r[4],"records")+"",a,u=r[19].length>0&&z0(r);return{c(){e=B("Showing "),t=B(r[14]),n=B(" to "),l=B(r[8]),s=O(),u&&u.c(),i=B(`
        of `),a=B(o)},m(c,f){w(c,e,f),w(c,t,f),w(c,n,f),w(c,l,f),w(c,s,f),u&&u.m(c,f),w(c,i,f),w(c,a,f)},p(c,f){f[0]&16384&&he(t,c[14]),f[0]&256&&he(l,c[8]),c[19].length>0?u?u.p(c,f):(u=z0(c),u.c(),u.m(i.parentNode,i)):u&&(u.d(1),u=null),f[0]&16&&o!==(o=Yt(c[4],"records")+"")&&he(a,o)},d(c){c&&$(e),c&&$(t),c&&$(n),c&&$(l),c&&$(s),u&&u.d(c),c&&$(i),c&&$(a)}}}function z0(r){let e,t=r[19].length+"",n,l,s=Er(r[19],"records")+"",i,o;return{c(){e=B("(+ "),n=B(t),l=B(" new "),i=B(s),o=B(")")},m(a,u){w(a,e,u),w(a,n,u),w(a,l,u),w(a,i,u),w(a,o,u)},p(a,u){u[0]&524288&&t!==(t=a[19].length+"")&&he(n,t),u[0]&524288&&s!==(s=Er(a[19],"records")+"")&&he(i,s)},d(a){a&&$(e),a&&$(n),a&&$(l),a&&$(i),a&&$(o)}}}function vee(r){var k;let e,t,n,l,s,i,o,a,u,c,f,m=r[7]&&F0(r);function d(T,E){if(T[9]>0&&T[4])return wee;if(T[1]!==St.Loading)return $ee}let _=d(r),h=_&&_(r);function b(T){r[39](T)}let v={totalCount:(k=r[4])!=null?k:0,pageSizeOptions:r[0]==="widget"?[]:void 0,hiddenWhenPossible:r[0]==="widget"};return r[5]!==void 0&&(v.pagination=r[5]),o=new W6({props:v}),ye.push(()=>Pe(o,"pagination",b)),c=new Y6({props:{state:r[6]}}),c.$on("click",r[22]),{c(){e=I("div"),t=I("div"),m&&m.c(),n=O(),l=I("div"),h&&h.c(),s=O(),i=I("div"),C(o.$$.fragment),u=O(),C(c.$$.fragment),D(l,"class","record-count"),D(t,"class","status-pane-items-section svelte-14gcgi5"),D(i,"class","status-pane-items-section svelte-14gcgi5"),D(e,"class","status-pane svelte-14gcgi5"),Z(e,"context-widget",r[0]==="widget"),Z(e,"context-page",r[0]==="page"),Z(e,"context-shared-consumer-page",r[0]==="shared-consumer-page")},m(T,E){w(T,e,E),M(e,t),m&&m.m(t,null),M(t,n),M(t,l),h&&h.m(l,null),M(e,s),M(e,i),y(o,i,null),M(i,u),y(c,i,null),f=!0},p(T,E){var L;T[7]?m?(m.p(T,E),E[0]&128&&p(m,1)):(m=F0(T),m.c(),p(m,1),m.m(t,n)):m&&(q(),g(m,1,1,()=>{m=null}),U()),_===(_=d(T))&&h?h.p(T,E):(h&&h.d(1),h=_&&_(T),h&&(h.c(),h.m(l,null)));const P={};E[0]&16&&(P.totalCount=(L=T[4])!=null?L:0),E[0]&1&&(P.pageSizeOptions=T[0]==="widget"?[]:void 0),E[0]&1&&(P.hiddenWhenPossible=T[0]==="widget"),!a&&E[0]&32&&(a=!0,P.pagination=T[5],Ne(()=>a=!1)),o.$set(P);const R={};E[0]&64&&(R.state=T[6]),c.$set(R),(!f||E[0]&1)&&Z(e,"context-widget",T[0]==="widget"),(!f||E[0]&1)&&Z(e,"context-page",T[0]==="page"),(!f||E[0]&1)&&Z(e,"context-shared-consumer-page",T[0]==="shared-consumer-page")},i(T){f||(p(m),p(o.$$.fragment,T),p(c.$$.fragment,T),f=!0)},o(T){g(m),g(o.$$.fragment,T),g(c.$$.fragment,T),f=!1},d(T){T&&$(e),m&&m.d(),h&&h.d(),S(o),S(c)}}}function kee(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,_,h,b,v,k,T,E,P,R,L,A,N,F,K,W=z,j=()=>(W(),W=se(a,Je=>t(3,K=Je)),a),Y,oe=z,te=()=>(oe(),oe=se(c,Je=>t(32,Y=Je)),c),ne,H=z,ee=()=>(H(),H=se(E,Je=>t(33,ne=Je)),E),pe,ue=z,ie=()=>(ue(),ue=se(b,Je=>t(4,pe=Je)),b),me,Se=z,$e=()=>(Se(),Se=se(v,Je=>t(34,me=Je)),v),He,we=z,je=()=>(we(),we=se(m,Je=>t(5,He=Je)),m),Re,Oe,Ze,Ke,tt=z,ot=()=>(tt(),tt=se(k,Je=>t(19,Ke=Je)),k);de(r,hn,Je=>t(36,Oe=Je)),de(r,gn,Je=>t(37,Ze=Je)),r.$$.on_destroy.push(()=>W()),r.$$.on_destroy.push(()=>oe()),r.$$.on_destroy.push(()=>H()),r.$$.on_destroy.push(()=>ue()),r.$$.on_destroy.push(()=>Se()),r.$$.on_destroy.push(()=>we()),r.$$.on_destroy.push(()=>tt());const nt=Rt();de(r,nt,Je=>t(31,F=Je));const ze=Xt();de(r,ze,Je=>t(35,Re=Je));let{context:Xe="page"}=e;function ct(){F.refresh()}const Ve=()=>{i.addEmptyRecord(),f.selectAndActivateFirstDataEntryCellInLastRow()};function We(Je){He=Je,m.set(He)}return r.$$set=Je=>{"context"in Je&&t(0,Xe=Je.context)},r.$$.update=()=>{r.$$.dirty[1]&64&&t(30,n=Ze),r.$$.dirty[1]&32&&t(29,l=Oe),r.$$.dirty[0]&1610612736|r.$$.dirty[1]&16&&t(24,s=!!(Re!=null&&Re.hasPermission({database:n,schema:l},"canEditTableRecords"))),r.$$.dirty[1]&1&&t(2,{recordsData:i,meta:o,isLoading:a,columnsDataStore:u,constraintsDataStore:c,selection:f}=F,i,(t(28,o),t(31,F)),j(t(18,a)),(t(27,u),t(31,F)),te(t(17,c)),(t(16,f),t(31,F))),r.$$.dirty[0]&268435456&&je(t(15,{pagination:m}=o,m)),r.$$.dirty[0]&32&&t(26,{size:d,leftBound:_,rightBound:h}=He,d,(t(14,_),t(5,He)),(t(25,h),t(5,He))),r.$$.dirty[0]&4&&ie(t(13,{totalCount:b,state:v,newRecords:k}=i,b,$e(t(12,v)),ot(t(11,k)))),r.$$.dirty[1]&8&&t(1,T=me),r.$$.dirty[0]&134217728&&ee(t(10,E=u.fetchStatus)),r.$$.dirty[0]&67108880&&t(9,P=n$(pe!=null?pe:0,d)),r.$$.dirty[0]&33554448&&t(8,R=Math.min(pe!=null?pe:0,h)),r.$$.dirty[0]&2|r.$$.dirty[1]&6&&t(23,L=(ne==null?void 0:ne.state)==="failure"||T===St.Error||Y.state===St.Error),r.$$.dirty[0]&16777217&&t(7,A=Xe!=="widget"&&s),r.$$.dirty[0]&8388616&&t(6,N=(()=>{let Je;return K&&(Je="loading"),L&&(Je="error"),Je})())},[Xe,T,i,K,pe,He,N,A,R,P,E,k,v,b,_,m,f,c,a,Ke,nt,ze,ct,L,s,h,d,u,o,l,n,F,Y,ne,me,Re,Oe,Ze,Ve,We]}class yee extends X{constructor(e){super(),Q(this,e,kee,vee,G,{context:0},null,[-1,-1])}}function dk(r){return!r.name.match(/[{}]/)}function pk(r,e){var l;const n=((l=e.match(/\{\d+\}/g))!=null?l:[]).map(s=>parseInt(s.slice(1,-1),10));return r.filter(s=>n.includes(s.id))}function See(r){return Yi(e=>pk(r,e).length>0,"The template must reference at least one column, otherwise the record summary will be the same for all records.")}class Cee{constructor(e){re(this,"columns");this.columns=e.filter(dk)}getColumnName(e){var t;return(t=this.columns.find(n=>n.id===e))==null?void 0:t.name}getColumnId(e){var t;return(t=this.columns.find(n=>n.name===e))==null?void 0:t.id}format(e){const t=/\{\d+\}/g;return e.replace(t,n=>{const l=parseInt(n.slice(1,-1),10),s=this.getColumnName(l);return s===void 0?n:`{${s}}`})}parse(e){const t=/\{[^{}]+\}/g,n=e;return{value:e.replace(t,s=>{const i=s.slice(1,-1),o=this.getColumnId(i);return o===void 0?s:`{${o}}`}),intermediateDisplay:n}}}function H0(r,e,t){const n=r.slice();return n[9]=e[t],n}function V0(r,e){let t,n,l;function s(){return e[7](e[9])}return n=new xt({props:{label:e[9].name,icon:e[5](e[9])}}),n.$on("click",s),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(i,o){w(i,t,o),y(n,i,o),l=!0},p(i,o){e=i;const a={};o&1&&(a.label=e[9].name),o&1&&(a.icon=e[5](e[9])),n.$set(a)},i(i){l||(p(n.$$.fragment,i),l=!0)},o(i){g(n.$$.fragment,i),l=!1},d(i){i&&$(t),S(n,i)}}}function Tee(r){let e=[],t=new Map,n,l,s=r[0];const i=o=>o[9].id;for(let o=0;o<s.length;o+=1){let a=H0(r,s,o),u=i(a);t.set(u,e[o]=V0(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=ae()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,a){a&35&&(s=o[0],q(),e=pt(e,a,i,1,o,s,t,n.parentNode,ht,V0,n,H0),U())},i(o){if(!l){for(let a=0;a<s.length;a+=1)p(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&$(n)}}}function Dee(r){let e,t;return e=new Ar({props:{label:"Append Column",icon:Qt,disabled:r[2],$$slots:{default:[Tee]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&4&&(s.disabled=n[2]),l&4099&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Iee(r,e,t){let n,l,s=z,i=()=>(s(),s=se(n,_=>t(8,l=_)),n),o;r.$$.on_destroy.push(()=>s());const a=Rt();de(r,a,_=>t(6,o=_));let{columns:u}=e,{onSelect:c}=e,{disabled:f=!1}=e;function m(_){const h=Al(_.id,l);if(h!=null&&h.includes("primary"))return ys;if(h!=null&&h.includes("foreignkey"))return ka;const b=f6(_);return Array.isArray(b)?b[0]:b}const d=_=>c(_);return r.$$set=_=>{"columns"in _&&t(0,u=_.columns),"onSelect"in _&&t(1,c=_.onSelect),"disabled"in _&&t(2,f=_.disabled)},r.$$.update=()=>{r.$$.dirty&64&&i(t(3,{processedColumns:n}=o,n))},[u,c,f,n,a,m,o,d]}class Eee extends X{constructor(e){super(),Q(this,e,Iee,Dee,G,{columns:0,onSelect:1,disabled:2})}}function Mee(r){let e,t,n,l,s,i;const o=[{formatter:r[3]},{disabled:r[2]},r[5]];function a(c){r[6](c)}let u={};for(let c=0;c<o.length;c+=1)u=x(u,o[c]);return r[0]!==void 0&&(u.value=r[0]),e=new Os({props:u}),ye.push(()=>Pe(e,"value",a)),s=new Eee({props:{columns:r[1],onSelect:r[4],disabled:r[2]}}),{c(){C(e.$$.fragment),n=O(),l=I("span"),C(s.$$.fragment),D(l,"class","column-insert svelte-86c15b")},m(c,f){y(e,c,f),w(c,n,f),w(c,l,f),y(s,l,null),i=!0},p(c,[f]){const m=f&44?ce(o,[f&8&&{formatter:c[3]},f&4&&{disabled:c[2]},f&32&&be(c[5])]):{};!t&&f&1&&(t=!0,m.value=c[0],Ne(()=>t=!1)),e.$set(m);const d={};f&2&&(d.columns=c[1]),f&4&&(d.disabled=c[2]),s.$set(d)},i(c){i||(p(e.$$.fragment,c),p(s.$$.fragment,c),i=!0)},o(c){g(e.$$.fragment,c),g(s.$$.fragment,c),i=!1},d(c){S(e,c),c&&$(n),c&&$(l),S(s)}}}function Aee(r,e,t){let n;const l=["value","columns","disabled"];let s=Be(e,l),{value:i=void 0}=e,{columns:o}=e,{disabled:a=!1}=e;function u(f){t(0,i=`${i}{${f.id}}`)}function c(f){i=f,t(0,i)}return r.$$set=f=>{e=x(x({},e),ft(f)),t(5,s=Be(e,l)),"value"in f&&t(0,i=f.value),"columns"in f&&t(1,o=f.columns),"disabled"in f&&t(2,a=f.disabled)},r.$$.update=()=>{r.$$.dirty&2&&t(3,n=new Cee(o))},[i,o,a,n,u,s,c]}class q0 extends X{constructor(e){super(),Q(this,e,Aee,Mee,G,{value:0,columns:1,disabled:2})}}function U0(r,e,t){const n=r.slice();return n[36]=e[t],n}function Ree(r){let e,t,n,l,s=r[1]&&W0(r),i=r[2]&&B0(r),o=r[6]&&G0();return{c(){s&&s.c(),e=O(),i&&i.c(),t=O(),o&&o.c(),n=ae()},m(a,u){s&&s.m(a,u),w(a,e,u),i&&i.m(a,u),w(a,t,u),o&&o.m(a,u),w(a,n,u),l=!0},p(a,u){a[1]?s?(s.p(a,u),u[0]&2&&p(s,1)):(s=W0(a),s.c(),p(s,1),s.m(e.parentNode,e)):s&&(q(),g(s,1,1,()=>{s=null}),U()),a[2]?i?(i.p(a,u),u[0]&4&&p(i,1)):(i=B0(a),i.c(),p(i,1),i.m(t.parentNode,t)):i&&(q(),g(i,1,1,()=>{i=null}),U()),a[6]?o||(o=G0(),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i(a){l||(p(s),p(i),l=!0)},o(a){g(s),g(i),l=!1},d(a){s&&s.d(a),a&&$(e),i&&i.d(a),a&&$(t),o&&o.d(a),a&&$(n)}}}function Pee(r){let e,t;return e=new an({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function W0(r){let e,t,n,l,s,i,o,a,u,c;return i=new rl({props:{$$slots:{default:[Oee]},$$scope:{ctx:r}}}),u=new Va({props:{recordSummary:r[1]}}),{c(){e=I("div"),e.textContent="Preview",t=O(),n=I("div"),l=I("div"),s=B(`Shows how links to
          `),C(i.$$.fragment),o=B(`
          records will appear.`),a=O(),C(u.$$.fragment),D(e,"class","heading svelte-1hlltog"),D(l,"class","help svelte-1hlltog"),D(n,"class","content svelte-1hlltog")},m(f,m){w(f,e,m),w(f,t,m),w(f,n,m),M(n,l),M(l,s),y(i,l,null),M(l,o),M(n,a),y(u,n,null),c=!0},p(f,m){const d={};m[0]&1|m[1]&256&&(d.$$scope={dirty:m,ctx:f}),i.$set(d);const _={};m[0]&2&&(_.recordSummary=f[1]),u.$set(_)},i(f){c||(p(i.$$.fragment,f),p(u.$$.fragment,f),c=!0)},o(f){g(i.$$.fragment,f),g(u.$$.fragment,f),c=!1},d(f){f&&$(e),f&&$(t),f&&$(n),S(i),S(u)}}}function Oee(r){let e=r[0].name+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&1&&e!==(e=n[0].name+"")&&he(t,e)},d(n){n&&$(t)}}}function B0(r){let e,t,n,l,s,i,o,a,u;function c(d){r[34](d)}let f={options:[!1,!0],getRadioLabel:Hee,ariaLabel:"Template type",isInline:!0,disabled:r[16]};r[15]!==void 0&&(f.value=r[15]),l=new Ns({props:f}),ye.push(()=>Pe(l,"value",c));let m=r[15]&&j0(r);return a=new bl({props:{form:r[8],onProceed:r[18],onCancel:r[8].reset,proceedButton:{label:"Save"},initiallyHidden:!0,size:"small"}}),{c(){e=I("div"),e.textContent="Template",t=O(),n=I("div"),C(l.$$.fragment),i=O(),m&&m.c(),o=O(),C(a.$$.fragment),D(e,"class","heading svelte-1hlltog"),D(n,"class","content svelte-1hlltog")},m(d,_){w(d,e,_),w(d,t,_),w(d,n,_),y(l,n,null),M(n,i),m&&m.m(n,null),M(n,o),y(a,n,null),u=!0},p(d,_){const h={};_[0]&65536&&(h.disabled=d[16]),!s&&_[0]&32768&&(s=!0,h.value=d[15],Ne(()=>s=!1)),l.$set(h),d[15]?m?(m.p(d,_),_[0]&32768&&p(m,1)):(m=j0(d),m.c(),p(m,1),m.m(n,o)):m&&(q(),g(m,1,1,()=>{m=null}),U());const b={};_[0]&256&&(b.form=d[8]),_[0]&256&&(b.onCancel=d[8].reset),a.$set(b)},i(d){u||(p(l.$$.fragment,d),p(m),p(a.$$.fragment,d),u=!0)},o(d){g(l.$$.fragment,d),g(m),g(a.$$.fragment,d),u=!1},d(d){d&&$(e),d&&$(t),d&&$(n),S(l),m&&m.d(),S(a)}}}function j0(r){let e,t,n,l;e=new _n({props:{field:r[3],input:{component:q0,props:{columns:r[5]}}}});let s=r[7].length&&Y0(r);return{c(){C(e.$$.fragment),t=O(),s&&s.c(),n=ae()},m(i,o){y(e,i,o),w(i,t,o),s&&s.m(i,o),w(i,n,o),l=!0},p(i,o){const a={};o[0]&8&&(a.field=i[3]),o[0]&32&&(a.input={component:q0,props:{columns:i[5]}}),e.$set(a),i[7].length?s?(s.p(i,o),o[0]&128&&p(s,1)):(s=Y0(i),s.c(),p(s,1),s.m(n.parentNode,n)):s&&(q(),g(s,1,1,()=>{s=null}),U())},i(i){l||(p(e.$$.fragment,i),p(s),l=!0)},o(i){g(e.$$.fragment,i),g(s),l=!1},d(i){S(e,i),i&&$(t),s&&s.d(i),i&&$(n)}}}function Y0(r){let e,t;return e=new Ys({props:{$$slots:{default:[Fee]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&128|l[1]&256&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Lee(r){let e=r[36].id+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&128&&e!==(e=n[36].id+"")&&he(t,e)},d(n){n&&$(t)}}}function Nee(r){let e=r[36].name+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&128&&e!==(e=n[36].name+"")&&he(t,e)},d(n){n&&$(t)}}}function K0(r){let e,t,n,l,s,i;return t=new rl({props:{$$slots:{default:[Lee]},$$scope:{ctx:r}}}),l=new rl({props:{$$slots:{default:[Nee]},$$scope:{ctx:r}}}),{c(){e=I("li"),C(t.$$.fragment),n=B(`
                      references the column
                      `),C(l.$$.fragment),s=B(`.
                    `)},m(o,a){w(o,e,a),y(t,e,null),M(e,n),y(l,e,null),M(e,s),i=!0},p(o,a){const u={};a[0]&128|a[1]&256&&(u.$$scope={dirty:a,ctx:o}),t.$set(u);const c={};a[0]&128|a[1]&256&&(c.$$scope={dirty:a,ctx:o}),l.$set(c)},i(o){i||(p(t.$$.fragment,o),p(l.$$.fragment,o),i=!0)},o(o){g(t.$$.fragment,o),g(l.$$.fragment,o),i=!1},d(o){o&&$(e),S(t),S(l)}}}function Fee(r){let e,t,n,l,s,i=r[7],o=[];for(let u=0;u<i.length;u+=1)o[u]=K0(U0(r,i,u));const a=u=>g(o[u],1,1,()=>{o[u]=null});return{c(){e=I("div"),t=I("p"),t.textContent=`Because some column names contain curly braces, the following
                  numerical values are used in place of column names within the
                  above template:`,n=O(),l=I("ul");for(let u=0;u<o.length;u+=1)o[u].c();D(l,"class","svelte-1hlltog"),D(e,"class","nonconformant-columns svelte-1hlltog")},m(u,c){w(u,e,c),M(e,t),M(e,n),M(e,l);for(let f=0;f<o.length;f+=1)o[f].m(l,null);s=!0},p(u,c){if(c[0]&128){i=u[7];let f;for(f=0;f<i.length;f+=1){const m=U0(u,i,f);o[f]?(o[f].p(m,c),p(o[f],1)):(o[f]=K0(m),o[f].c(),p(o[f],1),o[f].m(l,null))}for(q(),f=i.length;f<o.length;f+=1)a(f);U()}},i(u){if(!s){for(let c=0;c<i.length;c+=1)p(o[c]);s=!0}},o(u){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)g(o[c]);s=!1},d(u){u&&$(e),Fn(o,u)}}}function G0(r){let e;return{c(){e=I("span"),e.textContent="No record summary available.",D(e,"class","null-text svelte-1hlltog")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function zee(r){let e,t,n,l;const s=[Pee,Ree],i=[];function o(a,u){return a[14]?0:1}return t=o(r),n=i[t]=s[t](r),{c(){e=I("div"),n.c(),D(e,"class","record-summary-config")},m(a,u){w(a,e,u),i[t].m(e,null),l=!0},p(a,u){let c=t;t=o(a),t===c?i[t].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),p(n,1),n.m(e,null))},i(a){l||(p(n),l=!0)},o(a){g(n),l=!1},d(a){a&&$(e),i[t].d()}}}const Hee=r=>r?"Custom":"Default";function Vee(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,_,h,b,v,k,T,E,P,R,L,A=z,N=()=>(A(),A=se(v,Ve=>t(35,L=Ve)),v),F,K,W=z,j=()=>(W(),W=se(c,Ve=>t(29,K=Ve)),c),Y,oe=z,te=()=>(oe(),oe=se(b,Ve=>t(30,Y=Ve)),b),ne,H=z,ee=()=>(H(),H=se(a,Ve=>t(5,ne=Ve)),a),pe,ue=z,ie=()=>(ue(),ue=se(u,Ve=>t(31,pe=Ve)),u),me,Se,$e,He=z,we=()=>(He(),He=se(o,Ve=>t(14,$e=Ve)),o),je,Re=z,Oe=()=>(Re(),Re=se(_,Ve=>t(15,je=Ve)),_),Ze,Ke=z,tt=()=>(Ke(),Ke=se(h,Ve=>t(16,Ze=Ve)),h);de(r,hn,Ve=>t(32,me=Ve)),de(r,gn,Ve=>t(33,Se=Ve)),r.$$.on_destroy.push(()=>A()),r.$$.on_destroy.push(()=>W()),r.$$.on_destroy.push(()=>oe()),r.$$.on_destroy.push(()=>H()),r.$$.on_destroy.push(()=>ue()),r.$$.on_destroy.push(()=>He()),r.$$.on_destroy.push(()=>Re()),r.$$.on_destroy.push(()=>Ke());let{table:ot}=e,{tabularData:nt}=e;const ze=Xt();de(r,ze,Ve=>t(28,F=Ve));async function Xe(){try{await az(ot,L.values)}catch(Ve){At.error(`Unable to save. ${en(Ve)}`)}}function ct(Ve){je=Ve,_.set(je)}return r.$$set=Ve=>{"table"in Ve&&t(0,ot=Ve.table),"tabularData"in Ve&&t(19,nt=Ve.tabularData)},r.$$.update=()=>{var Ve,We;r.$$.dirty[1]&4&&t(21,n=Se),r.$$.dirty[1]&2&&t(20,l=me),r.$$.dirty[0]&524288&&t(26,{recordsData:s,columnsDataStore:i,isLoading:o}=nt,s,(t(27,i),t(19,nt)),we(t(13,o))),r.$$.dirty[0]&134217728&&ee(t(12,{columns:a}=i,a)),r.$$.dirty[0]&67108864&&ie(t(11,{savedRecords:u,recordSummaries:c}=s,u,j(t(10,c)))),r.$$.dirty[1]&1&&t(22,f=pe[0]),r.$$.dirty[0]&1&&t(25,m=(Ve=ot.settings.preview_settings.customized)!=null?Ve:!1),r.$$.dirty[0]&1&&t(24,d=(We=ot.settings.preview_settings.template)!=null?We:""),r.$$.dirty[0]&33554432&&Oe(t(4,_=qt(m))),r.$$.dirty[0]&16&&tt(t(9,h=_.disabled)),r.$$.dirty[0]&16777248&&te(t(3,b=Ti(d,[See(ne)]))),r.$$.dirty[0]&24&&N(t(8,v=Vn({customized:_,template:b}))),r.$$.dirty[0]&1073741856&&t(23,k=pk(ne,Y)),r.$$.dirty[0]&8388608&&t(7,T=k.filter(Je=>!dk(Je))),r.$$.dirty[0]&1614807040&&t(1,E=(()=>{if(!f)return;const{record:Je}=f;return tR({template:Y,record:Je,transitiveData:K})})()),r.$$.dirty[0]&271581184&&t(2,P=F==null?void 0:F.hasPermission({database:n,schema:l},"canEditMetadata")),r.$$.dirty[0]&6&&t(6,R=!P&&!E)},[ot,E,P,b,_,ne,R,T,v,h,c,u,a,o,$e,je,Ze,ze,Xe,nt,l,n,f,k,d,m,s,i,F,K,Y,pe,me,Se,ct]}class _k extends X{constructor(e){super(),Q(this,e,Vee,zee,G,{table:0,tabularData:19},null,[-1,-1])}}function qee(r){let e,t;return e=new _k({props:{table:r[0],tabularData:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.table=n[0]),l&2&&(s.tabularData=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Uee(r,e,t){let n,l,s;de(r,sr,o=>t(3,s=o));let{table:i}=e;return r.$$set=o=>{"table"in o&&t(0,i=o.table)},r.$$.update=()=>{r.$$.dirty&8&&t(2,n=s.data),r.$$.dirty&5&&t(1,l=new Ya({id:i.id,abstractTypesMap:n,meta:new Xl({pagination:new Mr({size:1})}),table:i}))},[i,l,n,s]}class Wee extends X{constructor(e){super(),Q(this,e,Uee,qee,G,{table:0})}}function Q0(r,e,t){const n=r.slice();return n[15]=e[t],n}function Bee(r){let e,t,n,l,s,i,o;function a(m){r[14](m)}var u=r[6];function c(m){let d={disabled:m[5],autofocus:!0};return m[2]!==void 0&&(d.value=m[2]),{props:d}}u&&(t=new u(c(r)),ye.push(()=>Pe(t,"value",a)));let f=r[3].length&&X0(r);return i=new _r({props:{onProceed:r[10],onCancel:r[9],isProcessing:r[5],canProceed:r[7],proceedButton:{label:"Save"},size:"small"}}),{c(){e=I("div"),t&&C(t.$$.fragment),l=O(),f&&f.c(),s=O(),C(i.$$.fragment),D(e,"class","input-container svelte-1f8sel4")},m(m,d){w(m,e,d),t&&y(t,e,null),M(e,l),f&&f.m(e,null),M(e,s),y(i,e,null),o=!0},p(m,d){const _={};if(d&32&&(_.disabled=m[5]),!n&&d&4&&(n=!0,_.value=m[2],Ne(()=>n=!1)),u!==(u=m[6])){if(t){q();const b=t;g(b.$$.fragment,1,0,()=>{S(b,1)}),U()}u?(t=new u(c(m)),ye.push(()=>Pe(t,"value",a)),C(t.$$.fragment),p(t.$$.fragment,1),y(t,e,l)):t=null}else u&&t.$set(_);m[3].length?f?f.p(m,d):(f=X0(m),f.c(),f.m(e,s)):f&&(f.d(1),f=null);const h={};d&32&&(h.isProcessing=m[5]),d&128&&(h.canProceed=m[7]),i.$set(h)},i(m){o||(t&&p(t.$$.fragment,m),p(i.$$.fragment,m),o=!0)},o(m){t&&g(t.$$.fragment,m),g(i.$$.fragment,m),o=!1},d(m){m&&$(e),t&&S(t),f&&f.d(),S(i)}}}function jee(r){let e,t,n;var l=r[6];function s(i){return{props:{value:i[0],disabled:i[1]}}}return l&&(e=new l(s(r)),e.$on("focus",r[8])),{c(){e&&C(e.$$.fragment),t=ae()},m(i,o){e&&y(e,i,o),w(i,t,o),n=!0},p(i,o){const a={};if(o&1&&(a.value=i[0]),o&2&&(a.disabled=i[1]),l!==(l=i[6])){if(e){q();const u=e;g(u.$$.fragment,1,0,()=>{S(u,1)}),U()}l?(e=new l(s(i)),e.$on("focus",i[8]),C(e.$$.fragment),p(e.$$.fragment,1),y(e,t.parentNode,t)):e=null}else l&&e.$set(a)},i(i){n||(e&&p(e.$$.fragment,i),n=!0)},o(i){e&&g(e.$$.fragment,i),n=!1},d(i){i&&$(t),e&&S(e,i)}}}function X0(r){let e,t=r[3],n=[];for(let l=0;l<t.length;l+=1)n[l]=J0(Q0(r,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=ae()},m(l,s){for(let i=0;i<n.length;i+=1)n[i].m(l,s);w(l,e,s)},p(l,s){if(s&8){t=l[3];let i;for(i=0;i<t.length;i+=1){const o=Q0(l,t,i);n[i]?n[i].p(o,s):(n[i]=J0(o),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(l){Fn(n,l),l&&$(e)}}}function J0(r){let e,t=r[15]+"",n;return{c(){e=I("span"),n=B(t),D(e,"class","error svelte-1f8sel4")},m(l,s){w(l,e,s),M(e,n)},p(l,s){s&8&&t!==(t=l[15]+"")&&he(n,t)},d(l){l&&$(e)}}}function Yee(r){let e,t,n,l;const s=[jee,Bee],i=[];function o(a,u){return!a[4]||a[1]?0:1}return t=o(r),n=i[t]=s[t](r),{c(){e=I("div"),n.c(),D(e,"class","editable-text svelte-1f8sel4")},m(a,u){w(a,e,u),i[t].m(e,null),l=!0},p(a,[u]){let c=t;t=o(a),t===c?i[t].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),p(n,1),n.m(e,null))},i(a){l||(p(n),l=!0)},o(a){g(n),l=!1},d(a){a&&$(e),i[t].d()}}}function Kee(r,e,t){let n,l,s,{initialValue:i=""}=e,{onSubmit:o}=e,{getValidationErrors:a=()=>[]}=e,{isLongText:u=!1}=e,{disabled:c=!1}=e,f=!1,m="",d=!1;function _(){t(2,m=i),t(4,f=!0)}function h(){t(2,m=""),t(4,f=!1)}async function b(){t(5,d=!0);try{await o(m),t(2,m=""),t(4,f=!1)}catch(k){At.error(en(k))}finally{t(5,d=!1)}}function v(k){m=k,t(2,m)}return r.$$set=k=>{"initialValue"in k&&t(0,i=k.initialValue),"onSubmit"in k&&t(11,o=k.onSubmit),"getValidationErrors"in k&&t(12,a=k.getValidationErrors),"isLongText"in k&&t(13,u=k.isLongText),"disabled"in k&&t(1,c=k.disabled)},r.$$.update=()=>{r.$$.dirty&4101&&t(3,n=m===i?[]:a(m)),r.$$.dirty&13&&t(7,l=n.length===0&&m!==i),r.$$.dirty&8192&&t(6,s=u?Gl:$n)},[i,c,m,n,f,d,s,l,_,h,b,o,a,u,v]}class Rf extends X{constructor(e){super(),Q(this,e,Kee,Yee,G,{initialValue:0,onSubmit:11,getValidationErrors:12,isLongText:13,disabled:1})}}function Gee(r){let e,t,n,l,s;return l=new Rf({props:{initialValue:r[0].column.name,onSubmit:r[4],getValidationErrors:r[3],disabled:!r[1]}}),{c(){e=I("div"),t=I("span"),t.textContent="Name",n=O(),C(l.$$.fragment),D(e,"class","rename-column-property-container svelte-yc3b2q")},m(i,o){w(i,e,o),M(e,t),M(e,n),y(l,e,null),s=!0},p(i,[o]){const a={};o&1&&(a.initialValue=i[0].column.name),o&2&&(a.disabled=!i[1]),l.$set(a)},i(i){s||(p(l.$$.fragment,i),s=!0)},o(i){g(l.$$.fragment,i),s=!1},d(i){i&&$(e),S(l)}}}function Qee(r,e,t){let n,l,s=z,i=()=>(s(),s=se(n,m=>t(6,l=m)),n);r.$$.on_destroy.push(()=>s());let{column:o}=e,{columnsDataStore:a}=e,{canExecuteDDL:u}=e;function c(m){return m===o.column.name?[]:m?l.map(_=>_.name).includes(m)?["A column with that name already exists."]:[]:["Name cannot be empty."]}async function f(m){try{await a.rename(o.id,m)}catch(d){At.error(`Unable to rename column. ${en(d)}`)}}return r.$$set=m=>{"column"in m&&t(0,o=m.column),"columnsDataStore"in m&&t(5,a=m.columnsDataStore),"canExecuteDDL"in m&&t(1,u=m.canExecuteDDL)},r.$$.update=()=>{r.$$.dirty&32&&i(t(2,{columns:n}=a,n))},[o,u,n,c,f,a]}class Xee extends X{constructor(e){super(),Q(this,e,Qee,Gee,G,{column:0,columnsDataStore:5,canExecuteDDL:1})}}function Jee(r){let e;const t=r[1].default,n=De(t,r,r[2],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&4)&&Ee(n,t,l,l[2],e?Ie(t,l[2],s,null):Me(l[2]),null)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function Zee(r){let e,t,n;return t=new Ua({props:{icon:nE,fullWidth:r[0],$$slots:{default:[Jee]},$$scope:{ctx:r}}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","outcome-box svelte-siey9s")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,[s]){const i={};s&1&&(i.fullWidth=l[0]),s&4&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function xee(r,e,t){let{$$slots:n={},$$scope:l}=e,{fullWidth:s=!0}=e;return r.$$set=i=>{"fullWidth"in i&&t(0,s=i.fullWidth),"$$scope"in i&&t(2,l=i.$$scope)},[s,n,l]}class gk extends X{constructor(e){super(),Q(this,e,xee,Zee,G,{fullWidth:0})}}function ete(r){let e,t,n;function l(i){r[3](i)}let s={options:r[1],getLabel:r[2]};return r[0]!==void 0&&(s.values=r[0]),e=new ba({props:s}),ye.push(()=>Pe(e,"values",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.options=i[1]),!t&&o&1&&(t=!0,a.values=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function tte(r,e,t){let{options:n}=e,{value:l=[]}=e;function s(o){return{component:Bs,props:{processedColumn:o}}}function i(o){l=o,t(0,l)}return r.$$set=o=>{"options"in o&&t(1,n=o.options),"value"in o&&t(0,l=o.value)},[l,n,s,i]}class Z0 extends X{constructor(e){super(),Q(this,e,tte,ete,G,{options:1,value:0})}}function nte({fkConstraint:r,columns:e,tables:t}){const n=t.get(r.referent_table);if(!!n)return{constraint:r,table:n,columns:r.columns.map(l=>e.get(l)).filter(mn)}}function rte({constraints:r,columns:e,tables:t}){return r.map(n=>pf(n)?nte({fkConstraint:n,columns:e,tables:t}):void 0).filter(mn)}function lte(r,e){const t=e.find(l=>r.columns.some(s=>s.id===l.id));return t?of(((l,s)=>`Cannot move linking column "${l}" to its linked table "${s}".`)(t.column.name,r.table.name)):qa()}function ste(r){let e;return{c(){e=B("the current table")},m(t,n){w(t,e,n)},p:z,i:z,o:z,d(t){t&&$(e)}}}function ite(r){let e,t;return e=new Cn({props:{table:r[0],truncate:!1,bold:!0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.table=n[0]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ote(r){let e,t,n,l;const s=[ite,ste],i=[];function o(a,u){return a[0]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function ate(r,e,t){let{table:n=void 0}=e;return r.$$set=l=>{"table"in l&&t(0,n=l.table)},[n]}class Pf extends X{constructor(e){super(),Q(this,e,ate,ote,G,{table:0})}}function x0(r,e,t){const n=r.slice();return n[3]=e[t],n}function e2(r){let e,t;return e=new Bs({props:{processedColumn:r[3],truncate:!1,bold:!0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.processedColumn=n[3]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ute(r){let e,t,n,l,s,i,o;n=new Cn({props:{table:r[0],bold:!0,truncate:!1}});let a=r[1],u=[];for(let f=0;f<a.length;f+=1)u[f]=e2(x0(r,a,f));const c=f=>g(u[f],1,1,()=>{u[f]=null});return{c(){e=I("span"),t=I("span"),C(n.$$.fragment),l=O(),s=I("span"),i=B(`via
    `);for(let f=0;f<u.length;f+=1)u[f].c();D(t,"class","table"),D(s,"class","columns"),D(e,"class","linked-table-name")},m(f,m){w(f,e,m),M(e,t),y(n,t,null),M(e,l),M(e,s),M(s,i);for(let d=0;d<u.length;d+=1)u[d].m(s,null);o=!0},p(f,[m]){const d={};if(m&1&&(d.table=f[0]),n.$set(d),m&2){a=f[1];let _;for(_=0;_<a.length;_+=1){const h=x0(f,a,_);u[_]?(u[_].p(h,m),p(u[_],1)):(u[_]=e2(h),u[_].c(),p(u[_],1),u[_].m(s,null))}for(q(),_=a.length;_<u.length;_+=1)c(_);U()}},i(f){if(!o){p(n.$$.fragment,f);for(let m=0;m<a.length;m+=1)p(u[m]);o=!0}},o(f){g(n.$$.fragment,f),u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)g(u[m]);o=!1},d(f){f&&$(e),S(n),Fn(u,f)}}}function cte(r,e,t){let n,l,{linkedTable:s}=e;return r.$$set=i=>{"linkedTable"in i&&t(2,s=i.linkedTable)},r.$$.update=()=>{r.$$.dirty&4&&t(1,{columns:n,table:l}=s,n,(t(0,l),t(2,s)))},[l,n,s]}class fte extends X{constructor(e){super(),Q(this,e,cte,ute,G,{linkedTable:2})}}function mte(r){let e,t,n;function l(i){r[3](i)}let s={options:r[1],getLabel:r[2]};return r[0]!==void 0&&(s.value=r[0]),e=new Sn({props:s}),ye.push(()=>Pe(e,"value",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.options=i[1]),!t&&o&1&&(t=!0,a.value=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function dte(r,e,t){let{linkedTables:n}=e,{value:l=void 0}=e;function s(o){return o===void 0?"":{component:fte,props:{linkedTable:o}}}function i(o){l=o,t(0,l)}return r.$$set=o=>{"linkedTables"in o&&t(1,n=o.linkedTables),"value"in o&&t(0,l=o.value)},[l,n,s,i]}class t2 extends X{constructor(e){super(),Q(this,e,dte,mte,G,{linkedTables:1,value:0})}}function pte(r){let e,t,n,l;return n=new En({props:{icon:ka,name:r[0],truncate:!1,bold:!0}}),{c(){e=I("span"),e.textContent="It is linked via a foreign key column:",t=O(),C(n.$$.fragment)},m(s,i){w(s,e,i),w(s,t,i),y(n,s,i),l=!0},p(s,[i]){const o={};i&1&&(o.name=s[0]),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(e),s&&$(t),S(n,s)}}}function _te(r,e,t){let{newFkColumnName:n}=e;return r.$$set=l=>{"newFkColumnName"in l&&t(0,n=l.newFkColumnName)},[n]}class gte extends X{constructor(e){super(),Q(this,e,_te,pte,G,{newFkColumnName:0})}}function hte(r){let e;return{c(){e=B("the new table")},m(t,n){w(t,e,n)},p:z,i:z,o:z,d(t){t&&$(e)}}}function bte(r){let e,t;return e=new Cn({props:{table:{name:r[0]},truncate:!1,bold:!0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.table={name:n[0]}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function $te(r){let e,t,n,l;const s=[bte,hte],i=[];function o(a,u){return a[0]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function wte(r,e,t){let{name:n=void 0}=e;return r.$$set=l=>{"name"in l&&t(0,n=l.name)},[n]}class hk extends X{constructor(e){super(),Q(this,e,wte,$te,G,{name:0})}}function vte(r){let e,t;return e=new _n({props:{field:r[2],input:{component:t2,props:{linkedTables:r[11]}},label:"Linked Table",layout:"stacked"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&4&&(s.field=n[2]),l[0]&2048&&(s.input={component:t2,props:{linkedTables:n[11]}}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function kte(r){let e,t;return e=new _n({props:{field:r[4],label:"Name of New Table",layout:"stacked",$$slots:{help:[yte]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&16&&(s.field=n[4]),l[0]&262144|l[1]&64&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function yte(r){let e,t,n,l;return n=new Pf({props:{table:r[18]}}),{c(){e=I("span"),t=B(`The new table that will be linked to
        `),C(n.$$.fragment),D(e,"slot","help")},m(s,i){w(s,e,i),M(e,t),y(n,e,null),l=!0},p(s,i){const o={};i[0]&262144&&(o.table=s[18]),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(e),S(n)}}}function n2(r){let e,t,n;return t=new hk({props:{name:r[14]}}),{c(){e=B(`into
        `),C(t.$$.fragment)},m(l,s){w(l,e,s),y(t,l,s),n=!0},p(l,s){const i={};s[0]&16384&&(i.name=l[14]),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t,l)}}}function Ste(r){let e,t,n,l,s,i=r[14]&&n2(r);return{c(){e=I("span"),t=B("Select the columns you want to "),n=B(r[10]),l=O(),i&&i.c(),D(e,"slot","help")},m(o,a){w(o,e,a),M(e,t),M(e,n),M(e,l),i&&i.m(e,null),s=!0},p(o,a){(!s||a[0]&1024)&&he(n,o[10]),o[14]?i?(i.p(o,a),a[0]&16384&&p(i,1)):(i=n2(o),i.c(),p(i,1),i.m(e,null)):i&&(q(),g(i,1,1,()=>{i=null}),U())},i(o){s||(p(i),s=!0)},o(o){g(i),s=!1},d(o){o&&$(e),i&&i.d()}}}function r2(r){let e,t,n,l,s,i;return n=new Pf({props:{table:r[18]}}),s=new _n({props:{field:r[3],label:"Column Name"}}),{c(){e=I("p"),t=B(`A new column will be added to
          `),C(n.$$.fragment),l=O(),C(s.$$.fragment)},m(o,a){w(o,e,a),M(e,t),y(n,e,null),w(o,l,a),y(s,o,a),i=!0},p(o,a){const u={};a[0]&262144&&(u.table=o[18]),n.$set(u);const c={};a[0]&8&&(c.field=o[3]),s.$set(c)},i(o){i||(p(n.$$.fragment,o),p(s.$$.fragment,o),i=!0)},o(o){g(n.$$.fragment,o),g(s.$$.fragment,o),i=!1},d(o){o&&$(e),S(n),o&&$(l),S(s,o)}}}function Cte(r){let e,t,n=Er(r[7],"columns")+"",l,s,i,o,a,u,c,f;i=new Pf({props:{table:r[18]}}),a=new hk({props:{name:r[14]}});let m=r[6]==="newTable"&&r2(r);return{c(){e=I("p"),t=B("The "),l=B(n),s=B(` above will be removed from
        `),C(i.$$.fragment),o=B(`
        and added to
        `),C(a.$$.fragment),u=O(),m&&m.c(),c=ae()},m(d,_){w(d,e,_),M(e,t),M(e,l),M(e,s),y(i,e,null),M(e,o),y(a,e,null),w(d,u,_),m&&m.m(d,_),w(d,c,_),f=!0},p(d,_){(!f||_[0]&128)&&n!==(n=Er(d[7],"columns")+"")&&he(l,n);const h={};_[0]&262144&&(h.table=d[18]),i.$set(h);const b={};_[0]&16384&&(b.name=d[14]),a.$set(b),d[6]==="newTable"?m?(m.p(d,_),_[0]&64&&p(m,1)):(m=r2(d),m.c(),p(m,1),m.m(c.parentNode,c)):m&&(q(),g(m,1,1,()=>{m=null}),U())},i(d){f||(p(i.$$.fragment,d),p(a.$$.fragment,d),p(m),f=!0)},o(d){g(i.$$.fragment,d),g(a.$$.fragment,d),g(m),f=!1},d(d){d&&$(e),S(i),S(a),d&&$(u),m&&m.d(d),d&&$(c)}}}function Tte(r){let e,t;return e=new gk({props:{$$slots:{default:[Cte]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&278728|l[1]&64&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Dte(r){let e,t,n,l,s,i,o;const a=[kte,vte],u=[];function c(f,m){return f[6]==="newTable"?0:1}return e=c(r),t=u[e]=a[e](r),l=new _n({props:{field:r[1],input:{component:Z0,props:{options:r[5]}},label:`Columns to ${r[9]}`,layout:"stacked",$$slots:{help:[Ste]},$$scope:{ctx:r}}}),i=new fr({props:{$$slots:{default:[Tte]},$$scope:{ctx:r}}}),{c(){t.c(),n=O(),C(l.$$.fragment),s=O(),C(i.$$.fragment)},m(f,m){u[e].m(f,m),w(f,n,m),y(l,f,m),w(f,s,m),y(i,f,m),o=!0},p(f,m){let d=e;e=c(f),e===d?u[e].p(f,m):(q(),g(u[d],1,1,()=>{u[d]=null}),U(),t=u[e],t?t.p(f,m):(t=u[e]=a[e](f),t.c()),p(t,1),t.m(n.parentNode,n));const _={};m[0]&2&&(_.field=f[1]),m[0]&32&&(_.input={component:Z0,props:{options:f[5]}}),m[0]&512&&(_.label=`Columns to ${f[9]}`),m[0]&17408|m[1]&64&&(_.$$scope={dirty:m,ctx:f}),l.$set(_);const h={};m[0]&278728|m[1]&64&&(h.$$scope={dirty:m,ctx:f}),i.$set(h)},i(f){o||(p(t),p(l.$$.fragment,f),p(i.$$.fragment,f),o=!0)},o(f){g(t),g(l.$$.fragment,f),g(i.$$.fragment,f),o=!1},d(f){u[e].d(f),f&&$(n),S(l,f),f&&$(s),S(i,f)}}}function Ite(r){let e;return{c(){e=B("Extract Columns Into a New Table")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function Ete(r){let e;return{c(){e=B("Move Columns To Linked Table")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function Mte(r){let e;function t(s,i){return s[6]==="existingTable"?Ete:Ite}let n=t(r),l=n(r);return{c(){e=I("span"),l.c(),D(e,"slot","title")},m(s,i){w(s,e,i),l.m(e,null)},p(s,i){n!==(n=t(s))&&(l.d(1),l=n(s),l&&(l.c(),l.m(e,null)))},d(s){s&&$(e),l.d()}}}function Ate(r){let e,t;return e=new bl({props:{form:r[13],slot:"footer",proceedButton:{label:r[12]},onProceed:r[20],onCancel:r[31]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&8192&&(s.form=n[13]),l[0]&4096&&(s.proceedButton={label:n[12]}),l[0]&1&&(s.onCancel=n[31]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Rte(r){let e,t;return e=new Pl({props:{controller:r[0],$$slots:{footer:[Ate],title:[Mte],default:[Dte]},$$scope:{ctx:r}}}),e.$on("close",function(){Et(r[13].reset)&&r[13].reset.apply(this,arguments)}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){r=n;const s={};l[0]&1&&(s.controller=r[0]),l[0]&294655|l[1]&64&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Pte(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,_,h,b,v,k,T,E,P,R,L=z,A=()=>(L(),L=se(a,We=>t(6,R=We)),a),N,F=z,K=()=>(F(),F=se(d,We=>t(24,N=We)),d),W,j,Y=z,oe=()=>(Y(),Y=se(h,We=>t(33,j=We)),h),te,ne=z,H=()=>(ne(),ne=se(u,We=>t(7,te=We)),u),ee,pe=z,ue=()=>(pe(),pe=se(_,We=>t(26,ee=We)),_),ie,me=z,Se=()=>(me(),me=se(c,We=>t(34,ie=We)),c),$e,He,we=z,je=()=>(we(),we=se(n,We=>t(28,He=We)),n),Re,Oe,Ze=z,Ke=()=>(Ze(),Ze=se(l,We=>t(30,Oe=We)),l),tt;de(r,ln,We=>t(27,$e=We)),de(r,Qv,We=>t(29,Re=We)),de(r,Ll,We=>t(18,tt=We)),r.$$.on_destroy.push(()=>L()),r.$$.on_destroy.push(()=>F()),r.$$.on_destroy.push(()=>Y()),r.$$.on_destroy.push(()=>ne()),r.$$.on_destroy.push(()=>pe()),r.$$.on_destroy.push(()=>me()),r.$$.on_destroy.push(()=>we()),r.$$.on_destroy.push(()=>Ze());const ot=Rt();de(r,ot,We=>t(25,W=We));let{controller:nt}=e;function ze(We,Je){Zt(h,j=ri({name:We},Je),j)}function Xe(We){!ie||We.length!==0&&s.intersectSelectedRowsWithGivenColumns(We)}async function ct(){var mt;const We=j,Je=ee,bt=[],_t=te,xe=_t.map(kt=>kt.id);try{if(R==="existingTable"){const kt=N==null?void 0:N.table.id;if(!kt)throw new Error("No target table selected");await lz(W.id,xe,kt);const Wt=(mt=N==null?void 0:N.columns)!=null?mt:[];let Pt;Wt.length===1&&(Pt=Wt[0].column.id),bt.push(W.refreshAfterColumnExtraction(xe,Pt))}else{const kt=await rz({id:W.id,idsOfColumnsToExtract:xe,extractedTableName:Je,newFkColumnName:j});bt.push(Gv(kt.extracted_table)),bt.push(W.refreshAfterColumnExtraction(xe,kt.fk_column))}if(R==="newTable")At.success({title:`A new table ${Je} has been created with the extracted ${Er(_t,"columns")}`,contentComponent:gte,contentComponentProps:{newFkColumnName:We}});else{const kt=_t.map(Pt=>Pt.column.name),Wt=`${kt.length>1?`Columns ${kt.join(",")} have`:`Column ${kt[0]} has`} been moved to table '${N==null?void 0:N.table.name}'`;At.success(Wt)}if(nt.close(),await Promise.all(bt),R==="newTable"){const Wt=[...Qe(n).values()].slice(-1)[0];s.toggleColumnSelection(Wt),await Gt(),RO()}}catch(kt){At.error(en(kt))}}const Ve=()=>nt.close();return r.$$set=We=>{"controller"in We&&t(0,nt=We.controller)},r.$$.update=()=>{var We;r.$$.dirty[0]&33554432&&je(t(8,{processedColumns:n,constraintsDataStore:l,selection:s}=W,n,Ke(t(17,l)))),r.$$.dirty[0]&1073741824&&t(22,{constraints:i}=Oe,i),r.$$.dirty[0]&268435456&&t(5,o=[...He.values()]),r.$$.dirty[0]&1&&A(t(16,{targetType:a,columns:u,isOpen:c}=nt,a,H(t(1,u)),Se(t(15,c)))),r.$$.dirty[0]&128&&t(23,f=new Set(te.map(Je=>Je.column.name))),r.$$.dirty[0]&8388640&&t(21,m=o.map(Je=>Je.column).filter(Je=>!f.has(Je.name))),r.$$.dirty[0]&536870912&&ue(t(4,_=qt("",[Re]))),r.$$.dirty[0]&2097152&&oe(t(3,h=qt("",[xo(m)]))),r.$$.dirty[0]&83886144&&t(14,b=R==="newTable"?ee:(We=N==null?void 0:N.table.name)!=null?We:""),r.$$.dirty[0]&94&&t(13,v=R==="newTable"?Vn({columns:u,tableName:_,newFkColumnName:h}):Vn({columns:u,linkedTable:d},[uf([d,u],Je=>lte(...Je))])),r.$$.dirty[0]&64&&t(12,k=R==="existingTable"?"Move Columns":"Create Table and Move Columns"),r.$$.dirty[0]&406847488&&t(11,T=rte({constraints:i,columns:He,tables:$e.data})),r.$$.dirty[0]&64&&t(10,E=R==="newTable"?"extract":"move"),r.$$.dirty[0]&64&&t(9,P=R==="newTable"?"Extract":"Move"),r.$$.dirty[0]&69206016&&ze(ee,m),r.$$.dirty[0]&128&&Xe(te)},K(t(2,d=qt(void 0))),[nt,u,d,h,_,o,R,te,n,P,E,T,k,v,b,c,a,l,tt,ot,ct,m,i,f,N,W,ee,$e,He,Re,Oe,Ve]}class Ote extends X{constructor(e){super(),Q(this,e,Pte,Rte,G,{controller:0},null,[-1,-1])}}class Lte extends z${constructor(){super(...arguments);re(this,"targetType",Ge("newTable"));re(this,"columns",qt([],[Ki(t=>t.some(n=>n.column.primary_key),"The primary key column cannot be moved.")]))}}function Nte(r){let e,t,n,l,s,i,o,a,u,c,f;const m=[R1];let d={};for(let b=0;b<m.length;b+=1)d=x(d,m[b]);n=new Fe({props:d});const _=[$s];let h={};for(let b=0;b<_.length;b+=1)h=x(h,_[b]);return c=new Fe({props:h}),{c(){e=I("div"),t=I("div"),C(n.$$.fragment),l=O(),s=I("span"),i=B("Extract "),o=B(r[1]),a=B(" Into a New Table"),u=O(),C(c.$$.fragment),D(e,"class","action-item svelte-lo2o6r")},m(b,v){w(b,e,v),M(e,t),y(n,t,null),M(t,l),M(t,s),M(s,i),M(s,o),M(s,a),M(e,u),y(c,e,null),f=!0},p(b,v){const k=v&0?ce(m,[be(R1)]):{};n.$set(k),(!f||v&2)&&he(o,b[1]);const T=v&0?ce(_,[be($s)]):{};c.$set(T)},i(b){f||(p(n.$$.fragment,b),p(c.$$.fragment,b),f=!0)},o(b){g(n.$$.fragment,b),g(c.$$.fragment,b),f=!1},d(b){b&&$(e),S(n),S(c)}}}function l2(r){let e,t;return e=new ut({props:{$$slots:{default:[Fte]},$$scope:{ctx:r}}}),e.$on("click",r[8]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16386&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Fte(r){let e,t,n,l,s,i,o,a,u,c,f;const m=[P1];let d={};for(let b=0;b<m.length;b+=1)d=x(d,m[b]);n=new Fe({props:d});const _=[$s];let h={};for(let b=0;b<_.length;b+=1)h=x(h,_[b]);return c=new Fe({props:h}),{c(){e=I("div"),t=I("div"),C(n.$$.fragment),l=O(),s=I("span"),i=B("Move "),o=B(r[1]),a=B(" to Linked Table"),u=O(),C(c.$$.fragment),D(e,"class","action-item svelte-lo2o6r")},m(b,v){w(b,e,v),M(e,t),y(n,t,null),M(t,l),M(t,s),M(s,i),M(s,o),M(s,a),M(e,u),y(c,e,null),f=!0},p(b,v){const k=v&0?ce(m,[be(P1)]):{};n.$set(k),(!f||v&2)&&he(o,b[1]);const T=v&0?ce(_,[be($s)]):{};c.$set(T)},i(b){f||(p(n.$$.fragment,b),p(c.$$.fragment,b),f=!0)},o(b){g(n.$$.fragment,b),g(c.$$.fragment,b),f=!1},d(b){b&&$(e),S(n),S(c)}}}function s2(r){let e,t;return e=new ut({props:{appearance:"outline-primary",$$slots:{default:[zte]},$$scope:{ctx:r}}}),e.$on("click",r[12]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16384&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function zte(r){let e,t,n,l;const s=[Ut];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new Fe({props:i}),{c(){C(e.$$.fragment),t=O(),n=I("span"),n.textContent="Delete Column"},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),l=!0},p(o,a){const u=a&0?ce(s,[be(Ut)]):{};e.$set(u)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),o&&$(n)}}}function Hte(r){let e,t,n,l,s,i,o;t=new ut({props:{$$slots:{default:[Nte]},$$scope:{ctx:r}}}),t.$on("click",r[7]);let a=r[0]&&l2(r),u=r[2]&&s2(r);return i=new Ote({props:{controller:r[5]}}),{c(){e=I("div"),C(t.$$.fragment),n=O(),a&&a.c(),l=O(),u&&u.c(),s=O(),C(i.$$.fragment),D(e,"class","actions-container svelte-lo2o6r")},m(c,f){w(c,e,f),y(t,e,null),M(e,n),a&&a.m(e,null),M(e,l),u&&u.m(e,null),w(c,s,f),y(i,c,f),o=!0},p(c,[f]){const m={};f&16386&&(m.$$scope={dirty:f,ctx:c}),t.$set(m),c[0]?a?(a.p(c,f),f&1&&p(a,1)):(a=l2(c),a.c(),p(a,1),a.m(e,l)):a&&(q(),g(a,1,1,()=>{a=null}),U()),c[2]?u?(u.p(c,f),f&4&&p(u,1)):(u=s2(c),u.c(),p(u,1),u.m(e,null)):u&&(q(),g(u,1,1,()=>{u=null}),U())},i(c){o||(p(t.$$.fragment,c),p(a),p(u),p(i.$$.fragment,c),o=!0)},o(c){g(t.$$.fragment,c),g(a),g(u),g(i.$$.fragment,c),o=!1},d(c){c&&$(e),S(t),a&&a.d(),u&&u.d(),c&&$(s),S(i,c)}}}function Vte(r,e,t){let n,l,s,i,o,a,u=z,c=()=>(u(),u=se(n,T=>t(10,a=T)),n),f;r.$$.on_destroy.push(()=>u());const m=Rt();de(r,m,T=>t(11,f=T));const d=new Lte(dr.getPropsForNewModal());let{columns:_}=e;function h(T){_l({identifierType:"column",identifierName:T.column.name,body:["All objects related to this column will be affected.","This could break existing tables and views.","Are you sure you want to proceed?"],onProceed:()=>l.deleteColumn(T.id)})}function b(){d.targetType.set("newTable"),d.columns.set(_),d.open()}function v(){d.targetType.set("existingTable"),d.columns.set(_),d.open()}const k=()=>s&&h(s);return r.$$set=T=>{"columns"in T&&t(9,_=T.columns)},r.$$.update=()=>{r.$$.dirty&2048&&c(t(3,{processedColumns:n,columnsDataStore:l}=f,n)),r.$$.dirty&512&&t(2,s=_.length===1?_[0]:void 0),r.$$.dirty&512&&t(1,i=Er(_,"columns","title")),r.$$.dirty&1024&&t(0,o=[...a].some(([,T])=>T.linkFk))},[o,i,s,n,m,d,h,b,v,_,a,f,k]}class qte extends X{constructor(e){super(),Q(this,e,Vte,Hte,G,{columns:9})}}function Ute(r){let e,t;return e=new Oi({props:{disabled:r[2]||!r[0],checked:!r[3]}}),e.$on("change",r[7]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&5&&(s.disabled=n[2]||!n[0]),l&8&&(s.checked=!n[3]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Wte(r){let e,t;const n=[{class:"opt"},nr];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[n[0],be(nr)]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Bte(r){let e,t,n,l;const s=[Wte,Ute],i=[];function o(a,u){return a[2]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function jte(r){let e;return{c(){e=B(`Enable this option to make sure that the column only contains unique
        values. Useful for columns that contain identifiers, such as a person's
        ID number or emails.`)},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function Yte(r){let e,t,n,l;return n=new Wn({props:{$$slots:{default:[jte]},$$scope:{ctx:r}}}),{c(){e=I("span"),t=B(`Restrict to Unique
      `),C(n.$$.fragment),D(e,"slot","label")},m(s,i){w(s,e,i),M(e,t),y(n,e,null),l=!0},p(s,i){const o={};i&8192&&(o.$$scope={dirty:i,ctx:s}),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(e),S(n)}}}function Kte(r){let e,t;return e=new Oi({props:{disabled:r[1]||!r[0],checked:!r[4]}}),e.$on("change",r[6]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&3&&(s.disabled=n[1]||!n[0]),l&16&&(s.checked=!n[4]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Gte(r){let e,t;const n=[{class:"opt"},nr];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[n[0],be(nr)]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Qte(r){let e,t,n,l;const s=[Gte,Kte],i=[];function o(a,u){return a[1]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function Xte(r){let e;return{c(){e=B(`Enable this option to prevent null values in the column. Null values are
        empty values that are not the same as zero or an empty string.`)},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function Jte(r){let e,t,n,l,s,i;return s=new Wn({props:{$$slots:{default:[Xte]},$$scope:{ctx:r}}}),{c(){e=I("span"),t=B("Disallow "),n=I("span"),n.textContent="NULL",l=B(` Values
      `),C(s.$$.fragment),D(n,"class","null svelte-1zy9hs"),D(e,"slot","label")},m(o,a){w(o,e,a),M(e,t),M(e,n),M(e,l),y(s,e,null),i=!0},p(o,a){const u={};a&8192&&(u.$$scope={dirty:a,ctx:o}),s.$set(u)},i(o){i||(p(s.$$.fragment,o),i=!0)},o(o){g(s.$$.fragment,o),i=!1},d(o){o&&$(e),S(s)}}}function Zte(r){let e,t,n,l,s;return t=new wn({props:{layout:"inline-input-first",$$slots:{label:[Yte],default:[Bte]},$$scope:{ctx:r}}}),l=new wn({props:{layout:"inline-input-first",$$slots:{label:[Jte],default:[Qte]},$$scope:{ctx:r}}}),{c(){e=I("div"),C(t.$$.fragment),n=O(),C(l.$$.fragment),D(e,"class","column-options svelte-1zy9hs")},m(i,o){w(i,e,o),y(t,e,null),M(e,n),y(l,e,null),s=!0},p(i,[o]){const a={};o&8205&&(a.$$scope={dirty:o,ctx:i}),t.$set(a);const u={};o&8211&&(u.$$scope={dirty:o,ctx:i}),l.$set(u)},i(i){s||(p(t.$$.fragment,i),p(l.$$.fragment,i),s=!0)},o(i){g(t.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){i&&$(e),S(t),S(l)}}}function xte(r,e,t){let n,l,s,i,o=z,a=()=>(o(),o=se(l,k=>t(11,i=k)),l);r.$$.on_destroy.push(()=>o());let{column:u}=e,{columnsDataStore:c}=e,{constraintsDataStore:f}=e,{canExecuteDDL:m}=e,d=!1,_=!1;const h=dt();async function b(){t(1,d=!0);try{const k=!n;await c.setNullabilityOfColumn(u.column,k),At.success(`Column "${u.column.name}" will ${k?"":"no longer "}allow NULL.`),h("close")}catch(k){At.error(`Unable to update "Allow NULL" of column "${u.column.name}". ${k.message}.`)}finally{t(1,d=!1)}}async function v(){t(2,_=!0);try{const k=!s;await f.setUniquenessOfColumn(u.column,!k);const T=`Column "${u.column.name}" will ${k?"":"no longer "}allow duplicates.`;At.success({message:T}),h("close")}catch(k){const T=`Unable to update "Allow Duplicates" of column "${u.column.name}". ${k.message}.`;At.error({message:T})}finally{t(2,_=!1)}}return r.$$set=k=>{"column"in k&&t(8,u=k.column),"columnsDataStore"in k&&t(9,c=k.columnsDataStore),"constraintsDataStore"in k&&t(10,f=k.constraintsDataStore),"canExecuteDDL"in k&&t(0,m=k.canExecuteDDL)},r.$$.update=()=>{r.$$.dirty&256&&t(4,n=u.column.nullable),r.$$.dirty&1024&&a(t(5,{uniqueColumns:l}=f,l)),r.$$.dirty&2304&&t(3,s=!(u.column.primary_key||i.has(u.id)))},[m,d,_,s,n,l,b,v,u,c,f,i]}class ene extends X{constructor(e){super(),Q(this,e,xte,Zte,G,{column:8,columnsDataStore:9,constraintsDataStore:10,canExecuteDDL:0})}}function tne(r){let e,t;return e=new Sn({props:{options:r[3],value:r[1].max,getLabel:r[4]}}),e.$on("change",r[7]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.value=n[1].max),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function nne(r){let e,t;return e=new Sn({props:{options:r[3],value:r[1].min,getLabel:r[4]}}),e.$on("change",r[8]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.value=n[1].min),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function rne(r){let e,t,n,l,s,i,o,a,u,c,f;return t=new wn({props:{label:"Max Time Unit",layout:"stacked",$$slots:{default:[tne]},$$scope:{ctx:r}}}),s=new wn({props:{label:"Min Time Unit",layout:"stacked",$$slots:{default:[nne]},$$scope:{ctx:r}}}),{c(){e=I("div"),C(t.$$.fragment),n=O(),l=I("div"),C(s.$$.fragment),i=O(),o=I("div"),a=B("Format: "),u=I("span"),c=B(r[2]),D(e,"class","form-element form-input"),D(l,"class","form-element form-input"),D(u,"class","svelte-pv7mr1"),D(o,"class","form-element format svelte-pv7mr1")},m(m,d){w(m,e,d),y(t,e,null),w(m,n,d),w(m,l,d),y(s,l,null),w(m,i,d),w(m,o,d),M(o,a),M(o,u),M(u,c),f=!0},p(m,[d]){const _={};d&1026&&(_.$$scope={dirty:d,ctx:m}),t.$set(_);const h={};d&1026&&(h.$$scope={dirty:d,ctx:m}),s.$set(h),(!f||d&4)&&he(c,m[2])},i(m){f||(p(t.$$.fragment,m),p(s.$$.fragment,m),f=!0)},o(m){g(t.$$.fragment,m),g(s.$$.fragment,m),f=!1},d(m){m&&$(e),S(t),m&&$(n),m&&$(l),S(s),m&&$(i),m&&$(o)}}}function lne(r,e,t){let n,l,s=z,i=()=>(s(),s=se(o,h=>t(1,l=h)),o);r.$$.on_destroy.push(()=>s());let{store:o}=e;i();const a=wi.getAllUnits(),u={d:"days",h:"hours",m:"minutes",s:"seconds",ms:"milliseconds"},c=h=>{var b;return(b=h&&u[h])!=null?b:""};function f(h){if(!h)return;let{min:b}=l;a.indexOf(h)>a.indexOf(l.min)&&(b=h),Zt(o,l={...l,max:h,min:b},l)}function m(h){if(!h)return;let{max:b}=l;a.indexOf(h)<a.indexOf(l.max)&&(b=h),Zt(o,l={...l,max:b,min:h},l)}const d=h=>f(h.detail),_=h=>m(h.detail);return r.$$set=h=>{"store"in h&&i(t(0,o=h.store))},r.$$.update=()=>{r.$$.dirty&2&&t(2,n=new wi(l).getFormattingString())},[o,l,n,a,c,f,m,d,_]}class sne extends X{constructor(e){super(),Q(this,e,lne,rne,G,{store:0})}}function bk(r){return r?r.values:Tl({})}function ine(r,e,t){var i,o;const n=(o=(i=r.getDbConfig)==null?void 0:i.call(r))!=null?o:void 0;let l;if(n){const a=t.type===e?n.constructDbFormValuesFromTypeOptions(t.type,t.type_options):{};l=K$(n.form,a)}const s=bk(l);return{dbOptionsConfig:n,dbForm:l,dbFormValues:s}}function one(r,e,t){var i,o;const n=(o=(i=r.getDisplayConfig)==null?void 0:i.call(r))!=null?o:void 0;let l;if(n){const a=t.type===e?n.constructDisplayFormValuesFromDisplayOptions(t.display_options):{};l=K$(n.form,a,{"duration-config-menu":sne})}const s=bk(l);return{displayOptionsConfig:n,displayForm:l,displayFormValues:s}}function ane(r,e){for(const t in e)if(Object.hasOwn(e,t)&&e[t]!==r[t])return!0;return!1}function une(r){var i;let e,t,n,l=((i=r[0])!=null?i:"UNKNOWN")+"",s;return{c(){e=I("div"),t=B("Database type "),n=I("span"),s=B(l),D(n,"class","svelte-og216j"),D(e,"class","svelte-og216j")},m(o,a){w(o,e,a),M(e,t),M(e,n),M(n,s)},p(o,[a]){var u;a&1&&l!==(l=((u=o[0])!=null?u:"UNKNOWN")+"")&&he(s,l)},i:z,o:z,d(o){o&&$(e)}}}function cne(r,e,t){let{type:n}=e;return r.$$set=l=>{"type"in l&&t(0,n=l.type)},[n]}class $k extends X{constructor(e){super(),Q(this,e,cne,une,G,{type:0})}}function fne(r){let e,t;return e=new $k({props:{type:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.type=n[0]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function mne(r){let e,t,n,l;t=new $k({props:{type:r[0]}});let s=r[1]&&i2(r);return{c(){e=I("div"),C(t.$$.fragment),n=O(),s&&s.c(),D(e,"class","type-options svelte-18383vq")},m(i,o){w(i,e,o),y(t,e,null),M(e,n),s&&s.m(e,null),l=!0},p(i,o){const a={};o&1&&(a.type=i[0]),t.$set(a),i[1]?s?(s.p(i,o),o&2&&p(s,1)):(s=i2(i),s.c(),p(s,1),s.m(e,null)):s&&(q(),g(s,1,1,()=>{s=null}),U())},i(i){l||(p(t.$$.fragment,i),p(s),l=!0)},o(i){g(t.$$.fragment,i),g(s),l=!1},d(i){i&&$(e),S(t),s&&s.d()}}}function i2(r){let e,t,n,l;return n=new G$({props:{form:r[1]}}),{c(){e=I("div"),t=I("div"),C(n.$$.fragment),D(t,"class","content svelte-18383vq"),D(e,"class","option-form db-opts svelte-18383vq")},m(s,i){w(s,e,i),M(e,t),y(n,t,null),l=!0},p(s,i){const o={};i&2&&(o.form=s[1]),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(e),S(n)}}}function dne(r){let e,t,n,l;const s=[mne,fne],i=[];function o(a,u){return a[1]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function pne(r,e,t){let n,l,s,i,o=z,a=()=>(o(),o=se(s,h=>t(7,i=h)),s);r.$$.on_destroy.push(()=>o());let{selectedAbstractType:u}=e,{selectedDbType:c}=e,{typeOptions:f}=e,{column:m}=e;const d=e$();d.addValidator("AbstractTypeConfigValidator",()=>{let h=!0;if(l){const b=l.getValidationResult().isValid;h=h&&b}return h});function _(h,b){var v;if(b){const k=b.determineDbTypeAndOptions(h,m.type);t(3,f=(v=k.typeOptions)!=null?v:{}),t(0,c=k.dbType),d.validate()}}return r.$$set=h=>{"selectedAbstractType"in h&&t(4,u=h.selectedAbstractType),"selectedDbType"in h&&t(0,c=h.selectedDbType),"typeOptions"in h&&t(3,f=h.typeOptions),"column"in h&&t(5,m=h.column)},r.$$.update=()=>{r.$$.dirty&49&&t(6,{dbOptionsConfig:n,dbForm:l,dbFormValues:s}=ine(u,c,m),n,(t(1,l),t(4,u),t(0,c),t(5,m)),a(t(2,s))),r.$$.dirty&192&&_(i,n)},[c,l,s,f,u,m,n,i]}class _ne extends X{constructor(e){super(),Q(this,e,pne,dne,G,{selectedAbstractType:4,selectedDbType:0,typeOptions:3,column:5})}}function gne(r){let e=r[9]+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&512&&e!==(e=n[9]+"")&&he(t,e)},d(n){n&&$(t)}}}function hne(r){let e,t;return e=new En({props:{icon:r[8].getIcon(),$$slots:{default:[gne]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&256&&(s.icon=n[8].getIcon()),l&1536&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function bne(r){let e,t;return e=new Sn({props:{options:r[2],value:r[0],getLabel:wne,autoSelect:"none",disabled:r[1],$$slots:{default:[hne,({option:n,label:l})=>({8:n,9:l}),({option:n,label:l})=>(n?256:0)|(l?512:0)]},$$scope:{ctx:r}}}),e.$on("change",r[6]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.options=n[2]),l&1&&(s.value=n[0]),l&2&&(s.disabled=n[1]),l&1792&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function $ne(r){let e,t;return e=new wn({props:{label:"Data Type",layout:"stacked",$$slots:{default:[bne]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1031&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}const wne=r=>{var e;return(e=r==null?void 0:r.name)!=null?e:""};function vne(r,e,t){let n,l;de(r,sr,f=>t(5,l=f));const s=dt();let{column:i}=e,{selectedAbstractType:o}=e,{disabled:a=!1}=e;function u(f){if(!f){console.error("This should never occur. AbstractType is undefined");return}if(o!==f){if(f.identifier===i.abstractType.identifier)s("reset");else if(f.defaultDbType)s("change",{type:f.defaultDbType,abstractType:f});else if(f.dbTypes.size>0){const[m]=f.dbTypes;s("change",{type:m,abstractType:f})}t(0,o=f)}}const c=f=>u(f.detail);return r.$$set=f=>{"column"in f&&t(4,i=f.column),"selectedAbstractType"in f&&t(0,o=f.selectedAbstractType),"disabled"in f&&t(1,a=f.disabled)},r.$$.update=()=>{var f;r.$$.dirty&48&&t(2,n=TA(i.type,(f=i.valid_target_types)!=null?f:[],l.data).filter(m=>!["jsonlist","map"].includes(m.identifier)))},[o,a,n,u,i,l,c]}class wk extends X{constructor(e){super(),Q(this,e,vne,$ne,G,{column:4,selectedAbstractType:0,disabled:1})}}function o2(r){let e=r[2],t,n,l=a2(r);return{c(){l.c(),t=ae()},m(s,i){l.m(s,i),w(s,t,i),n=!0},p(s,i){i&4&&G(e,e=s[2])?(q(),g(l,1,1,z),U(),l=a2(s),l.c(),p(l,1),l.m(t.parentNode,t)):l.p(s,i)},i(s){n||(p(l),n=!0)},o(s){g(l),n=!1},d(s){s&&$(t),l.d(s)}}}function a2(r){let e,t,n,l;function s(a){r[17](a)}function i(a){r[18](a)}let o={selectedAbstractType:r[2],column:r[0]};return r[3]!==void 0&&(o.selectedDbType=r[3]),r[4]!==void 0&&(o.typeOptions=r[4]),e=new _ne({props:o}),ye.push(()=>Pe(e,"selectedDbType",s)),ye.push(()=>Pe(e,"typeOptions",i)),{c(){C(e.$$.fragment)},m(a,u){y(e,a,u),l=!0},p(a,u){const c={};u&4&&(c.selectedAbstractType=a[2]),u&1&&(c.column=a[0]),!t&&u&8&&(t=!0,c.selectedDbType=a[3],Ne(()=>t=!1)),!n&&u&16&&(n=!0,c.typeOptions=a[4],Ne(()=>n=!1)),e.$set(c)},i(a){l||(p(e.$$.fragment,a),l=!0)},o(a){g(e.$$.fragment,a),l=!1},d(a){S(e,a)}}}function u2(r){var i;let e,t,n,l,s=r[1]&&c2(r);return n=new _r({props:{onProceed:r[12],onCancel:r[11],isProcessing:((i=r[5])==null?void 0:i.state)==="processing",canProceed:!r[6],proceedButton:{label:"Save"},size:"small"}}),{c(){e=I("div"),s&&s.c(),t=O(),C(n.$$.fragment),D(e,"class","footer svelte-2rnxnh")},m(o,a){w(o,e,a),s&&s.m(e,null),M(e,t),y(n,e,null),l=!0},p(o,a){var c;o[1]?s?a&2&&p(s,1):(s=c2(o),s.c(),p(s,1),s.m(e,t)):s&&(q(),g(s,1,1,()=>{s=null}),U());const u={};a&32&&(u.isProcessing=((c=o[5])==null?void 0:c.state)==="processing"),a&64&&(u.canProceed=!o[6]),n.$set(u)},i(o){l||(p(s),p(n.$$.fragment,o),l=!0)},o(o){g(s),g(n.$$.fragment,o),l=!1},d(o){o&&$(e),s&&s.d(),S(n)}}}function c2(r){let e,t;return e=new Ks({props:{$$slots:{default:[kne]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function kne(r){let e;return{c(){e=I("span"),e.textContent=`Data loss can result from changing the data type of a column. This
          action cannot be undone.`,D(e,"class","warning-alert svelte-2rnxnh")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function yne(r){var a;let e,t,n,l,s;e=new wk({props:{selectedAbstractType:r[2],column:r[0],disabled:((a=r[5])==null?void 0:a.state)==="processing"}}),e.$on("change",r[15]),e.$on("reset",r[16]);let i=r[2]&&r[3]&&o2(r),o=r[8]&&u2(r);return{c(){C(e.$$.fragment),t=O(),i&&i.c(),n=O(),o&&o.c(),l=ae()},m(u,c){y(e,u,c),w(u,t,c),i&&i.m(u,c),w(u,n,c),o&&o.m(u,c),w(u,l,c),s=!0},p(u,[c]){var m;const f={};c&4&&(f.selectedAbstractType=u[2]),c&1&&(f.column=u[0]),c&32&&(f.disabled=((m=u[5])==null?void 0:m.state)==="processing"),e.$set(f),u[2]&&u[3]?i?(i.p(u,c),c&12&&p(i,1)):(i=o2(u),i.c(),p(i,1),i.m(n.parentNode,n)):i&&(q(),g(i,1,1,()=>{i=null}),U()),u[8]?o?(o.p(u,c),c&256&&p(o,1)):(o=u2(u),o.c(),p(o,1),o.m(l.parentNode,l)):o&&(q(),g(o,1,1,()=>{o=null}),U())},i(u){s||(p(e.$$.fragment,u),p(i),p(o),s=!0)},o(u){g(e.$$.fragment,u),g(i),g(o),s=!1},d(u){S(e,u),u&&$(t),i&&i.d(u),u&&$(n),o&&o.d(u),u&&$(l)}}}function Sne(r,e,t){var F;let n,l,s,i,o=z,a=()=>(o(),o=se(l,K=>t(14,i=K)),l);r.$$.on_destroy.push(()=>o());const u=dt();let{column:c}=e,{save:f}=e,{showWarnings:m=!0}=e,d=c.abstractType,_=c.type,h={...(F=c.type_options)!=null?F:{}},b;const v=x4();rn(()=>{v.validate()});function k(K){var W;t(2,d=K.abstractType),t(3,_=K.type),t(4,h={...(W=K.type_options)!=null?W:{}})}function T(K){const{type:W,abstractType:j}=K;t(3,_=W),t(2,d=j),t(4,h={})}function E(){k(c),t(5,b={state:"success"}),u("cancel")}async function P(){t(5,b={state:"processing"});try{await f({type:_,type_options:{...h}}),t(5,b={state:"success"})}catch(K){const W=K instanceof Error?K.message:"Unable to change column type";At.error(W),t(5,b={state:"failure",errors:[W]})}}const R=K=>T(K.detail),L=()=>k(c);function A(K){_=K,t(3,_)}function N(K){h=K,t(4,h)}return r.$$set=K=>{"column"in K&&t(0,c=K.column),"save"in K&&t(13,f=K.save),"showWarnings"in K&&t(1,m=K.showWarnings)},r.$$.update=()=>{var K;r.$$.dirty&29&&t(8,n=d!==c.abstractType||_!==c.type||ane((K=c.type_options)!=null?K:{},h!=null?h:{})),r.$$.dirty&1&&k(c),r.$$.dirty&16420&&t(6,s=!d||(b==null?void 0:b.state)==="processing"||!i)},a(t(7,{validationResult:l}=v,l)),[c,m,d,_,h,b,s,l,n,k,T,E,P,f,i,R,L,A,N]}class vk extends X{constructor(e){super(),Q(this,e,Sne,yne,G,{column:0,save:13,showWarnings:1})}}function Cne(r){let e=r[2],t,n,l=f2(r);return{c(){l.c(),t=ae()},m(s,i){l.m(s,i),w(s,t,i),n=!0},p(s,i){i&4&&G(e,e=s[2])?(q(),g(l,1,1,z),U(),l=f2(s),l.c(),p(l,1),l.m(t.parentNode,t)):l.p(s,i)},i(s){n||(p(l),n=!0)},o(s){g(l),n=!1},d(s){s&&$(t),l.d(s)}}}function Tne(r){let e,t,n,l;e=new wk({props:{selectedAbstractType:r[0].abstractType,column:r[2],disabled:!0}});let s=r[1]&&m2(r);return{c(){C(e.$$.fragment),t=O(),s&&s.c(),n=ae()},m(i,o){y(e,i,o),w(i,t,o),s&&s.m(i,o),w(i,n,o),l=!0},p(i,o){const a={};o&1&&(a.selectedAbstractType=i[0].abstractType),o&4&&(a.column=i[2]),e.$set(a),i[1]?s?(s.p(i,o),o&2&&p(s,1)):(s=m2(i),s.c(),p(s,1),s.m(n.parentNode,n)):s&&(q(),g(s,1,1,()=>{s=null}),U())},i(i){l||(p(e.$$.fragment,i),p(s),l=!0)},o(i){g(e.$$.fragment,i),g(s),l=!1},d(i){S(e,i),i&&$(t),s&&s.d(i),i&&$(n)}}}function f2(r){let e,t;return e=new vk({props:{column:r[2],save:r[5]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.column=n[2]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function m2(r){let e,t;return e=new Ys({props:{$$slots:{default:[Dne]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&514&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Dne(r){let e,t;return{c(){e=I("span"),t=B(r[1]),D(e,"class","info-alert svelte-yz3a69")},m(n,l){w(n,e,l),M(e,t)},p(n,l){l&2&&he(t,n[1])},d(n){n&&$(e)}}}function Ine(r){let e,t,n,l;const s=[Tne,Cne],i=[];function o(a,u){return a[3]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function Ene(r,e,t){let n,l,s,i,o;const a=Rt();de(r,a,m=>t(7,o=m));let{column:u}=e,{canExecuteDDL:c}=e;async function f(m){await n.patch(u.id,{type:m.type,type_options:m.type_options,display_options:null,default:null})}return r.$$set=m=>{"column"in m&&t(0,u=m.column),"canExecuteDDL"in m&&t(6,c=m.canExecuteDDL)},r.$$.update=()=>{r.$$.dirty&128&&({columnsDataStore:n}=o),r.$$.dirty&65&&t(3,l=u.column.primary_key||!!u.linkFk||!c),r.$$.dirty&1&&t(2,s={...u.column,abstractType:u.abstractType}),r.$$.dirty&1&&t(1,i=(()=>u.column.primary_key?"The data type of the primary key column is restricted and cannot be changed.":u.linkFk?"The data type of the foreign key column is restricted to the data type of the primary key column and cannot be changed.":"")())},[u,i,s,l,a,f,c,o]}class Mne extends X{constructor(e){super(),Q(this,e,Ene,Ine,G,{column:0,canExecuteDDL:6})}}function d2(r){let e,t;const n=[ll,{title:"This section affects the configuration of the database."}];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[be(ll),n[1]]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Ane(r){let e,t,n,l,s,i=r[1]&&d2();return{c(){e=I("div"),t=I("span"),n=B(r[0]),l=O(),i&&i.c(),D(e,"class","collapsible-header-container svelte-ytz1il")},m(o,a){w(o,e,a),M(e,t),M(t,n),M(e,l),i&&i.m(e,null),s=!0},p(o,[a]){(!s||a&1)&&he(n,o[0]),o[1]?i?(i.p(o,a),a&2&&p(i,1)):(i=d2(),i.c(),p(i,1),i.m(e,null)):i&&(q(),g(i,1,1,()=>{i=null}),U())},i(o){s||(p(i),s=!0)},o(o){g(i),s=!1},d(o){o&&$(e),i&&i.d()}}}function Rne(r,e,t){let{title:n}=e,{isDbLevelConfiguration:l=!1}=e;return r.$$set=s=>{"title"in s&&t(0,n=s.title),"isDbLevelConfiguration"in s&&t(1,l=s.isDbLevelConfiguration)},[n,l]}class gr extends X{constructor(e){super(),Q(this,e,Rne,Ane,G,{title:0,isDbLevelConfiguration:1})}}function Pne(r){let e,t,n,l,s;const i=[ys];let o={};for(let a=0;a<i.length;a+=1)o=x(o,i[a]);return t=new Fe({props:o}),{c(){e=I("div"),C(t.$$.fragment),n=O(),l=I("span"),l.textContent="Primary Key",D(e,"class","specifier-tag svelte-sr6jyu")},m(a,u){w(a,e,u),y(t,e,null),M(e,n),M(e,l),s=!0},p(a,u){const c=u&0?ce(i,[be(ys)]):{};t.$set(c)},i(a){s||(p(t.$$.fragment,a),s=!0)},o(a){g(t.$$.fragment,a),s=!1},d(a){a&&$(e),S(t)}}}function One(r){let e,t,n,l,s,i,o,a,u;s=new Cn({props:{table:r[2]}});const c=[xr];let f={};for(let m=0;m<c.length;m+=1)f=x(f,c[m]);return o=new Fe({props:f}),{c(){e=I("div"),t=I("span"),t.textContent="Linked To",n=O(),l=I("a"),C(s.$$.fragment),i=O(),C(o.$$.fragment),D(l,"class","specifier-tag svelte-sr6jyu"),D(l,"href",a=r[3]({tableId:r[1]})),D(e,"class","fk-container svelte-sr6jyu")},m(m,d){w(m,e,d),M(e,t),M(e,n),M(e,l),y(s,l,null),M(l,i),y(o,l,null),u=!0},p(m,d){const _={};d&4&&(_.table=m[2]),s.$set(_);const h=d&0?ce(c,[be(xr)]):{};o.$set(h),(!u||d&10&&a!==(a=m[3]({tableId:m[1]})))&&D(l,"href",a)},i(m){u||(p(s.$$.fragment,m),p(o.$$.fragment,m),u=!0)},o(m){g(s.$$.fragment,m),g(o.$$.fragment,m),u=!1},d(m){m&&$(e),S(s),S(o)}}}function Lne(r){let e,t,n,l;const s=[One,Pne],i=[];function o(a,u){return a[0]==="foreignKey"&&a[2]?0:a[0]==="primaryKey"?1:-1}return~(t=o(r))&&(n=i[t]=s[t](r)),{c(){e=I("div"),n&&n.c(),D(e,"class","specifier-tag-container svelte-sr6jyu")},m(a,u){w(a,e,u),~t&&i[t].m(e,null),l=!0},p(a,[u]){let c=t;t=o(a),t===c?~t&&i[t].p(a,u):(n&&(q(),g(i[c],1,1,()=>{i[c]=null}),U()),~t?(n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),p(n,1),n.m(e,null)):n=null)},i(a){l||(p(n),l=!0)},o(a){g(n),l=!1},d(a){a&&$(e),~t&&i[t].d()}}}function Nne(r,e,t){let n,l,s,i;de(r,ln,u=>t(5,s=u)),de(r,Jv,u=>t(3,i=u));let{type:o}=e,{column:a}=e;return r.$$set=u=>{"type"in u&&t(0,o=u.type),"column"in u&&t(4,a=u.column)},r.$$.update=()=>{var u;r.$$.dirty&16&&t(1,n=(u=a.linkFk)==null?void 0:u.referent_table),r.$$.dirty&34&&t(2,l=n?s.data.get(n):void 0)},[o,n,l,i,a,s]}class kk extends X{constructor(e){super(),Q(this,e,Nne,Lne,G,{type:0,column:4})}}function Fne(r){let e,t,n,l,s;return l=new G$({props:{form:r[0],disabled:r[2]}}),{c(){e=I("div"),t=I("div"),n=I("div"),C(l.$$.fragment),D(n,"class","content"),D(t,"class","option-form display-opts"),D(e,"class","type-options")},m(i,o){w(i,e,o),M(e,t),M(t,n),y(l,n,null),s=!0},p(i,[o]){const a={};o&1&&(a.form=i[0]),o&4&&(a.disabled=i[2]),l.$set(a)},i(i){s||(p(l.$$.fragment,i),s=!0)},o(i){g(l.$$.fragment,i),s=!1},d(i){i&&$(e),S(l)}}}function zne(r,e,t){let n,l=z,s=()=>(l(),l=se(u,d=>t(5,n=d)),u);r.$$.on_destroy.push(()=>l());let{displayOptions:i}=e,{displayOptionsConfig:o}=e,{displayForm:a}=e,{displayFormValues:u}=e;s();let{disabled:c=!1}=e;const f=e$();f.addValidator("AbstractTypeConfigValidator",()=>{let d=!0;if(a){const _=a.getValidationResult().isValid;d=d&&_}return d});function m(d,_){var h;_&&(t(3,i=(h=_==null?void 0:_.determineDisplayOptions(d))!=null?h:{}),f.validate())}return r.$$set=d=>{"displayOptions"in d&&t(3,i=d.displayOptions),"displayOptionsConfig"in d&&t(4,o=d.displayOptionsConfig),"displayForm"in d&&t(0,a=d.displayForm),"displayFormValues"in d&&s(t(1,u=d.displayFormValues)),"disabled"in d&&t(2,c=d.disabled)},r.$$.update=()=>{r.$$.dirty&48&&m(n,o)},[a,u,c,i,o,n]}class Hne extends X{constructor(e){super(),Q(this,e,zne,Fne,G,{displayOptions:3,displayOptionsConfig:4,displayForm:0,displayFormValues:1,disabled:2})}}function Vne(r){let e;return{c(){e=I("span"),e.textContent="No formatting option for the column data type"},m(t,n){w(t,e,n)},p:z,i:z,o:z,d(t){t&&$(e)}}}function qne(r){let e,t,n,l,s,i,o;function a(f){r[18](f)}let u={displayOptionsConfig:r[8],displayForm:r[7],displayFormValues:r[6],disabled:r[3]};r[2]!==void 0&&(u.displayOptions=r[2]),t=new Hne({props:u}),ye.push(()=>Pe(t,"displayOptions",a));let c=r[1]&&p2(r);return{c(){e=I("div"),C(t.$$.fragment),l=O(),c&&c.c()},m(f,m){w(f,e,m),y(t,e,null),M(e,l),c&&c.m(e,null),s=!0,i||(o=[Le(e,"focus",r[13]),Le(e,"mousedown",r[13])],i=!0)},p(f,m){const d={};m&256&&(d.displayOptionsConfig=f[8]),m&128&&(d.displayForm=f[7]),m&64&&(d.displayFormValues=f[6]),m&8&&(d.disabled=f[3]),!n&&m&4&&(n=!0,d.displayOptions=f[2],Ne(()=>n=!1)),t.$set(d),f[1]?c?(c.p(f,m),m&2&&p(c,1)):(c=p2(f),c.c(),p(c,1),c.m(e,null)):c&&(q(),g(c,1,1,()=>{c=null}),U())},i(f){s||(p(t.$$.fragment,f),p(c),s=!0)},o(f){g(t.$$.fragment,f),g(c),s=!1},d(f){f&&$(e),S(t),c&&c.d(),i=!1,Dt(o)}}}function p2(r){var l;let e,t,n;return t=new _r({props:{onProceed:r[11],onCancel:r[12],isProcessing:((l=r[0])==null?void 0:l.state)==="processing",canProceed:!r[5],proceedButton:{label:"Save"},size:"small"}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","footer svelte-7jo0h2")},m(s,i){w(s,e,i),y(t,e,null),n=!0},p(s,i){var a;const o={};i&1&&(o.isProcessing=((a=s[0])==null?void 0:a.state)==="processing"),i&32&&(o.canProceed=!s[5]),t.$set(o)},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){g(t.$$.fragment,s),n=!1},d(s){s&&$(e),S(t)}}}function Une(r){let e,t,n,l;const s=[qne,Vne],i=[];function o(a,u){return a[8]&&a[7]&&!a[4]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function Wne(r,e,t){var F;let n,l,s,i,o,a,u,c,f,m=z,d=()=>(m(),m=se(l,K=>t(16,f=K)),l),_;r.$$.on_destroy.push(()=>m());let{column:h}=e,{canEditMetadata:b}=e,v=!1;const k=Rt();de(r,k,K=>t(17,_=K));let T={...(F=h.column.display_options)!=null?F:{}},E;const P=x4();async function R(){t(0,E={state:"processing"});try{await n.patch(h.id,{display_options:T}),t(1,v=!1),t(0,E={state:"success"})}catch(K){const W=K instanceof Error?K.message:"Unable to change column display options.";At.error(W),t(0,E={state:"failure",errors:[W]})}}function L(){t(0,E={state:"success"}),t(2,T={}),t(1,v=!1)}function A(){t(1,v=!0)}function N(K){T=K,t(2,T)}return r.$$set=K=>{"column"in K&&t(14,h=K.column),"canEditMetadata"in K&&t(15,b=K.canEditMetadata)},r.$$.update=()=>{r.$$.dirty&131072&&({columnsDataStore:n}=_),r.$$.dirty&16384&&t(8,{displayOptionsConfig:s,displayForm:i,displayFormValues:o}=one(h.abstractType,h.column.type,{...h.column,abstractType:h.abstractType}),s,(t(7,i),t(14,h)),(t(6,o),t(14,h))),r.$$.dirty&65537&&t(5,a=(E==null?void 0:E.state)==="processing"||!f),r.$$.dirty&16384&&t(4,u=h.column.primary_key||!!h.linkFk),r.$$.dirty&32769&&t(3,c=(E==null?void 0:E.state)==="processing"||!b)},d(t(9,{validationResult:l}=P,l)),[E,v,T,c,u,a,o,i,s,l,k,R,L,A,h,b,f,_,N]}class Bne extends X{constructor(e){super(),Q(this,e,Wne,Une,G,{column:14,canEditMetadata:15})}}function jne(r){let e,t;return e=new $a({props:{checked:r[2]}}),e.$on("change",r[11]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.checked=n[2]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Yne(r){let e;return{c(){e=I("span"),e.textContent="No Default Value",D(e,"slot","label")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function Kne(r){let e,t;return e=new $a({props:{checked:!r[2]}}),e.$on("change",r[11]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.checked=!n[2]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Gne(r){let e;return{c(){e=I("span"),e.textContent="Custom default",D(e,"slot","label")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function _2(r){let e,t,n;function l(i){r[18](i)}let s={componentAndProps:r[0].inputComponentAndProps,disabled:r[4],recordSummary:r[6],setRecordSummary:r[12]};return r[3]!==void 0&&(s.value=r[3]),e=new Ga({props:s}),ye.push(()=>Pe(e,"value",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&1&&(a.componentAndProps=i[0].inputComponentAndProps),o&16&&(a.disabled=i[4]),o&64&&(a.recordSummary=i[6]),!t&&o&8&&(t=!0,a.value=i[3],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function g2(r){var n;let e,t;return e=new _r({props:{onProceed:r[9],onCancel:r[10],isProcessing:((n=r[1])==null?void 0:n.state)==="processing",proceedButton:{label:"Save"},size:"small"}}),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){var o;const i={};s&2&&(i.isProcessing=((o=l[1])==null?void 0:o.state)==="processing"),e.$set(i)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function Qne(r){let e,t,n,l,s,i,o;t=new wn({props:{layout:"inline-input-first",$$slots:{label:[Yne],default:[jne]},$$scope:{ctx:r}}}),l=new wn({props:{layout:"inline-input-first",$$slots:{label:[Gne],default:[Kne]},$$scope:{ctx:r}}});let a=!r[2]&&_2(r),u=r[7]&&g2(r);return{c(){e=I("div"),C(t.$$.fragment),n=O(),C(l.$$.fragment),s=O(),a&&a.c(),i=O(),u&&u.c(),D(e,"class","default-value-container svelte-w6n0k")},m(c,f){w(c,e,f),y(t,e,null),M(e,n),y(l,e,null),M(e,s),a&&a.m(e,null),M(e,i),u&&u.m(e,null),o=!0},p(c,[f]){const m={};f&2097156&&(m.$$scope={dirty:f,ctx:c}),t.$set(m);const d={};f&2097156&&(d.$$scope={dirty:f,ctx:c}),l.$set(d),c[2]?a&&(q(),g(a,1,1,()=>{a=null}),U()):a?(a.p(c,f),f&4&&p(a,1)):(a=_2(c),a.c(),p(a,1),a.m(e,i)),c[7]?u?(u.p(c,f),f&128&&p(u,1)):(u=g2(c),u.c(),p(u,1),u.m(e,null)):u&&(q(),g(u,1,1,()=>{u=null}),U())},i(c){o||(p(t.$$.fragment,c),p(l.$$.fragment,c),p(a),p(u),o=!0)},o(c){g(t.$$.fragment,c),g(l.$$.fragment,c),g(a),g(u),o=!1},d(c){c&&$(e),S(t),S(l),a&&a.d(),u&&u.d()}}}function Xne(r,e,t){let n,l,s,i,o,a,u,c,f,m,d=z,_=()=>(d(),d=se(s,F=>t(16,m=F)),s),h;r.$$.on_destroy.push(()=>d());let{column:b}=e,{canExecuteDDL:v}=e;const k=Rt();de(r,k,F=>t(17,h=F));let T;function E(){t(3,o=i)}async function P(){var K;t(1,T={state:"processing"});const F=a?null:{is_dynamic:!!((K=b.column.default)!=null&&K.is_dynamic),value:o};try{await n.patch(b.id,{default:F}),t(1,T={state:"success"})}catch(W){const j=W instanceof Error?W.message:"Unable to change column display options.";At.error(j),t(1,T={state:"failure",errors:[j]})}}function R(){E(),t(1,T={state:"success"})}function L(){t(2,a=!a)}function A(F,K){s&&s.addBespokeRecordSummary({columnId:String(b.id),recordId:F,recordSummary:K})}function N(F){o=F,t(3,o),t(14,i),t(0,b)}return r.$$set=F=>{"column"in F&&t(0,b=F.column),"canExecuteDDL"in F&&t(13,v=F.canExecuteDDL)},r.$$.update=()=>{var F,K,W;r.$$.dirty&131072&&t(15,{columnsDataStore:n,recordsData:l}=h,l),r.$$.dirty&32768&&_(t(5,{recordSummaries:s}=l,s)),r.$$.dirty&1&&t(14,i=(K=(F=b.column.default)==null?void 0:F.value)!=null?K:b.initialInputValue),r.$$.dirty&16384&&t(3,o=i),r.$$.dirty&1&&t(2,a=b.column.default===null),r.$$.dirty&16397&&t(7,u=(()=>a?b.column.default!==null:typeof o=="object"?JSON.stringify(o)!==JSON.stringify(i):String(o)!==String(i))()),r.$$.dirty&65545&&t(6,c=(W=m.get(String(b.id)))==null?void 0:W.get(String(o))),r.$$.dirty&8194&&t(4,f=!v||(T==null?void 0:T.state)==="processing")},[b,T,a,o,f,s,c,u,k,P,R,L,A,v,i,l,m,h,N]}class Jne extends X{constructor(e){super(),Q(this,e,Xne,Qne,G,{column:0,canExecuteDDL:13})}}function Iu(r){var l;const e=r.slice(),t=(l=e[4].linkFk)==null?void 0:l.referent_table;e[20]=t;const n=e[20]===void 0?void 0:e[8].data.get(e[20]);return e[21]=n,e}function Zne(r){var b;let e,t,n,l,s,i,o,a,u=r[0].length>1&&h2(r),c=r[4]&&b2(r),f=r[4]&&w2(r),m=r[4]&&!((b=r[4].column.default)!=null&&b.is_dynamic)&&v2(r),d=r[4]&&k2(r),_=r[4]&&S2(Iu(r)),h=r[3]&&T2(r);return{c(){u&&u.c(),e=O(),c&&c.c(),t=O(),f&&f.c(),n=O(),m&&m.c(),l=O(),d&&d.c(),s=O(),_&&_.c(),i=O(),h&&h.c(),o=ae()},m(v,k){u&&u.m(v,k),w(v,e,k),c&&c.m(v,k),w(v,t,k),f&&f.m(v,k),w(v,n,k),m&&m.m(v,k),w(v,l,k),d&&d.m(v,k),w(v,s,k),_&&_.m(v,k),w(v,i,k),h&&h.m(v,k),w(v,o,k),a=!0},p(v,k){var T;v[0].length>1?u?u.p(v,k):(u=h2(v),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),v[4]?c?(c.p(v,k),k&16&&p(c,1)):(c=b2(v),c.c(),p(c,1),c.m(t.parentNode,t)):c&&(q(),g(c,1,1,()=>{c=null}),U()),v[4]?f?(f.p(v,k),k&16&&p(f,1)):(f=w2(v),f.c(),p(f,1),f.m(n.parentNode,n)):f&&(q(),g(f,1,1,()=>{f=null}),U()),v[4]&&!((T=v[4].column.default)!=null&&T.is_dynamic)?m?(m.p(v,k),k&16&&p(m,1)):(m=v2(v),m.c(),p(m,1),m.m(l.parentNode,l)):m&&(q(),g(m,1,1,()=>{m=null}),U()),v[4]?d?(d.p(v,k),k&16&&p(d,1)):(d=k2(v),d.c(),p(d,1),d.m(s.parentNode,s)):d&&(q(),g(d,1,1,()=>{d=null}),U()),v[4]?_?(_.p(Iu(v),k),k&16&&p(_,1)):(_=S2(Iu(v)),_.c(),p(_,1),_.m(i.parentNode,i)):_&&(q(),g(_,1,1,()=>{_=null}),U()),v[3]?h?(h.p(v,k),k&8&&p(h,1)):(h=T2(v),h.c(),p(h,1),h.m(o.parentNode,o)):h&&(q(),g(h,1,1,()=>{h=null}),U())},i(v){a||(p(c),p(f),p(m),p(d),p(_),p(h),a=!0)},o(v){g(c),g(f),g(m),g(d),g(_),g(h),a=!1},d(v){u&&u.d(v),v&&$(e),c&&c.d(v),v&&$(t),f&&f.d(v),v&&$(n),m&&m.d(v),v&&$(l),d&&d.d(v),v&&$(s),_&&_.d(v),v&&$(i),h&&h.d(v),v&&$(o)}}}function xne(r){let e;return{c(){e=I("span"),e.textContent=`Select one or more columns or cells to view the associated column
      properties and actions.`,D(e,"class","no-cell-selected svelte-dvc3fo")},m(t,n){w(t,e,n)},p:z,i:z,o:z,d(t){t&&$(e)}}}function h2(r){let e,t=Yt(r[0],"columns")+"",n,l;return{c(){e=I("span"),n=B(t),l=B(" selected"),D(e,"class","columns-selected-count svelte-dvc3fo")},m(s,i){w(s,e,i),M(e,n),M(e,l)},p(s,i){i&1&&t!==(t=Yt(s[0],"columns")+"")&&he(n,t)},d(s){s&&$(e)}}}function b2(r){let e,t;return e=new Tn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[rre],header:[ere]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4194330&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ere(r){let e,t;return e=new gr({props:{slot:"header",title:"Properties",isDbLevelConfiguration:!0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function tre(r){let e,t,n,l=!!r[4].linkFk&&$2(r);return t=new ene({props:{column:r[4],columnsDataStore:r[1].columnsDataStore,constraintsDataStore:r[1].constraintsDataStore,canExecuteDDL:r[3]}}),{c(){l&&l.c(),e=O(),C(t.$$.fragment)},m(s,i){l&&l.m(s,i),w(s,e,i),y(t,s,i),n=!0},p(s,i){s[4].linkFk?l?(l.p(s,i),i&16&&p(l,1)):(l=$2(s),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(q(),g(l,1,1,()=>{l=null}),U());const o={};i&16&&(o.column=s[4]),i&2&&(o.columnsDataStore=s[1].columnsDataStore),i&2&&(o.constraintsDataStore=s[1].constraintsDataStore),i&8&&(o.canExecuteDDL=s[3]),t.$set(o)},i(s){n||(p(l),p(t.$$.fragment,s),n=!0)},o(s){g(l),g(t.$$.fragment,s),n=!1},d(s){l&&l.d(s),s&&$(e),S(t,s)}}}function nre(r){let e,t;return e=new kk({props:{column:r[4],type:"primaryKey"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.column=n[4]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function $2(r){let e,t;return e=new kk({props:{column:r[4],type:"foreignKey"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.column=n[4]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function rre(r){let e,t,n,l,s,i;t=new Xee({props:{column:r[4],columnsDataStore:r[1].columnsDataStore,canExecuteDDL:r[3]}});const o=[nre,tre],a=[];function u(c,f){return c[4].column.primary_key?0:1}return l=u(r),s=a[l]=o[l](r),{c(){e=I("div"),C(t.$$.fragment),n=O(),s.c(),D(e,"slot","content"),D(e,"class","content-container svelte-dvc3fo")},m(c,f){w(c,e,f),y(t,e,null),M(e,n),a[l].m(e,null),i=!0},p(c,f){const m={};f&16&&(m.column=c[4]),f&2&&(m.columnsDataStore=c[1].columnsDataStore),f&8&&(m.canExecuteDDL=c[3]),t.$set(m);let d=l;l=u(c),l===d?a[l].p(c,f):(q(),g(a[d],1,1,()=>{a[d]=null}),U(),s=a[l],s?s.p(c,f):(s=a[l]=o[l](c),s.c()),p(s,1),s.m(e,null))},i(c){i||(p(t.$$.fragment,c),p(s),i=!0)},o(c){g(t.$$.fragment,c),g(s),i=!1},d(c){c&&$(e),S(t),a[l].d()}}}function w2(r){let e,t;return e=new Tn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[sre],header:[lre]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4194328&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function lre(r){let e,t;return e=new gr({props:{slot:"header",title:"Data Type",isDbLevelConfiguration:!0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function sre(r){let e,t,n;return t=new Mne({props:{column:r[4],canExecuteDDL:r[3]}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"slot","content"),D(e,"class","content-container svelte-dvc3fo")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&16&&(i.column=l[4]),s&8&&(i.canExecuteDDL=l[3]),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function v2(r){let e,t;return e=new Tn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[ore],header:[ire]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4194328&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ire(r){let e,t;return e=new gr({props:{slot:"header",title:"Default Value",isDbLevelConfiguration:!0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ore(r){let e,t,n;return t=new Jne({props:{column:r[4],canExecuteDDL:r[3]}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"slot","content"),D(e,"class","content-container svelte-dvc3fo")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&16&&(i.column=l[4]),s&8&&(i.canExecuteDDL=l[3]),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function k2(r){let e,t;return e=new Tn({props:{triggerAppearance:"plain",$$slots:{content:[ure],header:[are]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4194324&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function are(r){let e,t;return e=new gr({props:{slot:"header",title:"Formatting"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function y2(r){let e,t;return e=new Bne({props:{column:r[4],canEditMetadata:r[2]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.column=n[4]),l&4&&(s.canEditMetadata=n[2]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ure(r){let e,t=r[4],n,l=y2(r);return{c(){e=I("div"),l.c(),D(e,"slot","content"),D(e,"class","content-container svelte-dvc3fo")},m(s,i){w(s,e,i),l.m(e,null),n=!0},p(s,i){i&16&&G(t,t=s[4])?(q(),g(l,1,1,z),U(),l=y2(s),l.c(),p(l,1),l.m(e,null)):l.p(s,i)},i(s){n||(p(l),n=!0)},o(s){g(l),n=!1},d(s){s&&$(e),l.d(s)}}}function S2(r){let e,t,n=r[21]!==void 0&&C2(r);return{c(){n&&n.c(),e=ae()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[21]!==void 0?n?(n.p(l,s),s&272&&p(n,1)):(n=C2(l),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&$(e)}}}function C2(r){let e,t;return e=new Tn({props:{triggerAppearance:"plain",$$slots:{content:[fre],header:[cre]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4194576&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function cre(r){let e,t;return e=new gr({props:{slot:"header",title:"Linked Record Summary"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function fre(r){let e,t,n;return t=new Wee({props:{table:r[21]}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"slot","content"),D(e,"class","content-container svelte-dvc3fo")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&272&&(i.table=l[21]),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function T2(r){let e,t;return e=new Tn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[dre],header:[mre]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4194305&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function mre(r){let e,t;return e=new gr({props:{slot:"header",title:"Actions"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function dre(r){let e,t,n;return t=new qte({props:{columns:r[0]}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"slot","content"),D(e,"class","content-container svelte-dvc3fo")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&1&&(i.columns=l[0]),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function pre(r){let e,t,n,l;const s=[xne,Zne],i=[];function o(a,u){return a[0].length===0?0:1}return t=o(r),n=i[t]=s[t](r),{c(){e=I("div"),n.c(),D(e,"class","column-mode-container svelte-dvc3fo")},m(a,u){w(a,e,u),i[t].m(e,null),l=!0},p(a,[u]){let c=t;t=o(a),t===c?i[t].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),p(n,1),n.m(e,null))},i(a){l||(p(n),l=!0)},o(a){g(n),l=!1},d(a){a&&$(e),i[t].d()}}}function _re(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,_,h=z,b=()=>(h(),h=se(s,j=>t(15,_=j)),s),v,k=z,T=()=>(k(),k=se(a,j=>t(16,v=j)),a),E,P=z,R=()=>(P(),P=se(o,j=>t(17,E=j)),o),L,A,N,F;de(r,hn,j=>t(18,A=j)),de(r,gn,j=>t(19,N=j)),de(r,ln,j=>t(8,F=j)),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>k()),r.$$.on_destroy.push(()=>P());const K=Rt();de(r,K,j=>t(1,L=j));const W=Xt();return de(r,W,j=>t(14,d=j)),r.$$.update=()=>{r.$$.dirty&524288&&t(12,n=N),r.$$.dirty&262144&&t(11,l=A),r.$$.dirty&2&&b(t(7,{processedColumns:s,selection:i}=L,s,(t(13,i),t(1,L)))),r.$$.dirty&8192&&R(t(6,{selectedCells:o,columnsSelectedWhenTheTableIsEmpty:a}=i,o,T(t(5,a)))),r.$$.dirty&237568&&t(0,u=(()=>{const j=i.getSelectedUniqueColumnsId(E,v),Y=[];for(const oe of j){const te=_.get(oe);te!==void 0&&Y.push(te)}return Y})()),r.$$.dirty&1&&t(4,c=u.length===1?u[0]:void 0),r.$$.dirty&22528&&t(3,f=!!(d!=null&&d.hasPermission({database:n,schema:l},"canExecuteDDL"))),r.$$.dirty&22528&&t(2,m=!!(d!=null&&d.hasPermission({database:n,schema:l},"canEditMetadata")))},[u,L,m,f,c,a,o,s,F,K,W,l,n,i,d,_,v,E,A,N]}class gre extends X{constructor(e){super(),Q(this,e,_re,pre,G,{})}}function D2(r){let e,t;return e=new ml({props:{href:r[3],$$slots:{default:[hre]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.href=n[3]),l&8192&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function hre(r){let e,t,n,l,s,i,o,a;const u=[hi];let c={};for(let d=0;d<u.length;d+=1)c=x(c,u[d]);n=new Fe({props:c});const f=[xr];let m={};for(let d=0;d<f.length;d+=1)m=x(m,f[d]);return o=new Fe({props:m}),{c(){e=I("div"),t=I("div"),C(n.$$.fragment),l=O(),s=I("span"),s.textContent="Open Record",i=O(),C(o.$$.fragment),D(e,"class","action-item svelte-if6g6v")},m(d,_){w(d,e,_),M(e,t),y(n,t,null),M(t,l),M(t,s),M(e,i),y(o,e,null),a=!0},p(d,_){const h=_&0?ce(u,[be(hi)]):{};n.$set(h);const b=_&0?ce(f,[be(xr)]):{};o.$set(b)},i(d){a||(p(n.$$.fragment,d),p(o.$$.fragment,d),a=!0)},o(d){g(n.$$.fragment,d),g(o.$$.fragment,d),a=!1},d(d){d&&$(e),S(n),S(o)}}}function I2(r){let e,t;return e=new ut({props:{$$slots:{default:[bre]},$$scope:{ctx:r}}}),e.$on("click",r[6]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8193&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function bre(r){let e,t,n,l,s=Yt(r[0],"records",{casing:"title",countWhenSingular:"hidden"})+"",i,o;const a=[Ut];let u={};for(let c=0;c<a.length;c+=1)u=x(u,a[c]);return e=new Fe({props:u}),{c(){C(e.$$.fragment),t=O(),n=I("span"),l=B("Delete "),i=B(s)},m(c,f){y(e,c,f),w(c,t,f),w(c,n,f),M(n,l),M(n,i),o=!0},p(c,f){const m=f&0?ce(a,[be(Ut)]):{};e.$set(m),(!o||f&1)&&s!==(s=Yt(c[0],"records",{casing:"title",countWhenSingular:"hidden"})+"")&&he(i,s)},i(c){o||(p(e.$$.fragment,c),o=!0)},o(c){g(e.$$.fragment,c),o=!1},d(c){S(e,c),c&&$(t),c&&$(n)}}}function E2(r){let e;return{c(){e=I("span"),e.textContent="There are no actions to perform on the selected record.",D(e,"class","null-text svelte-if6g6v")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function $re(r){let e,t,n,l,s=r[1]&&D2(r),i=r[2]&&I2(r),o=r[4]&&E2();return{c(){e=I("div"),s&&s.c(),t=O(),i&&i.c(),n=O(),o&&o.c(),D(e,"class","actions-container svelte-if6g6v")},m(a,u){w(a,e,u),s&&s.m(e,null),M(e,t),i&&i.m(e,null),M(e,n),o&&o.m(e,null),l=!0},p(a,[u]){a[1]?s?(s.p(a,u),u&2&&p(s,1)):(s=D2(a),s.c(),p(s,1),s.m(e,t)):s&&(q(),g(s,1,1,()=>{s=null}),U()),a[2]?i?(i.p(a,u),u&4&&p(i,1)):(i=I2(a),i.c(),p(i,1),i.m(e,n)):i&&(q(),g(i,1,1,()=>{i=null}),U()),a[4]?o||(o=E2(),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i(a){l||(p(s),p(i),l=!0)},o(a){g(s),g(i),l=!1},d(a){a&&$(e),s&&s.d(),i&&i.d(),o&&o.d()}}}function wre(r,e,t){let n,l,s,i,o,a,u,c=z,f=()=>(c(),c=se(n,k=>t(12,u=k)),n);de(r,Nl,k=>t(11,a=k)),r.$$.on_destroy.push(()=>c());let{selectedRowIndices:m}=e,{recordsData:d}=e,{selection:_}=e,{columnsDataStore:h}=e,{canEditTableRecords:b}=e;async function v(){const k=Yt(m,"records",{countWhenSingular:"hidden",casing:"title"});_l({identifierType:k,body:uk(m),onProceed:()=>d.deleteSelected(m),onError:T=>At.fromError(T),onSuccess:()=>{At.success({title:`${k} deleted successfully!`}),_.resetSelection()}})}return r.$$set=k=>{"selectedRowIndices"in k&&t(0,m=k.selectedRowIndices),"recordsData"in k&&t(7,d=k.recordsData),"selection"in k&&t(8,_=k.selection),"columnsDataStore"in k&&t(9,h=k.columnsDataStore),"canEditTableRecords"in k&&t(10,b=k.canEditTableRecords)},r.$$.update=()=>{r.$$.dirty&512&&f(t(5,{columns:n}=h,n)),r.$$.dirty&6273&&t(3,l=(()=>{const k=m[0],T=d.getRecordRows()[k];if(!T)return"";let E;try{E=Jc(T.record,u)}catch(P){return""}return a({recordId:E})||""})()),r.$$.dirty&9&&t(1,s=m.length===1&&l),r.$$.dirty&1024&&t(2,i=b),r.$$.dirty&6&&t(4,o=!i&&!s)},[m,s,i,l,o,n,v,d,_,h,b,a,u]}class vre extends X{constructor(e){super(),Q(this,e,wre,$re,G,{selectedRowIndices:0,recordsData:7,selection:8,columnsDataStore:9,canEditTableRecords:10})}}function kre(r){let e;return{c(){e=I("span"),e.textContent="Select one or more cells to view associated record properties.",D(e,"class","no-records-selected svelte-1c2g5hx")},m(t,n){w(t,e,n)},p:z,i:z,o:z,d(t){t&&$(e)}}}function yre(r){let e,t,n,l=r[3].length>1&&M2(r);return t=new Tn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[Cre],header:[Sre]},$$scope:{ctx:r}}}),{c(){l&&l.c(),e=O(),C(t.$$.fragment)},m(s,i){l&&l.m(s,i),w(s,e,i),y(t,s,i),n=!0},p(s,i){s[3].length>1?l?l.p(s,i):(l=M2(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null);const o={};i&32815&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){g(t.$$.fragment,s),n=!1},d(s){l&&l.d(s),s&&$(e),S(t,s)}}}function M2(r){let e,t=Yt(r[3],"records")+"",n,l;return{c(){e=I("span"),n=B(t),l=B(" selected"),D(e,"class","records-selected-count svelte-1c2g5hx")},m(s,i){w(s,e,i),M(e,n),M(e,l)},p(s,i){i&8&&t!==(t=Yt(s[3],"records")+"")&&he(n,t)},d(s){s&&$(e)}}}function Sre(r){let e,t;return e=new gr({props:{slot:"header",title:"Actions"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Cre(r){let e,t,n;return t=new vre({props:{selectedRowIndices:r[3],recordsData:r[5],selection:r[0],columnsDataStore:r[1].columnsDataStore,canEditTableRecords:r[2]}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"slot","content"),D(e,"class","content-container svelte-1c2g5hx")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&8&&(i.selectedRowIndices=l[3]),s&32&&(i.recordsData=l[5]),s&1&&(i.selection=l[0]),s&2&&(i.columnsDataStore=l[1].columnsDataStore),s&4&&(i.canEditTableRecords=l[2]),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function Tre(r){let e,t,n,l;const s=[yre,kre],i=[];function o(a,u){return a[3].length?0:1}return t=o(r),n=i[t]=s[t](r),{c(){e=I("div"),n.c(),D(e,"class","column-mode-container svelte-1c2g5hx")},m(a,u){w(a,e,u),i[t].m(e,null),l=!0},p(a,[u]){let c=t;t=o(a),t===c?i[t].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),p(n,1),n.m(e,null))},i(a){l||(p(n),l=!0)},o(a){g(n),l=!1},d(a){a&&$(e),i[t].d()}}}function Dre(r,e,t){let n,l,s,i,o,a,u,c,f,m,d=z,_=()=>(d(),d=se(o,E=>t(12,m=E)),o),h,b,v;de(r,hn,E=>t(13,b=E)),de(r,gn,E=>t(14,v=E)),r.$$.on_destroy.push(()=>d());const k=Rt();de(r,k,E=>t(1,h=E));const T=Xt();return de(r,T,E=>t(11,f=E)),r.$$.update=()=>{r.$$.dirty&16384&&t(9,n=v),r.$$.dirty&8192&&t(8,l=b),r.$$.dirty&2&&t(0,{selection:s,recordsData:i}=h,s,(t(5,i),t(1,h))),r.$$.dirty&1&&_(t(4,{selectedCells:o}=s,o)),r.$$.dirty&4096&&t(10,a=m.valuesArray().map(E=>xu(E))),r.$$.dirty&1024&&t(3,u=Array.from(new Set(a))),r.$$.dirty&2816&&t(2,c=!!(f!=null&&f.hasPermission({database:n,schema:l},"canEditTableRecords")))},[s,h,c,u,o,i,k,T,l,n,a,f,m,b,v]}class Ire extends X{constructor(e){super(),Q(this,e,Dre,Tre,G,{})}}function Ere(r){var o,a;let e,t,n,l,s;function i(...u){return r[4](r[6],...u)}return l=new Rf({props:{initialValue:(a=(o=r[2].data.get(r[1].id))==null?void 0:o.name)!=null?a:"",onSubmit:i,getValidationErrors:r[5],disabled:r[0]}}),{c(){e=I("div"),t=I("span"),t.textContent="Name",n=O(),C(l.$$.fragment),D(t,"class","label"),D(e,"class","rename-table-property-container svelte-1b3mauw")},m(u,c){w(u,e,c),M(e,t),M(e,n),y(l,e,null),s=!0},p(u,c){var m,d;r=u;const f={};c&6&&(f.initialValue=(d=(m=r[2].data.get(r[1].id))==null?void 0:m.name)!=null?d:""),c&64&&(f.onSubmit=i),c&32&&(f.getValidationErrors=r[5]),c&1&&(f.disabled=r[0]),l.$set(f)},i(u){s||(p(l.$$.fragment,u),s=!0)},o(u){g(l.$$.fragment,u),s=!1},d(u){u&&$(e),S(l)}}}function Mre(r){let e,t;return e=new Mf({props:{tableId:r[1].id,$$slots:{default:[Ere,({getNameValidationErrors:n,onUpdate:l})=>({5:n,6:l}),({getNameValidationErrors:n,onUpdate:l})=>(n?32:0)|(l?64:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.tableId=n[1].id),l&231&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Are(r,e,t){let n,l;de(r,ln,a=>t(2,l=a));const s=Rt();de(r,s,a=>t(1,n=a));let{disabled:i=!1}=e;const o=(a,u)=>a({name:u});return r.$$set=a=>{"disabled"in a&&t(0,i=a.disabled)},[i,n,l,s,o]}class Rre extends X{constructor(e){super(),Q(this,e,Are,Mre,G,{disabled:0})}}function A2(r){let e,t,n,l;e=new ml({props:{href:r[4],$$slots:{default:[Ore]},$$scope:{ctx:r}}});let s=r[3]&&R2(r);return{c(){C(e.$$.fragment),t=O(),s&&s.c(),n=ae()},m(i,o){y(e,i,o),w(i,t,o),s&&s.m(i,o),w(i,n,o),l=!0},p(i,o){const a={};o&16&&(a.href=i[4]),o&131072&&(a.$$scope={dirty:o,ctx:i}),e.$set(a),i[3]?s?(s.p(i,o),o&8&&p(s,1)):(s=R2(i),s.c(),p(s,1),s.m(n.parentNode,n)):s&&(q(),g(s,1,1,()=>{s=null}),U())},i(i){l||(p(e.$$.fragment,i),p(s),l=!0)},o(i){g(e.$$.fragment,i),g(s),l=!1},d(i){S(e,i),i&&$(t),s&&s.d(i),i&&$(n)}}}function Pre(r){let e;return{c(){e=B("Open this table in Data Explorer to query and analyze your data.")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function Ore(r){let e,t,n,l,s,i,o,a,u,c;const f=[An];let m={};for(let h=0;h<f.length;h+=1)m=x(m,f[h]);n=new Fe({props:m}),o=new Wn({props:{$$slots:{default:[Pre]},$$scope:{ctx:r}}});const d=[xr];let _={};for(let h=0;h<d.length;h+=1)_=x(_,d[h]);return u=new Fe({props:_}),{c(){e=I("div"),t=I("div"),C(n.$$.fragment),l=O(),s=I("span"),s.textContent="Explore Data",i=O(),C(o.$$.fragment),a=O(),C(u.$$.fragment),D(e,"class","action-item svelte-lo2o6r")},m(h,b){w(h,e,b),M(e,t),y(n,t,null),M(t,l),M(t,s),M(t,i),y(o,t,null),M(e,a),y(u,e,null),c=!0},p(h,b){const v=b&0?ce(f,[be(An)]):{};n.$set(v);const k={};b&131072&&(k.$$scope={dirty:b,ctx:h}),o.$set(k);const T=b&0?ce(d,[be(xr)]):{};u.$set(T)},i(h){c||(p(n.$$.fragment,h),p(o.$$.fragment,h),p(u.$$.fragment,h),c=!0)},o(h){g(n.$$.fragment,h),g(o.$$.fragment,h),g(u.$$.fragment,h),c=!1},d(h){h&&$(e),S(n),S(o),S(u)}}}function R2(r){let e,t;return e=new ml({props:{href:r[3],$$slots:{default:[Nre]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.href=n[3]),l&131072&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Lre(r){let e;return{c(){e=B(`Open a pre-configured exploration based on the current table
              display.`)},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function Nre(r){let e,t,n,l,s,i,o,a,u,c;const f=[An];let m={};for(let h=0;h<f.length;h+=1)m=x(m,f[h]);n=new Fe({props:m}),o=new Wn({props:{$$slots:{default:[Lre]},$$scope:{ctx:r}}});const d=[xr];let _={};for(let h=0;h<d.length;h+=1)_=x(_,d[h]);return u=new Fe({props:_}),{c(){e=I("div"),t=I("div"),C(n.$$.fragment),l=O(),s=I("span"),s.textContent="Summarize in Data Explorer",i=O(),C(o.$$.fragment),a=O(),C(u.$$.fragment),D(e,"class","action-item svelte-lo2o6r")},m(h,b){w(h,e,b),M(e,t),y(n,t,null),M(t,l),M(t,s),M(t,i),y(o,t,null),M(e,a),y(u,e,null),c=!0},p(h,b){const v=b&0?ce(f,[be(An)]):{};n.$set(v);const k={};b&131072&&(k.$$scope={dirty:b,ctx:h}),o.$set(k);const T=b&0?ce(d,[be(xr)]):{};u.$set(T)},i(h){c||(p(n.$$.fragment,h),p(o.$$.fragment,h),p(u.$$.fragment,h),c=!0)},o(h){g(n.$$.fragment,h),g(o.$$.fragment,h),g(u.$$.fragment,h),c=!1},d(h){h&&$(e),S(n),S(o),S(u)}}}function P2(r){let e,t;return e=new ut({props:{appearance:"outline-primary",$$slots:{default:[Fre]},$$scope:{ctx:r}}}),e.$on("click",r[8]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&131072&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Fre(r){let e,t,n,l;const s=[Ut];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new Fe({props:i}),{c(){C(e.$$.fragment),t=O(),n=I("span"),n.textContent="Delete Table"},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),l=!0},p(o,a){const u=a&0?ce(s,[be(Ut)]):{};e.$set(u)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),o&&$(n)}}}function zre(r){let e,t,n,l=r[2]&&r[1]&&A2(r),s=r[0]&&P2(r);return{c(){e=I("div"),l&&l.c(),t=O(),s&&s.c(),D(e,"class","actions-container svelte-lo2o6r")},m(i,o){w(i,e,o),l&&l.m(e,null),M(e,t),s&&s.m(e,null),n=!0},p(i,[o]){i[2]&&i[1]?l?(l.p(i,o),o&6&&p(l,1)):(l=A2(i),l.c(),p(l,1),l.m(e,t)):l&&(q(),g(l,1,1,()=>{l=null}),U()),i[0]?s?(s.p(i,o),o&1&&p(s,1)):(s=P2(i),s.c(),p(s,1),s.m(e,null)):s&&(q(),g(s,1,1,()=>{s=null}),U())},i(i){n||(p(l),p(s),n=!0)},o(i){g(l),g(s),n=!1},d(i){i&&$(e),l&&l.d(),s&&s.d()}}}function Hre(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,_,h=z,b=()=>(h(),h=se(i,A=>t(14,_=A)),i),v,k=z,T=()=>(k(),k=se(o,A=>t(15,v=A)),o),E;de(r,hn,A=>t(1,f=A)),de(r,gn,A=>t(2,m=A)),de(r,Ll,A=>t(13,d=A)),de(r,ln,A=>t(16,E=A)),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>k());let{canExecuteDDL:P}=e;const R=Rt();de(r,R,A=>t(12,c=A));function L(){_l({identifierType:"Table",body:{component:J6,props:{tableName:d==null?void 0:d.name}},onProceed:async()=>{const A=m,N=f;A&&N&&(await Ba(A,N,c.id),on.goto(rr(A.name,N.id),!0))}})}return r.$$set=A=>{"canExecuteDDL"in A&&t(0,P=A.canExecuteDDL)},r.$$.update=()=>{var A,N;r.$$.dirty&4096&&t(9,{id:n,columnsDataStore:l,meta:s}=c,n,(t(10,l),t(12,c)),(t(11,s),t(12,c))),r.$$.dirty&2048&&b(t(6,{grouping:i}=s,i)),r.$$.dirty&1024&&T(t(5,{columns:o}=l,o)),r.$$.dirty&69638&&t(4,a=m&&f?X6(m==null?void 0:m.name,f.id,{id:c.id,name:(N=(A=E.data.get(c.id))==null?void 0:A.name)!=null?N:""}):""),r.$$.dirty&57862&&t(3,u=(()=>{if(!(!d||!m||!f))return FQ(m.name,f.id,{baseTable:{id:n,name:d.name},columns:v,terseGrouping:_.terse()})})())},[P,f,m,u,a,o,i,R,L,n,l,s,c,d,_,v,E]}class Vre extends X{constructor(e){super(),Q(this,e,Hre,zre,G,{canExecuteDDL:0})}}function O2(r,e,t){const n=r.slice();return n[6]=e[t],n}function L2(r,e){let t,n,l,s;return n=new Bn({props:{column:e[6]}}),{key:r,first:null,c(){t=I("span"),C(n.$$.fragment),l=O(),D(t,"class","column-name-container svelte-t5b5db"),this.first=t},m(i,o){w(i,t,o),y(n,t,null),M(t,l),s=!0},p(i,o){e=i;const a={};o&1&&(a.column=e[6]),n.$set(a)},i(i){s||(p(n.$$.fragment,i),s=!0)},o(i){g(n.$$.fragment,i),s=!1},d(i){i&&$(t),S(n)}}}function qre(r){let e,t,n=[],l=new Map,s,i=r[0];const o=a=>a[6].id;for(let a=0;a<i.length;a+=1){let u=O2(r,i,a),c=o(u);l.set(c,n[a]=L2(c,u))}return{c(){e=I("div"),t=I("div");for(let a=0;a<n.length;a+=1)n[a].c();D(t,"class","column-names svelte-t5b5db"),D(e,"class","column-names-header svelte-t5b5db")},m(a,u){w(a,e,u),M(e,t);for(let c=0;c<n.length;c+=1)n[c].m(t,null);s=!0},p(a,[u]){u&1&&(i=a[0],q(),n=pt(n,u,o,1,a,i,l,t,ht,L2,null,O2),U())},i(a){if(!s){for(let u=0;u<i.length;u+=1)p(n[u]);s=!0}},o(a){for(let u=0;u<n.length;u+=1)g(n[u]);s=!1},d(a){a&&$(e);for(let u=0;u<n.length;u+=1)n[u].d()}}}function Ure(r,e,t){let n,l,s,i=z,o=()=>(i(),i=se(n,f=>t(4,s=f)),n),a;r.$$.on_destroy.push(()=>i());let{constraint:u}=e;const c=Rt();return de(r,c,f=>t(5,a=f)),r.$$set=f=>{"constraint"in f&&t(3,u=f.constraint)},r.$$.update=()=>{r.$$.dirty&32&&o(t(1,n=a.columnsDataStore.columns)),r.$$.dirty&24&&t(0,l=s.filter(f=>u.columns.includes(f.id)))},[l,n,c,u,s,a]}class Wre extends X{constructor(e){super(),Q(this,e,Ure,qre,G,{constraint:3})}}function Bre(r){let e,t,n;return{c(){e=I("p"),e.textContent=`At the database level, each constraint must have a unique name across all
    the constraints, tables, views, and indexes within the schema.`,t=O(),n=I("p"),n.textContent=`In Mathesar however, the name of the constraint will likely never be
    relevant, \u2014 so we recommend allowing Mathesar to automatically
    generate constraint names when adding new constraints.`},m(l,s){w(l,e,s),w(l,t,s),w(l,n,s)},p:z,d(l){l&&$(e),l&&$(t),l&&$(n)}}}function jre(r){let e,t;return e=new Wn({props:{$$slots:{default:[Bre]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}class yk extends X{constructor(e){super(),Q(this,e,null,jre,G,{})}}function Yre(r){let e,t;return e=new Bn({props:{column:{...r[27].column,constraintsType:Al(r[27].column.id,r[4])}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&134217744&&(s.column={...n[27].column,constraintsType:Al(n[27].column.id,n[4])}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Kre(r){let e,t,n;function l(i){r[20](i)}let s={options:r[7],autoClearInvalidValues:!1,$$slots:{default:[Yre,({option:i})=>({27:i}),({option:i})=>i?134217728:0]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.values=r[0]),e=new ba({props:s}),ye.push(()=>Pe(e,"values",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&128&&(a.options=i[7]),o&402653200&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.values=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function Gre(r){let e,t;return e=new wn({props:{label:"Columns",layout:"stacked",$$slots:{default:[Kre]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&268435601&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Qre(r){let e,t,n;return t=new yk({}),{c(){e=B("Set Constraint Name "),C(t.$$.fragment)},m(l,s){w(l,e,s),y(t,l,s),n=!0},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t,l)}}}function Xre(r){let e,t,n;function l(i){r[22](i)}let s={options:r[10],isInline:!0,getRadioLabel:r[21],$$slots:{default:[Qre]},$$scope:{ctx:r}};return r[1]!==void 0&&(s.value=r[1]),e=new Ns({props:s}),ye.push(()=>Pe(e,"value",l)),e.$on("change",r[12]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&268435456&&(a.$$scope={dirty:o,ctx:i}),!t&&o&2&&(t=!0,a.value=i[1],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function N2(r){let e,t;return e=new Ms({props:{errors:r[3],$$slots:{default:[Zre]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.errors=n[3]),l&268435468&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Jre(r){let e,t,n;function l(i){r[23](i)}let s={hasError:r[3].length>0};return r[2]!==void 0&&(s.value=r[2]),e=new $n({props:s}),ye.push(()=>Pe(e,"value",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&8&&(a.hasError=i[3].length>0),!t&&o&4&&(t=!0,a.value=i[2],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function Zre(r){let e,t;return e=new wn({props:{label:"Constraint Name",layout:"stacked",$$slots:{default:[Jre]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&268435468&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function xre(r){let e,t,n,l,s,i;e=new Ms({props:{$$slots:{default:[Gre]},$$scope:{ctx:r}}}),n=new Ms({props:{$$slots:{default:[Xre]},$$scope:{ctx:r}}});let o=r[1]==="manual"&&N2(r);return{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment),l=O(),o&&o.c(),s=ae()},m(a,u){y(e,a,u),w(a,t,u),y(n,a,u),w(a,l,u),o&&o.m(a,u),w(a,s,u),i=!0},p(a,u){const c={};u&268435601&&(c.$$scope={dirty:u,ctx:a}),e.$set(c);const f={};u&268435458&&(f.$$scope={dirty:u,ctx:a}),n.$set(f),a[1]==="manual"?o?(o.p(a,u),u&2&&p(o,1)):(o=N2(a),o.c(),p(o,1),o.m(s.parentNode,s)):o&&(q(),g(o,1,1,()=>{o=null}),U())},i(a){i||(p(e.$$.fragment,a),p(n.$$.fragment,a),p(o),i=!0)},o(a){g(e.$$.fragment,a),g(n.$$.fragment,a),g(o),i=!1},d(a){S(e,a),a&&$(t),S(n,a),a&&$(l),o&&o.d(a),a&&$(s)}}}function ele(r){let e,t,n,l,s,i,o;return l=new E6({props:{$$slots:{default:[xre]},$$scope:{ctx:r}}}),i=new _r({props:{onProceed:r[13],onCancel:r[14],proceedButton:{label:"Add"},canProceed:r[6],size:"small"}}),{c(){e=I("div"),t=I("span"),t.textContent="New Unique Constraint",n=O(),C(l.$$.fragment),s=O(),C(i.$$.fragment),D(e,"class","add-new-unique-constraint svelte-154es72")},m(a,u){w(a,e,u),M(e,t),M(e,n),y(l,e,null),M(e,s),y(i,e,null),o=!0},p(a,[u]){const c={};u&268435615&&(c.$$scope={dirty:u,ctx:a}),l.$set(c);const f={};u&64&&(f.canProceed=a[6]),i.$set(f)},i(a){o||(p(l.$$.fragment,a),p(i.$$.fragment,a),o=!0)},o(a){g(l.$$.fragment,a),g(i.$$.fragment,a),o=!1},d(a){a&&$(e),S(l),S(i)}}}function tle(r,e,t){return r==="auto"?[]:e!=null&&e.trim()?t.has(e==null?void 0:e.trim())?["A constraint with that name already exists"]:[]:["Name cannot be empty"]}function nle(r,e,t){let n,l,s,i,o,a,u,c,f=z,m=()=>(f(),f=se(i,H=>t(4,c=H)),i),d,_,h,b=z,v=()=>(b(),b=se(n,H=>t(19,h=H)),n);de(r,ln,H=>t(18,_=H)),r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>b());let{onClose:k=void 0}=e;const T=new Map([["auto","Automatically"],["manual","Manually"]]),E=[...T.keys()],P=Rt();de(r,P,H=>t(17,d=H));function R(H,ee,pe){const ue=ee.map(me=>me.column.name),ie=`${H}_${ue.join("_")}`;return Ml(ie,pe)}let L=[],A="auto",N;function F(){t(0,L=[]),t(1,A="auto"),t(2,N=void 0)}function K(){t(2,N=A==="manual"?R(s,L,l):void 0)}async function W(){try{await n.add({columns:L.map(H=>H.id),type:"unique",name:N}),F(),k==null||k()}catch(H){At.error(`Unable to add constraint. ${H.message}`)}}function j(){k==null||k()}function Y(H){L=H,t(0,L)}const oe=H=>{var ee;return(ee=T.get(H))!=null?ee:""};function te(H){A=H,t(1,A)}function ne(H){N=H,t(2,N)}return r.$$set=H=>{"onClose"in H&&t(15,k=H.onClose)},r.$$.update=()=>{var H,ee;r.$$.dirty&131072&&v(t(5,n=d.constraintsDataStore)),r.$$.dirty&524288&&t(16,l=new Set(h.constraints.map(pe=>pe.name))),r.$$.dirty&393216&&(s=(ee=(H=_.data.get(d.id))==null?void 0:H.name)!=null?ee:""),r.$$.dirty&131072&&m(t(8,{processedColumns:i}=d,i)),r.$$.dirty&16&&t(7,o=Array.from(c.values())),r.$$.dirty&65542&&t(3,a=tle(A,N,l)),r.$$.dirty&9&&t(6,u=L.length>0&&!a.length)},[L,A,N,a,c,n,u,o,i,T,E,P,K,W,j,k,l,d,_,h,Y,oe,te,ne]}class rle extends X{constructor(e){super(),Q(this,e,nle,ele,G,{onClose:15})}}function F2(r){let e,t;return e=new Bs({props:{processedColumn:r[5]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.processedColumn=n[5]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function lle(r){let e,t,n=r[5]&&F2(r);return{c(){n&&n.c(),e=ae()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[5]?n?(n.p(l,s),s&32&&p(n,1)):(n=F2(l),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&$(e)}}}function sle(r){let e,t,n;function l(i){r[3](i)}let s={options:r[1],labelKey:"name",valuesAreEqual:ile,disabled:r[2],$$slots:{default:[lle,({option:i})=>({5:i}),({option:i})=>i?32:0]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new Sn({props:s}),ye.push(()=>Pe(e,"value",l)),e.$on("change",r[4]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.options=i[1]),o&4&&(a.disabled=i[2]),o&96&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.value=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}const ile=(r,e)=>(r==null?void 0:r.id)===(e==null?void 0:e.id);function ole(r,e,t){let{columns:n}=e,{value:l=void 0}=e,{disabled:s=!1}=e;function i(a){l=a,t(0,l)}function o(a){ve.call(this,r,a)}return r.$$set=a=>{"columns"in a&&t(1,n=a.columns),"value"in a&&t(0,l=a.value),"disabled"in a&&t(2,s=a.disabled)},[l,n,s,i,o]}class ra extends X{constructor(e){super(),Q(this,e,ole,sle,G,{columns:1,value:0,disabled:2})}}function z2(r){let e,t,n,l;const s=[ule,ale],i=[];function o(a,u){return a[16]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function ale(r){let e,t;return e=new _n({props:{field:r[3],input:{component:ra,props:{columns:r[10]}},layout:"stacked",$$slots:{label:[cle]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&8&&(s.field=n[3]),l[0]&1024&&(s.input={component:ra,props:{columns:n[10]}}),l[0]&128|l[1]&64&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ule(r){let e,t;return e=new fr({props:{$$slots:{default:[fle]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[1]&64&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function cle(r){let e,t,n,l,s;return n=new Cn({props:{table:r[7],bold:!0,truncate:!1}}),{c(){e=I("span"),t=B(`Target Column in
          `),C(n.$$.fragment),l=B(`
          Table`),D(e,"slot","label")},m(i,o){w(i,e,o),M(e,t),y(n,e,null),M(e,l),s=!0},p(i,o){const a={};o[0]&128&&(a.table=i[7]),n.$set(a)},i(i){s||(p(n.$$.fragment,i),s=!0)},o(i){g(n.$$.fragment,i),s=!1},d(i){i&&$(e),S(n)}}}function fle(r){let e,t;return e=new an({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function mle(r){let e,t,n;return t=new yk({}),{c(){e=B("Set Constraint Name "),C(t.$$.fragment)},m(l,s){w(l,e,s),y(t,l,s),n=!0},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t,l)}}}function dle(r){let e,t,n;function l(i){r[32](i)}let s={options:r[18],isInline:!0,getRadioLabel:r[31],$$slots:{default:[mle]},$$scope:{ctx:r}};return r[6]!==void 0&&(s.value=r[6]),e=new Ns({props:s}),ye.push(()=>Pe(e,"value",l)),e.$on("change",r[20]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o[1]&64&&(a.$$scope={dirty:o,ctx:i}),!t&&o[0]&64&&(t=!0,a.value=i[6],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function H2(r){let e,t;return e=new _n({props:{field:r[1],layout:"stacked",label:"Constraint Name"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&2&&(s.field=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ple(r){let e,t,n,l,s,i,o,a,u,c,f,m,d;l=new _n({props:{field:r[5],input:{component:ra,props:{columns:r[13]}},layout:"stacked",label:"Column in this table which references the target table"}}),i=new _n({props:{field:r[4],input:{component:Ii,props:{autoSelect:"clear",tables:r[15]}},layout:"stacked",label:"Target Table"}});let _=r[7]&&z2(r);u=new fr({props:{$$slots:{default:[dle]},$$scope:{ctx:r}}});let h=r[6]==="manual"&&H2(r);return m=new bl({props:{form:r[8],catchErrors:!0,onProceed:r[21],onCancel:r[0],size:"small",proceedButton:{label:"Add"}}}),{c(){e=I("div"),t=I("span"),t.textContent="New Foreign Key Constraint",n=O(),C(l.$$.fragment),s=O(),C(i.$$.fragment),o=O(),_&&_.c(),a=O(),C(u.$$.fragment),c=O(),h&&h.c(),f=O(),C(m.$$.fragment),D(t,"class","title"),D(e,"class","add-new-fk-constraint svelte-1c0ahmy")},m(b,v){w(b,e,v),M(e,t),M(e,n),y(l,e,null),M(e,s),y(i,e,null),M(e,o),_&&_.m(e,null),M(e,a),y(u,e,null),M(e,c),h&&h.m(e,null),M(e,f),y(m,e,null),d=!0},p(b,v){const k={};v[0]&32&&(k.field=b[5]),v[0]&8192&&(k.input={component:ra,props:{columns:b[13]}}),l.$set(k);const T={};v[0]&16&&(T.field=b[4]),v[0]&32768&&(T.input={component:Ii,props:{autoSelect:"clear",tables:b[15]}}),i.$set(T),b[7]?_?(_.p(b,v),v[0]&128&&p(_,1)):(_=z2(b),_.c(),p(_,1),_.m(e,a)):_&&(q(),g(_,1,1,()=>{_=null}),U());const E={};v[0]&64|v[1]&64&&(E.$$scope={dirty:v,ctx:b}),u.$set(E),b[6]==="manual"?h?(h.p(b,v),v[0]&64&&p(h,1)):(h=H2(b),h.c(),p(h,1),h.m(e,f)):h&&(q(),g(h,1,1,()=>{h=null}),U());const P={};v[0]&256&&(P.form=b[8]),v[0]&1&&(P.onCancel=b[0]),m.$set(P)},i(b){d||(p(l.$$.fragment,b),p(i.$$.fragment,b),p(_),p(u.$$.fragment,b),p(h),p(m.$$.fragment,b),d=!0)},o(b){g(l.$$.fragment,b),g(i.$$.fragment,b),g(_),g(u.$$.fragment,b),g(h),g(m.$$.fragment,b),d=!1},d(b){b&&$(e),S(l),S(i),_&&_.d(),S(u),h&&h.d(),S(m)}}}function _le(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,_,h,b,v,k,T,E,P=z,R=()=>(P(),P=se(s,We=>t(34,E=We)),s),L,A=z,N=()=>(A(),A=se(a,We=>t(6,L=We)),a),F,K=z,W=()=>(K(),K=se(u,We=>t(35,F=We)),u),j,Y=z,oe=()=>(Y(),Y=se(v,We=>t(25,j=We)),v),te,ne,H=z,ee=()=>(H(),H=se(i,We=>t(7,ne=We)),i),pe,ue=z,ie=()=>(ue(),ue=se(d,We=>t(27,pe=We)),d),me,Se,$e,He=z,we=()=>(He(),He=se(n,We=>t(30,$e=We)),n),je,Re=z,Oe=()=>(Re(),Re=se(b,We=>t(16,je=We)),b);de(r,sr,We=>t(26,te=We)),de(r,ja,We=>t(29,Se=We)),r.$$.on_destroy.push(()=>P()),r.$$.on_destroy.push(()=>A()),r.$$.on_destroy.push(()=>K()),r.$$.on_destroy.push(()=>Y()),r.$$.on_destroy.push(()=>H()),r.$$.on_destroy.push(()=>ue()),r.$$.on_destroy.push(()=>He()),r.$$.on_destroy.push(()=>Re());let{onClose:Ze=void 0}=e;const Ke=new Map([["auto","Automatically"],["manual","Manually"]]),tt=[...Ke.keys()],ot=Rt();de(r,ot,We=>t(28,me=We));function nt(We,Je,bt){var xe;const _t=`FK_${We}_${(xe=Je==null?void 0:Je.column.name)!=null?xe:""}`;return Ml(_t,bt)}function ze(){Zt(u,F=L==="manual"?nt(m,E,l):void 0,F)}async function Xe(We){await n.add({columns:[We.baseColumn.id],type:"foreignkey",name:We.constraintName,referent_table:We.targetTable.id,referent_columns:[We.targetColumn.id]}),c.reset(),Ze==null||Ze()}const ct=We=>{var Je;return(Je=Ke.get(We))!=null?Je:""};function Ve(We){L=We,a.set(L)}return r.$$set=We=>{"onClose"in We&&t(0,Ze=We.onClose)},r.$$.update=()=>{var We,Je;r.$$.dirty[0]&268435456&&we(t(9,n=me.constraintsDataStore)),r.$$.dirty[0]&1073741824&&t(22,l=new Set($e.constraints.map(bt=>bt.name))),r.$$.dirty[0]&4194304&&W(t(1,u=qt(void 0,[af(l)]))),r.$$.dirty[0]&126&&t(8,c=Vn({baseColumn:s,targetTable:i,targetColumn:o,namingStrategy:a,...L==="auto"?{}:{constraintName:u}})),r.$$.dirty[0]&536870912&&t(15,f=[...Se.values()]),r.$$.dirty[0]&805306368&&(m=(Je=(We=Se.get(me.id))==null?void 0:We.name)!=null?Je:""),r.$$.dirty[0]&268435456&&ie(t(14,{processedColumns:d}=me,d)),r.$$.dirty[0]&134217728&&t(13,_=[...pe.values()]),r.$$.dirty[0]&67108992&&t(24,h=ne?new r6({id:ne.id,abstractTypesMap:te.data}):void 0),r.$$.dirty[0]&16777216&&Oe(t(12,b=Kn(h==null?void 0:h.isLoading))),r.$$.dirty[0]&16777216&&oe(t(11,v=Kn(h==null?void 0:h.processedColumns))),r.$$.dirty[0]&33554432&&t(23,k=j!=null?j:new Map),r.$$.dirty[0]&8388608&&t(10,T=[...k.values()])},R(t(5,s=qt(void 0))),ee(t(4,i=qt(void 0))),t(3,o=qt(void 0)),N(t(2,a=qt("auto"))),[Ze,u,a,o,i,s,L,ne,c,n,T,v,b,_,d,f,je,Ke,tt,ot,ze,Xe,l,k,h,j,te,pe,me,Se,$e,ct,Ve]}class gle extends X{constructor(e){super(),Q(this,e,_le,ple,G,{onClose:0},null,[-1,-1])}}function hle(r){let e,t,n,l,s=r[0].name+"",i;return{c(){e=I("div"),t=I("span"),t.textContent="Constraint Name:",n=O(),l=I("span"),i=B(s),D(e,"class","constraint-details svelte-ahl4tc")},m(o,a){w(o,e,a),M(e,t),M(e,n),M(e,l),M(l,i)},p(o,[a]){a&1&&s!==(s=o[0].name+"")&&he(i,s)},i:z,o:z,d(o){o&&$(e)}}}function ble(r,e,t){let{constraint:n}=e;return r.$$set=l=>{"constraint"in l&&t(0,n=l.constraint)},[n]}class $le extends X{constructor(e){super(),Q(this,e,ble,hle,G,{constraint:0})}}function V2(r,e,t){const n=r.slice();return n[5]=e[t],n[7]=t,n}function q2(r){let e,t,n,l,s,i,o,a,u;i=new Cn({props:{table:r[1]}});let c={ctx:r,current:null,token:null,hasCatch:!0,pending:kle,then:vle,catch:wle,value:4,error:8,blocks:[,,,]};return Cl(a=r[2](r[0]),c),{c(){e=I("div"),t=I("span"),t.textContent="Target:",n=O(),l=I("div"),s=I("span"),C(i.$$.fragment),o=O(),c.block.c(),D(s,"class","entity-name-container svelte-1diy2q4"),D(l,"class","target-details svelte-1diy2q4"),D(e,"class","target svelte-1diy2q4")},m(f,m){w(f,e,m),M(e,t),M(e,n),M(e,l),M(l,s),y(i,s,null),M(l,o),c.block.m(l,c.anchor=null),c.mount=()=>l,c.anchor=null,u=!0},p(f,m){r=f;const d={};m&2&&(d.table=r[1]),i.$set(d),c.ctx=r,m&1&&a!==(a=r[2](r[0]))&&Cl(a,c)||aa(c,r,m)},i(f){u||(p(i.$$.fragment,f),p(c.block),u=!0)},o(f){g(i.$$.fragment,f);for(let m=0;m<3;m+=1){const d=c.blocks[m];g(d)}u=!1},d(f){f&&$(e),S(i),c.block.d(),c.token=null,c=null}}}function wle(r){let e,t;const n=[el];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[be(el)]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function vle(r){let e=[],t=new Map,n,l,s=r[4];const i=o=>o[5].id;for(let o=0;o<s.length;o+=1){let a=V2(r,s,o),u=i(a);t.set(u,e[o]=U2(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=ae()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,a){a&5&&(s=o[4],q(),e=pt(e,a,i,1,o,s,t,n.parentNode,ht,U2,n,V2),U())},i(o){if(!l){for(let a=0;a<s.length;a+=1)p(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&$(n)}}}function U2(r,e){let t,n,l,s;return n=new Bn({props:{column:e[5]}}),{key:r,first:null,c(){t=I("span"),C(n.$$.fragment),l=O(),D(t,"class","entity-name-container svelte-1diy2q4"),this.first=t},m(i,o){w(i,t,o),y(n,t,null),M(t,l),s=!0},p(i,o){e=i;const a={};o&1&&(a.column=e[5]),n.$set(a)},i(i){s||(p(n.$$.fragment,i),s=!0)},o(i){g(n.$$.fragment,i),s=!1},d(i){i&&$(t),S(n)}}}function kle(r){let e,t;return e=new an({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function yle(r){let e,t,n,l,s,i=r[0].name+"",o,a,u,c=r[1]&&q2(r);return{c(){e=I("div"),t=I("div"),n=I("span"),n.textContent="Constraint Name:",l=O(),s=I("span"),o=B(i),a=O(),c&&c.c(),D(e,"class","constraint-details svelte-1diy2q4")},m(f,m){w(f,e,m),M(e,t),M(t,n),M(t,l),M(t,s),M(s,o),M(e,a),c&&c.m(e,null),u=!0},p(f,[m]){(!u||m&1)&&i!==(i=f[0].name+"")&&he(o,i),f[1]?c?(c.p(f,m),m&2&&p(c,1)):(c=q2(f),c.c(),p(c,1),c.m(e,null)):c&&(q(),g(c,1,1,()=>{c=null}),U())},i(f){u||(p(c),u=!0)},o(f){g(c),u=!1},d(f){f&&$(e),c&&c.d()}}}function Sle(r,e,t){let n,l;de(r,ln,o=>t(3,l=o));let{constraint:s}=e;async function i(o){if(o.type!=="foreignkey")return[];const u=`/api/db/v0/tables/${o.referent_table}/columns/?limit=500`;return(await dn(u)).results.filter(f=>o.referent_columns.includes(f.id))}return r.$$set=o=>{"constraint"in o&&t(0,s=o.constraint)},r.$$.update=()=>{r.$$.dirty&9&&t(1,n=s.type==="foreignkey"?l.data.get(s.referent_table):void 0)},[s,n,i,l]}class Cle extends X{constructor(e){super(),Q(this,e,Sle,yle,G,{constraint:0})}}function W2(r,e,t){const n=r.slice();return n[17]=e[t],n}function Tle(r){let e=r[6][r[0]]+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[6][n[0]]+"")&&he(t,e)},d(n){n&&$(t)}}}function B2(r){let e,t;return e=new ut({props:{appearance:"plain-primary",size:"small",$$slots:{default:[Dle]},$$scope:{ctx:r}}}),e.$on("click",r[8]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1048576&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Dle(r){let e;return{c(){e=B("Add")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function j2(r){let e,t,n,l;const s=[Ele,Ile],i=[];function o(a,u){return a[0]==="foreignkey"?0:a[0]==="unique"?1:-1}return~(t=o(r))&&(n=i[t]=s[t](r)),{c(){e=I("div"),n&&n.c(),D(e,"class","add-constraint svelte-1gbuulg")},m(a,u){w(a,e,u),~t&&i[t].m(e,null),l=!0},p(a,u){let c=t;t=o(a),t===c?~t&&i[t].p(a,u):(n&&(q(),g(i[c],1,1,()=>{i[c]=null}),U()),~t?(n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),p(n,1),n.m(e,null)):n=null)},i(a){l||(p(n),l=!0)},o(a){g(n),l=!1},d(a){a&&$(e),~t&&i[t].d()}}}function Ile(r){let e,t;return e=new rle({props:{onClose:r[9]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ele(r){let e,t;return e=new gle({props:{onClose:r[9]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Y2(r){let e,t=!r[2]&&K2(r);return{c(){t&&t.c(),e=ae()},m(n,l){t&&t.m(n,l),w(n,e,l)},p(n,l){n[2]?t&&(t.d(1),t=null):t?t.p(n,l):(t=K2(n),t.c(),t.m(e.parentNode,e))},d(n){t&&t.d(n),n&&$(e)}}}function K2(r){let e,t,n=r[7][r[0]]+"",l,s;return{c(){e=I("span"),t=B("No "),l=B(n),s=B(" Constraints"),D(e,"class","null svelte-1gbuulg")},m(i,o){w(i,e,o),M(e,t),M(e,l),M(e,s)},p(i,o){o&1&&n!==(n=i[7][i[0]]+"")&&he(l,n)},d(i){i&&$(e)}}}function Mle(r){let e,t,n,l;return t=new Wre({props:{constraint:r[17]}}),{c(){e=I("span"),C(t.$$.fragment),n=O(),D(e,"slot","header")},m(s,i){w(s,e,i),y(t,e,null),M(e,n),l=!0},p(s,i){const o={};i&2&&(o.constraint=s[17]),t.$set(o)},i(s){l||(p(t.$$.fragment,s),l=!0)},o(s){g(t.$$.fragment,s),l=!1},d(s){s&&$(e),S(t)}}}function G2(r){let e,t;function n(){return r[13](r[17])}return e=new ut({props:{size:"small",appearance:"plain",$$slots:{default:[Ale]},$$scope:{ctx:r}}}),e.$on("click",n),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){r=l;const i={};s&1048576&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function Ale(r){let e,t;const n=[Ut];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[be(Ut)]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Rle(r){let e,t,n,l=r[3]&&G2(r);return{c(){e=I("span"),l&&l.c(),t=O(),D(e,"slot","trigger-aside")},m(s,i){w(s,e,i),l&&l.m(e,null),M(e,t),n=!0},p(s,i){s[3]?l?(l.p(s,i),i&8&&p(l,1)):(l=G2(s),l.c(),p(l,1),l.m(e,t)):l&&(q(),g(l,1,1,()=>{l=null}),U())},i(s){n||(p(l),n=!0)},o(s){g(l),n=!1},d(s){s&&$(e),l&&l.d()}}}function Ple(r){let e,t;return e=new $le({props:{constraint:r[17]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.constraint=n[17]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ole(r){let e,t;return e=new Cle({props:{constraint:r[17]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.constraint=n[17]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Lle(r){let e,t,n,l,s;const i=[Ole,Ple],o=[];function a(u,c){return u[0]==="foreignkey"?0:1}return t=a(r),n=o[t]=i[t](r),{c(){e=I("div"),n.c(),l=O(),D(e,"slot","content")},m(u,c){w(u,e,c),o[t].m(e,null),M(e,l),s=!0},p(u,c){let f=t;t=a(u),t===f?o[t].p(u,c):(q(),g(o[f],1,1,()=>{o[f]=null}),U(),n=o[t],n?n.p(u,c):(n=o[t]=i[t](u),n.c()),p(n,1),n.m(e,l))},i(u){s||(p(n),s=!0)},o(u){g(n),s=!1},d(u){u&&$(e),o[t].d()}}}function Q2(r,e){let t,n,l;return n=new Tn({props:{triggerAppearance:"ghost",$$slots:{content:[Lle],"trigger-aside":[Rle],header:[Mle]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&1048587&&(o.$$scope={dirty:i,ctx:e}),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}function Nle(r){let e,t,n,l=r[7][r[0]]+"",s,i,o,a,u,c,f=[],m=new Map,d;o=new Wn({props:{$$slots:{default:[Tle]},$$scope:{ctx:r}}});let _=r[4]&&B2(r),h=r[2]&&j2(r),b=r[1];const v=T=>T[17].id;for(let T=0;T<b.length;T+=1){let E=W2(r,b,T),P=v(E);m.set(P,f[T]=Q2(P,E))}let k=null;return b.length||(k=Y2(r)),{c(){e=I("div"),t=I("span"),n=I("span"),s=B(l),i=O(),C(o.$$.fragment),a=O(),_&&_.c(),u=O(),h&&h.c(),c=O();for(let T=0;T<f.length;T+=1)f[T].c();k&&k.c(),D(t,"class","title svelte-1gbuulg"),D(e,"class","constraint-type-section svelte-1gbuulg")},m(T,E){w(T,e,E),M(e,t),M(t,n),M(n,s),M(n,i),y(o,n,null),M(t,a),_&&_.m(t,null),M(e,u),h&&h.m(e,null),M(e,c);for(let P=0;P<f.length;P+=1)f[P].m(e,null);k&&k.m(e,null),d=!0},p(T,[E]){(!d||E&1)&&l!==(l=T[7][T[0]]+"")&&he(s,l);const P={};E&1048577&&(P.$$scope={dirty:E,ctx:T}),o.$set(P),T[4]?_?(_.p(T,E),E&16&&p(_,1)):(_=B2(T),_.c(),p(_,1),_.m(t,null)):_&&(q(),g(_,1,1,()=>{_=null}),U()),T[2]?h?(h.p(T,E),E&4&&p(h,1)):(h=j2(T),h.c(),p(h,1),h.m(e,c)):h&&(q(),g(h,1,1,()=>{h=null}),U()),E&1167&&(b=T[1],q(),f=pt(f,E,v,1,T,b,m,e,ht,Q2,null,W2),U(),!b.length&&k?k.p(T,E):b.length?k&&(k.d(1),k=null):(k=Y2(T),k.c(),k.m(e,null)))},i(T){if(!d){p(o.$$.fragment,T),p(_),p(h);for(let E=0;E<b.length;E+=1)p(f[E]);d=!0}},o(T){g(o.$$.fragment,T),g(_),g(h);for(let E=0;E<f.length;E+=1)g(f[E]);d=!1},d(T){T&&$(e),S(o),_&&_.d(),h&&h.d();for(let E=0;E<f.length;E+=1)f[E].d();k&&k.d()}}}function Fle(r,e,t){let n,l,s,i,{constraintType:o}=e,{constraints:a}=e,{canExecuteDDL:u}=e;const c=Rt();de(r,c,E=>t(12,i=E));const f=["unique","foreignkey"],m=["unique","foreignkey"];let d=!1;const _={primary:"A primary key constraint uniquely identifies each record in a table.",foreignkey:"A foreign key constraint links records in two tables.",unique:"A unique constraint ensures that each record in a column is unique.",check:"",exclude:""},h={primary:"Primary Keys",foreignkey:"Foreign Keys",unique:"Unique",check:"",exclude:""};function b(){t(2,d=!0)}function v(){t(2,d=!1)}function k(E){_l({identifierType:"Constraint",identifierName:E.name,body:["Are you sure you want to proceed?"],onProceed:()=>n.remove(E.id)})}const T=E=>k(E);return r.$$set=E=>{"constraintType"in E&&t(0,o=E.constraintType),"constraints"in E&&t(1,a=E.constraints),"canExecuteDDL"in E&&t(11,u=E.canExecuteDDL)},r.$$.update=()=>{r.$$.dirty&4096&&(n=i.constraintsDataStore),r.$$.dirty&2049&&t(4,l=f.includes(o)&&u),r.$$.dirty&2049&&t(3,s=m.includes(o)&&u)},[o,a,d,s,l,c,_,h,b,v,k,u,i,T]}class Eu extends X{constructor(e){super(),Q(this,e,Fle,Nle,G,{constraintType:0,constraints:1,canExecuteDDL:11})}}function zle(r){let e,t,n,l,s,i,o;return t=new Eu({props:{constraintType:"primary",constraints:r[4].get("primary")||[],canExecuteDDL:r[2]}}),l=new Eu({props:{constraintType:"foreignkey",constraints:r[4].get("foreignkey")||[],canExecuteDDL:r[2]}}),i=new Eu({props:{constraintType:"unique",constraints:r[4].get("unique")||[],canExecuteDDL:r[2]}}),{c(){e=I("div"),C(t.$$.fragment),n=O(),C(l.$$.fragment),s=O(),C(i.$$.fragment),D(e,"class","constraints-list svelte-15s0oew")},m(a,u){w(a,e,u),y(t,e,null),M(e,n),y(l,e,null),M(e,s),y(i,e,null),o=!0},p(a,u){const c={};u&16&&(c.constraints=a[4].get("primary")||[]),u&4&&(c.canExecuteDDL=a[2]),t.$set(c);const f={};u&16&&(f.constraints=a[4].get("foreignkey")||[]),u&4&&(f.canExecuteDDL=a[2]),l.$set(f);const m={};u&16&&(m.constraints=a[4].get("unique")||[]),u&4&&(m.canExecuteDDL=a[2]),i.$set(m)},i(a){o||(p(t.$$.fragment,a),p(l.$$.fragment,a),p(i.$$.fragment,a),o=!0)},o(a){g(t.$$.fragment,a),g(l.$$.fragment,a),g(i.$$.fragment,a),o=!1},d(a){a&&$(e),S(t),S(l),S(i)}}}function Hle(r){let e;return{c(){e=I("div"),e.textContent="No constraints"},m(t,n){w(t,e,n)},p:z,i:z,o:z,d(t){t&&$(e)}}}function Vle(r){let e,t,n,l;return{c(){e=I("div"),e.textContent="Unable to fetch table constraints",t=O(),n=I("div"),l=B(r[5])},m(s,i){w(s,e,i),w(s,t,i),w(s,n,i),M(n,l)},p(s,i){i&32&&he(l,s[5])},i:z,o:z,d(s){s&&$(e),s&&$(t),s&&$(n)}}}function qle(r){let e,t;const n=[nr];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[be(nr)]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Ule(r){let e,t,n,l;const s=[qle,Vle,Hle,zle],i=[];function o(a,u){return a[3]?0:a[1]===St.Error?1:a[0]?2:3}return t=o(r),n=i[t]=s[t](r),{c(){e=I("div"),n.c(),D(e,"class","table-constraints")},m(a,u){w(a,e,u),i[t].m(e,null),l=!0},p(a,[u]){let c=t;t=o(a),t===c?i[t].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),p(n,1),n.m(e,null))},i(a){l||(p(n),l=!0)},o(a){g(n),l=!1},d(a){a&&$(e),i[t].d()}}}function Wle(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,_,h,b=z,v=()=>(b(),b=se(s,L=>t(14,h=L)),s),k,T,E;de(r,hn,L=>t(16,T=L)),de(r,gn,L=>t(17,E=L)),r.$$.on_destroy.push(()=>b());const P=Rt();de(r,P,L=>t(15,k=L));const R=Xt();return de(r,R,L=>t(13,_=L)),r.$$.update=()=>{r.$$.dirty&131072&&t(10,n=E),r.$$.dirty&65536&&t(9,l=T),r.$$.dirty&32768&&v(t(6,s=k.constraintsDataStore)),r.$$.dirty&16384&&t(1,i=h.state),r.$$.dirty&16384&&t(5,o=h.error),r.$$.dirty&16384&&t(12,a=h.constraints),r.$$.dirty&4096&&t(4,u=a.reduce((L,A)=>{const N=L.get(A.type);return Array.isArray(N)?(L.set(A.type,[...N,A]),L):(L.set(A.type,[A]),L)},new Map)),r.$$.dirty&4096&&t(0,c=a.length===0),r.$$.dirty&2&&t(11,f=i===St.Idle||i===St.Loading),r.$$.dirty&2049&&t(3,m=c&&f),r.$$.dirty&9728&&t(2,d=!!(_!=null&&_.hasPermission({database:n,schema:l},"canExecuteDDL")))},[c,i,d,m,u,o,s,P,R,l,n,f,a,_,h,k,T,E]}class Ble extends X{constructor(e){super(),Q(this,e,Wle,Ule,G,{})}}function jle(r){let e,t,n,l;return n=new Ble({}),{c(){e=I("span"),e.textContent=`Constraints are used to define relationships between records in different
    tables or to ensure that records in a column are unique. Constraints can be
    applied to a single column or a combination of columns.`,t=O(),C(n.$$.fragment),D(e,"class","description svelte-1m3vjcg")},m(s,i){w(s,e,i),w(s,t,i),y(n,s,i),l=!0},p:z,i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(e),s&&$(t),S(n,s)}}}function Yle(r){let e;return{c(){e=I("span"),e.textContent="Constraints",D(e,"slot","title")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function Kle(r){let e,t;return e=new Pl({props:{controller:r[0],$$slots:{title:[Yle],default:[jle]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.controller=n[0]),l&2&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Gle(r,e,t){let{controller:n}=e;return r.$$set=l=>{"controller"in l&&t(0,n=l.controller)},[n]}class Qle extends X{constructor(e){super(),Q(this,e,Gle,Kle,G,{controller:0})}}function Xle(r){let e;return{c(){e=B(`Constraints are rules that apply to the data in a column to ensure
          that it is valid.`)},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function Jle(r){let e,t,n,l,s,i,o,a,u,c;const f=[ys];let m={};for(let h=0;h<f.length;h+=1)m=x(m,f[h]);n=new Fe({props:m}),o=new Wn({props:{$$slots:{default:[Xle]},$$scope:{ctx:r}}});const d=[$s];let _={};for(let h=0;h<d.length;h+=1)_=x(_,d[h]);return u=new Fe({props:_}),{c(){e=I("div"),t=I("div"),C(n.$$.fragment),l=O(),s=I("span"),s.textContent="Constraints",i=O(),C(o.$$.fragment),a=O(),C(u.$$.fragment),D(e,"class","action-item svelte-lo2o6r")},m(h,b){w(h,e,b),M(e,t),y(n,t,null),M(t,l),M(t,s),M(t,i),y(o,t,null),M(e,a),y(u,e,null),c=!0},p(h,b){const v=b&0?ce(f,[be(ys)]):{};n.$set(v);const k={};b&4&&(k.$$scope={dirty:b,ctx:h}),o.$set(k);const T=b&0?ce(d,[be($s)]):{};u.$set(T)},i(h){c||(p(n.$$.fragment,h),p(o.$$.fragment,h),p(u.$$.fragment,h),c=!0)},o(h){g(n.$$.fragment,h),g(o.$$.fragment,h),g(u.$$.fragment,h),c=!1},d(h){h&&$(e),S(n),S(o),S(u)}}}function Zle(r){let e,t,n,l,s;return t=new ut({props:{$$slots:{default:[Jle]},$$scope:{ctx:r}}}),t.$on("click",r[1]),l=new Qle({props:{controller:r[0]}}),{c(){e=I("div"),C(t.$$.fragment),n=O(),C(l.$$.fragment),D(e,"class","actions-container svelte-lo2o6r")},m(i,o){w(i,e,o),y(t,e,null),M(e,n),y(l,e,null),s=!0},p(i,[o]){const a={};o&4&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){s||(p(t.$$.fragment,i),p(l.$$.fragment,i),s=!0)},o(i){g(t.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){i&&$(e),S(t),S(l)}}}function xle(r){const e=dr.spawnModalController();return[e,()=>e.open()]}class ese extends X{constructor(e){super(),Q(this,e,xle,Zle,G,{})}}function tse(r){let e,t,n;return t=new Cn({props:{table:r[0]}}),{c(){e=I("span"),C(t.$$.fragment),D(e,"class","table-pill svelte-1auv76y"),Z(e,"base",r[1]==="base"),Z(e,"target",r[1]==="target"),Z(e,"mapping",r[1]==="mapping")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,[s]){const i={};s&1&&(i.table=l[0]),t.$set(i),(!n||s&2)&&Z(e,"base",l[1]==="base"),(!n||s&2)&&Z(e,"target",l[1]==="target"),(!n||s&2)&&Z(e,"mapping",l[1]==="mapping")},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function nse(r,e,t){let{table:n}=e,{which:l}=e;return r.$$set=s=>{"table"in s&&t(0,n=s.table),"which"in s&&t(1,l=s.which)},[n,l]}class qn extends X{constructor(e){super(),Q(this,e,nse,tse,G,{table:0,which:1})}}function rse(r){let e,t;return e=new _n({props:{field:r[4],label:Sk}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.field=n[4]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function lse(r){let e,t,n,l;return n=new an({}),{c(){e=B(Sk),t=O(),C(n.$$.fragment)},m(s,i){w(s,e,i),w(s,t,i),y(n,s,i),l=!0},p:z,i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(e),s&&$(t),S(n,s)}}}function sse(r){let e,t,n,l,s,i,o,a,u,c,f;n=new qn({props:{table:r[0],which:r[1]}}),s=new qn({props:{table:r[2],which:r[3]}});const m=[lse,rse],d=[];function _(h,b){return h[5]?0:1}return a=_(r),u=d[a]=m[a](r),{c(){e=I("p"),t=B(`We'll add a column in
  `),C(n.$$.fragment),l=B(`
  which links to
  `),C(s.$$.fragment),i=B("."),o=O(),u.c(),c=ae()},m(h,b){w(h,e,b),M(e,t),y(n,e,null),M(e,l),y(s,e,null),M(e,i),w(h,o,b),d[a].m(h,b),w(h,c,b),f=!0},p(h,[b]){const v={};b&1&&(v.table=h[0]),b&2&&(v.which=h[1]),n.$set(v);const k={};b&4&&(k.table=h[2]),b&8&&(k.which=h[3]),s.$set(k);let T=a;a=_(h),a===T?d[a].p(h,b):(q(),g(d[T],1,1,()=>{d[T]=null}),U(),u=d[a],u?u.p(h,b):(u=d[a]=m[a](h),u.c()),p(u,1),u.m(c.parentNode,c))},i(h){f||(p(n.$$.fragment,h),p(s.$$.fragment,h),p(u),f=!0)},o(h){g(n.$$.fragment,h),g(s.$$.fragment,h),g(u),f=!1},d(h){h&&$(e),S(n),S(s),h&&$(o),d[a].d(h),h&&$(c)}}}const Sk="Column Name";function ise(r,e,t){let{base:n}=e,{baseWhich:l="base"}=e,{target:s}=e,{targetWhich:i="target"}=e,{field:o}=e,{targetColumnsAreLoading:a=!1}=e;return r.$$set=u=>{"base"in u&&t(0,n=u.base),"baseWhich"in u&&t(1,l=u.baseWhich),"target"in u&&t(2,s=u.target),"targetWhich"in u&&t(3,i=u.targetWhich),"field"in u&&t(4,o=u.field),"targetColumnsAreLoading"in u&&t(5,a=u.targetColumnsAreLoading)},[n,l,s,i,o,a]}class la extends X{constructor(e){super(),Q(this,e,ise,sse,G,{base:0,baseWhich:1,target:2,targetWhich:3,field:4,targetColumnsAreLoading:5})}}var Ck=()=>new Proxy(Object.assign(()=>"",{}),{get:(r,e)=>e==="length"?0:Ck()}),ose=r=>Object.fromEntries(Object.entries(r).map(([e,t])=>e!=="i"&&t&&t!="0"&&[e,t]).filter(Boolean)),ase=r=>Object.fromEntries(Object.keys(r).map(e=>{const t=r[e];return[e,Array.isArray(t)?t.map(n=>n==null?void 0:n.trim()):t===!!t?t:t==null?void 0:t.trim()]})),use=r=>{const[e="",...t]=r.split("|"),[n="",l]=e.split(":"),[s,i]=n.split("?");return{k:s,i:l,n:i==="",f:t}},cse=r=>!!(r.o||r.r),fse=(r,e)=>{let[t,n]=r.split(":");n||(n=t,t=e);const l=n.split("|"),[s,i,o,a,u,c]=l,f=l.filter(m=>m!==void 0).length;return f===1?{k:t,r:s}:f===2?{k:t,o:s,r:i}:f===3?{k:t,z:s,o:i,r:o}:{k:t,z:s,o:i,t:o,f:a,m:u,r:c}},mse=/^\{.*\}$/,dse=r=>Object.fromEntries(lc(r).split(",").map(e=>e.split(":")).reduce((e,t)=>t.length===2?[...e,t.map(n=>n.trim())]:(e[e.length-1][1]+=","+t[0],e),[])),X2=/(\{(?:[^{}]+|\{(?:[^{}]+)*\})*\})/g,lc=r=>r.substring(1,r.length-1),pse=(r,e=!0,t="",n="")=>r.split(X2).map(l=>{if(!l.match(X2))return l;const s=lc(l);if(s.startsWith("{"))return fse(lc(s),n);const i=use(s);return n=i.k||n,!t&&(t=n),i}).map(l=>{if(typeof l=="string")return l;l.k||(l.k=t||"0");const s=ase(l);return e?ose(s):s}),_se=(r,e,t)=>e.reduce((n,l)=>{var s,i;return(i=l.match(mse)?(o=>{var a;return(a=o[n])!=null?a:o["*"]})(dse(l)):(s=r[l])==null?void 0:s.call(r,n))!=null?i:n},t),gse=(r,{z:e,o:t,t:n,f:l,m:s,r:i},o)=>{switch(e&&o==0?"zero":r.select(o)){case"zero":return e;case"one":return t;case"two":return n;case"few":return l;case"many":return s;default:return i}},hse=/\?\?/g,bse=(r,e,t,n)=>r.map(l=>{if(typeof l=="string")return l;const{k:s="0",f:i=[]}=l,o=n[s];if(cse(l))return((typeof o=="boolean"?o?l.o:l.r:gse(e,l,o))||"").replace(hse,o);const a=i.length?_se(t,i,o):o;return(""+(a!=null?a:"")).trim()}).join(""),$se=(r,e,t,n)=>{const l=n[0],s=l&&typeof l=="object"&&l.constructor===Object,i=n.length===1&&s?l:n;return bse(r,e,t,i)},wse=(r,e)=>r[e]||(r[e]=pse(e)),vse=(r,e)=>{const t={},n=new Intl.PluralRules(r);return(l,...s)=>$se(wse(t,l),n,e,s)};function kse(r,e,t={}){return Tk(e,vse(r,t))}var J2=(r={},e)=>typeof r=="string"?e.bind(null,r):Object.assign(Object.defineProperty(()=>"","name",{writable:!0}),r),Tk=(r,e)=>new Proxy(J2(r,e),{get:(t,n)=>n===Symbol.iterator?[][Symbol.iterator].bind(Object.values(t).map(l=>J2(l,e))):Tk(t[n],e)}),yse=(r,e={})=>{const t=Ge(),n=Ge(Ck()),l=Sse(t),s=new Proxy({},{get:(o,a)=>a==="subscribe"?n.subscribe:n[a]});return{locale:l,LL:s,setLocale:o=>{t.set(o),n.set(kse(o,r[o],e[o]))}}};function Sse(r){return{subscribe:r.subscribe.bind(r)}}var Cse=Dk;function Dk(){var r=[].slice.call(arguments),e=!1;typeof r[0]=="boolean"&&(e=r.shift());var t=r[0];if(Z2(t))throw new Error("extendee must be an object");for(var n=r.slice(1),l=n.length,s=0;s<l;s++){var i=n[s];for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)){var a=i[o];if(e&&Tse(a)){var u=Array.isArray(a)?[]:{};t[o]=Dk(!0,Object.prototype.hasOwnProperty.call(t,o)&&!Z2(t[o])?t[o]:u,a)}else t[o]=a}}return t}function Tse(r){return Array.isArray(r)||{}.toString.call(r)=="[object Object]"}function Z2(r){return!r||typeof r!="object"&&typeof r!="function"}var Dse=()=>(r,e)=>Cse({},r,e);const bo={},Ik={},__e=Dse(),{locale:g_e,LL:Ek,setLocale:Ise}=yse(bo,Ik);function Ese(r){let e;const t=r.replace(/^\[(\w+)\]/,(n,l)=>(e={type:"slot",name:l},""));return e?{tokens:[e],remainder:t}:void 0}function Mse({tokens:r,remainder:e}){const t=e[0],n=r[r.length-1];return{tokens:n&&n.type==="text"?[...r.slice(0,-1),{type:"text",content:n.content+t}]:[...r,{type:"text",content:t}],remainder:e.slice(1)}}function Mk(r){if(r.remainder==="")return r;const e=Ese(r.remainder),t=e?{tokens:[...r.tokens,...e.tokens],remainder:e.remainder}:Mse(r);return Mk(t)}function x2(r){return Mk({tokens:[],remainder:r}).tokens}function e3(r,e,t){const n=r.slice();return n[3]=e[t],n}const Ase=r=>({slotName:r&1}),t3=r=>({slotName:r[3].name});function Rse(r){let e=pn(r[3])+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=pn(n[3])+"")&&he(t,e)},i:z,o:z,d(n){n&&$(t)}}}function Pse(r){let e;const t=r[2].default,n=De(t,r,r[1],t3);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&3)&&Ee(n,t,l,l[1],e?Ie(t,l[1],s,Ase):Me(l[1]),t3)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function Ose(r){let e=r[3].content+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[3].content+"")&&he(t,e)},i:z,o:z,d(n){n&&$(t)}}}function n3(r){let e,t,n,l;const s=[Ose,Pse,Rse],i=[];function o(a,u){return a[3].type==="text"?0:a[3].type==="slot"?1:2}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function Lse(r){let e,t,n=x2(r[0]),l=[];for(let i=0;i<n.length;i+=1)l[i]=n3(e3(r,n,i));const s=i=>g(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=ae()},m(i,o){for(let a=0;a<l.length;a+=1)l[a].m(i,o);w(i,e,o),t=!0},p(i,[o]){if(o&3){n=x2(i[0]);let a;for(a=0;a<n.length;a+=1){const u=e3(i,n,a);l[a]?(l[a].p(u,o),p(l[a],1)):(l[a]=n3(u),l[a].c(),p(l[a],1),l[a].m(e.parentNode,e))}for(q(),a=n.length;a<l.length;a+=1)s(a);U()}},i(i){if(!t){for(let o=0;o<n.length;o+=1)p(l[o]);t=!0}},o(i){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)g(l[o]);t=!1},d(i){Fn(l,i),i&&$(e)}}}function Nse(r,e,t){let{$$slots:n={},$$scope:l}=e,{text:s}=e;return r.$$set=i=>{"text"in i&&t(0,s=i.text),"$$scope"in i&&t(1,l=i.$$scope)},[s,l,n]}class Za extends X{constructor(e){super(),Q(this,e,Nse,Lse,G,{text:0})}}function Fse(r){let e,t,n,l,s,i,o,a=[r[2],{class:"target"},{x:"21.79"},{y:"107.4"}],u={};for(let _=0;_<a.length;_+=1)u=x(u,a[_]);let c=[r[2],{class:"target"},{x:"119.1"},{y:"107.4"}],f={};for(let _=0;_<c.length;_+=1)f=x(f,c[_]);let m=[r[2],{class:"base"},{x:"70.46"},{y:"1.236"}],d={};for(let _=0;_<m.length;_+=1)d=x(d,m[_]);return{c(){e=It("path"),t=It("path"),n=It("path"),l=It("path"),s=It("rect"),i=It("rect"),o=It("rect"),D(e,"d","m88 28.26c-4e-6 46.95-42.67 33.06-42.67 79.17"),D(e,"class","line svelte-bu21sy"),D(t,"d","m100 28.26c1e-5 46.95 42.67 33.06 42.67 79.17"),D(t,"class","line svelte-bu21sy"),D(n,"d","m88 20.05 4.172 8.213h-8.344z"),D(n,"class","arrow svelte-bu21sy"),D(l,"d","m100 20.05 4.172 8.213h-8.344z"),D(l,"class","arrow svelte-bu21sy"),sn(s,u),Z(s,"svelte-bu21sy",!0),sn(i,f),Z(i,"svelte-bu21sy",!0),sn(o,d),Z(o,"svelte-bu21sy",!0)},m(_,h){w(_,e,h),w(_,t,h),w(_,n,h),w(_,l,h),w(_,s,h),w(_,i,h),w(_,o,h)},p(_,h){sn(s,u=ce(a,[_[2],{class:"target"},{x:"21.79"},{y:"107.4"}])),Z(s,"svelte-bu21sy",!0),sn(i,f=ce(c,[_[2],{class:"target"},{x:"119.1"},{y:"107.4"}])),Z(i,"svelte-bu21sy",!0),sn(o,d=ce(m,[_[2],{class:"base"},{x:"70.46"},{y:"1.236"}])),Z(o,"svelte-bu21sy",!0)},d(_){_&&$(e),_&&$(t),_&&$(n),_&&$(l),_&&$(s),_&&$(i),_&&$(o)}}}function zse(r){let e,t,n,l,s,i,o,a,u,c,f,m,d,_,h,b,v,k,T,E=[r[2],{class:"target"},{x:"105.1"},{y:"107.4"}],P={};for(let H=0;H<E.length;H+=1)P=x(P,E[H]);let R=[r[2],{class:"target"},{x:"35.79"},{y:"107.4"}],L={};for(let H=0;H<R.length;H+=1)L=x(L,R[H]);let A=[r[2],{class:"mapping"},{x:"139.8"},{y:"54.34"}],N={};for(let H=0;H<A.length;H+=1)N=x(N,A[H]);let F=[r[2],{class:"mapping"},{x:"70.46"},{y:"54.34"}],K={};for(let H=0;H<F.length;H+=1)K=x(K,F[H]);let W=[r[2],{class:"mapping"},{x:"1.112"},{y:"54.34"}],j={};for(let H=0;H<W.length;H+=1)j=x(j,W[H]);let Y=[r[2],{class:"base"},{x:"105.1"},{y:"1.25"}],oe={};for(let H=0;H<Y.length;H+=1)oe=x(oe,Y[H]);let te=[r[2],{class:"base"},{x:"35.79"},{y:"1.25"}],ne={};for(let H=0;H<te.length;H+=1)ne=x(ne,te[H]);return{c(){e=It("path"),t=It("path"),n=It("path"),l=It("path"),s=It("path"),i=It("path"),o=It("path"),a=It("path"),u=It("path"),c=It("path"),f=It("path"),m=It("path"),d=It("rect"),_=It("rect"),h=It("rect"),b=It("rect"),v=It("rect"),k=It("rect"),T=It("rect"),D(e,"d","m94 54.37c0-17.95 28.67-7.609 28.67-26.1"),D(e,"class","line svelte-bu21sy"),D(t,"d","m163.4 54.34c0-17.95-28.67-7.579-28.67-26.07"),D(t,"class","line svelte-bu21sy"),D(n,"d","m24.65 72.63c0 17.95 28.67 7.609 28.67 26.1"),D(n,"class","line svelte-bu21sy"),D(l,"d","m94 72.66c0 17.95-28.67 7.579-28.67 26.07"),D(l,"class","line svelte-bu21sy"),D(s,"d","m24.65 54.34c0-17.95 28.67-7.609 28.67-26.1"),D(s,"class","line svelte-bu21sy"),D(i,"d","m163.4 72.66c0 17.95-28.67 7.579-28.67 26.07"),D(i,"class","line svelte-bu21sy"),D(o,"d","m53.32 106.9 4.172-8.213h-8.344z"),D(o,"class","arrow svelte-bu21sy"),D(a,"d","m65.33 106.9 4.172-8.213h-8.344z"),D(a,"class","arrow svelte-bu21sy"),D(u,"d","m134.7 106.9 4.172-8.213h-8.344z"),D(u,"class","arrow svelte-bu21sy"),D(c,"d","m122.7 20.06 4.172 8.213h-8.344z"),D(c,"class","arrow svelte-bu21sy"),D(f,"d","m134.7 20.06 4.172 8.213h-8.344z"),D(f,"class","arrow svelte-bu21sy"),D(m,"d","m53.32 20.03 4.172 8.213h-8.344z"),D(m,"class","arrow svelte-bu21sy"),sn(d,P),Z(d,"svelte-bu21sy",!0),sn(_,L),Z(_,"svelte-bu21sy",!0),sn(h,N),Z(h,"svelte-bu21sy",!0),sn(b,K),Z(b,"svelte-bu21sy",!0),sn(v,j),Z(v,"svelte-bu21sy",!0),sn(k,oe),Z(k,"svelte-bu21sy",!0),sn(T,ne),Z(T,"svelte-bu21sy",!0)},m(H,ee){w(H,e,ee),w(H,t,ee),w(H,n,ee),w(H,l,ee),w(H,s,ee),w(H,i,ee),w(H,o,ee),w(H,a,ee),w(H,u,ee),w(H,c,ee),w(H,f,ee),w(H,m,ee),w(H,d,ee),w(H,_,ee),w(H,h,ee),w(H,b,ee),w(H,v,ee),w(H,k,ee),w(H,T,ee)},p(H,ee){sn(d,P=ce(E,[H[2],{class:"target"},{x:"105.1"},{y:"107.4"}])),Z(d,"svelte-bu21sy",!0),sn(_,L=ce(R,[H[2],{class:"target"},{x:"35.79"},{y:"107.4"}])),Z(_,"svelte-bu21sy",!0),sn(h,N=ce(A,[H[2],{class:"mapping"},{x:"139.8"},{y:"54.34"}])),Z(h,"svelte-bu21sy",!0),sn(b,K=ce(F,[H[2],{class:"mapping"},{x:"70.46"},{y:"54.34"}])),Z(b,"svelte-bu21sy",!0),sn(v,j=ce(W,[H[2],{class:"mapping"},{x:"1.112"},{y:"54.34"}])),Z(v,"svelte-bu21sy",!0),sn(k,oe=ce(Y,[H[2],{class:"base"},{x:"105.1"},{y:"1.25"}])),Z(k,"svelte-bu21sy",!0),sn(T,ne=ce(te,[H[2],{class:"base"},{x:"35.79"},{y:"1.25"}])),Z(T,"svelte-bu21sy",!0)},d(H){H&&$(e),H&&$(t),H&&$(n),H&&$(l),H&&$(s),H&&$(i),H&&$(o),H&&$(a),H&&$(u),H&&$(c),H&&$(f),H&&$(m),H&&$(d),H&&$(_),H&&$(h),H&&$(b),H&&$(v),H&&$(k),H&&$(T)}}}function Hse(r){let e;function t(s,i){return s[0]==="manyToMany"?zse:Fse}let n=t(r),l=n(r);return{c(){e=It("svg"),l.c(),D(e,"viewBox","0 0 188 127"),D(e,"preserveAspectRatio","xMidYMid meet"),D(e,"class","svelte-bu21sy"),Z(e,"flip",r[1])},m(s,i){w(s,e,i),l.m(e,null)},p(s,[i]){n===(n=t(s))&&l?l.p(s,i):(l.d(1),l=n(s),l&&(l.c(),l.m(e,null))),i&2&&Z(e,"flip",s[1])},i:z,o:z,d(s){s&&$(e),l.d()}}}function Vse(r,e,t){let n;const l={width:"47.07",height:"18.31",rx:9.157};let{linkType:s}=e;return r.$$set=i=>{"linkType"in i&&t(0,s=i.linkType)},r.$$.update=()=>{r.$$.dirty&1&&t(1,n=s==="manyToOne")},[s,n,l]}class qse extends X{constructor(e){super(),Q(this,e,Vse,Hse,G,{linkType:0})}}function Use(r){let e=pn(r[0])+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=pn(n[0])+"")&&he(t,e)},i:z,o:z,d(n){n&&$(t)}}}function Wse(r){let e,t,n,l;const s=[Kse,Yse],i=[];function o(a,u){return a[1]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function Bse(r){let e,t;return e=new Za({props:{text:r[5].linkTypeOptions.manyToOneDescription(),$$slots:{default:[rie,({slotName:n})=>({10:n}),({slotName:n})=>n?1024:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.text=n[5].linkTypeOptions.manyToOneDescription()),l&3096&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function jse(r){let e,t;return e=new Za({props:{text:r[5].linkTypeOptions.oneToManyDescription(),$$slots:{default:[iie,({slotName:n})=>({10:n}),({slotName:n})=>n?1024:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.text=n[5].linkTypeOptions.oneToManyDescription()),l&3096&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Yse(r){let e,t;return e=new Za({props:{text:r[5].linkTypeOptions.manyToManyDescription(),$$slots:{default:[Jse,({slotName:n})=>({10:n}),({slotName:n})=>n?1024:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.text=n[5].linkTypeOptions.manyToManyDescription()),l&3128&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Kse(r){let e,t;return e=new Za({props:{text:r[5].linkTypeOptions.manyToManySelfReferential(),$$slots:{default:[eie,({slotName:n})=>({10:n}),({slotName:n})=>n?1024:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.text=n[5].linkTypeOptions.manyToManySelfReferential()),l&3112&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Gse(r){let e,t;return e=new qn({props:{table:{name:r[5].general.linkingTable()},which:"mapping"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.table={name:n[5].general.linkingTable()}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Qse(r){let e,t;return e=new qn({props:{table:r[4],which:"target"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.table=n[4]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Xse(r){let e,t;return e=new qn({props:{table:r[3],which:"base"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.table=n[3]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Jse(r){let e,t,n,l;const s=[Xse,Qse,Gse],i=[];function o(a,u){return a[10]==="baseTable"?0:a[10]==="targetTable"?1:a[10]==="mappingTable"?2:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=ae()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(q(),g(i[c],1,1,()=>{i[c]=null}),U()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&$(n)}}}function Zse(r){let e,t;return e=new qn({props:{table:{name:r[5].general.linkingTable()},which:"mapping"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.table={name:n[5].general.linkingTable()}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function xse(r){let e,t;return e=new qn({props:{table:r[3],which:"base"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.table=n[3]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function eie(r){let e,t,n,l;const s=[xse,Zse],i=[];function o(a,u){return a[10]==="baseTable"?0:a[10]==="mappingTable"?1:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=ae()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(q(),g(i[c],1,1,()=>{i[c]=null}),U()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&$(n)}}}function tie(r){let e,t;return e=new qn({props:{table:r[4],which:"target"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.table=n[4]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function nie(r){let e,t;return e=new qn({props:{table:r[3],which:"base"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.table=n[3]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function rie(r){let e,t,n,l;const s=[nie,tie],i=[];function o(a,u){return a[10]==="baseTable"?0:a[10]==="targetTable"?1:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=ae()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(q(),g(i[c],1,1,()=>{i[c]=null}),U()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&$(n)}}}function lie(r){let e,t;return e=new qn({props:{table:r[4],which:"target"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.table=n[4]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function sie(r){let e,t;return e=new qn({props:{table:r[3],which:"base"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.table=n[3]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function iie(r){let e,t,n,l;const s=[sie,lie],i=[];function o(a,u){return a[10]==="baseTable"?0:a[10]==="targetTable"?1:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=ae()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(q(),g(i[c],1,1,()=>{i[c]=null}),U()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&$(n)}}}function oie(r){let e,t,n,l,s,i,o,a,u,c,f,m,d,_,h;l=new $a({props:{checked:r[7]}}),l.$on("change",r[8]),c=new qse({props:{linkType:r[0]}});const b=[jse,Bse,Wse,Use],v=[];function k(T,E){return T[0]==="oneToMany"?0:T[0]==="manyToOne"?1:T[0]==="manyToMany"?2:3}return d=k(r),_=v[d]=b[d](r),{c(){e=I("div"),t=I("span"),n=I("span"),C(l.$$.fragment),s=O(),i=I("span"),o=B(r[6]),a=O(),u=I("span"),C(c.$$.fragment),f=O(),m=I("span"),_.c(),D(n,"class","input svelte-i576i"),D(i,"class","label svelte-i576i"),D(t,"class","top svelte-i576i"),D(u,"class","diagram svelte-i576i"),D(m,"class","description svelte-i576i"),D(e,"class","link-type-option svelte-i576i"),Z(e,"checked",r[7])},m(T,E){w(T,e,E),M(e,t),M(t,n),y(l,n,null),M(t,s),M(t,i),M(i,o),M(e,a),M(e,u),y(c,u,null),M(e,f),M(e,m),v[d].m(m,null),h=!0},p(T,E){const P={};E&128&&(P.checked=T[7]),l.$set(P),(!h||E&64)&&he(o,T[6]);const R={};E&1&&(R.linkType=T[0]),c.$set(R);let L=d;d=k(T),d===L?v[d].p(T,E):(q(),g(v[L],1,1,()=>{v[L]=null}),U(),_=v[d],_?_.p(T,E):(_=v[d]=b[d](T),_.c()),p(_,1),_.m(m,null)),(!h||E&128)&&Z(e,"checked",T[7])},i(T){h||(p(l.$$.fragment,T),p(c.$$.fragment,T),p(_),h=!0)},o(T){g(l.$$.fragment,T),g(c.$$.fragment,T),g(_),h=!1},d(T){T&&$(e),S(l),S(c),v[d].d()}}}function aie(r){let e,t;return e=new Li({props:{style:"--Label__display:contents;",$$slots:{default:[oie]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2299&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function uie(r,e,t){let n,l,s,i,o=z,a=()=>(o(),o=se(f,h=>t(9,i=h)),f);de(r,Ek,h=>t(5,s=h)),r.$$.on_destroy.push(()=>o());let{linkType:u}=e,{isSelfReferential:c}=e,{field:f}=e;a();let{base:m}=e,{target:d}=e;function _({detail:h}){h&&f.set(u)}return r.$$set=h=>{"linkType"in h&&t(0,u=h.linkType),"isSelfReferential"in h&&t(1,c=h.isSelfReferential),"field"in h&&a(t(2,f=h.field)),"base"in h&&t(3,m=h.base),"target"in h&&t(4,d=h.target)},r.$$.update=()=>{r.$$.dirty&513&&t(7,n=u===i),r.$$.dirty&33&&t(6,l=(()=>u==="oneToMany"?s.general.oneToMany():u==="manyToOne"?s.general.manyToOne():u==="manyToMany"?s.general.manyToMany():pn(u))())},[u,c,f,m,d,s,l,n,_,i]}class cie extends X{constructor(e){super(),Q(this,e,uie,aie,G,{linkType:0,isSelfReferential:1,field:2,base:3,target:4})}}function r3(r,e,t){const n=r.slice();return n[5]=e[t],n}function l3(r,e){let t,n,l;return n=new cie({props:{linkType:e[5],isSelfReferential:e[1],field:e[2],base:e[3],target:e[4]}}),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&1&&(o.linkType=e[5]),i&2&&(o.isSelfReferential=e[1]),i&4&&(o.field=e[2]),i&8&&(o.base=e[3]),i&16&&(o.target=e[4]),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}function fie(r){let e,t,n,l,s,i,o,a=[],u=new Map,c,f,m;l=new qn({props:{table:r[4],which:"target"}});let d=r[0];const _=h=>h[5];for(let h=0;h<d.length;h+=1){let b=r3(r,d,h),v=_(b);u.set(v,a[h]=l3(v,b))}return f=new ff({props:{field:r[2]}}),{c(){e=I("fieldset"),t=I("legend"),n=B("Type of Link to "),C(l.$$.fragment),s=B(":"),i=O(),o=I("div");for(let h=0;h<a.length;h+=1)a[h].c();c=O(),C(f.$$.fragment),D(t,"class","svelte-5rsfq9"),D(o,"class","options svelte-5rsfq9"),D(e,"class","svelte-5rsfq9")},m(h,b){w(h,e,b),M(e,t),M(t,n),y(l,t,null),M(t,s),M(e,i),M(e,o);for(let v=0;v<a.length;v+=1)a[v].m(o,null);w(h,c,b),y(f,h,b),m=!0},p(h,b){const v={};b&16&&(v.table=h[4]),l.$set(v),b&31&&(d=h[0],q(),a=pt(a,b,_,1,h,d,u,o,ht,l3,null,r3),U());const k={};b&4&&(k.field=h[2]),f.$set(k)},i(h){if(!m){p(l.$$.fragment,h);for(let b=0;b<d.length;b+=1)p(a[b]);p(f.$$.fragment,h),m=!0}},o(h){g(l.$$.fragment,h);for(let b=0;b<a.length;b+=1)g(a[b]);g(f.$$.fragment,h),m=!1},d(h){h&&$(e),S(l);for(let b=0;b<a.length;b+=1)a[b].d();h&&$(c),S(f,h)}}}function mie(r){let e,t;return e=new fr({props:{$$slots:{default:[fie]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&287&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function die(r,e,t){let{linkTypes:n}=e,{isSelfReferential:l}=e,{field:s}=e,{base:i}=e,{target:o}=e;return r.$$set=a=>{"linkTypes"in a&&t(0,n=a.linkTypes),"isSelfReferential"in a&&t(1,l=a.isSelfReferential),"field"in a&&t(2,s=a.field),"base"in a&&t(3,i=a.base),"target"in a&&t(4,o=a.target)},[n,l,s,i,o]}class pie extends X{constructor(e){super(),Q(this,e,die,mie,G,{linkTypes:0,isSelfReferential:1,field:2,base:3,target:4})}}const s3=Ki(r=>r==="id",'The name "id" is reserved for the primary key column that will be created when creating the table.');function _ie(r,e,t){return e?Ml(`${r.name}_${e.name}`,new Set(t.map(n=>n.name))):""}function gie(r){let e;return{c(){e=B(`Links are stored in the database as foreign key constraints, which you may
      add to existing columns via the "Advanced" section of the table inspector.`)},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function hie(r){let e,t;return e=new Ys({props:{$$slots:{default:[gie]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[1]&2048&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function bie(r){let e,t,n,l,s;return n=new qn({props:{table:r[0],which:"base"}}),{c(){e=I("span"),t=B("Link "),C(n.$$.fragment),l=B(" to"),D(e,"slot","label")},m(i,o){w(i,e,o),M(e,t),y(n,e,null),M(e,l),s=!0},p(i,o){const a={};o[0]&1&&(a.table=i[0]),n.$set(a)},i(i){s||(p(n.$$.fragment,i),s=!0)},o(i){g(n.$$.fragment,i),s=!1},d(i){i&&$(e),S(n)}}}function i3(r){let e,t,n,l;return e=new pie({props:{field:r[8],isSelfReferential:r[11],linkTypes:r[15],base:r[0],target:r[2]}}),n=new fr({props:{$$slots:{default:[Tie]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i[0]&256&&(o.field=s[8]),i[0]&2048&&(o.isSelfReferential=s[11]),i[0]&32768&&(o.linkTypes=s[15]),i[0]&1&&(o.base=s[0]),i[0]&4&&(o.target=s[2]),e.$set(o);const a={};i[0]&1055997|i[1]&2048&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(p(e.$$.fragment,s),p(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&$(t),S(n,s)}}}function $ie(r){let e=pn(r[12])+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&4096&&e!==(e=pn(n[12])+"")&&he(t,e)},i:z,o:z,d(n){n&&$(t)}}}function wie(r){let e,t,n,l;const s=[Sie,yie],i=[];function o(a,u){return a[11]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function vie(r){let e,t;return e=new la({props:{base:r[0],target:r[2],field:r[6]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1&&(s.base=n[0]),l[0]&4&&(s.target=n[2]),l[0]&64&&(s.field=n[6]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function kie(r){let e,t;return e=new la({props:{base:r[2],target:r[0],field:r[7],targetColumnsAreLoading:r[10]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&4&&(s.base=n[2]),l[0]&1&&(s.target=n[0]),l[0]&128&&(s.field=n[7]),l[0]&1024&&(s.targetColumnsAreLoading=n[10]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function yie(r){let e,t,n,l,s,i;n=new _n({props:{field:r[5],label:"Table Name"}});let o=r[20]&&o3(r);return{c(){e=I("p"),e.textContent="We'll create a new table.",t=O(),C(n.$$.fragment),l=O(),o&&o.c(),s=ae()},m(a,u){w(a,e,u),w(a,t,u),y(n,a,u),w(a,l,u),o&&o.m(a,u),w(a,s,u),i=!0},p(a,u){const c={};u[0]&32&&(c.field=a[5]),n.$set(c),a[20]?o?(o.p(a,u),u[0]&1048576&&p(o,1)):(o=o3(a),o.c(),p(o,1),o.m(s.parentNode,s)):o&&(q(),g(o,1,1,()=>{o=null}),U())},i(a){i||(p(n.$$.fragment,a),p(o),i=!0)},o(a){g(n.$$.fragment,a),g(o),i=!1},d(a){a&&$(e),a&&$(t),S(n,a),a&&$(l),o&&o.d(a),a&&$(s)}}}function Sie(r){let e,t,n,l,s,i;n=new _n({props:{field:r[5],label:"Table Name"}});let o=r[20]&&a3(r);return{c(){e=I("p"),e.textContent="We'll create a new table.",t=O(),C(n.$$.fragment),l=O(),o&&o.c(),s=ae()},m(a,u){w(a,e,u),w(a,t,u),y(n,a,u),w(a,l,u),o&&o.m(a,u),w(a,s,u),i=!0},p(a,u){const c={};u[0]&32&&(c.field=a[5]),n.$set(c),a[20]?o?(o.p(a,u),u[0]&1048576&&p(o,1)):(o=a3(a),o.c(),p(o,1),o.m(s.parentNode,s)):o&&(q(),g(o,1,1,()=>{o=null}),U())},i(a){i||(p(n.$$.fragment,a),p(o),i=!0)},o(a){g(n.$$.fragment,a),g(o),i=!1},d(a){a&&$(e),a&&$(t),S(n,a),a&&$(l),o&&o.d(a),a&&$(s)}}}function o3(r){let e,t,n,l;return e=new la({props:{base:{name:r[20]},baseWhich:"mapping",target:r[0],targetWhich:"base",field:r[4]}}),n=new la({props:{base:{name:r[20]},baseWhich:"mapping",target:r[2],field:r[3]}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i[0]&1048576&&(o.base={name:s[20]}),i[0]&1&&(o.target=s[0]),i[0]&16&&(o.field=s[4]),e.$set(o);const a={};i[0]&1048576&&(a.base={name:s[20]}),i[0]&4&&(a.target=s[2]),i[0]&8&&(a.field=s[3]),n.$set(a)},i(s){l||(p(e.$$.fragment,s),p(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&$(t),S(n,s)}}}function a3(r){let e,t,n,l,s,i,o,a,u,c,f;return n=new qn({props:{table:{name:r[20]},which:"mapping"}}),s=new qn({props:{table:r[2],which:"target"}}),a=new _n({props:{field:r[4],label:"Column 1 Name"}}),c=new _n({props:{field:r[3],label:"Column 2 Name"}}),{c(){e=I("p"),t=B(`We'll add two columns in
                `),C(n.$$.fragment),l=B(`,
                each linking to
                `),C(s.$$.fragment),i=B("."),o=O(),C(a.$$.fragment),u=O(),C(c.$$.fragment)},m(m,d){w(m,e,d),M(e,t),y(n,e,null),M(e,l),y(s,e,null),M(e,i),w(m,o,d),y(a,m,d),w(m,u,d),y(c,m,d),f=!0},p(m,d){const _={};d[0]&1048576&&(_.table={name:m[20]}),n.$set(_);const h={};d[0]&4&&(h.table=m[2]),s.$set(h);const b={};d[0]&16&&(b.field=m[4]),a.$set(b);const v={};d[0]&8&&(v.field=m[3]),c.$set(v)},i(m){f||(p(n.$$.fragment,m),p(s.$$.fragment,m),p(a.$$.fragment,m),p(c.$$.fragment,m),f=!0)},o(m){g(n.$$.fragment,m),g(s.$$.fragment,m),g(a.$$.fragment,m),g(c.$$.fragment,m),f=!1},d(m){m&&$(e),S(n),S(s),m&&$(o),S(a,m),m&&$(u),S(c,m)}}}function Cie(r){let e,t,n,l;const s=[kie,vie,wie,$ie],i=[];function o(a,u){return a[12]==="oneToMany"?0:a[12]==="manyToOne"?1:a[12]==="manyToMany"?2:3}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function Tie(r){let e,t;return e=new gk({props:{$$slots:{default:[Cie]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1055997|l[1]&2048&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Die(r){let e,t,n,l,s,i,o,a,u,c,f;t=new fr({props:{$$slots:{default:[hie]},$$scope:{ctx:r}}}),l=new _n({props:{field:r[9],input:{component:Ii,props:{tables:r[19],autoSelect:"none"}},$$slots:{label:[bie]},$$scope:{ctx:r}}});let m=r[2]&&i3(r);return a=new bl({props:{form:r[13],catchErrors:!0,canProceed:r[14],onCancel:r[1],proceedButton:{label:"Create Link",icon:ka},onProceed:r[22]}}),{c(){e=I("div"),C(t.$$.fragment),n=O(),C(l.$$.fragment),s=O(),m&&m.c(),i=O(),o=I("div"),C(a.$$.fragment),D(e,"class","form svelte-1ed7u92"),Z(e,"self-referential",r[11])},m(d,_){w(d,e,_),y(t,e,null),M(e,n),y(l,e,null),M(e,s),m&&m.m(e,null),w(d,i,_),w(d,o,_),y(a,o,null),u=!0,c||(f=Dn(Cc.call(null,o)),c=!0)},p(d,_){const h={};_[1]&2048&&(h.$$scope={dirty:_,ctx:d}),t.$set(h);const b={};_[0]&512&&(b.field=d[9]),_[0]&524288&&(b.input={component:Ii,props:{tables:d[19],autoSelect:"none"}}),_[0]&1|_[1]&2048&&(b.$$scope={dirty:_,ctx:d}),l.$set(b),d[2]?m?(m.p(d,_),_[0]&4&&p(m,1)):(m=i3(d),m.c(),p(m,1),m.m(e,null)):m&&(q(),g(m,1,1,()=>{m=null}),U()),(!u||_[0]&2048)&&Z(e,"self-referential",d[11]);const v={};_[0]&8192&&(v.form=d[13]),_[0]&16384&&(v.canProceed=d[14]),_[0]&2&&(v.onCancel=d[1]),a.$set(v)},i(d){u||(p(t.$$.fragment,d),p(l.$$.fragment,d),p(m),p(a.$$.fragment,d),u=!0)},o(d){g(t.$$.fragment,d),g(l.$$.fragment,d),g(m),g(a.$$.fragment,d),u=!1},d(d){d&&$(e),S(t),S(l),m&&m.d(),d&&$(i),d&&$(o),S(a),c=!1,f()}}}function Iie(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,_,h,b,v,k,T,E,P,R,L,A,N,F=z,K=()=>(F(),F=se(b,rt=>t(12,N=rt)),b),W,j,Y=z,oe=()=>(Y(),Y=se(P,rt=>t(36,j=rt)),P),te,ne=z,H=()=>(ne(),ne=se(E,rt=>t(37,te=rt)),E),ee,pe=z,ue=()=>(pe(),pe=se(T,rt=>t(20,ee=rt)),T),ie,me=z,Se=()=>(me(),me=se(v,rt=>t(38,ie=rt)),v),$e,He=z,we=()=>(He(),He=se(k,rt=>t(39,$e=rt)),k),je,Re,Oe=z,Ze=()=>(Oe(),Oe=se(u,rt=>t(29,Re=rt)),u),Ke,tt=z,ot=()=>(tt(),tt=se(o,rt=>t(30,Ke=rt)),o),nt,ze=z,Xe=()=>(ze(),ze=se(m,rt=>t(31,nt=rt)),m),ct,Ve=z,We=()=>(Ve(),Ve=se(c,rt=>t(32,ct=rt)),c),Je,bt;de(r,Dr,rt=>t(35,W=rt)),de(r,Qv,rt=>t(28,je=rt)),de(r,ln,rt=>t(33,Je=rt)),de(r,ja,rt=>t(34,bt=rt)),r.$$.on_destroy.push(()=>F()),r.$$.on_destroy.push(()=>Y()),r.$$.on_destroy.push(()=>ne()),r.$$.on_destroy.push(()=>pe()),r.$$.on_destroy.push(()=>me()),r.$$.on_destroy.push(()=>He()),r.$$.on_destroy.push(()=>Oe()),r.$$.on_destroy.push(()=>tt()),r.$$.on_destroy.push(()=>ze()),r.$$.on_destroy.push(()=>Ve());const _t=Rt();de(r,_t,rt=>t(27,A=rt));let{base:xe}=e,{close:mt}=e;function kt(rt){return N==="oneToMany"?{link_type:"one-to-many",reference_table:rt.targetTable.id,reference_column_name:$e,referent_table:xe.id}:N==="manyToOne"?{link_type:"one-to-many",reference_table:xe.id,reference_column_name:ie,referent_table:rt.targetTable.id}:N==="manyToMany"?{link_type:"many-to-many",mapping_table_name:ee,referents:[{referent_table:xe.id,column_name:te},{referent_table:rt.targetTable.id,column_name:j}]}:pn(N)}async function Wt(){if(N==="manyToMany"&&W!==void 0){await Di(W);return}const rt=N==="oneToMany"?d:xe;!rt||rt.id===A.id&&await A.refresh()}async function Pt(rt){await un("/api/db/v0/links/",kt(rt)),At.success("The link has been created successfully"),await Wt(),mt()}return r.$$set=rt=>{"base"in rt&&t(0,xe=rt.base),"close"in rt&&t(1,mt=rt.close)},r.$$.update=()=>{var rt;r.$$.dirty[0]&1&&t(23,n=Rw(xe.name)),r.$$.dirty[1]&8&&t(19,l=[...bt.values()]),r.$$.dirty[1]&4&&t(24,s=[...Je.data.values()]),r.$$.dirty[0]&134217728&&t(26,{columnsDataStore:i}=A,i),r.$$.dirty[0]&67108864&&ot(t(18,o=i.columns)),r.$$.dirty[1]&1&&t(2,d=nt),r.$$.dirty[0]&4&&t(25,a=d?new Zc({tableId:d.id}):void 0),r.$$.dirty[0]&33554432&&Ze(t(17,u=Kn((rt=a==null?void 0:a.columns)!=null?rt:[]))),r.$$.dirty[0]&33554432&&We(t(16,c=Kn(a==null?void 0:a.fetchStatus))),r.$$.dirty[1]&2&&t(10,f=(ct==null?void 0:ct.state)==="processing"),r.$$.dirty[0]&5&&t(11,_=xe.id===(d==null?void 0:d.id)),r.$$.dirty[0]&2048&&t(15,h=(()=>_?["manyToOne","manyToMany"]:["manyToOne","oneToMany","manyToMany"])()),r.$$.dirty[0]&256|r.$$.dirty[1]&1&&b.reset(),r.$$.dirty[0]&1073741828&&Se(t(6,v=qt(ri(d,Ke),[xo(Ke)]))),r.$$.dirty[0]&536870913&&we(t(7,k=qt(ri(xe,Re),[xo(Re)]))),r.$$.dirty[0]&285212677&&ue(t(5,T=qt(_ie(xe,d,s),[je]))),r.$$.dirty[0]&8390657&&H(t(4,E=(()=>{const Kt=_?Ml(`${n}_1`,new Set(["id",n])):ri(xe);return qt(Kt,[s3])})())),r.$$.dirty[0]&8390660&&oe(t(3,P=(()=>{const Kt=_?Ml(`${n}_2`,new Set(["id",n])):ri(d);return qt(Kt,[s3])})())),r.$$.dirty[0]&5120&&t(14,R=!(N==="manyToOne"&&f)),r.$$.dirty[0]&5112&&t(13,L=(()=>{const Kt={targetTable:m,linkType:b};return N==="oneToMany"?Vn({...Kt,columnNameInTarget:k}):N==="manyToOne"?Vn({...Kt,columnNameInBase:v}):N==="manyToMany"?Vn({...Kt,mappingTableName:T,columnNameMappingToBase:E,columnNameMappingToTarget:P},[vF([E,P],([bn,Jt])=>bn===Jt,"The two columns cannot have the same name.")]):pn(N)})())},Xe(t(9,m=qt(void 0))),K(t(8,b=qt("manyToOne"))),[xe,mt,d,P,E,T,v,k,b,m,f,_,N,L,R,h,c,u,o,l,ee,_t,Pt,n,s,a,i,A,je,Re,Ke,nt,ct,Je,bt]}class Eie extends X{constructor(e){super(),Q(this,e,Iie,Die,G,{base:0,close:1},null,[-1,-1])}}function u3(r){let e,t;return e=new Pl({props:{controller:r[0],size:"large",title:"Create Link",$$slots:{default:[Mie]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.controller=n[0]),l&11&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Mie(r){let e,t;return e=new Eie({props:{base:r[1],close:r[2]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.base=n[1]),l&1&&(s.close=n[2]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Aie(r){let e,t,n=r[1]&&u3(r);return{c(){n&&n.c(),e=ae()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,[s]){l[1]?n?(n.p(l,s),s&2&&p(n,1)):(n=u3(l),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&$(e)}}}function Rie(r,e,t){let n;de(r,Ll,i=>t(1,n=i));let{controller:l}=e;const s=()=>l.close();return r.$$set=i=>{"controller"in i&&t(0,l=i.controller)},[l,n,s]}class Pie extends X{constructor(e){super(),Q(this,e,Rie,Aie,G,{controller:0})}}function Oie(r){let e,t,n,l,s,i,o,a=r[0].column.name+"",u,c;return n=new Cn({props:{table:r[0].table,truncate:!1}}),{c(){e=I("a"),t=I("span"),C(n.$$.fragment),l=O(),s=I("span"),i=B("Linked via "),o=I("strong"),u=B(a),D(t,"class","table-name svelte-qstra6"),D(s,"class","sub-text svelte-qstra6"),D(e,"class","passthrough link-item-container svelte-qstra6"),D(e,"href",r[1])},m(f,m){w(f,e,m),M(e,t),y(n,t,null),M(e,l),M(e,s),M(s,i),M(s,o),M(o,u),c=!0},p(f,[m]){const d={};m&1&&(d.table=f[0].table),n.$set(d),(!c||m&1)&&a!==(a=f[0].column.name+"")&&he(u,a),(!c||m&2)&&D(e,"href",f[1])},i(f){c||(p(n.$$.fragment,f),c=!0)},o(f){g(n.$$.fragment,f),c=!1},d(f){f&&$(e),S(n)}}}function Lie(r,e,t){let n,l,s;de(r,Jv,o=>t(3,s=o));let{link:i}=e;return r.$$set=o=>{"link"in o&&t(0,i=o.link)},r.$$.update=()=>{r.$$.dirty&1&&t(2,n=i.table.id),r.$$.dirty&12&&t(1,l=s({tableId:n}))},[i,l,n,s]}class Nie extends X{constructor(e){super(),Q(this,e,Lie,Oie,G,{link:0})}}function c3(r,e,t){const n=r.slice();return n[4]=e[t],n}function f3(r){let e,t;return e=new Nie({props:{link:r[4]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.link=n[4]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Fie(r){let e,t,n,l,s,i,o,a,u,c;const f=[r[2]];let m={};for(let b=0;b<f.length;b+=1)m=x(m,f[b]);l=new Fe({props:m});let d=r[0],_=[];for(let b=0;b<d.length;b+=1)_[b]=f3(c3(r,d,b));const h=b=>g(_[b],1,1,()=>{_[b]=null});return{c(){e=I("div"),t=I("div"),n=I("div"),C(l.$$.fragment),s=O(),i=I("span"),o=B(r[1]),a=O(),u=I("div");for(let b=0;b<_.length;b+=1)_[b].c();D(n,"class","left svelte-t66uzd"),D(t,"class","header svelte-t66uzd"),D(u,"class","links svelte-t66uzd"),D(e,"class","link-section-container svelte-t66uzd")},m(b,v){w(b,e,v),M(e,t),M(t,n),y(l,n,null),M(n,s),M(n,i),M(i,o),M(e,a),M(e,u);for(let k=0;k<_.length;k+=1)_[k].m(u,null);c=!0},p(b,[v]){const k=v&4?ce(f,[be(b[2])]):{};if(l.$set(k),(!c||v&2)&&he(o,b[1]),v&1){d=b[0];let T;for(T=0;T<d.length;T+=1){const E=c3(b,d,T);_[T]?(_[T].p(E,v),p(_[T],1)):(_[T]=f3(E),_[T].c(),p(_[T],1),_[T].m(u,null))}for(q(),T=d.length;T<_.length;T+=1)h(T);U()}},i(b){if(!c){p(l.$$.fragment,b);for(let v=0;v<d.length;v+=1)p(_[v]);c=!0}},o(b){g(l.$$.fragment,b),_=_.filter(Boolean);for(let v=0;v<_.length;v+=1)g(_[v]);c=!1},d(b){b&&$(e),S(l),Fn(_,b)}}}function zie(r,e,t){let n,l,{links:s}=e,{type:i}=e;return r.$$set=o=>{"links"in o&&t(0,s=o.links),"type"in o&&t(3,i=o.type)},r.$$.update=()=>{r.$$.dirty&8&&t(2,n=(()=>{switch(i){case"in_this_table":return lE;case"from_other_tables":return sE;default:throw new nl(i)}})()),r.$$.dirty&8&&t(1,l=(()=>{switch(i){case"in_this_table":return"In this table";case"from_other_tables":return"From other tables";default:throw new nl(i)}})())},[s,l,n,i]}class Ak extends X{constructor(e){super(),Q(this,e,zie,Fie,G,{links:0,type:3})}}function m3(r){let e,t;return e=new Ak({props:{type:"in_this_table",links:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.links=n[0]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function d3(r){let e,t;return e=new Ak({props:{type:"from_other_tables",links:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.links=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function p3(r){let e;return{c(){e=I("span"),e.textContent="This table does not link to any other tables",D(e,"class","null-text svelte-1stqpqi")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function _3(r){let e,t,n,l,s;return t=new ut({props:{appearance:"secondary",$$slots:{default:[Hie]},$$scope:{ctx:r}}}),t.$on("click",r[5]),l=new Pie({props:{controller:r[4]}}),{c(){e=I("div"),C(t.$$.fragment),n=O(),C(l.$$.fragment)},m(i,o){w(i,e,o),y(t,e,null),M(e,n),y(l,e,null),s=!0},p(i,o){const a={};o&64&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){s||(p(t.$$.fragment,i),p(l.$$.fragment,i),s=!0)},o(i){g(t.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){i&&$(e),S(t),S(l)}}}function Hie(r){let e,t,n,l;const s=[Qt];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new Fe({props:i}),{c(){C(e.$$.fragment),t=O(),n=I("span"),n.textContent="Create Link"},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),l=!0},p(o,a){const u=a&0?ce(s,[be(Qt)]):{};e.$set(u)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),o&&$(n)}}}function Vie(r){let e,t,n,l,s,i=r[0].length&&m3(r),o=r[1].length&&d3(r),a=r[3]&&p3(),u=r[2]&&_3(r);return{c(){e=I("div"),i&&i.c(),t=O(),o&&o.c(),n=O(),a&&a.c(),l=O(),u&&u.c(),D(e,"class","links-section svelte-1stqpqi")},m(c,f){w(c,e,f),i&&i.m(e,null),M(e,t),o&&o.m(e,null),M(e,n),a&&a.m(e,null),M(e,l),u&&u.m(e,null),s=!0},p(c,[f]){c[0].length?i?(i.p(c,f),f&1&&p(i,1)):(i=m3(c),i.c(),p(i,1),i.m(e,t)):i&&(q(),g(i,1,1,()=>{i=null}),U()),c[1].length?o?(o.p(c,f),f&2&&p(o,1)):(o=d3(c),o.c(),p(o,1),o.m(e,n)):o&&(q(),g(o,1,1,()=>{o=null}),U()),c[3]?a||(a=p3(),a.c(),a.m(e,l)):a&&(a.d(1),a=null),c[2]?u?(u.p(c,f),f&4&&p(u,1)):(u=_3(c),u.c(),p(u,1),u.m(e,null)):u&&(q(),g(u,1,1,()=>{u=null}),U())},i(c){s||(p(i),p(o),p(u),s=!0)},o(c){g(i),g(o),g(u),s=!1},d(c){c&&$(e),i&&i.d(),o&&o.d(),a&&a.d(),u&&u.d()}}}function qie(r,e,t){let n,{linksInThisTable:l}=e,{linksFromOtherTables:s}=e,{canExecuteDDL:i}=e;const o=dr.spawnModalController(),a=()=>o.open();return r.$$set=u=>{"linksInThisTable"in u&&t(0,l=u.linksInThisTable),"linksFromOtherTables"in u&&t(1,s=u.linksFromOtherTables),"canExecuteDDL"in u&&t(2,i=u.canExecuteDDL)},r.$$.update=()=>{r.$$.dirty&3&&t(3,n=!l.length&&!s.length)},[l,s,i,n,o,a]}class Uie extends X{constructor(e){super(),Q(this,e,qie,Vie,G,{linksInThisTable:0,linksFromOtherTables:1,canExecuteDDL:2})}}function _o(r,e,t){switch(r){case"in_this_table":return e.joinable_tables.filter(s=>!s.fk_path[0][1]).map(s=>{var i;return{table:{id:s.target,name:e.tables[s.target].name},column:{id:s.jp_path[0][0],name:((i=t.get(s.jp_path[0][0]))==null?void 0:i.column.name)||"--"}}});case"from_other_tables":return e.joinable_tables.filter(s=>s.fk_path[0][1]).map(s=>({table:{id:s.target,name:e.tables[s.target].name},column:{id:s.jp_path[0][1],name:e.columns[s.jp_path[0][1]].name}}));default:throw new nl(r)}}function Wie(r){return{c:z,m:z,p:z,i:z,o:z,d:z}}function Bie(r){let e,t;return e=new Uie({props:{linksInThisTable:_o("in_this_table",r[6],r[3]),linksFromOtherTables:_o("from_other_tables",r[6],r[3]),canExecuteDDL:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&12&&(s.linksInThisTable=_o("in_this_table",n[6],n[3])),l&12&&(s.linksFromOtherTables=_o("from_other_tables",n[6],n[3])),l&1&&(s.canExecuteDDL=n[0]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function jie(r){let e,t;return e=new an({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Yie(r){let e,t,n,l={ctx:r,current:null,token:null,hasCatch:!1,pending:jie,then:Bie,catch:Wie,value:6,blocks:[,,,]};return Cl(t=u_(r[2]),l),{c(){e=I("div"),l.block.c()},m(s,i){w(s,e,i),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,n=!0},p(s,[i]){r=s,l.ctx=r,i&4&&t!==(t=u_(r[2]))&&Cl(t,l)||aa(l,r,i)},i(s){n||(p(l.block),n=!0)},o(s){for(let i=0;i<3;i+=1){const o=l.blocks[i];g(o)}n=!1},d(s){s&&$(e),l.block.d(),l.token=null,l=null}}}function Kie(r,e,t){let n,l,s,i,o=z,a=()=>(o(),o=se(l,f=>t(3,i=f)),l);r.$$.on_destroy.push(()=>o());let{canExecuteDDL:u}=e;const c=Rt();return de(r,c,f=>t(5,s=f)),r.$$set=f=>{"canExecuteDDL"in f&&t(0,u=f.canExecuteDDL)},r.$$.update=()=>{r.$$.dirty&32&&t(2,n=s.id),r.$$.dirty&32&&a(t(1,l=s.processedColumns))},[u,l,n,i,c,s]}class Gie extends X{constructor(e){super(),Q(this,e,Kie,Yie,G,{canExecuteDDL:0})}}function Qie(r){var o,a;let e,t,n,l,s;function i(...u){return r[4](r[5],...u)}return l=new Rf({props:{initialValue:(a=(o=r[2].data.get(r[1].id))==null?void 0:o.description)!=null?a:"",onSubmit:i,isLongText:!0,disabled:r[0]}}),{c(){e=I("div"),t=I("span"),t.textContent="Description",n=O(),C(l.$$.fragment),D(t,"class","label"),D(e,"class","update-table-description-property-container svelte-86tcs8")},m(u,c){w(u,e,c),M(e,t),M(e,n),y(l,e,null),s=!0},p(u,c){var m,d;r=u;const f={};c&6&&(f.initialValue=(d=(m=r[2].data.get(r[1].id))==null?void 0:m.description)!=null?d:""),c&32&&(f.onSubmit=i),c&1&&(f.disabled=r[0]),l.$set(f)},i(u){s||(p(l.$$.fragment,u),s=!0)},o(u){g(l.$$.fragment,u),s=!1},d(u){u&&$(e),S(l)}}}function Xie(r){let e,t;return e=new Mf({props:{tableId:r[1].id,$$slots:{default:[Qie,({onUpdate:n})=>({5:n}),({onUpdate:n})=>n?32:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.tableId=n[1].id),l&103&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Jie(r,e,t){let n,l;de(r,ln,a=>t(2,l=a));const s=Rt();de(r,s,a=>t(1,n=a));let{disabled:i=!1}=e;const o=(a,u)=>a({description:u});return r.$$set=a=>{"disabled"in a&&t(0,i=a.disabled)},[i,n,l,s,o]}class Zie extends X{constructor(e){super(),Q(this,e,Jie,Xie,G,{disabled:0})}}function xie(r){let e,t;return e=new gr({props:{slot:"header",title:"Properties",isDbLevelConfiguration:!0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function eoe(r){let e,t,n,l,s;return t=new Rre({props:{disabled:!r[0]}}),l=new Zie({props:{disabled:!r[0]}}),{c(){e=I("div"),C(t.$$.fragment),n=O(),C(l.$$.fragment),D(e,"slot","content"),D(e,"class","content-container svelte-1l3z76u")},m(i,o){w(i,e,o),y(t,e,null),M(e,n),y(l,e,null),s=!0},p(i,o){const a={};o&1&&(a.disabled=!i[0]),t.$set(a);const u={};o&1&&(u.disabled=!i[0]),l.$set(u)},i(i){s||(p(t.$$.fragment,i),p(l.$$.fragment,i),s=!0)},o(i){g(t.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){i&&$(e),S(t),S(l)}}}function toe(r){let e,t;return e=new gr({props:{slot:"header",title:"Links",isDbLevelConfiguration:!0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function noe(r){let e,t,n;return t=new Gie({props:{canExecuteDDL:r[0]}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"slot","content"),D(e,"class","content-container svelte-1l3z76u")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&1&&(i.canExecuteDDL=l[0]),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function roe(r){let e,t;return e=new gr({props:{slot:"header",title:"Record Summary"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function loe(r){let e,t,n;return t=new _k({props:{table:r[1],tabularData:r[2]}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"slot","content"),D(e,"class","content-container svelte-1l3z76u")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&2&&(i.table=l[1]),s&4&&(i.tabularData=l[2]),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function soe(r){let e,t;return e=new gr({props:{slot:"header",title:"Actions"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ioe(r){let e,t,n;return t=new Vre({props:{canExecuteDDL:r[0]}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"slot","content"),D(e,"class","content-container svelte-1l3z76u")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&1&&(i.canExecuteDDL=l[0]),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function ooe(r){let e,t;return e=new gr({props:{slot:"header",title:"Advanced"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function aoe(r){let e,t,n;return t=new ese({}),{c(){e=I("div"),C(t.$$.fragment),D(e,"slot","content"),D(e,"class","content-container svelte-1l3z76u")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p:z,i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function uoe(r){let e,t,n,l,s,i,o,a,u,c,f;return t=new Tn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[eoe],header:[xie]},$$scope:{ctx:r}}}),l=new Tn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[noe],header:[toe]},$$scope:{ctx:r}}}),i=new Tn({props:{triggerAppearance:"plain",$$slots:{content:[loe],header:[roe]},$$scope:{ctx:r}}}),a=new Tn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[ioe],header:[soe]},$$scope:{ctx:r}}}),c=new Tn({props:{triggerAppearance:"plain",$$slots:{content:[aoe],header:[ooe]},$$scope:{ctx:r}}}),{c(){e=I("div"),C(t.$$.fragment),n=O(),C(l.$$.fragment),s=O(),C(i.$$.fragment),o=O(),C(a.$$.fragment),u=O(),C(c.$$.fragment),D(e,"class","table-mode-container svelte-1l3z76u")},m(m,d){w(m,e,d),y(t,e,null),M(e,n),y(l,e,null),M(e,s),y(i,e,null),M(e,o),y(a,e,null),M(e,u),y(c,e,null),f=!0},p(m,[d]){const _={};d&1025&&(_.$$scope={dirty:d,ctx:m}),t.$set(_);const h={};d&1025&&(h.$$scope={dirty:d,ctx:m}),l.$set(h);const b={};d&1030&&(b.$$scope={dirty:d,ctx:m}),i.$set(b);const v={};d&1025&&(v.$$scope={dirty:d,ctx:m}),a.$set(v);const k={};d&1024&&(k.$$scope={dirty:d,ctx:m}),c.$set(k)},i(m){f||(p(t.$$.fragment,m),p(l.$$.fragment,m),p(i.$$.fragment,m),p(a.$$.fragment,m),p(c.$$.fragment,m),f=!0)},o(m){g(t.$$.fragment,m),g(l.$$.fragment,m),g(i.$$.fragment,m),g(a.$$.fragment,m),g(c.$$.fragment,m),f=!1},d(m){m&&$(e),S(t),S(l),S(i),S(a),S(c)}}}function coe(r,e,t){let n,l,s,i,o,a,u,c;de(r,hn,d=>t(8,o=d)),de(r,gn,d=>t(9,a=d)),de(r,Ll,d=>t(1,u=d));const f=Rt();de(r,f,d=>t(2,c=d));const m=Xt();return de(r,m,d=>t(7,i=d)),r.$$.update=()=>{r.$$.dirty&512&&t(6,n=a),r.$$.dirty&256&&t(5,l=o),r.$$.dirty&224&&t(0,s=!!(i!=null&&i.hasPermission({database:n,schema:l},"canExecuteDDL")))},[s,u,c,f,m,l,n,i,o,a]}class foe extends X{constructor(e){super(),Q(this,e,coe,uoe,G,{})}}function g3(r){let e,t,n;var l=r[0].component;function s(i){return{}}return l&&(t=new l(s())),{c(){e=I("div"),t&&C(t.$$.fragment),D(e,"class","tabs-container")},m(i,o){w(i,e,o),t&&y(t,e,null),n=!0},p(i,o){if(l!==(l=i[0].component)){if(t){q();const a=t;g(a.$$.fragment,1,0,()=>{S(a,1)}),U()}l?(t=new l(s()),C(t.$$.fragment),p(t.$$.fragment,1),y(t,e,null)):t=null}},i(i){n||(t&&p(t.$$.fragment,i),n=!0)},o(i){t&&g(t.$$.fragment,i),n=!1},d(i){i&&$(e),t&&S(t)}}}function moe(r){let e,t,n=r[0]&&g3(r);return{c(){n&&n.c(),e=ae()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[0]?n?(n.p(l,s),s&1&&p(n,1)):(n=g3(l),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&$(e)}}}function doe(r){let e;const t=r[7].default,n=De(t,r,r[9],null),l=n||moe(r);return{c(){l&&l.c()},m(s,i){l&&l.m(s,i),e=!0},p(s,i){n?n.p&&(!e||i&512)&&Ee(n,t,s,s[9],e?Ie(t,s[9],i,null):Me(s[9]),null):l&&l.p&&(!e||i&1)&&l.p(s,e?i:-1)},i(s){e||(p(l,s),e=!0)},o(s){g(l,s),e=!1},d(s){l&&l.d(s)}}}function poe(r){let e,t,n,l;function s(o){r[8](o)}let i={tabs:r[2],tabStyle:"compact",fillContainerHeight:!0,fillTabWidth:!0,$$slots:{default:[doe]},$$scope:{ctx:r}};return r[0]!==void 0&&(i.activeTab=r[0]),t=new wa({props:i}),ye.push(()=>Pe(t,"activeTab",s)),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","table-inspector svelte-1y945nw")},m(o,a){w(o,e,a),y(t,e,null),l=!0},p(o,[a]){const u={};a&513&&(u.$$scope={dirty:a,ctx:o}),!n&&a&1&&(n=!0,u.activeTab=o[0],Ne(()=>n=!1)),t.$set(u)},i(o){l||(p(t.$$.fragment,o),l=!0)},o(o){g(t.$$.fragment,o),l=!1},d(o){o&&$(e),S(t)}}}function _oe(r,e,t){let n,l,s,i=z,o=()=>(i(),i=se(l,h=>t(5,s=h)),l),a;r.$$.on_destroy.push(()=>i());let{$$slots:u={},$$scope:c}=e;const f=[{label:"Table",component:foe,id:1},{label:"Column",component:gre,id:2},{label:"Record",component:Ire,id:3}];let m;const d=Rt();de(r,d,h=>t(6,a=h));function _(h){m=h,t(0,m),t(5,s),t(4,n),t(6,a)}return r.$$set=h=>{"$$scope"in h&&t(9,c=h.$$scope)},r.$$.update=()=>{r.$$.dirty&64&&t(4,{selection:n}=a,n),r.$$.dirty&16&&o(t(1,{selectedCells:l}=n,l)),r.$$.dirty&48&&(n.isAnyColumnCompletelySelected()&&t(0,[,m]=f,m),n.isAnyRowCompletelySelected()&&t(0,[,,m]=f,m))},[m,l,f,d,n,s,a,u,_,c]}class goe extends X{constructor(e){super(),Q(this,e,_oe,poe,G,{})}}function hoe(r){let e,t,n;function l(i){r[4](i)}let s={showPanel:r[1],minSizePx:200,maxSizePx:600,$$slots:{panel:[woe],default:[$oe]},$$scope:{ctx:r}};return r[2]!==void 0&&(s.sizePx=r[2]),e=new kc({props:s}),ye.push(()=>Pe(e,"sizePx",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&2&&(a.showPanel=i[1]),o&32&&(a.$$scope={dirty:o,ctx:i}),!t&&o&4&&(t=!0,a.sizePx=i[2],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function boe(r){let e;const t=r[3].default,n=De(t,r,r[5],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&32)&&Ee(n,t,l,l[5],e?Ie(t,l[5],s,null):Me(l[5]),null)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function $oe(r){let e;const t=r[3].default,n=De(t,r,r[5],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&32)&&Ee(n,t,l,l[5],e?Ie(t,l[5],s,null):Me(l[5]),null)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function woe(r){let e,t;return e=new goe({props:{slot:"panel"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function voe(r){let e,t,n,l;const s=[boe,hoe],i=[];function o(a,u){return a[0]==="widget"?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function koe(r,e,t){let n;de(r,G1,u=>t(2,n=u));let{$$slots:l={},$$scope:s}=e,{context:i}=e,{showTableInspector:o}=e;function a(u){n=u,G1.set(n)}return r.$$set=u=>{"context"in u&&t(0,i=u.context),"showTableInspector"in u&&t(1,o=u.showTableInspector),"$$scope"in u&&t(5,s=u.$$scope)},[i,o,n,l,a,s]}class yoe extends X{constructor(e){super(),Q(this,e,koe,voe,G,{context:0,showTableInspector:1})}}function h3(r){let e,t,n,l;function s(a){r[37](a)}function i(a){r[38](a)}let o={columns:r[6],getColumnIdentifier:Ioe,usesVirtualList:r[15],columnWidths:r[20],clipboardHandler:r[12],hasBorder:r[14],restrictWidthToRowWidth:!r[15],hasPaddingRight:!0,$$slots:{default:[Soe]},$$scope:{ctx:r}};return r[16]!==void 0&&(o.horizontalScrollOffset=r[16]),r[17]!==void 0&&(o.scrollOffset=r[17]),e=new tf({props:o}),ye.push(()=>Pe(e,"horizontalScrollOffset",s)),ye.push(()=>Pe(e,"scrollOffset",i)),{c(){C(e.$$.fragment)},m(a,u){y(e,a,u),l=!0},p(a,u){const c={};u[0]&64&&(c.columns=a[6]),u[0]&32768&&(c.usesVirtualList=a[15]),u[0]&4096&&(c.clipboardHandler=a[12]),u[0]&16384&&(c.hasBorder=a[14]),u[0]&32768&&(c.restrictWidthToRowWidth=!a[15]),u[0]&32902|u[1]&512&&(c.$$scope={dirty:u,ctx:a}),!t&&u[0]&65536&&(t=!0,c.horizontalScrollOffset=a[16],Ne(()=>t=!1)),!n&&u[0]&131072&&(n=!0,c.scrollOffset=a[17],Ne(()=>n=!1)),e.$set(c)},i(a){l||(p(e.$$.fragment,a),l=!0)},o(a){g(e.$$.fragment,a),l=!1},d(a){S(e,a)}}}function Soe(r){let e,t,n,l;return e=new hee({props:{hasNewColumnButton:r[2],columnOrder:r[7],table:r[1]}}),n=new Ox({props:{usesVirtualList:r[15]}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i[0]&4&&(o.hasNewColumnButton=s[2]),i[0]&128&&(o.columnOrder=s[7]),i[0]&2&&(o.table=s[1]),e.$set(o);const a={};i[0]&32768&&(a.usesVirtualList=s[15]),n.$set(a)},i(s){l||(p(e.$$.fragment,s),p(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&$(t),S(n,s)}}}function Coe(r){let e,t,n,l,s=r[4].size&&h3(r);return{c(){e=I("div"),s&&s.c(),D(e,"class","sheet-area svelte-mf6b3s")},m(i,o){w(i,e,o),s&&s.m(e,null),t=!0,n||(l=Le(e,"click",r[21]),n=!0)},p(i,o){i[4].size?s?(s.p(i,o),o[0]&16&&p(s,1)):(s=h3(i),s.c(),p(s,1),s.m(e,null)):s&&(q(),g(s,1,1,()=>{s=null}),U())},i(i){t||(p(s),t=!0)},o(i){g(s),t=!1},d(i){i&&$(e),s&&s.d(),n=!1,l()}}}function Toe(r){let e,t,n,l,s;return t=new yoe({props:{context:r[0],showTableInspector:r[5],$$slots:{default:[Coe]},$$scope:{ctx:r}}}),l=new yee({props:{context:r[0]}}),{c(){e=I("div"),C(t.$$.fragment),n=O(),C(l.$$.fragment),D(e,"class","table-view svelte-mf6b3s")},m(i,o){w(i,e,o),y(t,e,null),M(e,n),y(l,e,null),s=!0},p(i,o){const a={};o[0]&1&&(a.context=i[0]),o[0]&32&&(a.showTableInspector=i[5]),o[0]&250070|o[1]&512&&(a.$$scope={dirty:o,ctx:i}),t.$set(a);const u={};o[0]&1&&(u.context=i[0]),l.$set(u)},i(i){s||(p(t.$$.fragment,i),p(l.$$.fragment,i),s=!0)},o(i){g(t.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){i&&$(e),S(t),S(l)}}}function Doe(r,e,t){t!=="widget"&&!r&&e.selectAndActivateFirstCellIfExists()}const Ioe=r=>r.column.id;function Eoe(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,_,h,b,v,k,T,E,P,R,L,A,N,F=z,K=()=>(F(),F=se(f,Ve=>t(31,N=Ve)),f),W,j=z,Y=()=>(j(),j=se(h,Ve=>t(39,W=Ve)),h),oe,te=z,ne=()=>(te(),te=se(k,Ve=>t(32,oe=Ve)),k),H,ee=z,pe=()=>(ee(),ee=se(u,Ve=>t(4,H=Ve)),u),ue,ie,me,Se,$e,He=z,we=()=>(He(),He=se(b,Ve=>t(16,$e=Ve)),b),je,Re=z,Oe=()=>(Re(),Re=se(v,Ve=>t(17,je=Ve)),v);de(r,hn,Ve=>t(35,me=Ve)),de(r,gn,Ve=>t(36,Se=Ve)),r.$$.on_destroy.push(()=>F()),r.$$.on_destroy.push(()=>j()),r.$$.on_destroy.push(()=>te()),r.$$.on_destroy.push(()=>ee()),r.$$.on_destroy.push(()=>He()),r.$$.on_destroy.push(()=>Re());const Ze=Rt();de(r,Ze,Ve=>t(33,ue=Ve));const Ke=Xt();de(r,Ke,Ve=>t(34,ie=Ve));let{context:tt="page"}=e,{table:ot}=e;const nt=new vt([[jo,_v],[Xu,32]]);function ze(Ve){Ve.target.closest('[data-sheet-element="cell"')||W&&m.focusCell({rowIndex:W.rowIndex},{id:Number(W.columnId)})}function Xe(Ve){$e=Ve,b.set($e)}function ct(Ve){je=Ve,v.set(je)}return r.$$set=Ve=>{"context"in Ve&&t(0,tt=Ve.context),"table"in Ve&&t(1,ot=Ve.table)},r.$$.update=()=>{r.$$.dirty[1]&32&&t(30,n=Se),r.$$.dirty[1]&16&&t(29,l=me),r.$$.dirty[0]&1610612736|r.$$.dirty[1]&8&&t(28,s=!!(ie!=null&&ie.hasPermission({database:n,schema:l},"canExecuteDDL"))),r.$$.dirty[0]&1&&t(15,i=tt!=="widget"),r.$$.dirty[0]&268435457&&t(24,o=tt!=="widget"&&s),r.$$.dirty[0]&1&&t(14,a=tt==="widget"),r.$$.dirty[1]&4&&pe(t(3,{processedColumns:u,display:c,isLoading:f,selection:m,recordsData:d}=ue,u,(t(26,c),t(33,ue)),K(t(13,f)),(t(22,m),t(33,ue)),(t(27,d),t(33,ue)))),r.$$.dirty[0]&138412040&&t(12,_=new j6({selection:m,toast:At,getRows:()=>[...Qe(d.savedRecords),...Qe(d.newRecords)],getColumnsMap:()=>Qe(u),getRecordSummaries:()=>Qe(d.recordSummaries)})),r.$$.dirty[0]&4194304&&Y(t(11,{activeCell:h}=m,h)),r.$$.dirty[0]&67108864&&we(t(10,{horizontalScrollOffset:b,scrollOffset:v,isTableInspectorVisible:k}=c,b,Oe(t(9,v)),ne(t(8,k)))),r.$$.dirty[0]&2&&t(25,{settings:T}=ot,T),r.$$.dirty[0]&33554432&&t(7,{column_order:E}=T,E),r.$$.dirty[0]&16777216&&t(2,P=o),r.$$.dirty[0]&1&&t(23,R=tt==="page"),r.$$.dirty[0]&22&&t(6,L=(()=>{const Ve=fM(H,ot),We=[{column:{id:jo,name:"ROW_CONTROL"}},...Ve.values()];return P&&We.push({column:{id:Xu,name:"ADD_NEW"}}),We})()),r.$$.dirty[0]&8388608|r.$$.dirty[1]&2&&t(5,A=oe&&R),r.$$.dirty[0]&4194305|r.$$.dirty[1]&1&&Doe(N,m,tt)},[tt,ot,P,u,H,A,L,E,k,v,b,h,_,f,a,i,$e,je,Ze,Ke,nt,ze,m,R,o,T,c,d,s,l,n,N,oe,ue,ie,me,Se,Xe,ct]}class Rk extends X{constructor(e){super(),Q(this,e,Eoe,Toe,G,{context:0,table:1},null,[-1,-1])}}function b3(r){return new Xr({combination:r.combination,entries:JSON.parse(JSON.stringify(r.entries))})}function $3(r,e,t){const n=r.slice();return n[14]=e[t],n[15]=e,n[16]=t,n}function Moe(r){let e,t;return e=new v$({props:{$$slots:{default:[Poe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&131074&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Aoe(r){let e,t,n;function l(i){r[5](i)}let s={options:xc};return r[1]!==void 0&&(s.value=r[1]),e=new Sn({props:s}),ye.push(()=>Pe(e,"value",l)),e.$on("change",r[6]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};!t&&o&2&&(t=!0,a.value=i[1],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function Roe(r){let e,t;return e=new v$({props:{$$slots:{default:[Ooe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&131072&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Poe(r){let e;return{c(){e=B(r[1])},m(t,n){w(t,e,n)},p(t,n){n&2&&he(e,t[1])},d(t){t&&$(e)}}}function Ooe(r){let e;return{c(){e=B("where")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function Loe(r){let e,t,n,l;const s=[Roe,Aoe,Moe],i=[];function o(a,u){return a[16]===0?0:a[16]===1?1:2}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=O()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function w3(r,e){let t,n,l,s,i,o;function a(d){e[9](d,e[14])}function u(d){e[10](d,e[14])}function c(d){e[11](d,e[14])}function f(){return e[12](e[16])}let m={columns:e[2],getColumnLabel:e[7],getColumnConstraintType:e[8],numberOfFilters:e[0].length,recordSummaryStore:e[3],$$slots:{default:[Loe]},$$scope:{ctx:e}};return e[14].columnId!==void 0&&(m.columnIdentifier=e[14].columnId),e[14].conditionId!==void 0&&(m.conditionIdentifier=e[14].conditionId),e[14].value!==void 0&&(m.value=e[14].value),n=new M6({props:m}),ye.push(()=>Pe(n,"columnIdentifier",a)),ye.push(()=>Pe(n,"conditionIdentifier",u)),ye.push(()=>Pe(n,"value",c)),n.$on("removeFilter",f),n.$on("update",e[13]),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(d,_){w(d,t,_),y(n,d,_),o=!0},p(d,_){e=d;const h={};_&4&&(h.columns=e[2]),_&4&&(h.getColumnLabel=e[7]),_&4&&(h.getColumnConstraintType=e[8]),_&1&&(h.numberOfFilters=e[0].length),_&8&&(h.recordSummaryStore=e[3]),_&131075&&(h.$$scope={dirty:_,ctx:e}),!l&&_&1&&(l=!0,h.columnIdentifier=e[14].columnId,Ne(()=>l=!1)),!s&&_&1&&(s=!0,h.conditionIdentifier=e[14].conditionId,Ne(()=>s=!1)),!i&&_&1&&(i=!0,h.value=e[14].value,Ne(()=>i=!1)),n.$set(h)},i(d){o||(p(n.$$.fragment,d),o=!0)},o(d){g(n.$$.fragment,d),o=!1},d(d){d&&$(t),S(n,d)}}}function Noe(r){let e=[],t=new Map,n,l,s=r[0];const i=o=>o[14];for(let o=0;o<s.length;o+=1){let a=$3(r,s,o),u=i(a);t.set(u,e[o]=w3(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=ae()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,[a]){a&31&&(s=o[0],q(),e=pt(e,a,i,1,o,s,t,n.parentNode,ht,w3,n,$3),U())},i(o){if(!l){for(let a=0;a<s.length;a+=1)p(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&$(n)}}}function Foe(r,e,t){const n=dt();let{processedColumns:l}=e,{recordSummaries:s}=e,{entries:i}=e,{filterCombination:o=Zu}=e;function a(v){o=v,t(1,o)}const u=()=>n("updateCombination",o),c=v=>{var k,T;return(T=(k=l.get(v.id))==null?void 0:k.column.name)!=null?T:""},f=v=>Al(v.id,l);function m(v,k){r.$$.not_equal(k.columnId,v)&&(k.columnId=v,t(0,i))}function d(v,k){r.$$.not_equal(k.conditionId,v)&&(k.conditionId=v,t(0,i))}function _(v,k){r.$$.not_equal(k.value,v)&&(k.value=v,t(0,i))}const h=v=>n("remove",v);function b(v){ve.call(this,r,v)}return r.$$set=v=>{"processedColumns"in v&&t(2,l=v.processedColumns),"recordSummaries"in v&&t(3,s=v.recordSummaries),"entries"in v&&t(0,i=v.entries),"filterCombination"in v&&t(1,o=v.filterCombination)},[i,o,l,s,n,a,u,c,f,m,d,_,h,b]}class zoe extends X{constructor(e){super(),Q(this,e,Foe,Noe,G,{processedColumns:2,recordSummaries:3,entries:0,filterCombination:1})}}function Hoe(r){let e;return{c(){e=I("span"),e.textContent="No filters have been added",D(e,"class","muted svelte-1honasg")},m(t,n){w(t,e,n)},p:z,i:z,o:z,d(t){t&&$(e)}}}function Voe(r){let e,t,n,l;function s(a){r[12](a)}function i(a){r[13](a)}let o={processedColumns:r[1],recordSummaries:r[2]};return r[3].entries!==void 0&&(o.entries=r[3].entries),r[3].combination!==void 0&&(o.filterCombination=r[3].combination),e=new zoe({props:o}),ye.push(()=>Pe(e,"entries",s)),ye.push(()=>Pe(e,"filterCombination",i)),e.$on("remove",r[14]),e.$on("update",r[10]),e.$on("updateCombination",r[15]),{c(){C(e.$$.fragment)},m(a,u){y(e,a,u),l=!0},p(a,u){const c={};u&2&&(c.processedColumns=a[1]),u&4&&(c.recordSummaries=a[2]),!t&&u&8&&(t=!0,c.entries=a[3].entries,Ne(()=>t=!1)),!n&&u&8&&(n=!0,c.filterCombination=a[3].combination,Ne(()=>n=!1)),e.$set(c)},i(a){l||(p(e.$$.fragment,a),l=!0)},o(a){g(e.$$.fragment,a),l=!1},d(a){S(e,a)}}}function v3(r){let e,t,n;return t=new ut({props:{appearance:"secondary",$$slots:{default:[qoe]},$$scope:{ctx:r}}}),t.$on("click",r[16]),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","footer")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&2097152&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function qoe(r){let e,t,n,l;const s=[Qt];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new Fe({props:i}),{c(){C(e.$$.fragment),t=O(),n=I("span"),n.textContent="Add New Filter"},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),l=!0},p(o,a){const u=a&0?ce(s,[be(Qt)]):{};e.$set(u)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),o&&$(n)}}}function Uoe(r){let e,t,n,l,s,i,o,a;const u=[Voe,Hoe],c=[];function f(d,_){return d[5]?0:1}s=f(r),i=c[s]=u[s](r);let m=r[1].size&&v3(r);return{c(){e=I("div"),t=I("div"),t.textContent="Filter records",n=O(),l=I("div"),i.c(),o=O(),m&&m.c(),D(t,"class","header svelte-1honasg"),D(l,"class","content"),D(e,"class","filters svelte-1honasg"),Z(e,"filtered",r[5])},m(d,_){w(d,e,_),M(e,t),M(e,n),M(e,l),c[s].m(l,null),M(e,o),m&&m.m(e,null),r[17](e),a=!0},p(d,[_]){let h=s;s=f(d),s===h?c[s].p(d,_):(q(),g(c[h],1,1,()=>{c[h]=null}),U(),i=c[s],i?i.p(d,_):(i=c[s]=u[s](d),i.c()),p(i,1),i.m(l,null)),d[1].size?m?(m.p(d,_),_&2&&p(m,1)):(m=v3(d),m.c(),p(m,1),m.m(e,null)):m&&(q(),g(m,1,1,()=>{m=null}),U()),(!a||_&32)&&Z(e,"filtered",d[5])},i(d){a||(p(i),p(m),a=!0)},o(d){g(i),g(m),a=!1},d(d){d&&$(e),c[s].d(),m&&m.d(),r[17](null)}}}function Woe(r,e,t){let n,l,s=z,i=()=>(s(),s=se(u,F=>t(18,l=F)),u),o;r.$$.on_destroy.push(()=>s());const a=Af();let{filtering:u}=e;i();let{processedColumns:c}=e,{recordSummaries:f}=e;const m=Ge(b3(l));de(r,m,F=>t(3,o=F));let d;function _(){const F=o.entries.filter(W=>{const j=c.get(W.columnId),Y=j==null?void 0:j.allowedFiltersMap.get(W.conditionId);return Y?Xo(Y,W.value):!1}),K=b3({...o,entries:F});l.equals(K)||u.set(K)}function h(F){const K=F===void 0?[...c.values()][0]:c.get(F);if(!K)return;const W=[...K.allowedFiltersMap.values()][0];if(!W)return;const j={columnId:K.id,conditionId:W.id,value:void 0,isValid:Xo(W,void 0)};m.update(Y=>Y.withEntry(j)),_()}function b(F){m.update(K=>K.withoutEntry(F)),_()}function v(F){m.update(K=>K.withCombination(F)),_()}function k(){_()}function T(){const F=KR(d.querySelectorAll(`.${e6}`));F&&("launchRecordSelector"in F?F.launchRecordSelector():F.focus())}rn(()=>a==null?void 0:a.onAddFilter(h)),rn(()=>a==null?void 0:a.onActivateLastFilterInput(T));function E(F){r.$$.not_equal(o.entries,F)&&(o.entries=F,m.set(o))}function P(F){r.$$.not_equal(o.combination,F)&&(o.combination=F,m.set(o))}const R=F=>b(F.detail),L=F=>v(F.detail),A=async()=>{h(),await Gt(),T()};function N(F){ye[F?"unshift":"push"](()=>{d=F,t(4,d)})}return r.$$set=F=>{"filtering"in F&&i(t(0,u=F.filtering)),"processedColumns"in F&&t(1,c=F.processedColumns),"recordSummaries"in F&&t(2,f=F.recordSummaries)},r.$$.update=()=>{r.$$.dirty&8&&t(5,n=o.entries.length)},[u,c,f,o,d,n,m,h,b,v,k,T,E,P,R,L,A,N]}class Boe extends X{constructor(e){super(),Q(this,e,Woe,Uoe,G,{filtering:0,processedColumns:1,recordSummaries:2})}}function joe(r){let e,t,n,l,s,i;const o=[zo,{size:"0.8em"}];let a={};for(let u=0;u<o.length;u+=1)a=x(a,o[u]);return e=new Fe({props:a}),s=new dc({props:{value:r[5].entries.length}}),{c(){C(e.$$.fragment),t=O(),n=I("span"),l=B("Filter "),C(s.$$.fragment),D(n,"class","responsive-button-label")},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),M(n,l),y(s,n,null),i=!0},p(u,c){const f=c&0?ce(o,[be(zo),o[1]]):{};e.$set(f);const m={};c&32&&(m.value=u[5].entries.length),s.$set(m)},i(u){i||(p(e.$$.fragment,u),p(s.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),g(s.$$.fragment,u),i=!1},d(u){S(e,u),u&&$(t),u&&$(n),S(s)}}}function Yoe(r){let e,t;return e=new Boe({props:{slot:"content",filtering:r[0],processedColumns:r[2],recordSummaries:r[3].recordSummaries}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.filtering=n[0]),l&4&&(s.processedColumns=n[2]),l&8&&(s.recordSummaries=n[3].recordSummaries),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Koe(r){let e,t,n;const l=[{showArrow:!1},{triggerAppearance:"secondary"},r[7],{ariaLabel:"Filter"}];function s(o){r[11](o)}let i={$$slots:{content:[Yoe],trigger:[joe]},$$scope:{ctx:r}};for(let o=0;o<l.length;o+=1)i=x(i,l[o]);return r[1]!==void 0&&(i.isOpen=r[1]),e=new pl({props:i}),ye.push(()=>Pe(e,"isOpen",s)),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,[a]){const u=a&128?ce(l,[l[0],l[1],be(o[7]),l[3]]):{};a&16429&&(u.$$scope={dirty:a,ctx:o}),!t&&a&2&&(t=!0,u.isOpen=o[1],Ne(()=>t=!1)),e.$set(u)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function Goe(r,e,t){let n,l,s;const i=["filtering","canViewLinkedEntities"];let o=Be(e,i),a,u=z,c=()=>(u(),u=se(n,R=>t(9,a=R)),n),f,m,d=z,_=()=>(d(),d=se(v,R=>t(5,m=R)),v);r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>d());const h=Af(),b=Rt();de(r,b,R=>t(10,f=R));let{filtering:v}=e;_();let{canViewLinkedEntities:k=!0}=e,T=!1;function E(){t(1,T=!0)}rn(()=>h==null?void 0:h.onOpenDropdown(E));function P(R){T=R,t(1,T)}return r.$$set=R=>{e=x(x({},e),ft(R)),t(7,o=Be(e,i)),"filtering"in R&&_(t(0,v=R.filtering)),"canViewLinkedEntities"in R&&t(8,k=R.canViewLinkedEntities)},r.$$.update=()=>{r.$$.dirty&1024&&c(t(4,{processedColumns:n,recordsData:l}=f,n,(t(3,l),t(10,f)))),r.$$.dirty&768&&t(2,s=k?a:new Map([...a].filter(([,R])=>!R.linkFk)))},[v,T,s,l,n,m,b,o,k,a,f,P]}class Pk extends X{constructor(e){super(),Q(this,e,Goe,Koe,G,{filtering:0,canViewLinkedEntities:8})}}function k3(r,e,t){const n=r.slice();return n[13]=e[t],n}function y3(r,e,t){const n=r.slice();return n[16]=e[t],n[18]=t,n}function S3(r){let e;return{c(){e=I("span"),e.textContent="No grouping condition has been added",D(e,"class","muted svelte-rsw3wh")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function C3(r,e){let t,n,l;function s(...o){return e[10](e[18],...o)}function i(){return e[11](e[18])}return n=new q6({props:{columns:e[2],columnsAllowedForSelection:e[3].map(D3),getColumnLabel:Zoe,getColumnConstraintType:e[9],columnIdentifier:e[16].columnId,preprocFunctionIdentifier:e[16].preprocFnId,disableColumnChange:e[1].entries.length>1&&e[18]<e[1].entries.length-1}}),n.$on("update",s),n.$on("removeGroup",i),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(o,a){w(o,t,a),y(n,o,a),l=!0},p(o,a){e=o;const u={};a&4&&(u.columns=e[2]),a&8&&(u.columnsAllowedForSelection=e[3].map(D3)),a&4&&(u.getColumnConstraintType=e[9]),a&2&&(u.columnIdentifier=e[16].columnId),a&2&&(u.preprocFunctionIdentifier=e[16].preprocFnId),a&2&&(u.disableColumnChange=e[1].entries.length>1&&e[18]<e[1].entries.length-1),n.$set(u)},i(o){l||(p(n.$$.fragment,o),l=!0)},o(o){g(n.$$.fragment,o),l=!1},d(o){o&&$(t),S(n,o)}}}function Qoe(r){var l,s,i,o,a,u,c,f;let e,t,n;return e=new Bn({props:{column:{name:(s=(l=r[2].get(r[13].id))==null?void 0:l.column.name)!=null?s:"",type:(o=(i=r[2].get(r[13].id))==null?void 0:i.column.type)!=null?o:"",type_options:(u=(a=r[2].get(r[13].id))==null?void 0:a.column.type_options)!=null?u:null,display_options:(f=(c=r[2].get(r[13].id))==null?void 0:c.column.display_options)!=null?f:null,constraintsType:Al(r[13].id,r[2])}}}),{c(){C(e.$$.fragment),t=O()},m(m,d){y(e,m,d),w(m,t,d),n=!0},p(m,d){var h,b,v,k,T,E,P,R;const _={};d&12&&(_.column={name:(b=(h=m[2].get(m[13].id))==null?void 0:h.column.name)!=null?b:"",type:(k=(v=m[2].get(m[13].id))==null?void 0:v.column.type)!=null?k:"",type_options:(E=(T=m[2].get(m[13].id))==null?void 0:T.column.type_options)!=null?E:null,display_options:(R=(P=m[2].get(m[13].id))==null?void 0:P.column.display_options)!=null?R:null,constraintsType:Al(m[13].id,m[2])}),e.$set(_)},i(m){n||(p(e.$$.fragment,m),n=!0)},o(m){g(e.$$.fragment,m),n=!1},d(m){S(e,m),m&&$(t)}}}function T3(r,e){let t,n,l;function s(){return e[12](e[13])}return n=new xt({props:{$$slots:{default:[Qoe]},$$scope:{ctx:e}}}),n.$on("click",s),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(i,o){w(i,t,o),y(n,i,o),l=!0},p(i,o){e=i;const a={};o&524300&&(a.$$scope={dirty:o,ctx:e}),n.$set(a)},i(i){l||(p(n.$$.fragment,i),l=!0)},o(i){g(n.$$.fragment,i),l=!1},d(i){i&&$(t),S(n,i)}}}function Xoe(r){let e=[],t=new Map,n,l,s=r[3];const i=o=>o[13].id;for(let o=0;o<s.length;o+=1){let a=k3(r,s,o),u=i(a);t.set(u,e[o]=T3(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=ae()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,a){a&76&&(s=o[3],q(),e=pt(e,a,i,1,o,s,t,n.parentNode,ht,T3,n,k3),U())},i(o){if(!l){for(let a=0;a<s.length;a+=1)p(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&$(n)}}}function Joe(r){let e,t,n,l,s=[],i=new Map,o,a,u,c,f=r[1].entries;const m=_=>_[18];for(let _=0;_<f.length;_+=1){let h=y3(r,f,_),b=m(h);i.set(b,s[_]=C3(b,h))}let d=null;return f.length||(d=S3()),u=new Ar({props:{label:"Add New Grouping",disabled:r[3].length===0,triggerAppearance:"secondary",$$slots:{default:[Xoe]},$$scope:{ctx:r}}}),{c(){e=I("div"),t=I("header"),t.textContent="Group records by",n=O(),l=I("div");for(let _=0;_<s.length;_+=1)s[_].c();d&&d.c(),o=O(),a=I("footer"),C(u.$$.fragment),D(t,"class","svelte-rsw3wh"),D(l,"class","content svelte-rsw3wh"),D(a,"class","svelte-rsw3wh"),D(e,"class","groups svelte-rsw3wh"),Z(e,"grouped",r[1].entries.length>0)},m(_,h){w(_,e,h),M(e,t),M(e,n),M(e,l);for(let b=0;b<s.length;b+=1)s[b].m(l,null);d&&d.m(l,null),M(e,o),M(e,a),y(u,a,null),c=!0},p(_,[h]){h&143&&(f=_[1].entries,q(),s=pt(s,h,m,1,_,f,i,l,ht,C3,null,y3),U(),!f.length&&d?d.p(_,h):f.length?d&&(d.d(1),d=null):(d=S3(),d.c(),d.m(l,null)));const b={};h&8&&(b.disabled=_[3].length===0),h&524300&&(b.$$scope={dirty:h,ctx:_}),u.$set(b),(!c||h&2)&&Z(e,"grouped",_[1].entries.length>0)},i(_){if(!c){for(let h=0;h<f.length;h+=1)p(s[h]);p(u.$$.fragment,_),c=!0}},o(_){for(let h=0;h<s.length;h+=1)g(s[h]);g(u.$$.fragment,_),c=!1},d(_){_&&$(e);for(let h=0;h<s.length;h+=1)s[h].d();d&&d.d(),S(u)}}}const D3=r=>r.id,Zoe=r=>{var e;return(e=r==null?void 0:r.column.name)!=null?e:""};function xoe(r,e,t){let n,l,s,i=z,o=()=>(i(),i=se(d,E=>t(1,s=E)),d),a,u=z,c=()=>(u(),u=se(n,E=>t(2,a=E)),n),f;r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>u());const m=Rt();de(r,m,E=>t(8,f=E));let{grouping:d}=e;o();function _(E){d.update(P=>P.withEntry({columnId:E.id,preprocFnId:void 0}))}function h(E,P){d.update(R=>R.withReplacedEntry(E,{columnId:P.columnIdentifier,preprocFnId:P.preprocFunctionIdentifier}))}const b=E=>Al(E.id,a),v=(E,P)=>h(E,P.detail),k=E=>d.update(P=>P.withoutEntry(E)),T=E=>_(E);return r.$$set=E=>{"grouping"in E&&o(t(0,d=E.grouping))},r.$$.update=()=>{r.$$.dirty&256&&c(t(4,{processedColumns:n}=f,n)),r.$$.dirty&6&&t(3,l=[...a.values()].filter(E=>!s.hasColumn(E.id)))},[d,s,a,l,n,m,_,h,f,b,v,k,T]}class eae extends X{constructor(e){super(),Q(this,e,xoe,Joe,G,{grouping:0})}}function tae(r){let e,t,n,l,s,i;const o=[Ss];let a={};for(let u=0;u<o.length;u+=1)a=x(a,o[u]);return e=new Fe({props:a}),s=new dc({props:{value:r[1].entries.length}}),{c(){C(e.$$.fragment),t=O(),n=I("span"),l=B("Group "),C(s.$$.fragment),D(n,"class","responsive-button-label")},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),M(n,l),y(s,n,null),i=!0},p(u,c){const f=c&0?ce(o,[be(Ss)]):{};e.$set(f);const m={};c&2&&(m.value=u[1].entries.length),s.$set(m)},i(u){i||(p(e.$$.fragment,u),p(s.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),g(s.$$.fragment,u),i=!1},d(u){S(e,u),u&&$(t),u&&$(n),S(s)}}}function nae(r){let e,t;return e=new eae({props:{slot:"content",grouping:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.grouping=n[0]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function rae(r){let e,t;const n=[{showArrow:!1},{triggerAppearance:"secondary"},r[2],{ariaLabel:"Group"}];let l={$$slots:{content:[nae],trigger:[tae]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new pl({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&4?ce(n,[n[0],n[1],be(s[2]),n[3]]):{};i&11&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function lae(r,e,t){const n=["grouping"];let l=Be(e,n),s,i=z,o=()=>(i(),i=se(a,u=>t(1,s=u)),a);r.$$.on_destroy.push(()=>i());let{grouping:a}=e;return o(),r.$$set=u=>{e=x(x({},e),ft(u)),t(2,l=Be(e,n)),"grouping"in u&&o(t(0,a=u.grouping))},[a,s,l]}class Ok extends X{constructor(e){super(),Q(this,e,lae,rae,G,{grouping:0})}}function I3(r,e,t){const n=r.slice();return n[13]=e[t][0],n[14]=e[t][1],n[16]=t,n}function E3(r){let e;return{c(){e=I("span"),e.textContent="No sorting condition has been added"},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function M3(r,e){let t,n,l;function s(){return e[11](e[13])}function i(...o){return e[12](e[13],...o)}return n=new U6({props:{columns:e[2],columnsAllowedForSelection:e[3],getColumnLabel:oae,getColumnConstraintType:e[10],columnIdentifier:e[13],sortDirection:e[14],disableColumnChange:e[16]<e[1].size-1}}),n.$on("remove",s),n.$on("update",i),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(o,a){w(o,t,a),y(n,o,a),l=!0},p(o,a){e=o;const u={};a&4&&(u.columns=e[2]),a&8&&(u.columnsAllowedForSelection=e[3]),a&4&&(u.getColumnConstraintType=e[10]),a&2&&(u.columnIdentifier=e[13]),a&2&&(u.sortDirection=e[14]),a&2&&(u.disableColumnChange=e[16]<e[1].size-1),n.$set(u)},i(o){l||(p(n.$$.fragment,o),l=!0)},o(o){g(n.$$.fragment,o),l=!1},d(o){o&&$(t),S(n,o)}}}function A3(r){let e,t,n;return t=new ut({props:{appearance:"secondary",$$slots:{default:[sae]},$$scope:{ctx:r}}}),t.$on("click",r[6]),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","footer")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&131072&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function sae(r){let e,t,n,l;const s=[Qt];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new Fe({props:i}),{c(){C(e.$$.fragment),t=O(),n=I("span"),n.textContent="Add new sort condition"},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),l=!0},p(o,a){const u=a&0?ce(s,[be(Qt)]):{};e.$set(u)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),o&&$(n)}}}function iae(r){let e,t,n,l,s=[],i=new Map,o,a,u=[...r[1]];const c=d=>d[13];for(let d=0;d<u.length;d+=1){let _=I3(r,u,d),h=c(_);i.set(h,s[d]=M3(h,_))}let f=null;u.length||(f=E3());let m=r[3].length>0&&A3(r);return{c(){e=I("div"),t=I("div"),t.textContent="Sort",n=O(),l=I("div");for(let d=0;d<s.length;d+=1)s[d].c();f&&f.c(),o=O(),m&&m.c(),D(t,"class","header svelte-1g3cl41"),D(l,"class","content svelte-1g3cl41"),D(e,"class","sorters svelte-1g3cl41")},m(d,_){w(d,e,_),M(e,t),M(e,n),M(e,l);for(let h=0;h<s.length;h+=1)s[h].m(l,null);f&&f.m(l,null),M(e,o),m&&m.m(e,null),a=!0},p(d,[_]){_&398&&(u=[...d[1]],q(),s=pt(s,_,c,1,d,u,i,l,ht,M3,null,I3),U(),!u.length&&f?f.p(d,_):u.length?f&&(f.d(1),f=null):(f=E3(),f.c(),f.m(l,null))),d[3].length>0?m?(m.p(d,_),_&8&&p(m,1)):(m=A3(d),m.c(),p(m,1),m.m(e,null)):m&&(q(),g(m,1,1,()=>{m=null}),U())},i(d){if(!a){for(let _=0;_<u.length;_+=1)p(s[_]);p(m),a=!0}},o(d){for(let _=0;_<s.length;_+=1)g(s[_]);g(m),a=!1},d(d){d&&$(e);for(let _=0;_<s.length;_+=1)s[_].d();f&&f.d(),m&&m.d()}}}const oae=r=>{var e;return(e=r==null?void 0:r.column.name)!=null?e:""};function aae(r,e,t){let n,l,s,i=z,o=()=>(i(),i=se(d,E=>t(1,s=E)),d),a,u=z,c=()=>(u(),u=se(n,E=>t(2,a=E)),n),f;r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>u());const m=Rt();de(r,m,E=>t(9,f=E));let{sorting:d}=e;o();function _(){const[E]=l;d.update(P=>P.with(E,"ASCENDING"))}function h(E){d.update(P=>P.without(E))}function b(E,P,R){d.update(L=>{let A=L;return E!==P&&(A=A.without(E)),A.with(P,R)})}const v=E=>Al(E.id,a),k=E=>h(E),T=(E,P)=>b(E,P.detail.columnIdentifier,P.detail.sortDirection);return r.$$set=E=>{"sorting"in E&&o(t(0,d=E.sorting))},r.$$.update=()=>{r.$$.dirty&512&&c(t(4,{processedColumns:n}=f,n)),r.$$.dirty&6&&t(3,l=[...a.values()].filter(E=>!s.has(E.id)).map(E=>E.id))},[d,s,a,l,n,m,_,h,b,f,v,k,T]}class uae extends X{constructor(e){super(),Q(this,e,aae,iae,G,{sorting:0})}}function cae(r){let e,t,n,l,s,i;const o=[z1];let a={};for(let u=0;u<o.length;u+=1)a=x(a,o[u]);return e=new Fe({props:a}),s=new dc({props:{value:r[1].size}}),{c(){C(e.$$.fragment),t=O(),n=I("span"),l=B("Sort "),C(s.$$.fragment),D(n,"class","responsive-button-label")},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),M(n,l),y(s,n,null),i=!0},p(u,c){const f=c&0?ce(o,[be(z1)]):{};e.$set(f);const m={};c&2&&(m.value=u[1].size),s.$set(m)},i(u){i||(p(e.$$.fragment,u),p(s.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),g(s.$$.fragment,u),i=!1},d(u){S(e,u),u&&$(t),u&&$(n),S(s)}}}function fae(r){let e,t;return e=new uae({props:{slot:"content",sorting:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.sorting=n[0]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function mae(r){let e,t;const n=[{showArrow:!1},{triggerAppearance:"secondary"},r[2],{ariaLabel:"Sort"}];let l={$$slots:{content:[fae],trigger:[cae]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new pl({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&4?ce(n,[n[0],n[1],be(s[2]),n[3]]):{};i&11&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function dae(r,e,t){const n=["sorting"];let l=Be(e,n),s,i=z,o=()=>(i(),i=se(a,u=>t(1,s=u)),a);r.$$.on_destroy.push(()=>i());let{sorting:a}=e;return o(),r.$$set=u=>{e=x(x({},e),ft(u)),t(2,l=Be(e,n)),"sorting"in u&&o(t(0,a=u.sorting))},[a,s,l]}class Lk extends X{constructor(e){super(),Q(this,e,dae,mae,G,{sorting:0})}}function pae(r){let e,t;return e=new cf({props:{errors:r[2].errors}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.errors=n[2].errors),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function _ae(r){let e,t,n,l;const s=[bae,hae],i=[];function o(a,u){return a[1]&&a[1].enabled?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function gae(r){let e,t;return e=new an({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function hae(r){let e,t=r[0].empty+"",n,l,s,i,o;return i=new tl({props:{onClick:r[5],icon:Qt,label:"Create Link"}}),{c(){e=I("div"),n=B(t),l=O(),s=I("div"),C(i.$$.fragment)},m(a,u){w(a,e,u),M(e,n),w(a,l,u),w(a,s,u),y(i,s,null),o=!0},p(a,u){(!o||u&1)&&t!==(t=a[0].empty+"")&&he(n,t)},i(a){o||(p(i.$$.fragment,a),o=!0)},o(a){g(i.$$.fragment,a),o=!1},d(a){a&&$(e),a&&$(l),a&&$(s),S(i)}}}function bae(r){let e,t,n,l,s,i,o;return e=new Ps({props:{$$slots:{default:[wae]},$$scope:{ctx:r}}}),l=new tl({props:{appearance:"secondary",onClick:r[6],icon:eE,label:"Regenerate Link"}}),i=new tl({props:{appearance:"secondary",onClick:r[7],icon:tE,label:"Disable Link"}}),{c(){C(e.$$.fragment),t=O(),n=I("div"),C(l.$$.fragment),s=O(),C(i.$$.fragment),D(n,"class","share-control-options svelte-kou0je")},m(a,u){y(e,a,u),w(a,t,u),w(a,n,u),y(l,n,null),M(n,s),y(i,n,null),o=!0},p(a,u){const c={};u&65560&&(c.$$scope={dirty:u,ctx:a}),e.$set(c)},i(a){o||(p(e.$$.fragment,a),p(l.$$.fragment,a),p(i.$$.fragment,a),o=!0)},o(a){g(e.$$.fragment,a),g(l.$$.fragment,a),g(i.$$.fragment,a),o=!1},d(a){S(e,a),a&&$(t),a&&$(n),S(l),S(i)}}}function $ae(r){let e,t;const n=[D1];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Fe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?ce(n,[be(D1)]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function wae(r){let e,t,n,l,s,i,o,a;function u(d){r[12](d)}let c={readonly:!0,value:r[4]};r[3]!==void 0&&(c.element=r[3]),e=new $n({props:c}),ye.push(()=>Pe(e,"element",u)),l=new ut({props:{appearance:"secondary",$$slots:{default:[$ae]},$$scope:{ctx:r}}}),l.$on("click",r[8]);const f=[L1];let m={};for(let d=0;d<f.length;d+=1)m=x(m,f[d]);return o=new Fe({props:m}),{c(){C(e.$$.fragment),n=O(),C(l.$$.fragment),s=O(),i=I("a"),C(o.$$.fragment),D(i,"class","btn btn-secondary"),D(i,"target","_blank"),D(i,"href",r[4])},m(d,_){y(e,d,_),w(d,n,_),y(l,d,_),w(d,s,_),w(d,i,_),y(o,i,null),a=!0},p(d,_){const h={};_&16&&(h.value=d[4]),!t&&_&8&&(t=!0,h.element=d[3],Ne(()=>t=!1)),e.$set(h);const b={};_&65536&&(b.$$scope={dirty:_,ctx:d}),l.$set(b);const v=_&0?ce(f,[be(L1)]):{};o.$set(v),(!a||_&16)&&D(i,"href",d[4])},i(d){a||(p(e.$$.fragment,d),p(l.$$.fragment,d),p(o.$$.fragment,d),a=!0)},o(d){g(e.$$.fragment,d),g(l.$$.fragment,d),g(o.$$.fragment,d),a=!1},d(d){S(e,d),d&&$(n),S(l,d),d&&$(s),d&&$(i),S(o)}}}function vae(r){let e,t,n=r[0].header+"",l,s,i,o=r[0].description+"",a,u,c,f,m,d;const _=[gae,_ae,pae],h=[];function b(v,k){return v[2].state==="processing"?0:v[2].state==="success"?1:2}return f=b(r),m=h[f]=_[f](r),{c(){e=I("div"),t=I("header"),l=B(n),s=O(),i=I("div"),a=B(o),u=O(),c=I("div"),m.c(),D(t,"class","svelte-kou0je"),D(i,"class","description svelte-kou0je"),D(c,"class","content svelte-kou0je"),D(e,"class","share-entity-container svelte-kou0je")},m(v,k){w(v,e,k),M(e,t),M(t,l),M(e,s),M(e,i),M(i,a),M(e,u),M(e,c),h[f].m(c,null),d=!0},p(v,[k]){(!d||k&1)&&n!==(n=v[0].header+"")&&he(l,n),(!d||k&1)&&o!==(o=v[0].description+"")&&he(a,o);let T=f;f=b(v),f===T?h[f].p(v,k):(q(),g(h[T],1,1,()=>{h[T]=null}),U(),m=h[f],m?m.p(v,k):(m=h[f]=_[f](v),m.c()),p(m,1),m.m(c,null))},i(v){d||(p(m),d=!0)},o(v){g(m),d=!1},d(v){v&&$(e),h[f].d()}}}function kae(r,e,t){let n;const l=In("dropdownAccompanyingElements");let{entityId:s}=e,{api:i}=e,{text:o}=e,{getLink:a}=e,u={state:"processing"},c,f;async function m(){if(!i||!s)throw new Error(`Unable to request shares because api or entityId is missing.
        This state should never occur`);try{t(2,u={state:"processing"});const T=await i.list(s);t(1,[c]=T.results,c),t(2,u={state:"success"})}catch(T){t(2,u={state:"failure",errors:TE(T)})}}async function d(){c&&!c.enabled?t(1,c=await i.update(s,c.id,{enabled:!0})):t(1,c=await i.add(s))}function _(){if(!l)return()=>{};const T=document.querySelector(`[data-modal-id='${Ic.modal.modalId}']`);return T?l.add(T):()=>{}}async function h(){if(!c)throw new Error(`Unable to regenerate link for share.
        This state should never occur`);const T=qo({title:"Remove old link and create a new link?",body:["Once you regenerate a new link, the old link will no longer work.","Are you sure you want to proceed?"],proceedButton:{label:"Regenerate Link",icon:void 0}});await Gt();const E=_(),P=await T;E(),P&&(t(1,c=await i.regenerate(s,c.id)),At.success("The link has been successfully regenerated"))}async function b(){if(!c)throw new Error(`Unable to disable share.
        This state should never occur`);const T=qo({title:"Disable Link?",body:"Are you sure you want to proceed?",proceedButton:{label:"Disable Link",icon:void 0}});await Gt();const E=_(),P=await T;E(),P&&t(1,c=await i.update(s,c.id,{enabled:!1}))}async function v(){if(f&&n){f.select();try{await navigator.clipboard.writeText(n)}catch(T){document.execCommand("copy")}At.info("Link copied")}}function k(T){f=T,t(3,f)}return r.$$set=T=>{"entityId"in T&&t(9,s=T.entityId),"api"in T&&t(10,i=T.api),"text"in T&&t(0,o=T.text),"getLink"in T&&t(11,a=T.getLink)},r.$$.update=()=>{r.$$.dirty&2050&&t(4,n=c?`${window.location.origin}${a(c)}`:void 0),r.$$.dirty&1536&&m()},[o,c,u,f,n,d,h,b,v,s,i,a,k]}class Nk extends X{constructor(e){super(),Q(this,e,kae,vae,G,{entityId:9,api:10,text:0,getLink:11})}}function yae(r){return dn(`/api/ui/v0/tables/${r}/shares/`)}function Sae(r,e){return un(`/api/ui/v0/tables/${r}/shares/`,e)}function Cae(r,e,t){return Rr(`/api/ui/v0/tables/${r}/shares/${e}/`,t)}function Tae(r,e){return un(`/api/ui/v0/tables/${r}/shares/${e}/regenerate/`)}const Dae={list:yae,add:Sae,update:Cae,regenerate:Tae};function Iae(r){let e,t,n,l;const s=[Fo];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new Fe({props:i}),{c(){C(e.$$.fragment),t=O(),n=I("span"),n.textContent="Share",D(n,"class","responsive-button-label")},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),l=!0},p(o,a){const u=a&0?ce(s,[be(Fo)]):{};e.$set(u)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),o&&$(n)}}}function Eae(r){let e,t;return e=new Nk({props:{slot:"content",entityId:r[0],api:Dae,text:{header:"Share Table",description:"Give read-only access to this table to anyone via a link.",empty:"This table is currently not shared."},getLink:r[2]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.entityId=n[0]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Mae(r){let e,t;const n=[{showArrow:!1},{triggerAppearance:"secondary"},r[1],{ariaLabel:"Share"}];let l={$$slots:{content:[Eae],trigger:[Iae]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new pl({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&2?ce(n,[n[0],n[1],be(s[1]),n[3]]):{};i&9&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Aae(r,e,t){const n=["id"];let l=Be(e,n),{id:s}=e;const i=o=>uM(o.slug);return r.$$set=o=>{e=x(x({},e),ft(o)),t(1,l=Be(e,n)),"id"in o&&t(0,s=o.id)},[s,l,i]}class Rae extends X{constructor(e){super(),Q(this,e,Aae,Mae,G,{id:0})}}function R3(r){let e,t;return e=new Sf({props:{requestState:r[13]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8192&&(s.requestState=n[13]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Pae(r){let e,t,n,l,s,i,o,a,u;t=new Pk({props:{filtering:r[8],canViewLinkedEntities:r[3]}}),l=new Lk({props:{sorting:r[7]}}),i=new Ok({props:{grouping:r[6]}});let c=r[0]==="page"&&R3(r);return{c(){e=I("div"),C(t.$$.fragment),n=O(),C(l.$$.fragment),s=O(),C(i.$$.fragment),o=O(),c&&c.c(),a=ae(),D(e,"class","quick-access svelte-1yr7j0")},m(f,m){w(f,e,m),y(t,e,null),M(e,n),y(l,e,null),M(e,s),y(i,e,null),w(f,o,m),c&&c.m(f,m),w(f,a,m),u=!0},p(f,m){const d={};m&256&&(d.filtering=f[8]),m&8&&(d.canViewLinkedEntities=f[3]),t.$set(d);const _={};m&128&&(_.sorting=f[7]),l.$set(_);const h={};m&64&&(h.grouping=f[6]),i.$set(h),f[0]==="page"?c?(c.p(f,m),m&1&&p(c,1)):(c=R3(f),c.c(),p(c,1),c.m(a.parentNode,a)):c&&(q(),g(c,1,1,()=>{c=null}),U())},i(f){u||(p(t.$$.fragment,f),p(l.$$.fragment,f),p(i.$$.fragment,f),p(c),u=!0)},o(f){g(t.$$.fragment,f),g(l.$$.fragment,f),g(i.$$.fragment,f),g(c),u=!1},d(f){f&&$(e),S(t),S(l),S(i),f&&$(o),c&&c.d(f),f&&$(a)}}}function P3(r){let e,t,n,l=r[4]&&O3(r);return t=new ut({props:{appearance:"secondary",size:"medium",disabled:r[12],active:r[11],"aria-label":"Inspector",$$slots:{default:[Oae]},$$scope:{ctx:r}}}),t.$on("click",r[16]),{c(){l&&l.c(),e=O(),C(t.$$.fragment)},m(s,i){l&&l.m(s,i),w(s,e,i),y(t,s,i),n=!0},p(s,i){s[4]?l?(l.p(s,i),i&16&&p(l,1)):(l=O3(s),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(q(),g(l,1,1,()=>{l=null}),U());const o={};i&4096&&(o.disabled=s[12]),i&2048&&(o.active=s[11]),i&8388608&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){n||(p(l),p(t.$$.fragment,s),n=!0)},o(s){g(l),g(t.$$.fragment,s),n=!1},d(s){l&&l.d(s),s&&$(e),S(t,s)}}}function O3(r){let e,t;return e=new Rae({props:{id:r[10]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1024&&(s.id=n[10]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Oae(r){let e,t,n,l;const s=[Ds];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new Fe({props:i}),{c(){C(e.$$.fragment),t=O(),n=I("span"),n.textContent="Inspector",D(n,"class","responsive-button-label")},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),l=!0},p(o,a){const u=a&0?ce(s,[be(Ds)]):{};e.$set(u)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),o&&$(n)}}}function Lae(r){let e,t,n=r[0]==="page"&&P3(r);return{c(){e=I("div"),n&&n.c(),D(e,"class","aux-actions svelte-1yr7j0"),D(e,"slot","actions-right")},m(l,s){w(l,e,s),n&&n.m(e,null),t=!0},p(l,s){l[0]==="page"?n?(n.p(l,s),s&1&&p(n,1)):(n=P3(l),n.c(),p(n,1),n.m(e,null)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){l&&$(e),n&&n.d()}}}function Nae(r){var n;let e,t;return e=new Cf({props:{title:{name:r[1].name,description:(n=r[1].description)!=null?n:void 0,icon:Bl},$$slots:{"actions-right":[Lae],default:[Pae]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,[s]){var o;const i={};s&2&&(i.title={name:l[1].name,description:(o=l[1].description)!=null?o:void 0,icon:Bl}),s&8404441&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function Fae(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,_,h=z,b=()=>(h(),h=se(f,te=>t(11,_=te)),f),v,k,T,E,P,R=z,L=()=>(R(),R=se(s,te=>t(12,P=te)),s),A,N=z,F=()=>(N(),N=se(c,te=>t(13,A=te)),c);de(r,hn,te=>t(19,v=te)),de(r,gn,te=>t(20,k=te)),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>R()),r.$$.on_destroy.push(()=>N());const K=Rt();de(r,K,te=>t(22,E=te));const W=Xt();de(r,W,te=>t(21,T=te));let{context:j="page"}=e,{table:Y}=e;function oe(){f.set(!_)}return r.$$set=te=>{"context"in te&&t(0,j=te.context),"table"in te&&t(1,Y=te.table)},r.$$.update=()=>{r.$$.dirty&4194304&&t(10,{id:n,meta:l,isLoading:s,display:i}=E,n,(t(18,l),t(22,E)),L(t(9,s)),(t(17,i),t(22,E))),r.$$.dirty&262144&&t(8,{filtering:o,sorting:a,grouping:u,sheetState:c}=l,o,(t(7,a),t(18,l),t(22,E)),(t(6,u),t(18,l),t(22,E)),F(t(5,c))),r.$$.dirty&131072&&b(t(2,{isTableInspectorVisible:f}=i,f)),r.$$.dirty&3670016&&t(4,m=!!(T!=null&&T.hasPermission({database:k,schema:v},"canEditMetadata"))),r.$$.dirty&3670016&&t(3,d=!!(T!=null&&T.hasPermission({database:k,schema:v},"canViewLinkedEntities")))},[j,Y,f,d,m,c,u,a,o,s,n,_,P,A,K,W,oe,i,l,v,k,T,E]}class zae extends X{constructor(e){super(),Q(this,e,Fae,Nae,G,{context:0,table:1})}}function Hae(r){let e,t,n,l,s;return t=new zae({props:{table:r[0],context:r[1]}}),l=new Rk({props:{table:r[0],context:r[1]}}),{c(){e=I("div"),C(t.$$.fragment),n=O(),C(l.$$.fragment),D(e,"class","table-page svelte-cngme6")},m(i,o){w(i,e,o),y(t,e,null),M(e,n),y(l,e,null),s=!0},p(i,o){const a={};o&1&&(a.table=i[0]),o&2&&(a.context=i[1]),t.$set(a);const u={};o&1&&(u.table=i[0]),o&2&&(u.context=i[1]),l.$set(u)},i(i){s||(p(t.$$.fragment,i),p(l.$$.fragment,i),s=!0)},o(i){g(t.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){i&&$(e),S(t),S(l)}}}function Vae(r){let e,t,n,l;return document.title=e=Rn(r[0].name),n=new Or({props:{fitViewport:!0,restrictWidth:!1,$$slots:{default:[Hae]},$$scope:{ctx:r}}}),{c(){t=O(),C(n.$$.fragment)},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,[i]){(!l||i&1)&&e!==(e=Rn(s[0].name))&&(document.title=e);const o={};i&8195&&(o.$$scope={dirty:i,ctx:s}),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}const L3="q";function qae(r,e,t){let n,l,s,i,o,a,u=z,c=()=>(u(),u=se(o,k=>t(8,a=k)),o),f,m;de(r,on,k=>t(9,f=k)),de(r,sr,k=>t(10,m=k)),r.$$.on_destroy.push(()=>u());const d=_f(void 0);FZ();let{table:_}=e,{shareConsumer:h=void 0}=e,b="page";function v(k){on.location.query.set(L3,k)}return r.$$set=k=>{"table"in k&&t(0,_=k.table),"shareConsumer"in k&&t(3,h=k.shareConsumer)},r.$$.update=()=>{var k;r.$$.dirty&1024&&t(6,n=m.data),r.$$.dirty&512&&t(7,{query:l}=f,l),r.$$.dirty&128&&t(5,s=Xl.fromSerialization((k=l[L3])!=null?k:"")),r.$$.dirty&105&&t(4,i=new Ya({id:_.id,abstractTypesMap:n,meta:s,table:_,shareConsumer:h})),r.$$.dirty&16&&d.set(i),r.$$.dirty&8&&t(1,b=h?"shared-consumer-page":"page"),r.$$.dirty&16&&c(t(2,o=i.meta.serialization)),r.$$.dirty&256&&v(a)},[_,b,o,h,i,s,n,l,a,f,m]}class Fk extends X{constructor(e){super(),Q(this,e,qae,Vae,G,{table:0,shareConsumer:3})}}function N3(r){return{columnErrors:r,recordErrors:[]}}function sc(r){return{columnErrors:new vt,recordErrors:r}}function Uae(){return sc([])}function Wae(r,e){return r.withEntries(e,(t,n)=>[...t,...n])}function Bae(r,e){return{columnErrors:Wae(r.columnErrors,e.columnErrors),recordErrors:[...r.recordErrors,...e.recordErrors]}}const jae=[r=>{if(!!Rl(r,"constraint_columns")&&!!Array.isArray(r.constraint_columns)&&!!fa(r,"original_details"))return new vt(r.constraint_columns.filter(by).map(e=>[e,[r.original_details]]))}];function F3(r){for(const e of jae){const t=e(r);if(t)return t}}function zk(r){{const e=F3(r);if(e)return N3(e)}if(r instanceof Ec){const e=F3(r.detail);return e?N3(e):sc([r.message])}return r instanceof Hs?r.errors.map(zk).reduce(Bae,Uae()):sc([en(r)])}function Yae(r){var n;let e,t;return e=new Sf({props:{hasChanges:r[1],requestState:(n=r[3])==null?void 0:n.state}}),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,[s]){var o;const i={};s&2&&(i.hasChanges=l[1]),s&8&&(i.requestState=(o=l[3])==null?void 0:o.state),e.$set(i)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function Kae(r,e,t){let n,l,s,i=z,o=()=>(i(),i=se(f,m=>t(4,s=m)),f),a,u=z,c=()=>(u(),u=se(n,m=>t(3,a=m)),n);r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>u());let{form:f}=e;return o(),r.$$set=m=>{"form"in m&&o(t(0,f=m.form))},r.$$.update=()=>{r.$$.dirty&1&&c(t(2,{requestStatus:n}=f,n)),r.$$.dirty&16&&t(1,{hasChanges:l}=s,l)},[f,l,n,a,s]}class Gae extends X{constructor(e){super(),Q(this,e,Kae,Yae,G,{form:0})}}const Qae=r=>({}),z3=r=>({});function H3(r){let e,t;const n=r[2].header,l=De(n,r,r[1],z3);return{c(){e=I("div"),l&&l.c(),D(e,"class","header")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,i){l&&l.p&&(!t||i&2)&&Ee(l,n,s,s[1],t?Ie(n,s[1],i,Qae):Me(s[1]),z3)},i(s){t||(p(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&$(e),l&&l.d(s)}}}function Xae(r){let e,t,n,l,s=r[0].header&&H3(r);const i=r[2].default,o=De(i,r,r[1],null);return{c(){e=I("div"),s&&s.c(),t=O(),n=I("div"),o&&o.c(),D(n,"class","section svelte-gk8umx"),D(e,"class","inset-page-section")},m(a,u){w(a,e,u),s&&s.m(e,null),M(e,t),M(e,n),o&&o.m(n,null),l=!0},p(a,[u]){a[0].header?s?(s.p(a,u),u&1&&p(s,1)):(s=H3(a),s.c(),p(s,1),s.m(e,t)):s&&(q(),g(s,1,1,()=>{s=null}),U()),o&&o.p&&(!l||u&2)&&Ee(o,i,a,a[1],l?Ie(i,a[1],u,null):Me(a[1]),null)},i(a){l||(p(s),p(o,a),l=!0)},o(a){g(s),g(o,a),l=!1},d(a){a&&$(e),s&&s.d(),o&&o.d(a)}}}function Jae(r,e,t){let{$$slots:n={},$$scope:l}=e;const s=lr(n);return r.$$set=i=>{"$$scope"in i&&t(1,l=i.$$scope)},[s,l,n]}class sa extends X{constructor(e){super(),Q(this,e,Jae,Xae,G,{})}}const Zae=r=>({}),V3=r=>({});function xae(r){let e,t;return e=new sa({props:{$$slots:{default:[tue]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function eue(r){let e;const t=r[1].default,n=De(t,r,r[2],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&4)&&Ee(n,t,l,l[2],e?Ie(t,l[2],s,null):Me(l[2]),null)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function tue(r){let e;const t=r[1].default,n=De(t,r,r[2],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&4)&&Ee(n,t,l,l[2],e?Ie(t,l[2],s,null):Me(l[2]),null)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function nue(r){let e,t,n,l,s,i,o;const a=r[1].header,u=De(a,r,r[2],V3),c=[eue,xae],f=[];function m(d,_){return d[0]?0:1}return s=m(r),i=f[s]=c[s](r),{c(){e=I("div"),t=I("div"),u&&u.c(),n=O(),l=I("div"),i.c(),D(t,"class","header restrict-width svelte-u2qdd0"),D(l,"class","page restrict-width svelte-u2qdd0"),D(e,"class","inset-page-layout svelte-u2qdd0")},m(d,_){w(d,e,_),M(e,t),u&&u.m(t,null),M(e,n),M(e,l),f[s].m(l,null),o=!0},p(d,[_]){u&&u.p&&(!o||_&4)&&Ee(u,a,d,d[2],o?Ie(a,d[2],_,Zae):Me(d[2]),V3);let h=s;s=m(d),s===h?f[s].p(d,_):(q(),g(f[h],1,1,()=>{f[h]=null}),U(),i=f[s],i?i.p(d,_):(i=f[s]=c[s](d),i.c()),p(i,1),i.m(l,null))},i(d){o||(p(u,d),p(i),o=!0)},o(d){g(u,d),g(i),o=!1},d(d){d&&$(e),u&&u.d(d),f[s].d()}}}function rue(r,e,t){let{$$slots:n={},$$scope:l}=e,{hasMultipleSections:s=!1}=e;return r.$$set=i=>{"hasMultipleSections"in i&&t(0,s=i.hasMultipleSections),"$$scope"in i&&t(2,l=i.$$scope)},[s,n,l]}class Of extends X{constructor(e){super(),Q(this,e,rue,nue,G,{hasMultipleSections:0})}}function lue(r){let e,t;return e=new Bs({props:{processedColumn:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.processedColumn=n[0]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function sue(r){let e,t,n;return t=new Us({}),{c(){e=B("Set to "),C(t.$$.fragment)},m(l,s){w(l,e,s),y(t,l,s),n=!0},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t,l)}}}function iue(r){let e,t;return e=new xt({props:{icon:Z$,disabled:r[5],$$slots:{default:[sue]},$$scope:{ctx:r}}}),e.$on("click",r[23]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.disabled=n[5]),l&134217728&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function q3(r){let e,t,n;return t=new Us({}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","null svelte-e4chwr")},m(l,s){w(l,e,s),y(t,e,null),n=!0},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function oue(r){var E;let e,t,n,l,s,i,o,a,u,c,f,m,d,_,h,b;s=new Li({props:{controller:r[13],$$slots:{default:[lue]},$$scope:{ctx:r}}}),a=new Ar({props:{showArrow:!1,triggerAppearance:"plain",closeOnInnerClick:!0,ariaLabel:r[2].name+" Field Options",icon:Jn,$$slots:{default:[iue]},$$scope:{ctx:r}}});let v=r[3]===null&&r[4]&&q3();function k(P){r[25](P)}let T={disabled:r[5],componentAndProps:r[0].inputComponentAndProps,labelController:r[13],recordSummary:(E=r[10].get(String(r[2].id)))==null?void 0:E.get(String(r[8])),setRecordSummary:r[24],hasError:r[11]};return r[3]!==void 0&&(T.value=r[3]),m=new Ga({props:T}),ye.push(()=>Pe(m,"value",k)),h=new ff({props:{field:r[1]}}),{c(){e=I("div"),t=I("div"),n=I("div"),l=I("div"),C(s.$$.fragment),i=O(),o=I("div"),C(a.$$.fragment),u=O(),c=I("div"),v&&v.c(),f=O(),C(m.$$.fragment),_=O(),C(h.$$.fragment),D(l,"class","label svelte-e4chwr"),D(o,"class","options svelte-e4chwr"),D(n,"class","complex-label svelte-e4chwr"),D(t,"class","left cell svelte-e4chwr"),D(c,"class","input cell svelte-e4chwr"),D(e,"class","direct-field svelte-e4chwr")},m(P,R){w(P,e,R),M(e,t),M(t,n),M(n,l),y(s,l,null),M(n,i),M(n,o),y(a,o,null),M(e,u),M(e,c),v&&v.m(c,null),M(c,f),y(m,c,null),M(c,_),y(h,c,null),b=!0},p(P,[R]){var K;const L={};R&134217729&&(L.$$scope={dirty:R,ctx:P}),s.$set(L);const A={};R&4&&(A.ariaLabel=P[2].name+" Field Options"),R&134217762&&(A.$$scope={dirty:R,ctx:P}),a.$set(A),P[3]===null&&P[4]?v?R&24&&p(v,1):(v=q3(),v.c(),p(v,1),v.m(c,f)):v&&(q(),g(v,1,1,()=>{v=null}),U());const N={};R&32&&(N.disabled=P[5]),R&1&&(N.componentAndProps=P[0].inputComponentAndProps),R&1284&&(N.recordSummary=(K=P[10].get(String(P[2].id)))==null?void 0:K.get(String(P[8]))),R&516&&(N.setRecordSummary=P[24]),R&2048&&(N.hasError=P[11]),!d&&R&8&&(d=!0,N.value=P[3],Ne(()=>d=!1)),m.$set(N);const F={};R&2&&(F.field=P[1]),h.$set(F)},i(P){b||(p(s.$$.fragment,P),p(a.$$.fragment,P),p(v),p(m.$$.fragment,P),p(h.$$.fragment,P),b=!0)},o(P){g(s.$$.fragment,P),g(a.$$.fragment,P),g(v),g(m.$$.fragment,P),g(h.$$.fragment,P),b=!1},d(P){P&&$(e),S(s),S(a),v&&v.d(),S(m),S(h)}}}function aue(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,_,h=z,b=()=>(h(),h=se(c,ie=>t(19,_=ie)),c),v,k=z,T=()=>(k(),k=se(H,ie=>t(3,v=ie)),H),E,P,R,L,A=z,N=()=>(A(),A=se(i,ie=>t(10,L=ie)),i),F,K=z,W=()=>(K(),K=se(f,ie=>t(11,F=ie)),f);de(r,hn,ie=>t(21,P=ie)),de(r,gn,ie=>t(22,R=ie)),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>k()),r.$$.on_destroy.push(()=>A()),r.$$.on_destroy.push(()=>K());const j=Xt();de(r,j,ie=>t(20,E=ie));const Y=new Set(["date","datetime","duration","time"]),oe=new pa;let{record:te}=e,{processedColumn:ne}=e,{field:H}=e;T();const ee=()=>H.set(null),pe=(ie,me)=>i.addBespokeRecordSummary({columnId:String(o.id),recordId:ie,recordSummary:me});function ue(ie){v=ie,H.set(v)}return r.$$set=ie=>{"record"in ie&&t(14,te=ie.record),"processedColumn"in ie&&t(0,ne=ie.processedColumn),"field"in ie&&T(t(1,H=ie.field))},r.$$.update=()=>{var ie;r.$$.dirty&4194304&&t(18,n=R),r.$$.dirty&2097152&&t(17,l=P),r.$$.dirty&1441792&&t(16,s=(ie=E==null?void 0:E.hasPermission({database:n,schema:l},"canEditTableRecords"))!=null?ie:!1),r.$$.dirty&16384&&N(t(9,{recordSummaries:i}=te,i)),r.$$.dirty&1&&t(2,{column:o,abstractType:a}=ne,o,(t(15,a),t(0,ne))),r.$$.dirty&8&&t(8,u=v),r.$$.dirty&2&&b(t(7,c=H.disabled)),r.$$.dirty&2&&W(t(6,{showsError:f}=H,f)),r.$$.dirty&589828&&t(5,m=o.primary_key||!s||_),r.$$.dirty&32768&&t(4,d=!Y.has(a.cellInfo.type))},[ne,H,o,v,d,m,f,c,u,i,L,F,j,oe,te,a,s,l,n,_,E,P,R,ee,pe,ue]}class uue extends X{constructor(e){super(),Q(this,e,aue,oue,G,{record:14,processedColumn:0,field:1})}}function cue(r){let e,t,n;return t=new an({}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","record-page-loading-spinner svelte-covpeg")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p:z,i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}class Hk extends X{constructor(e){super(),Q(this,e,null,cue,G,{})}}function fue(r){let e,t,n,l,s,i,o;const a=[{filtering:r[2]},{canViewLinkedEntities:r[3]},r[5]];let u={};for(let _=0;_<a.length;_+=1)u=x(u,a[_]);t=new Pk({props:u});const c=[{sorting:r[1]},r[5]];let f={};for(let _=0;_<c.length;_+=1)f=x(f,c[_]);l=new Lk({props:f});const m=[{grouping:r[0]},r[5]];let d={};for(let _=0;_<m.length;_+=1)d=x(d,m[_]);return i=new Ok({props:d}),{c(){e=I("div"),C(t.$$.fragment),n=O(),C(l.$$.fragment),s=O(),C(i.$$.fragment),D(e,"class","mini-actions-pane svelte-17z38bs")},m(_,h){w(_,e,h),y(t,e,null),M(e,n),y(l,e,null),M(e,s),y(i,e,null),o=!0},p(_,[h]){const b=h&44?ce(a,[h&4&&{filtering:_[2]},h&8&&{canViewLinkedEntities:_[3]},h&32&&be(_[5])]):{};t.$set(b);const v=h&34?ce(c,[h&2&&{sorting:_[1]},h&32&&be(_[5])]):{};l.$set(v);const k=h&33?ce(m,[h&1&&{grouping:_[0]},h&32&&be(_[5])]):{};i.$set(k)},i(_){o||(p(t.$$.fragment,_),p(l.$$.fragment,_),p(i.$$.fragment,_),o=!0)},o(_){g(t.$$.fragment,_),g(l.$$.fragment,_),g(i.$$.fragment,_),o=!1},d(_){_&&$(e),S(t),S(l),S(i)}}}function mue(r,e,t){let n,l,s,i,o,a,u,c,f;de(r,hn,h=>t(9,u=h)),de(r,gn,h=>t(10,c=h));const m=Xt();de(r,m,h=>t(11,f=h));const d={placement:"bottom-end",size:"small"},_=Rt();return de(r,_,h=>t(8,a=h)),r.$$.update=()=>{r.$$.dirty&3584&&t(3,n=!!(f!=null&&f.hasPermission({database:c,schema:u},"canViewLinkedEntities"))),r.$$.dirty&256&&t(7,{meta:l}=a,l),r.$$.dirty&128&&t(2,{filtering:s,sorting:i,grouping:o}=l,s,(t(1,i),t(7,l),t(8,a)),(t(0,o),t(7,l),t(8,a)))},[o,i,s,n,m,d,_,l,a,u,c,f]}class due extends X{constructor(e){super(),Q(this,e,mue,fue,G,{})}}function pue(r){let e,t,n,l,s,i,o,a,u,c;return l=new Cn({props:{table:r[0]}}),i=new due({}),u=new Rk({props:{context:"widget",table:r[0]}}),{c(){e=I("div"),t=I("div"),n=I("h3"),C(l.$$.fragment),s=O(),C(i.$$.fragment),o=O(),a=I("div"),C(u.$$.fragment),D(n,"class","bold-header"),D(t,"class","top svelte-11m8z5a"),D(a,"class","results"),D(e,"class","table-widget")},m(f,m){w(f,e,m),M(e,t),M(t,n),y(l,n,null),M(t,s),y(i,t,null),M(e,o),M(e,a),y(u,a,null),c=!0},p(f,[m]){const d={};m&1&&(d.table=f[0]),l.$set(d);const _={};m&1&&(_.table=f[0]),u.$set(_)},i(f){c||(p(l.$$.fragment,f),p(i.$$.fragment,f),p(u.$$.fragment,f),c=!0)},o(f){g(l.$$.fragment,f),g(i.$$.fragment,f),g(u.$$.fragment,f),c=!1},d(f){f&&$(e),S(l),S(i),S(u)}}}function _ue(r,e,t){let n,l,s;de(r,sr,f=>t(5,s=f));const i=_f(void 0),o=new Xl({pagination:new Mr({size:10})});let{recordPk:a}=e,{table:u}=e,{fkColumn:c}=e;return r.$$set=f=>{"recordPk"in f&&t(1,a=f.recordPk),"table"in f&&t(0,u=f.table),"fkColumn"in f&&t(2,c=f.fkColumn)},r.$$.update=()=>{r.$$.dirty&32&&t(4,n=s.data),r.$$.dirty&23&&t(3,l=new Ya({id:u.id,abstractTypesMap:n,meta:o,contextualFilters:new Map([[c.id,a]]),table:u})),r.$$.dirty&8&&i.set(l)},[u,a,c,l,n,s]}class gue extends X{constructor(e){super(),Q(this,e,_ue,pue,G,{recordPk:1,table:0,fkColumn:2})}}const{Map:hue}=ua;function U3(r,e,t){const n=r.slice();return n[7]=e[t].table,n[8]=e[t].fkColumn,n}function bue(r){let e;return{c(){e=I("div"),D(e,"class","no-widgets svelte-1rgq9rb")},m(t,n){w(t,e,n)},p:z,i:z,o:z,d(t){t&&$(e)}}}function $ue(r){let e,t,n,l,s,i,o=[],a=new hue,u;l=new Wn({props:{$$slots:{default:[vue]},$$scope:{ctx:r}}});let c=r[2];const f=m=>`${m[7].id}-${m[8].id}`;for(let m=0;m<c.length;m+=1){let d=U3(r,c,m),_=f(d);a.set(_,o[m]=W3(_,d))}return{c(){e=I("div"),t=I("h2"),n=B(`Related Records
      `),C(l.$$.fragment),s=O(),i=I("div");for(let m=0;m<o.length;m+=1)o[m].c();D(t,"class","passthrough svelte-1rgq9rb"),D(i,"class","widgets svelte-1rgq9rb"),D(e,"class","widgets-area svelte-1rgq9rb")},m(m,d){w(m,e,d),M(e,t),M(t,n),y(l,t,null),M(e,s),M(e,i);for(let _=0;_<o.length;_+=1)o[_].m(i,null);u=!0},p(m,d){const _={};d&2050&&(_.$$scope={dirty:d,ctx:m}),l.$set(_),d&5&&(c=m[2],q(),o=pt(o,d,f,1,m,c,a,i,ht,W3,null,U3),U())},i(m){if(!u){p(l.$$.fragment,m);for(let d=0;d<c.length;d+=1)p(o[d]);u=!0}},o(m){g(l.$$.fragment,m);for(let d=0;d<o.length;d+=1)g(o[d]);u=!1},d(m){m&&$(e),S(l);for(let d=0;d<o.length;d+=1)o[d].d()}}}function wue(r){let e,t;return{c(){e=I("strong"),t=B(r[1])},m(n,l){w(n,e,l),M(e,t)},p(n,l){l&2&&he(t,n[1])},d(n){n&&$(e)}}}function vue(r){let e,t,n,l;return t=new En({props:{icon:hi,truncate:!1,$$slots:{default:[wue]},$$scope:{ctx:r}}}),{c(){e=B(`Each of the following records links to
        `),C(t.$$.fragment),n=B(`
        from another table.`)},m(s,i){w(s,e,i),y(t,s,i),w(s,n,i),l=!0},p(s,i){const o={};i&2050&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){l||(p(t.$$.fragment,s),l=!0)},o(s){g(t.$$.fragment,s),l=!1},d(s){s&&$(e),S(t,s),s&&$(n)}}}function W3(r,e){let t,n,l,s;return n=new gue({props:{recordPk:e[0],table:e[7],fkColumn:e[8]}}),{key:r,first:null,c(){t=I("section"),C(n.$$.fragment),l=O(),D(t,"class","table-widget-positioner svelte-1rgq9rb"),this.first=t},m(i,o){w(i,t,o),y(n,t,null),M(t,l),s=!0},p(i,o){e=i;const a={};o&1&&(a.recordPk=e[0]),o&4&&(a.table=e[7]),o&4&&(a.fkColumn=e[8]),n.$set(a)},i(i){s||(p(n.$$.fragment,i),s=!0)},o(i){g(n.$$.fragment,i),s=!1},d(i){i&&$(t),S(n)}}}function kue(r){let e,t,n,l;const s=[$ue,bue],i=[];function o(a,u){return a[2].length?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function yue(r,e,t){let n,l,s;de(r,ln,c=>t(5,s=c));let{recordPk:i}=e,{recordSummary:o}=e,{joinableTablesResult:a}=e;function u(c){var _;const f=s.data.get(c.target);if(!f)return;const m=c.jp_path[0].slice(-1)[0],d=(_=n.get(m))!=null?_:"(unknown column)";return{table:f,fkColumn:{id:m,name:d}}}return r.$$set=c=>{"recordPk"in c&&t(0,i=c.recordPk),"recordSummary"in c&&t(1,o=c.recordSummary),"joinableTablesResult"in c&&t(3,a=c.joinableTablesResult)},r.$$.update=()=>{r.$$.dirty&8&&(n=new Map(Object.entries(a.columns).map(([c,f])=>[parseInt(c,10),f.name]))),r.$$.dirty&8&&t(2,l=a.joinable_tables.filter(c=>c.multiple_results).map(u).filter(mn).sort((c,f)=>c.table.name.localeCompare(f.table.name)))},[i,o,l,a]}class Sue extends X{constructor(e){super(),Q(this,e,yue,kue,G,{recordPk:0,recordSummary:1,joinableTablesResult:3})}}function B3(r,e,t){const n=r.slice();return n[19]=e[t].field,n[20]=e[t].processedColumn,n}function j3(r,e){let t,n,l;return n=new uue({props:{record:e[0],processedColumn:e[20],field:e[19]}}),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&1&&(o.record=e[0]),i&4&&(o.processedColumn=e[20]),i&4&&(o.field=e[19]),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}function Cue(r){let e,t=[],n=new Map,l,s,i,o,a=r[2];const u=c=>c[20].id;for(let c=0;c<a.length;c+=1){let f=B3(r,a,c),m=u(f);n.set(m,t[c]=j3(m,f))}return i=new bl({props:{form:r[3],catchErrors:!0,proceedButton:{label:"Save",icon:Dc},cancelButton:{label:"Discard Changes",icon:No},onProceed:r[16],getErrorMessages:r[17],initiallyHidden:!0}}),{c(){e=I("div");for(let c=0;c<t.length;c+=1)t[c].c();l=O(),s=I("div"),C(i.$$.fragment),D(e,"class","fields svelte-4domsl"),D(s,"class","submit svelte-4domsl")},m(c,f){w(c,e,f);for(let m=0;m<t.length;m+=1)t[m].m(e,null);w(c,l,f),w(c,s,f),y(i,s,null),o=!0},p(c,f){f&5&&(a=c[2],q(),t=pt(t,f,u,1,c,a,n,e,ht,j3,null,B3),U());const m={};f&8&&(m.form=c[3]),f&1025&&(m.onProceed=c[16]),f&2&&(m.getErrorMessages=c[17]),i.$set(m)},i(c){if(!o){for(let f=0;f<a.length;f+=1)p(t[f]);p(i.$$.fragment,c),o=!0}},o(c){for(let f=0;f<t.length;f+=1)g(t[f]);g(i.$$.fragment,c),o=!1},d(c){c&&$(e);for(let f=0;f<t.length;f+=1)t[f].d();c&&$(l),c&&$(s),S(i)}}}function Tue(r){let e,t;return e=new Ha({props:{recordSummary:r[9]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&512&&(s.recordSummary=n[9]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Due(r){let e,t,n,l,s,i,o,a,u,c,f,m;return n=new En({props:{icon:hi,$$slots:{default:[Tue]},$$scope:{ctx:r}}}),a=new Cn({props:{table:r[8],truncate:!1}}),f=new Gae({props:{form:r[3]}}),{c(){e=I("div"),t=I("h1"),C(n.$$.fragment),l=O(),s=I("div"),i=B(`Record in
        `),o=I("strong"),C(a.$$.fragment),u=O(),c=I("div"),C(f.$$.fragment),D(t,"class","title svelte-4domsl"),D(s,"class","table-name svelte-4domsl"),D(c,"class","form-status svelte-4domsl"),D(e,"slot","header"),D(e,"class","header svelte-4domsl")},m(d,_){w(d,e,_),M(e,t),y(n,t,null),M(e,l),M(e,s),M(s,i),M(s,o),y(a,o,null),M(e,u),M(e,c),y(f,c,null),m=!0},p(d,_){const h={};_&8389120&&(h.$$scope={dirty:_,ctx:d}),n.$set(h);const b={};_&256&&(b.table=d[8]),a.$set(b);const v={};_&8&&(v.form=d[3]),f.$set(v)},i(d){m||(p(n.$$.fragment,d),p(a.$$.fragment,d),p(f.$$.fragment,d),m=!0)},o(d){g(n.$$.fragment,d),g(a.$$.fragment,d),g(f.$$.fragment,d),m=!1},d(d){d&&$(e),S(n),S(a),S(f)}}}function Iue(r){return{c:z,m:z,p:z,i:z,o:z,d:z}}function Eue(r){let e,t;return e=new Sue({props:{joinableTablesResult:r[18],recordPk:r[6],recordSummary:r[9]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&256&&(s.joinableTablesResult=n[18]),l&64&&(s.recordPk=n[6]),l&512&&(s.recordSummary=n[9]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Mue(r){let e,t;return e=new Hk({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Aue(r){let e,t,n,l,s;t=new Of({props:{$$slots:{header:[Due],default:[Cue]},$$scope:{ctx:r}}});let i={ctx:r,current:null,token:null,hasCatch:!1,pending:Mue,then:Eue,catch:Iue,value:18,blocks:[,,,]};return Cl(l=r[11](r[8].id),i),{c(){e=I("div"),C(t.$$.fragment),n=O(),i.block.c(),D(e,"class","record-page-content svelte-4domsl")},m(o,a){w(o,e,a),y(t,e,null),M(e,n),i.block.m(e,i.anchor=null),i.mount=()=>e,i.anchor=null,s=!0},p(o,[a]){r=o;const u={};a&8390415&&(u.$$scope={dirty:a,ctx:r}),t.$set(u),i.ctx=r,a&256&&l!==(l=r[11](r[8].id))&&Cl(l,i)||aa(i,r,a)},i(o){s||(p(t.$$.fragment,o),p(i.block),s=!0)},o(o){g(t.$$.fragment,o);for(let a=0;a<3;a+=1){const u=i.blocks[a];g(u)}s=!1},d(o){o&&$(e),S(t),i.block.d(),i.token=null,i=null}}}function Rue(r,e,t){let n,l,s,i,o,a,u,c,f,m=z,d=()=>(m(),m=se(o,j=>t(13,f=j)),o),_,h=z,b=()=>(h(),h=se(l,j=>t(14,_=j)),l),v,k,T=z,E=()=>(T(),T=se(i,j=>t(9,k=j)),i),P,R=z,L=()=>(R(),R=se(c,j=>t(10,P=j)),c);de(r,Ll,j=>t(15,v=j)),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>T()),r.$$.on_destroy.push(()=>R());let{record:A}=e,{tableStructure:N}=e;function F(j){return dn(`/api/db/v0/tables/${j}/joinable_tables/?max_depth=1`)}const K=()=>A.patch(P.values),W=j=>{var te;const{columnErrors:Y,recordErrors:oe}=zk(j);for(const[ne,H]of Y)(te=u[ne])==null||te.serverErrors.set(H);return oe};return r.$$set=j=>{"record"in j&&t(0,A=j.record),"tableStructure"in j&&t(12,N=j.tableStructure)},r.$$.update=()=>{r.$$.dirty&32768&&t(8,n=v),r.$$.dirty&4096&&b(t(7,{processedColumns:l}=N,l)),r.$$.dirty&1&&t(6,{recordPk:s,summary:i,fieldValues:o}=A,s,E(t(5,i)),d(t(4,o))),r.$$.dirty&24576&&t(2,a=[..._.values()].map(j=>({processedColumn:j,field:Ti(f.get(j.id))}))),r.$$.dirty&4&&t(1,u=Object.fromEntries(a.map(j=>[j.processedColumn.id,j.field]))),r.$$.dirty&2&&L(t(3,c=Vn(u)))},[A,u,a,c,o,i,s,l,n,k,P,F,N,f,_,v,K,W]}class Pue extends X{constructor(e){super(),Q(this,e,Rue,Aue,G,{record:0,tableStructure:12})}}function Oue(r){let e,t;return e=new Pue({props:{tableStructure:r[1],record:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.tableStructure=n[1]),l&1&&(s.record=n[0]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Lue(r){let e,t;return e=new Hk({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Nue(r){let e,t,n,l;const s=[Lue,Oue],i=[];function o(a,u){return a[3]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function Fue(r){let e,t,n,l;return document.title=e=Rn(r[2]),n=new Or({props:{cssVariables:{"--page-padding":"0"},fitViewport:!0,$$slots:{default:[Nue]},$$scope:{ctx:r}}}),{c(){t=O(),C(n.$$.fragment)},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,[i]){(!l||i&4)&&e!==(e=Rn(s[2]))&&(document.title=e);const o={};i&16395&&(o.$$scope={dirty:i,ctx:s}),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}function zue(r,e,t){let n,l,s,i,o,a,u,c,f,m=z,d=()=>(m(),m=se(o,L=>t(9,f=L)),o),_,h=z,b=()=>(h(),h=se(s,L=>t(10,_=L)),s),v,k=z,T=()=>(k(),k=se(i,L=>t(11,v=L)),i),E,P;de(r,sr,L=>t(12,E=L)),de(r,Ll,L=>t(13,P=L)),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>k());let{record:R}=e;return r.$$set=L=>{"record"in L&&t(0,R=L.record)},r.$$.update=()=>{r.$$.dirty&8192&&t(8,n=P),r.$$.dirty&4352&&t(1,l=new r6({id:n.id,abstractTypesMap:E.data})),r.$$.dirty&2&&b(t(6,s=l.isLoading)),r.$$.dirty&1&&T(t(5,i=R.fetchRequest)),r.$$.dirty&1&&d(t(4,{summary:o}=R,o)),r.$$.dirty&2048&&t(7,a=(v==null?void 0:v.state)==="processing"),r.$$.dirty&1152&&t(3,u=_||a),r.$$.dirty&640&&t(2,c=a?"":lR(f))},[R,l,c,u,o,i,s,a,n,f,_,v,E,P]}class Hue extends X{constructor(e){super(),Q(this,e,zue,Fue,G,{record:0})}}class Vue{constructor({table:e,recordPk:t}){re(this,"fetchRequest",Ge(void 0));re(this,"fieldValues",new os);re(this,"recordSummaries",new Vw);re(this,"summary");re(this,"table");re(this,"recordPk");re(this,"url");this.table=e,this.recordPk=t,this.url=`/api/db/v0/tables/${this.table.id}/records/${this.recordPk}/`;const{template:n}=this.table.settings.preview_settings;this.summary=at([this.fieldValues,this.recordSummaries],([l,s])=>Ma({template:n,inputData:Hw(l),transitiveData:s})),this.fetch()}updateSelfWithApiResponseData(e){const t=e.results[0];this.fieldValues.reconstruct(Object.entries(t).map(([n,l])=>[parseInt(n,10),l])),e.preview_data&&this.recordSummaries.setFetchedSummaries(Fc(e.preview_data))}async fetch(){this.fetchRequest.set({state:"processing"});try{this.updateSelfWithApiResponseData(await dn(this.url)),this.fetchRequest.set({state:"success"})}catch(e){this.fetchRequest.set({state:"failure",errors:[en(e)]})}}async patch(e){this.updateSelfWithApiResponseData(await Rr(this.url,e))}}function Y3(r){let e,t;return e=new Nn({props:{item:{type:"record",database:r[0],schema:r[1],table:r[2],record:{pk:r[3],summary:r[8]}}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&271&&(s.item={type:"record",database:n[0],schema:n[1],table:n[2],record:{pk:n[3],summary:n[8]}}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function que(r){var s;let e,t,n,l=((s=r[7])==null?void 0:s.state)==="success"&&Y3(r);return t=new Hue({props:{record:r[4]}}),{c(){l&&l.c(),e=O(),C(t.$$.fragment)},m(i,o){l&&l.m(i,o),w(i,e,o),y(t,i,o),n=!0},p(i,[o]){var u;((u=i[7])==null?void 0:u.state)==="success"?l?(l.p(i,o),o&128&&p(l,1)):(l=Y3(i),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(q(),g(l,1,1,()=>{l=null}),U());const a={};o&16&&(a.record=i[4]),t.$set(a)},i(i){n||(p(l),p(t.$$.fragment,i),n=!0)},o(i){g(l),g(t.$$.fragment,i),n=!1},d(i){l&&l.d(i),i&&$(e),S(t,i)}}}function Uue(r,e,t){let n,l,s,i,o=z,a=()=>(o(),o=se(s,b=>t(7,i=b)),s),u,c=z,f=()=>(c(),c=se(l,b=>t(8,u=b)),l);r.$$.on_destroy.push(()=>o()),r.$$.on_destroy.push(()=>c());let{database:m}=e,{schema:d}=e,{table:_}=e,{recordPk:h}=e;return r.$$set=b=>{"database"in b&&t(0,m=b.database),"schema"in b&&t(1,d=b.schema),"table"in b&&t(2,_=b.table),"recordPk"in b&&t(3,h=b.recordPk)},r.$$.update=()=>{r.$$.dirty&12&&t(4,n=new Vue({table:_,recordPk:h})),r.$$.dirty&16&&f(t(6,{summary:l,fetchRequest:s}=n,l,a(t(5,s))))},[m,d,_,h,n,s,l,i,u]}class Wue extends X{constructor(e){super(),Q(this,e,Uue,que,G,{database:0,schema:1,table:2,recordPk:3})}}function Bue(r){let e,t;return e=new Wr({props:{$$slots:{default:[Yue]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&260&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function jue(r){let e,t,n,l,s,i;return e=new Nn({props:{item:{type:"table",database:r[0],schema:r[1],table:r[3]}}}),n=new Lt({props:{path:"/",$$slots:{default:[Kue]},$$scope:{ctx:r}}}),s=new Lt({props:{path:"/:recordPk",$$slots:{default:[Gue,({meta:o})=>({7:o}),({meta:o})=>o?128:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment),l=O(),C(s.$$.fragment)},m(o,a){y(e,o,a),w(o,t,a),y(n,o,a),w(o,l,a),y(s,o,a),i=!0},p(o,a){const u={};a&11&&(u.item={type:"table",database:o[0],schema:o[1],table:o[3]}),e.$set(u);const c={};a&264&&(c.$$scope={dirty:a,ctx:o}),n.$set(c);const f={};a&395&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){i||(p(e.$$.fragment,o),p(n.$$.fragment,o),p(s.$$.fragment,o),i=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),g(s.$$.fragment,o),i=!1},d(o){S(e,o),o&&$(t),S(n,o),o&&$(l),S(s,o)}}}function Yue(r){let e,t,n;return{c(){e=B("Table with id "),t=B(r[2]),n=B(" not found.")},m(l,s){w(l,e,s),w(l,t,s),w(l,n,s)},p(l,s){s&4&&he(t,l[2])},d(l){l&&$(e),l&&$(t),l&&$(n)}}}function Kue(r){let e,t;return e=new Fk({props:{table:r[3]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.table=n[3]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Gue(r){let e,t;return e=new Wue({props:{database:r[0],schema:r[1],table:r[3],recordPk:String(r[7].params.recordPk)}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),l&8&&(s.table=n[3]),l&128&&(s.recordPk=String(n[7].params.recordPk)),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Que(r){let e,t,n,l;const s=[jue,Bue],i=[];function o(a,u){return a[3]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function Xue(r,e,t){let n,l,s;de(r,Sl,c=>t(5,l=c)),de(r,ln,c=>t(4,s=c));let{database:i}=e,{schema:o}=e,{tableId:a}=e;function u(){Zt(Sl,l=void 0,l)}return rn(()=>u),r.$$set=c=>{"database"in c&&t(0,i=c.database),"schema"in c&&t(1,o=c.schema),"tableId"in c&&t(2,a=c.tableId)},r.$$.update=()=>{r.$$.dirty&4&&Zt(Sl,l=a,l),r.$$.dirty&20&&t(3,n=s.data.get(a))},[i,o,a,n,s]}class Jue extends X{constructor(e){super(),Q(this,e,Xue,Que,G,{database:0,schema:1,tableId:2})}}const xa="/api/db/v0/data_files/";function K3(r){return un(xa,r)}function Zue(r){return dn(`${xa}${r}/`)}function xue(r,e){return PE(xa,r,e)}function ece(r,e){return Rr(`${xa}${r}/`,e)}const Ei={addViaUrlToFile:r=>K3({url:r}),addViaText:r=>K3({paste:r}),addViaUpload:xue,get:Zue,update:ece};class Qs{constructor({isLoading:e,settlement:t}){re(this,"settlement");re(this,"isLoading");this.isLoading=e,this.settlement=t}get isInitializing(){return this.isLoading&&this.settlement===void 0}get isReloading(){return this.isLoading&&this.settlement!==void 0}get isOk(){var e;return!this.isLoading&&((e=this.settlement)==null?void 0:e.state)==="resolved"}get isStable(){var e;return!(this.isLoading||((e=this.settlement)==null?void 0:e.state)==="rejected")}get resolvedValue(){var e;return((e=this.settlement)==null?void 0:e.state)==="resolved"?this.settlement.value:void 0}get error(){var e;return((e=this.settlement)==null?void 0:e.state)==="rejected"?this.settlement.error:void 0}get isRejected(){var e;return!this.isLoading&&((e=this.settlement)==null?void 0:e.state)==="rejected"}get hasInitialized(){return this.settlement!==void 0}}class Wl{constructor(e,t=en){re(this,"runFn");re(this,"getError");re(this,"value",Ge(new Qs({isLoading:!1})));re(this,"promise");this.runFn=e,this.getError=t}subscribe(e,t){return this.value.subscribe(e,t)}async run(e){this.cancel(),this.value.update(t=>new Qs({...t,isLoading:!0})),this.promise=this.runFn(e);try{return this.value.set(new Qs({settlement:{state:"resolved",value:await this.promise},isLoading:!1})),Qe(this.value)}catch(t){return this.value.set(new Qs({settlement:{state:"rejected",error:this.getError(t)},isLoading:!1})),Qe(this.value)}}cancel(){this.promise&&"cancel"in this.promise&&this.promise.cancel()}reset(){this.cancel(),this.value.set(new Qs({isLoading:!1}))}}function tce(r){const e=`/api/db/v0/tables/${r}/columns/?limit=500`;return dn(e)}const nce={list:tce};function rce(r){let e;return{c(){e=B("Take the first row as column names")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function lce(r){let e,t;return e=new En({props:{icon:ZI,truncate:!1,$$slots:{default:[rce]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}class sce extends X{constructor(e){super(),Q(this,e,null,lce,G,{})}}function ice(r){let e;return{c(){e=B("Set generic column names, keeping the first row as data")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function oce(r){let e,t;return e=new En({props:{icon:xI,truncate:!1,$$slots:{default:[ice]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}class ace extends X{constructor(e){super(),Q(this,e,null,oce,G,{})}}function uce(r){let e,t,n;const l=[{boxed:!0},{options:[!0,!1]},{label:"Column Names"},{getRadioLabel:r[2]},r[1]];function s(o){r[3](o)}let i={};for(let o=0;o<l.length;o+=1)i=x(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new Ns({props:i}),ye.push(()=>Pe(e,"value",s)),e.$on("change",r[4]),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,[a]){const u=a&2?ce(l,[l[0],l[1],l[2],a&0&&{getRadioLabel:o[2]},a&2&&be(o[1])]):{};!t&&a&1&&(t=!0,u.value=o[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function cce(r,e,t){const n=["value"];let l=Be(e,n),{value:s=!0}=e;const i=u=>u?{component:sce}:{component:ace};function o(u){s=u,t(0,s)}function a(u){ve.call(this,r,u)}return r.$$set=u=>{e=x(x({},e),ft(u)),t(1,l=Be(e,n)),"value"in u&&t(0,s=u.value)},[s,l,i,o,a]}class fce extends X{constructor(e){super(),Q(this,e,cce,uce,G,{value:0})}}function mce(r){let e,t;return{c(){e=B(`Pick the best data type for each column
  `),t=I("em"),t.textContent="(slower for large imports)"},m(n,l){w(n,e,l),w(n,t,l)},p:z,d(n){n&&$(e),n&&$(t)}}}function dce(r){let e,t;return e=new En({props:{icon:YI,truncate:!1,$$slots:{default:[mce]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}class pce extends X{constructor(e){super(),Q(this,e,null,dce,G,{})}}function _ce(r){let e,t;return{c(){e=B(`Use "Text" for all column data types
  `),t=I("em"),t.textContent="(faster for large imports)"},m(n,l){w(n,e,l),w(n,t,l)},p:z,d(n){n&&$(e),n&&$(t)}}}function gce(r){let e,t;return e=new En({props:{icon:ew,truncate:!1,$$slots:{default:[_ce]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}class hce extends X{constructor(e){super(),Q(this,e,null,gce,G,{})}}function bce(r){let e,t,n;const l=[{boxed:!0},{options:[!0,!1]},{label:"Column Data Types"},{getRadioLabel:r[2]},r[1]];function s(o){r[3](o)}let i={};for(let o=0;o<l.length;o+=1)i=x(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new Ns({props:i}),ye.push(()=>Pe(e,"value",s)),e.$on("change",r[4]),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,[a]){const u=a&2?ce(l,[l[0],l[1],l[2],a&0&&{getRadioLabel:o[2]},a&2&&be(o[1])]):{};!t&&a&1&&(t=!0,u.value=o[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function $ce(r,e,t){const n=["value"];let l=Be(e,n),{value:s=!0}=e;const i=u=>u?{component:pce}:{component:hce};function o(u){s=u,t(0,s)}function a(u){ve.call(this,r,u)}return r.$$set=u=>{e=x(x({},e),ft(u)),t(1,l=Be(e,n)),"value"in u&&t(0,s=u.value)},[s,l,i,o,a]}class Vk extends X{constructor(e){super(),Q(this,e,$ce,bce,G,{value:0})}}function wce(r){let e;return{c(){e=B("Retry")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function vce(r){let e,t,n,l;const s=[Ut];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new Fe({props:i}),{c(){C(e.$$.fragment),t=O(),n=I("span"),n.textContent="Delete import",D(n,"class","svelte-1wuw7rs")},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),l=!0},p(o,a){const u=a&0?ce(s,[be(Ut)]):{};e.$set(u)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),o&&$(n)}}}function kce(r){let e,t,n,l,s,i,o,a,u,c,f,m;return o=new ut({props:{appearance:"primary",$$slots:{default:[wce]},$$scope:{ctx:r}}}),o.$on("click",r[2]),f=new ut({props:{appearance:"outline-primary",$$slots:{default:[vce]},$$scope:{ctx:r}}}),f.$on("click",r[3]),{c(){e=I("div"),e.textContent="Failed to load preview",t=O(),n=I("div"),l=B(r[0]),s=O(),i=I("div"),C(o.$$.fragment),a=O(),u=I("span"),u.textContent="or",c=O(),C(f.$$.fragment),D(e,"class","title svelte-1wuw7rs"),D(u,"class","svelte-1wuw7rs"),D(i,"class","buttons svelte-1wuw7rs")},m(d,_){w(d,e,_),w(d,t,_),w(d,n,_),M(n,l),w(d,s,_),w(d,i,_),y(o,i,null),M(i,a),M(i,u),M(i,c),y(f,i,null),m=!0},p(d,_){(!m||_&1)&&he(l,d[0]);const h={};_&16&&(h.$$scope={dirty:_,ctx:d}),o.$set(h);const b={};_&16&&(b.$$scope={dirty:_,ctx:d}),f.$set(b)},i(d){m||(p(o.$$.fragment,d),p(f.$$.fragment,d),m=!0)},o(d){g(o.$$.fragment,d),g(f.$$.fragment,d),m=!1},d(d){d&&$(e),d&&$(t),d&&$(n),d&&$(s),d&&$(i),S(o),S(f)}}}function yce(r){let e,t;return e=new zn({props:{fullWidth:!0,$$slots:{default:[kce]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&17&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Sce(r,e,t){const n=dt();let{error:l}=e;const s=()=>n("retry"),i=()=>n("delete");return r.$$set=o=>{"error"in o&&t(0,l=o.error)},[l,n,s,i]}class Lf extends X{constructor(e){super(),Q(this,e,Sce,yce,G,{error:0})}}const Cce=r=>({}),G3=r=>({}),Tce=r=>({}),Q3=r=>({});function Dce(r){let e;const t=r[1].default,n=De(t,r,r[2],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&4)&&Ee(n,t,l,l[2],e?Ie(t,l[2],s,null):Me(l[2]),null)},i(l){e||(p(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function Ice(r){let e;return{c(){e=I("h1"),e.textContent="Finish setting up your table",D(e,"slot","header")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function Ece(r){let e,t,n,l,s,i,o;n=new Of({props:{$$slots:{header:[Ice],default:[Dce]},$$scope:{ctx:r}}});const a=r[1].preview,u=De(a,r,r[2],Q3),c=r[1].footer,f=De(c,r,r[2],G3);return{c(){e=I("div"),t=I("div"),C(n.$$.fragment),l=O(),u&&u.c(),s=O(),i=I("div"),f&&f.c(),D(t,"class","page-content svelte-1irkssg"),Z(t,"has-preview",r[0].preview),D(i,"class","footer svelte-1irkssg"),D(e,"class","import-preview-content svelte-1irkssg")},m(m,d){w(m,e,d),M(e,t),y(n,t,null),M(t,l),u&&u.m(t,null),M(e,s),M(e,i),f&&f.m(i,null),o=!0},p(m,d){const _={};d&4&&(_.$$scope={dirty:d,ctx:m}),n.$set(_),u&&u.p&&(!o||d&4)&&Ee(u,a,m,m[2],o?Ie(a,m[2],d,Tce):Me(m[2]),Q3),(!o||d&1)&&Z(t,"has-preview",m[0].preview),f&&f.p&&(!o||d&4)&&Ee(f,c,m,m[2],o?Ie(c,m[2],d,Cce):Me(m[2]),G3)},i(m){o||(p(n.$$.fragment,m),p(u,m),p(f,m),o=!0)},o(m){g(n.$$.fragment,m),g(u,m),g(f,m),o=!1},d(m){m&&$(e),S(n),u&&u.d(m),f&&f.d(m)}}}function Mce(r){let e,t;return e=new Or({props:{fitViewport:!0,cssVariables:{"--max-layout-width":"var(--max-layout-width-data-pages)","--layout-background-color":"var(--slate-50)","--inset-page-section-padding":"var(--size-xx-large)","--page-padding":"var(--outer-page-padding-for-inset-page)"},$$slots:{default:[Ece]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&5&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ace(r,e,t){let{$$slots:n={},$$scope:l}=e;const s=lr(n);return r.$$set=i=>{"$$scope"in i&&t(2,l=i.$$scope)},[s,n,l]}class Nf extends X{constructor(e){super(),Q(this,e,Ace,Mce,G,{})}}function Rce(r){let e=r[3].abstractType.name+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&8&&e!==(e=n[3].abstractType.name+"")&&he(t,e)},d(n){n&&$(t)}}}function Pce(r){let e,t;return e=new En({props:{slot:"trigger",icon:r[3].abstractType.getIcon(),$$slots:{default:[Rce]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.icon=n[3].abstractType.getIcon()),l&2056&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Oce(r){let e,t,n;function l(...s){return r[9](r[10],...s)}return t=new vk({props:{column:{...r[3].column,abstractType:r[3].abstractType},showWarnings:!1,save:l}}),t.$on("cancel",function(){Et(r[10])&&r[10].apply(this,arguments)}),{c(){e=I("div"),C(t.$$.fragment),D(e,"slot","content"),D(e,"class","type-options-content svelte-12dazpn")},m(s,i){w(s,e,i),y(t,e,null),n=!0},p(s,i){r=s;const o={};i&8&&(o.column={...r[3].column,abstractType:r[3].abstractType}),i&1048&&(o.save=l),t.$set(o)},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){g(t.$$.fragment,s),n=!1},d(s){s&&$(e),S(t)}}}function Lce(r){let e,t,n,l,s,i,o,a,u,c;function f(h){r[7](h)}let m={disabled:r[5]};r[0]!==void 0&&(m.checked=r[0]),n=new Oi({props:m}),ye.push(()=>Pe(n,"checked",f));function d(h){r[8](h)}let _={disabled:r[2]};return r[1]!==void 0&&(_.value=r[1]),i=new $n({props:_}),ye.push(()=>Pe(i,"value",d)),i.$on("blur",r[6]),u=new pl({props:{disabled:r[5],triggerClass:"column-type",triggerAppearance:"plain",$$slots:{content:[Oce,({close:h})=>({10:h}),({close:h})=>h?1024:0],trigger:[Pce]},$$scope:{ctx:r}}}),{c(){e=I("div"),t=I("div"),C(n.$$.fragment),s=O(),C(i.$$.fragment),a=O(),C(u.$$.fragment),D(t,"class","column-name svelte-12dazpn"),D(e,"class","column svelte-12dazpn")},m(h,b){w(h,e,b),M(e,t),y(n,t,null),M(t,s),y(i,t,null),M(e,a),y(u,e,null),c=!0},p(h,[b]){const v={};b&32&&(v.disabled=h[5]),!l&&b&1&&(l=!0,v.checked=h[0],Ne(()=>l=!1)),n.$set(v);const k={};b&4&&(k.disabled=h[2]),!o&&b&2&&(o=!0,k.value=h[1],Ne(()=>o=!1)),i.$set(k);const T={};b&32&&(T.disabled=h[5]),b&3096&&(T.$$scope={dirty:b,ctx:h}),u.$set(T)},i(h){c||(p(n.$$.fragment,h),p(i.$$.fragment,h),p(u.$$.fragment,h),c=!0)},o(h){g(n.$$.fragment,h),g(i.$$.fragment,h),g(u.$$.fragment,h),c=!1},d(h){h&&$(e),S(n),S(i),S(u)}}}function Nce(r,e,t){let n,{isLoading:l=!1}=e,{processedColumn:s}=e,{selected:i}=e,{displayName:o}=e,{updateTypeRelatedOptions:a}=e;function u(){o.trim()===""&&t(1,o=s.column.name)}function c(d){i=d,t(0,i)}function f(d){o=d,t(1,o)}const m=async(d,_)=>{await a({...s.column,..._}),d()};return r.$$set=d=>{"isLoading"in d&&t(2,l=d.isLoading),"processedColumn"in d&&t(3,s=d.processedColumn),"selected"in d&&t(0,i=d.selected),"displayName"in d&&t(1,o=d.displayName),"updateTypeRelatedOptions"in d&&t(4,a=d.updateTypeRelatedOptions)},r.$$.update=()=>{r.$$.dirty&12&&t(5,n=s.column.primary_key||l)},[i,o,l,s,a,n,u,c,f,m]}class Fce extends X{constructor(e){super(),Q(this,e,Nce,Lce,G,{isLoading:2,processedColumn:3,selected:0,displayName:1,updateTypeRelatedOptions:4})}}function X3(r,e,t){const n=r.slice();return n[7]=e[t],n}function J3(r,e,t){const n=r.slice();return n[12]=e[t],n}function Z3(r,e,t){const n=r.slice();return n[12]=e[t],n[16]=e,n[17]=t,n}function zce(r){let e,t,n,l,s,i,o,a,u;function c(h){r[5](h,r[12])}function f(h){r[6](h,r[12])}let m={isLoading:r[2],processedColumn:r[12],updateTypeRelatedOptions:r[3]};r[0][r[12].id].selected!==void 0&&(m.selected=r[0][r[12].id].selected),r[0][r[12].id].displayName!==void 0&&(m.displayName=r[0][r[12].id].displayName),t=new Fce({props:m}),ye.push(()=>Pe(t,"selected",c)),ye.push(()=>Pe(t,"displayName",f)),i=new rf({props:{columnIdentifierKey:r[12].id,minColumnWidth:120}});let d=[r[10],{style:o=r[15]}],_={};for(let h=0;h<d.length;h+=1)_=x(_,d[h]);return{c(){e=I("div"),C(t.$$.fragment),s=O(),C(i.$$.fragment),a=O(),it(e,_),Z(e,"svelte-11ufinz",!0)},m(h,b){w(h,e,b),y(t,e,null),M(e,s),y(i,e,null),w(h,a,b),u=!0},p(h,b){r=h;const v={};b&4&&(v.isLoading=r[2]),b&2&&(v.processedColumn=r[12]),b&8&&(v.updateTypeRelatedOptions=r[3]),!n&&b&3&&(n=!0,v.selected=r[0][r[12].id].selected,Ne(()=>n=!1)),!l&&b&3&&(l=!0,v.displayName=r[0][r[12].id].displayName,Ne(()=>l=!1)),t.$set(v);const k={};b&2&&(k.columnIdentifierKey=r[12].id),i.$set(k),it(e,_=ce(d,[b&1024&&r[10],(!u||b&32768&&o!==(o=r[15]))&&{style:o}])),Z(e,"svelte-11ufinz",!0)},i(h){u||(p(t.$$.fragment,h),p(i.$$.fragment,h),u=!0)},o(h){g(t.$$.fragment,h),g(i.$$.fragment,h),u=!1},d(h){h&&$(e),S(t),S(i),h&&$(a)}}}function x3(r,e){let t,n,l;return n=new Pr({props:{columnIdentifierKey:e[12].id,$$slots:{default:[zce,({htmlAttributes:s,style:i})=>({10:s,15:i}),({htmlAttributes:s,style:i})=>(s?1024:0)|(i?32768:0)]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&2&&(o.columnIdentifierKey=e[12].id),i&295951&&(o.$$scope={dirty:i,ctx:e}),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}function Hce(r){let e=[],t=new Map,n,l,s=r[1];const i=o=>o[12].id;for(let o=0;o<s.length;o+=1){let a=Z3(r,s,o),u=i(a);t.set(u,e[o]=x3(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=ae()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,a){a&33807&&(s=o[1],q(),e=pt(e,a,i,1,o,s,t,n.parentNode,ht,x3,n,Z3),U())},i(o){if(!l){for(let a=0;a<s.length;a+=1)p(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&$(n)}}}function Vce(r){let e,t,n,l,s;t=new Qi({props:{columnFabric:r[12],value:r[7][r[12].column.name],showAsSkeleton:r[2],disabled:!0}});let i=[r[10],{style:n=r[15]}],o={};for(let a=0;a<i.length;a+=1)o=x(o,i[a]);return{c(){e=I("div"),C(t.$$.fragment),l=O(),it(e,o),Z(e,"svelte-11ufinz",!0)},m(a,u){w(a,e,u),y(t,e,null),w(a,l,u),s=!0},p(a,u){const c={};u&2&&(c.columnFabric=a[12]),u&18&&(c.value=a[7][a[12].column.name]),u&4&&(c.showAsSkeleton=a[2]),t.$set(c),it(e,o=ce(i,[u&1024&&a[10],(!s||u&32768&&n!==(n=a[15]))&&{style:n}])),Z(e,"svelte-11ufinz",!0)},i(a){s||(p(t.$$.fragment,a),s=!0)},o(a){g(t.$$.fragment,a),s=!1},d(a){a&&$(e),S(t),a&&$(l)}}}function e4(r,e){let t,n,l;return n=new Pr({props:{columnIdentifierKey:e[12].id,$$slots:{default:[Vce,({htmlAttributes:s,style:i})=>({10:s,15:i}),({htmlAttributes:s,style:i})=>(s?1024:0)|(i?32768:0)]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&2&&(o.columnIdentifierKey=e[12].id),i&295958&&(o.$$scope={dirty:i,ctx:e}),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}function qce(r){let e,t=[],n=new Map,l,s,i,o=r[1];const a=f=>f[12];for(let f=0;f<o.length;f+=1){let m=J3(r,o,f),d=a(m);n.set(d,t[f]=e4(d,m))}let u=[r[10],{style:l=r[11]}],c={};for(let f=0;f<u.length;f+=1)c=x(c,u[f]);return{c(){e=I("div");for(let f=0;f<t.length;f+=1)t[f].c();s=O(),it(e,c),Z(e,"svelte-11ufinz",!0)},m(f,m){w(f,e,m);for(let d=0;d<t.length;d+=1)t[d].m(e,null);w(f,s,m),i=!0},p(f,m){m&33814&&(o=f[1],q(),t=pt(t,m,a,1,f,o,n,e,ht,e4,null,J3),U()),it(e,c=ce(u,[m&1024&&f[10],(!i||m&2048&&l!==(l=f[11]))&&{style:l}])),Z(e,"svelte-11ufinz",!0)},i(f){if(!i){for(let m=0;m<o.length;m+=1)p(t[m]);i=!0}},o(f){for(let m=0;m<t.length;m+=1)g(t[m]);i=!1},d(f){f&&$(e);for(let m=0;m<t.length;m+=1)t[m].d();f&&$(s)}}}function t4(r,e){let t,n,l;return n=new lf({props:{style:{position:"relative",height:30},$$slots:{default:[qce,({htmlAttributes:s,styleString:i})=>({10:s,11:i}),({htmlAttributes:s,styleString:i})=>(s?1024:0)|(i?2048:0)]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=ae(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&265238&&(o.$$scope={dirty:i,ctx:e}),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}function Uce(r){let e,t,n=[],l=new Map,s,i;e=new nf({props:{inheritFontStyle:!0,$$slots:{default:[Hce]},$$scope:{ctx:r}}});let o=r[4];const a=u=>u[7];for(let u=0;u<o.length;u+=1){let c=X3(r,o,u),f=a(c);l.set(f,n[u]=t4(f,c))}return{c(){C(e.$$.fragment),t=O();for(let u=0;u<n.length;u+=1)n[u].c();s=ae()},m(u,c){y(e,u,c),w(u,t,c);for(let f=0;f<n.length;f+=1)n[f].m(u,c);w(u,s,c),i=!0},p(u,c){const f={};c&262159&&(f.$$scope={dirty:c,ctx:u}),e.$set(f),c&35862&&(o=u[4],q(),n=pt(n,c,a,1,u,o,l,s.parentNode,ht,t4,s,X3),U())},i(u){if(!i){p(e.$$.fragment,u);for(let c=0;c<o.length;c+=1)p(n[c]);i=!0}},o(u){g(e.$$.fragment,u);for(let c=0;c<n.length;c+=1)g(n[c]);i=!1},d(u){S(e,u),u&&$(t);for(let c=0;c<n.length;c+=1)n[c].d(u);u&&$(s)}}}function Wce(r){let e,t,n;return t=new tf({props:{restrictWidthToRowWidth:!0,columns:r[1],getColumnIdentifier:Bce,$$slots:{default:[Uce]},$$scope:{ctx:r}}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","import-preview svelte-11ufinz")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,[s]){const i={};s&2&&(i.columns=l[1]),s&262175&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}const Bce=r=>r.id;function jce(r,e,t){let{columns:n}=e,{isLoading:l}=e,{updateTypeRelatedOptions:s}=e,{columnPropertiesMap:i}=e,{records:o}=e;function a(c,f){r.$$.not_equal(i[f.id].selected,c)&&(i[f.id].selected=c,t(0,i))}function u(c,f){r.$$.not_equal(i[f.id].displayName,c)&&(i[f.id].displayName=c,t(0,i))}return r.$$set=c=>{"columns"in c&&t(1,n=c.columns),"isLoading"in c&&t(2,l=c.isLoading),"updateTypeRelatedOptions"in c&&t(3,s=c.updateTypeRelatedOptions),"columnPropertiesMap"in c&&t(0,i=c.columnPropertiesMap),"records"in c&&t(4,o=c.records)},[i,n,l,s,o,a,u]}class Yce extends X{constructor(e){super(),Q(this,e,jce,Wce,G,{columns:1,isLoading:2,updateTypeRelatedOptions:3,columnPropertiesMap:0,records:4})}}function Kce(){return[{},{}]}function Gce(r,e){return r.map(t=>{const n=Ql(t.type,e);return{id:t.id,column:t,abstractType:n,cellComponentAndProps:mf({cellInfo:n.cellInfo,column:t})}})}function Qce(){async function r(e){return await Promise.all([Ba(e.database,e.schema,e.table.id),Ei.update(e.dataFile.id,{header:e.firstRowIsHeader})]),Gi(e.database,e.schema,{name:e.customizedTableName,dataFiles:[e.dataFile.id]})}return new Wl(r)}function Xce(){return new Wl(r=>Ba(r.database,r.schema,r.table.id))}function Jce(r){return{selected:!0,displayName:r.name}}function n4(r){return Object.fromEntries(r.map(e=>[e.id,Jce(e)]))}function Zce(r,e){return r.filter(t=>{var n;return(n=e[t.id])==null?void 0:n.selected}).map(t=>{var n,l;return{id:t.id,name:(l=(n=e[t.id])==null?void 0:n.displayName)!=null?l:"",type:t.type,type_options:t.type_options,display_options:t.display_options}})}function xce(r){let e,t;return e=new fce({props:{value:r[0].header,disabled:r[7]}}),e.$on("change",r[18]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1&&(s.value=n[0].header),l[0]&128&&(s.disabled=n[7]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function efe(r){let e,t;return e=new Vk({props:{value:r[1],disabled:r[7]}}),e.$on("change",r[19]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&2&&(s.value=n[1]),l[0]&128&&(s.disabled=n[7]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function tfe(r){let e;return{c(){e=B("You can customize column names and types within the preview below.")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function nfe(r){let e,t;return e=new Ys({props:{$$slots:{default:[tfe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[1]&8&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function rfe(r){let e,t,n,l,s,i,o,a;return e=new _n({props:{field:r[2],label:"Table Name"}}),n=new fr({props:{$$slots:{default:[xce]},$$scope:{ctx:r}}}),s=new fr({props:{$$slots:{default:[efe]},$$scope:{ctx:r}}}),o=new fr({props:{$$slots:{default:[nfe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment),l=O(),C(s.$$.fragment),i=O(),C(o.$$.fragment)},m(u,c){y(e,u,c),w(u,t,c),y(n,u,c),w(u,l,c),y(s,u,c),w(u,i,c),y(o,u,c),a=!0},p(u,c){const f={};c[0]&4&&(f.field=u[2]),e.$set(f);const m={};c[0]&129|c[1]&8&&(m.$$scope={dirty:c,ctx:u}),n.$set(m);const d={};c[0]&130|c[1]&8&&(d.$$scope={dirty:c,ctx:u}),s.$set(d);const _={};c[1]&8&&(_.$$scope={dirty:c,ctx:u}),o.$set(_)},i(u){a||(p(e.$$.fragment,u),p(n.$$.fragment,u),p(s.$$.fragment,u),p(o.$$.fragment,u),a=!0)},o(u){g(e.$$.fragment,u),g(n.$$.fragment,u),g(s.$$.fragment,u),g(o.$$.fragment,u),a=!1},d(u){S(e,u),u&&$(t),S(n,u),u&&$(l),S(s,u),u&&$(i),S(o,u)}}}function lfe(r){let e,t,n,l,s;t=new Yce({props:{columns:r[5],isLoading:r[3].isLoading,updateTypeRelatedOptions:r[20],columnPropertiesMap:r[4],records:r[8]}});let i=r[8].length===ic&&r4();return{c(){e=I("div"),C(t.$$.fragment),n=O(),i&&i.c(),l=ae(),D(e,"class","sheet-holder svelte-wa8e2j")},m(o,a){w(o,e,a),y(t,e,null),w(o,n,a),i&&i.m(o,a),w(o,l,a),s=!0},p(o,a){const u={};a[0]&32&&(u.columns=o[5]),a[0]&8&&(u.isLoading=o[3].isLoading),a[0]&16&&(u.columnPropertiesMap=o[4]),a[0]&256&&(u.records=o[8]),t.$set(u),o[8].length===ic?i?i.p(o,a):(i=r4(),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null)},i(o){s||(p(t.$$.fragment,o),s=!0)},o(o){g(t.$$.fragment,o),s=!1},d(o){o&&$(e),S(t),o&&$(n),i&&i.d(o),o&&$(l)}}}function sfe(r){let e,t;return e=new Lf({props:{error:r[12].error}}),e.$on("retry",r[17]),e.$on("delete",r[21]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&4096&&(s.error=n[12].error),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ife(r){let e,t;return e=new Lf({props:{error:r[3].error}}),e.$on("retry",r[17]),e.$on("delete",r[21]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&8&&(s.error=n[3].error),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ofe(r){let e,t,n;return t=new an({}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","loading svelte-wa8e2j")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p:z,i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function afe(r){let e,t;return e=new Lf({props:{error:r[11].error}}),e.$on("retry",r[17]),e.$on("delete",r[21]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&2048&&(s.error=n[11].error),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function r4(r){let e;return{c(){e=I("div"),e.textContent=`(Preview is truncated at ${ic} rows.)`,D(e,"class","truncation-alert svelte-wa8e2j")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function ufe(r){let e,t,n,l,s,i;const o=[afe,ofe,ife,sfe,lfe],a=[];function u(c,f){return c[11].error?0:c[3].hasInitialized?c[3].error?2:c[12].error?3:4:1}return l=u(r),s=a[l]=o[l](r),{c(){e=I("h2"),e.textContent="Table Preview",t=O(),n=I("div"),s.c(),D(e,"class","large-bold-header preview-header svelte-wa8e2j"),D(n,"class","preview-content svelte-wa8e2j")},m(c,f){w(c,e,f),w(c,t,f),w(c,n,f),a[l].m(n,null),i=!0},p(c,f){let m=l;l=u(c),l===m?a[l].p(c,f):(q(),g(a[m],1,1,()=>{a[m]=null}),U(),s=a[l],s?s.p(c,f):(s=a[l]=o[l](c),s.c()),p(s,1),s.m(n,null))},i(c){i||(p(s),i=!0)},o(c){g(s),i=!1},d(c){c&&$(e),c&&$(t),c&&$(n),a[l].d()}}}function cfe(r){let e,t;return e=new _r({props:{onCancel:r[21],onProceed:r[22],cancelButton:{icon:Ut},proceedButton:{label:"Confirm & create table"},canProceed:r[6]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&64&&(s.canProceed=n[6]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ffe(r){let e,t,n;return t=new an({}),{c(){e=B("Cleaning up... "),C(t.$$.fragment)},m(l,s){w(l,e,s),y(t,l,s),n=!0},p:z,i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t,l)}}}function mfe(r){let e,t,n,l;const s=[ffe,cfe],i=[];function o(a,u){return a[10].isLoading?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function dfe(r){let e,t;return e=new Nf({props:{$$slots:{footer:[mfe],preview:[ufe],default:[rfe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&7679|l[1]&8&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}const ic=20;function pfe(r,e,t){let n,l,s,i,o,a,u,c,f=z,m=()=>(f(),f=se(l,$e=>t(31,c=$e)),l),d,_,h=z,b=()=>(h(),h=se(s,$e=>t(29,_=$e)),s),v,k,T,E,P;de(r,sr,$e=>t(28,d=$e)),de(r,ln,$e=>t(30,k=$e)),r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>h());const R=new Wl(nce.list);de(r,R,$e=>t(11,E=$e));const L=new Wl(iz);de(r,L,$e=>t(3,v=$e));const A=new Wl(sz),N=Qce();de(r,N,$e=>t(12,P=$e));const F=Xce();de(r,F,$e=>t(10,T=$e));let{database:K}=e,{schema:W}=e,{table:j}=e,{dataFile:Y}=e,{useColumnTypeInference:oe=!1}=e,te=[],ne=n4([]);async function H(){var we,je;const $e=await R.run(j.id),He=(we=$e==null?void 0:$e.resolvedValue)==null?void 0:we.results;if(!!He){if(t(26,te=He),t(4,ne=n4(te)),oe){const Re=await A.run(j.id);if(((je=Re.settlement)==null?void 0:je.state)==="resolved"){const Oe=Re.settlement.value;t(26,te=te.map(Ze=>{var Ke;return{...Ze,type:(Ke=Oe[Ze.name])!=null?Ke:Ze.type}}))}}await L.run({table:j,columns:te})}}function ee($e){var we,je,Re;const He=(je=(we=$e.table)==null?void 0:we.id)!=null?je:j.id;on.goto(Da(K.name,W.id,He,{useColumnTypeInference:(Re=$e.useColumnTypeInference)!=null?Re:oe}),!0)}async function pe(){L.reset();const $e=await N.run({database:K,dataFile:Y,firstRowIsHeader:!Y.header,schema:W,table:j,customizedTableName:c});$e.resolvedValue&&ee({table:$e.resolvedValue})}async function ue(){L.reset(),ee({useColumnTypeInference:!oe})}function ie($e){return t(26,te=te.map(He=>He.id===$e.id?$e:He)),L.run({table:j,columns:te})}async function me(){const $e=await F.run({database:K,schema:W,table:j});$e.isOk?on.goto(rr(K.name,W.id),!0):At.fromError($e.error)}async function Se(){try{await nz(j.id,{name:c,import_verified:!0,columns:Zce(te,ne)}),on.goto(hl(K.name,W.id,j.id),!0)}catch($e){At.fromError($e)}}return r.$$set=$e=>{"database"in $e&&t(23,K=$e.database),"schema"in $e&&t(24,W=$e.schema),"table"in $e&&t(25,j=$e.table),"dataFile"in $e&&t(0,Y=$e.dataFile),"useColumnTypeInference"in $e&&t(1,oe=$e.useColumnTypeInference)},r.$$.update=()=>{var $e,He;r.$$.dirty[0]&1107296256&&t(27,n=[...k.data.values()].filter(we=>we.id!==j.id).map(we=>we.name)),r.$$.dirty[0]&167772160&&m(t(2,l=qt(j.name,[af(n,"A table with this name already exists.")]))),r.$$.dirty[0]&4&&b(t(9,s=Vn({customizedTableName:l}))),r.$$.dirty[0]&8&&t(8,i=(He=($e=v.resolvedValue)==null?void 0:$e.records)!=null?He:Kce()),r.$$.dirty[0]&8&&t(7,o=!v.isOk),r.$$.dirty[0]&536870920&&t(6,a=v.isOk&&_.canSubmit),r.$$.dirty[0]&335544320&&t(5,u=Gce(te,d.data)),r.$$.dirty[0]&33554434&&H()},[Y,oe,l,v,ne,u,a,o,i,s,T,E,P,R,L,N,F,H,pe,ue,ie,me,Se,K,W,j,te,n,d,_,k]}class _fe extends X{constructor(e){super(),Q(this,e,pfe,dfe,G,{database:23,schema:24,table:25,dataFile:0,useColumnTypeInference:1},null,[-1,-1])}}function gfe(r){let e,t;return e=new Nf({props:{$$slots:{default:[wfe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1056&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function hfe(r){let e,t;return e=new Nf({props:{$$slots:{default:[vfe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1024&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function bfe(r){let e,t;return e=new _fe({props:{database:r[0],schema:r[1],table:r[4].resolvedValue,dataFile:r[3].resolvedValue,useColumnTypeInference:r[2]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),l&16&&(s.table=n[4].resolvedValue),l&8&&(s.dataFile=n[3].resolvedValue),l&4&&(s.useColumnTypeInference=n[2]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function $fe(r){let e,t,n,l=en(r[5])+"",s;return{c(){e=I("p"),e.textContent="Unable to load import table",t=O(),n=I("p"),s=B(l)},m(i,o){w(i,e,o),w(i,t,o),w(i,n,o),M(n,s)},p(i,o){o&32&&l!==(l=en(i[5])+"")&&he(s,l)},d(i){i&&$(e),i&&$(t),i&&$(n)}}}function wfe(r){let e,t;return e=new zn({props:{$$slots:{default:[$fe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1056&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function vfe(r){let e,t;return e=new an({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function kfe(r){let e,t,n,l,s,i;document.title=e=Rn("Import");const o=[bfe,hfe,gfe],a=[];function u(c,f){return c[4].resolvedValue&&c[3].resolvedValue?0:c[4].isLoading||c[3].isLoading?1:2}return n=u(r),l=a[n]=o[n](r),{c(){t=O(),l.c(),s=ae()},m(c,f){w(c,t,f),a[n].m(c,f),w(c,s,f),i=!0},p(c,[f]){(!i||f&0)&&e!==(e=Rn("Import"))&&(document.title=e);let m=n;n=u(c),n===m?a[n].p(c,f):(q(),g(a[m],1,1,()=>{a[m]=null}),U(),l=a[n],l?l.p(c,f):(l=a[n]=o[n](c),l.c()),p(l,1),l.m(s.parentNode,s))},i(c){i||(p(l),i=!0)},o(c){g(l),i=!1},d(c){c&&$(t),a[n].d(c),c&&$(s)}}}function yfe(r,e,t){let n,l,s;const i=new Wl(Gv);de(r,i,d=>t(4,s=d));const o=new Wl(Ei.get);de(r,o,d=>t(3,l=d));let{database:a}=e,{schema:u}=e,{tableId:c}=e,{useColumnTypeInference:f=!1}=e;function m(){on.goto(hl(a.name,u.id,c))}return r.$$set=d=>{"database"in d&&t(0,a=d.database),"schema"in d&&t(1,u=d.schema),"tableId"in d&&t(8,c=d.tableId),"useColumnTypeInference"in d&&t(2,f=d.useColumnTypeInference)},r.$$.update=()=>{var d;r.$$.dirty&256&&(async()=>{var b;const _=(await i.run(c)).resolvedValue;if(!_)return;if(_.import_verified){m();return}const h=(b=_.data_files)==null?void 0:b[0];if(h===void 0){m();return}await o.run(h)})(),r.$$.dirty&24&&t(5,n=(d=s.error)!=null?d:l.error)},[a,u,f,l,s,n,i,o,c]}class Sfe extends X{constructor(e){super(),Q(this,e,yfe,kfe,G,{database:0,schema:1,tableId:8,useColumnTypeInference:2})}}function l4(r){let e,t,n;return t=new ut({props:{$$slots:{default:[Cfe]},$$scope:{ctx:r}}}),t.$on("click",r[4]),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","button svelte-j8a923")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&4096&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function Cfe(r){let e;return{c(){e=B("Cancel upload")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function Tfe(r){let e,t,n,l,s;function i(u){r[9](u)}let o={fileProgress:r[2]};r[0]!==void 0&&(o.fileUploads=r[0]),e=new x9({props:o}),ye.push(()=>Pe(e,"fileUploads",i)),e.$on("add",r[3]);let a=r[1]&&l4(r);return{c(){C(e.$$.fragment),n=O(),a&&a.c(),l=ae()},m(u,c){y(e,u,c),w(u,n,c),a&&a.m(u,c),w(u,l,c),s=!0},p(u,[c]){const f={};c&4&&(f.fileProgress=u[2]),!t&&c&1&&(t=!0,f.fileUploads=u[0],Ne(()=>t=!1)),e.$set(f),u[1]?a?(a.p(u,c),c&2&&p(a,1)):(a=l4(u),a.c(),p(a,1),a.m(l.parentNode,l)):a&&(q(),g(a,1,1,()=>{a=null}),U())},i(u){s||(p(e.$$.fragment,u),p(a),s=!0)},o(u){g(e.$$.fragment,u),g(a),s=!1},d(u){S(e,u),u&&$(n),a&&a.d(u),u&&$(l)}}}const Dfe=98;function Ife(r,e,t){let n,l,{value:s=void 0}=e,{isUploading:i=!1}=e,o,a=0,u;function c(){t(5,s=void 0),t(6,i=!1),t(0,o=void 0),t(7,a=0),t(1,u=void 0)}function f(h){t(7,a=h.percentCompleted)}async function m(h){try{const b=new FormData;b.append("file",h.detail.added[0].file),t(6,i=!0),t(1,u=Ei.addViaUpload(b,f));const v=await u;t(5,s=v.id),t(6,i=!1),t(1,u=void 0)}catch(b){At.fromError(b),c()}}function d(){u&&u.cancel(),c()}cl(d);function _(h){o=h,t(0,o)}return r.$$set=h=>{"value"in h&&t(5,s=h.value),"isUploading"in h&&t(6,i=h.isUploading)},r.$$.update=()=>{r.$$.dirty&32&&s===void 0&&c(),r.$$.dirty&1&&t(8,n=o==null?void 0:o[0]),r.$$.dirty&448&&t(2,l=(()=>{if(!n)return{};const h=i?Math.min(a,Dfe):100;return{[n.fileId]:h}})())},[o,u,l,m,d,s,i,a,n,_]}class Efe extends X{constructor(e){super(),Q(this,e,Ife,Tfe,G,{value:5,isUploading:6})}}function s4(r,e,t){const n=r.slice();return n[23]=e[t],n}function Mfe(r){let e,t,n,l,s,i;return e=new fr({props:{$$slots:{default:[Hfe]},$$scope:{ctx:r}}}),n=new _n({props:{field:r[11],input:{component:Vk}}}),s=new fr({props:{$$slots:{default:[Vfe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment),l=O(),C(s.$$.fragment)},m(o,a){y(e,o,a),w(o,t,a),y(n,o,a),w(o,l,a),y(s,o,a),i=!0},p(o,a){const u={};a&67108889&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a&67108900&&(c.$$scope={dirty:a,ctx:o}),s.$set(c)},i(o){i||(p(e.$$.fragment,o),p(n.$$.fragment,o),p(s.$$.fragment,o),i=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),g(s.$$.fragment,o),i=!1},d(o){S(e,o),o&&$(t),S(n,o),o&&$(l),S(s,o)}}}function Afe(r){let e,t;return e=new zn({props:{$$slots:{default:[qfe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&67108866&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Rfe(r){let e,t=r[4].general.processingData()+"",n,l,s,i,o,a,u;return i=new an({}),a=new Ks({props:{$$slots:{default:[Ufe]},$$scope:{ctx:r}}}),{c(){e=I("h2"),n=B(t),l=O(),s=I("div"),C(i.$$.fragment),o=O(),C(a.$$.fragment),D(s,"class","processing-spinner svelte-ghvmhi")},m(c,f){w(c,e,f),M(e,n),w(c,l,f),w(c,s,f),y(i,s,null),w(c,o,f),y(a,c,f),u=!0},p(c,f){(!u||f&16)&&t!==(t=c[4].general.processingData()+"")&&he(n,t);const m={};f&67108880&&(m.$$scope={dirty:f,ctx:c}),a.$set(m)},i(c){u||(p(i.$$.fragment,c),p(a.$$.fragment,c),u=!0)},o(c){g(i.$$.fragment,c),g(a.$$.fragment,c),u=!1},d(c){c&&$(e),c&&$(l),c&&$(s),S(i),c&&$(o),S(a,c)}}}function Pfe(r){let e=pn(r[0].key)+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=pn(n[0].key)+"")&&he(t,e)},i:z,o:z,d(n){n&&$(t)}}}function Ofe(r){let e,t;return e=new _n({props:{field:r[9],label:"Paste the data you want to import",layout:"stacked",input:{component:Gl,props:{rows:10}}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Lfe(r){let e,t;return e=new _n({props:{field:r[8],layout:"stacked",label:"Enter the URL of the file you want to import"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Nfe(r){let e,t,n;function l(i){r[16](i)}let s={};return r[3]!==void 0&&(s.value=r[3]),e=new Efe({props:s}),ye.push(()=>Pe(e,"value",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};!t&&o&8&&(t=!0,a.value=i[3],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function Ffe(r){let e;return{c(){e=B("documentation")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function zfe(r){let e,t,n,l,s,i,o,a,u,c;const f=[Nfe,Lfe,Ofe,Pfe],m=[];function d(_,h){return _[0].key==="file"?0:_[0].key==="url"?1:_[0].key==="clipboard"?2:3}return n=d(r),l=m[n]=f[n](r),a=new S6({props:{path:"/user-guide/importing-data/",$$slots:{default:[Ffe]},$$scope:{ctx:r}}}),{c(){e=I("div"),t=I("div"),l.c(),s=O(),i=I("div"),o=B(`The data must be in tabular format (CSV, TSV etc) or JSON. See
              relevant
              `),C(a.$$.fragment),u=B("."),D(t,"class","data-source-input svelte-ghvmhi"),D(i,"class","upload-format-help svelte-ghvmhi"),D(e,"class","data-source-detail"),D(e,"slot","extra")},m(_,h){w(_,e,h),M(e,t),m[n].m(t,null),M(e,s),M(e,i),M(i,o),y(a,i,null),M(i,u),c=!0},p(_,h){let b=n;n=d(_),n===b?m[n].p(_,h):(q(),g(m[b],1,1,()=>{m[b]=null}),U(),l=m[n],l?l.p(_,h):(l=m[n]=f[n](_),l.c()),p(l,1),l.m(t,null));const v={};h&67108864&&(v.$$scope={dirty:h,ctx:_}),a.$set(v)},i(_){c||(p(l),p(a.$$.fragment,_),c=!0)},o(_){g(l),g(a.$$.fragment,_),c=!1},d(_){_&&$(e),m[n].d(),S(a)}}}function Hfe(r){let e,t,n;function l(i){r[18](i)}let s={boxed:!0,options:r[6],isInline:!0,label:r[4].general.dataSource(),getRadioLabel:r[17],$$slots:{extra:[zfe]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new Ns({props:s}),ye.push(()=>Pe(e,"value",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&16&&(a.label=i[4].general.dataSource()),o&67108873&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.value=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function Vfe(r){let e,t;return e=new bl({props:{form:r[2],onProceed:r[13],onCancel:r[12],cancelButton:{label:"Reset"},canCancel:r[5].hasChanges}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.form=n[2]),l&32&&(s.canCancel=n[5].hasChanges),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function i4(r){let e,t=r[23]+"",n;return{c(){e=I("li"),n=B(t)},m(l,s){w(l,e,s),M(e,n)},p(l,s){s&2&&t!==(t=l[23]+"")&&he(n,t)},d(l){l&&$(e)}}}function qfe(r){let e,t=r[1].errors,n=[];for(let l=0;l<t.length;l+=1)n[l]=i4(s4(r,t,l));return{c(){e=I("ul");for(let l=0;l<n.length;l+=1)n[l].c()},m(l,s){w(l,e,s);for(let i=0;i<n.length;i+=1)n[i].m(e,null)},p(l,s){if(s&2){t=l[1].errors;let i;for(i=0;i<t.length;i+=1){const o=s4(l,t,i);n[i]?n[i].p(o,s):(n[i]=i4(o),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(l){l&&$(e),Fn(n,l)}}}function Ufe(r){let e=r[4].importUploadPage.largeDataTakesTimeWarning()+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&16&&e!==(e=n[4].importUploadPage.largeDataTakesTimeWarning()+"")&&he(t,e)},d(n){n&&$(t)}}}function Wfe(r){let e,t=r[4].importUploadPage.createATableByImporting()+"",n,l,s,i,o,a;const u=[Rfe,Afe,Mfe],c=[];function f(m,d){var _,h;return((_=m[1])==null?void 0:_.state)==="processing"?0:((h=m[1])==null?void 0:h.state)==="failure"?1:2}return i=f(r),o=c[i]=u[i](r),{c(){e=I("h1"),n=B(t),l=O(),s=I("div"),o.c(),D(s,"class","import-file-view svelte-ghvmhi")},m(m,d){w(m,e,d),M(e,n),w(m,l,d),w(m,s,d),c[i].m(s,null),a=!0},p(m,d){(!a||d&16)&&t!==(t=m[4].importUploadPage.createATableByImporting()+"")&&he(n,t);let _=i;i=f(m),i===_?c[i].p(m,d):(q(),g(c[_],1,1,()=>{c[_]=null}),U(),o=c[i],o?o.p(m,d):(o=c[i]=u[i](m),o.c()),p(o,1),o.m(s,null))},i(m){a||(p(o),a=!0)},o(m){g(o),a=!1},d(m){m&&$(e),m&&$(l),m&&$(s),c[i].d()}}}function Bfe(r){let e,t,n,l;return document.title=e=Rn(r[4].general.import()),n=new Or({props:{restrictWidth:!0,cssVariables:{"--page-padding":"var(--inset-page-padding)","--max-layout-width":"var(--max-layout-width-data-pages)","--layout-background-color":"var(--sand-200)"},$$slots:{default:[Wfe]},$$scope:{ctx:r}}}),{c(){t=O(),C(n.$$.fragment)},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,[i]){(!l||i&16)&&e!==(e=Rn(s[4].general.import()))&&(document.title=e);const o={};i&67108927&&(o.$$scope={dirty:i,ctx:s}),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}function jfe(r,e,t){let n,l,s,i,o,a,u,c,f=z,m=()=>(f(),f=se(n,W=>t(5,c=W)),n);de(r,Ek,W=>t(4,u=W)),r.$$.on_destroy.push(()=>f());let{database:d}=e,{schema:_}=e;const h=[{key:"file",label:u.importUploadPage.uploadAFile(),icon:Nu},{key:"url",label:u.importUploadPage.provideUrlToFile(),icon:iE},{key:"clipboard",label:u.importUploadPage.copyAndPasteText(),icon:XI}],b=qt(h[0]);de(r,b,W=>t(0,s=W));const v=qt("");de(r,v,W=>t(21,o=W));const k=qt("");de(r,k,W=>t(20,i=W));const T=qt(void 0);de(r,T,W=>t(3,a=W));const E=qt(!0);de(r,E,W=>t(19,l=W));let P;function R(){n.reset(),t(1,P=void 0)}async function L(){if(s.key==="file"){if(a===void 0)throw new Error(u.general.noFileUploaded());return a}return s.key==="url"?(await Ei.addViaUrlToFile(o)).id:s.key==="clipboard"?(await Ei.addViaText(i)).id:pn(s.key)}async function A(){try{t(1,P={state:"processing"});const W=await L();if(W===void 0)return;const j=await Gi(d,_,{dataFiles:[W]}),Y=Da(d.name,_.id,j.id,{useColumnTypeInference:l});on.goto(Y,!0),t(1,P=void 0)}catch(W){t(1,P={state:"failure",errors:[en(W)]})}}function N(W){a=W,T.set(a)}const F=W=>({component:En,props:{name:W.label,icon:W.icon}});function K(W){s=W,b.set(s)}return r.$$set=W=>{"database"in W&&t(14,d=W.database),"schema"in W&&t(15,_=W.schema)},r.$$.update=()=>{r.$$.dirty&1&&m(t(2,n=(()=>{const W={uploadMethod:b,useColumnTypeInference:E};return s.key==="file"?Vn({...W,fileUploadId:T}):s.key==="url"?Vn({...W,urlToFile:v}):s.key==="clipboard"?Vn({...W,clipboardContent:k}):pn(s.key)})()))},[s,P,n,a,u,c,h,b,v,k,T,E,R,A,d,_,N,F,K]}class Yfe extends X{constructor(e){super(),Q(this,e,jfe,Bfe,G,{database:14,schema:15})}}function o4(r){const e=oM(r[2].query);r[3]=e;const t=parseInt(r[2].params.tableIdString,10);r[4]=t}function Kfe(r){let e,t;return e=new Yfe({props:{database:r[0],schema:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Gfe(r){o4(r);let e,t;const n=[{database:r[0]},{schema:r[1]},{tableId:r[4]},r[3]];let l={};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new Sfe({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){o4(s);const o=i&7?ce(n,[i&1&&{database:s[0]},i&2&&{schema:s[1]},i&4&&{tableId:s[4]},i&4&&be(s[3])]):{};e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Qfe(r){let e,t,n,l,s,i;return e=new Nn({props:{item:{type:"simple",href:sl(r[0].name,r[1].id),label:"Import",icon:M1}}}),n=new Lt({props:{path:"/",$$slots:{default:[Kfe]},$$scope:{ctx:r}}}),s=new Lt({props:{path:"/:tableIdString",$$slots:{default:[Gfe,({meta:o})=>({2:o}),({meta:o})=>o?4:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment),l=O(),C(s.$$.fragment)},m(o,a){y(e,o,a),w(o,t,a),y(n,o,a),w(o,l,a),y(s,o,a),i=!0},p(o,[a]){const u={};a&3&&(u.item={type:"simple",href:sl(o[0].name,o[1].id),label:"Import",icon:M1}),e.$set(u);const c={};a&35&&(c.$$scope={dirty:a,ctx:o}),n.$set(c);const f={};a&39&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){i||(p(e.$$.fragment,o),p(n.$$.fragment,o),p(s.$$.fragment,o),i=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),g(s.$$.fragment,o),i=!1},d(o){S(e,o),o&&$(t),S(n,o),o&&$(l),S(s,o)}}}function Xfe(r,e,t){let{database:n}=e,{schema:l}=e;return r.$$set=s=>{"database"in s&&t(0,n=s.database),"schema"in s&&t(1,l=s.schema)},[n,l]}class Jfe extends X{constructor(e){super(),Q(this,e,Xfe,Qfe,G,{database:0,schema:1})}}function Zfe(r){return dn(`/api/ui/v0/queries/${r}/shares/`)}function xfe(r,e){return un(`/api/ui/v0/queries/${r}/shares/`,e)}function eme(r,e,t){return Rr(`/api/ui/v0/queries/${r}/shares/${e}/`,t)}function tme(r,e){return un(`/api/ui/v0/tables/${r}/shares/${e}/regenerate/`)}const nme={list:Zfe,add:xfe,update:eme,regenerate:tme};function rme(r){let e,t,n,l;const s=[Fo];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new Fe({props:i}),{c(){C(e.$$.fragment),t=O(),n=I("span"),n.textContent="Share",D(n,"class","responsive-button-label")},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),l=!0},p(o,a){const u=a&0?ce(s,[be(Fo)]):{};e.$set(u)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),o&&$(n)}}}function lme(r){let e,t;return e=new Nk({props:{slot:"content",entityId:r[0],api:nme,text:{header:"Share Exploration",description:"Give read-only access to this exploration to anyone via a link.",empty:"This exploration is currently not shared."},getLink:r[2]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.entityId=n[0]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function sme(r){let e,t;const n=[{showArrow:!1},{triggerAppearance:"secondary"},r[1],{ariaLabel:"Share"}];let l={$$slots:{content:[lme],trigger:[rme]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)l=x(l,n[s]);return e=new pl({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&2?ce(n,[n[0],n[1],be(s[1]),n[3]]):{};i&9&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function ime(r,e,t){const n=["id"];let l=Be(e,n),{id:s}=e;const i=o=>cM(o.slug);return r.$$set=o=>{e=x(x({},e),ft(o)),t(1,l=Be(e,n)),"id"in o&&t(0,s=o.id)},[s,l,i]}class ome extends X{constructor(e){super(),Q(this,e,ime,sme,G,{id:0})}}function a4(r){let e,t,n,l=r[4]&&u4(r);return t=new ome({props:{id:r[3].id}}),{c(){l&&l.c(),e=O(),C(t.$$.fragment)},m(s,i){l&&l.m(s,i),w(s,e,i),y(t,s,i),n=!0},p(s,i){s[4]?l?l.p(s,i):(l=u4(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null);const o={};i&8&&(o.id=s[3].id),t.$set(o)},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){g(t.$$.fragment,s),n=!1},d(s){l&&l.d(s),s&&$(e),S(t,s)}}}function u4(r){let e,t,n;return{c(){e=I("a"),t=I("span"),t.textContent="Edit in Data Explorer",D(e,"class","btn btn-primary"),D(e,"href",n=il(r[1].name,r[2].id,r[3].id))},m(l,s){w(l,e,s),M(e,t)},p(l,s){s&14&&n!==(n=il(l[1].name,l[2].id,l[3].id))&&D(e,"href",n)},d(l){l&&$(e)}}}function ame(r){let e,t,n,l;const s=[Ds];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new Fe({props:i}),{c(){C(e.$$.fragment),t=O(),n=I("span"),n.textContent="Inspector"},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),l=!0},p(o,a){const u=a&0?ce(s,[be(Ds)]):{};e.$set(u)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),o&&$(n)}}}function ume(r){let e,t,n,l=r[5]!=="shared-consumer-page"&&a4(r);return t=new ut({props:{appearance:"secondary",$$slots:{default:[ame]},$$scope:{ctx:r}}}),t.$on("click",r[6]),{c(){l&&l.c(),e=O(),C(t.$$.fragment)},m(s,i){l&&l.m(s,i),w(s,e,i),y(t,s,i),n=!0},p(s,i){s[5]!=="shared-consumer-page"?l?(l.p(s,i),i&32&&p(l,1)):(l=a4(s),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(q(),g(l,1,1,()=>{l=null}),U());const o={};i&128&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){n||(p(l),p(t.$$.fragment,s),n=!0)},o(s){g(l),g(t.$$.fragment,s),n=!1},d(s){l&&l.d(s),s&&$(e),S(t,s)}}}function cme(r){let e,t;return e=new Cf({props:{title:{icon:An,name:r[3].name,description:r[3].description},$$slots:{"actions-right":[ume]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&8&&(s.title={icon:An,name:n[3].name,description:n[3].description}),l&191&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function fme(r,e,t){let{database:n}=e,{schema:l}=e,{query:s}=e,{isInspectorOpen:i=!0}=e,{canEditMetadata:o}=e,{context:a="page"}=e;const u=()=>{t(0,i=!i)};return r.$$set=c=>{"database"in c&&t(1,n=c.database),"schema"in c&&t(2,l=c.schema),"query"in c&&t(3,s=c.query),"isInspectorOpen"in c&&t(0,i=c.isInspectorOpen),"canEditMetadata"in c&&t(4,o=c.canEditMetadata),"context"in c&&t(5,a=c.context)},[i,n,l,s,o,a,u]}class mme extends X{constructor(e){super(),Q(this,e,fme,cme,G,{database:1,schema:2,query:3,isInspectorOpen:0,canEditMetadata:4,context:5})}}function c4(r){let e,t,n,l,s,i;function o(u){r[12](u)}let a={query:r[2],database:r[0],schema:r[1],canEditMetadata:r[6],context:r[5]};return r[4]!==void 0&&(a.isInspectorOpen=r[4]),t=new mme({props:a}),ye.push(()=>Pe(t,"isInspectorOpen",o)),s=new F6({props:{isInspectorOpen:r[4],queryHandler:r[3],canEditMetadata:r[6],$$slots:{default:[dme]},$$scope:{ctx:r}}}),s.$on("delete",r[8]),{c(){e=I("div"),C(t.$$.fragment),l=O(),C(s.$$.fragment),D(e,"class","exploration-page svelte-weidhd")},m(u,c){w(u,e,c),y(t,e,null),M(e,l),y(s,e,null),i=!0},p(u,c){const f={};c&4&&(f.query=u[2]),c&1&&(f.database=u[0]),c&2&&(f.schema=u[1]),c&64&&(f.canEditMetadata=u[6]),c&32&&(f.context=u[5]),!n&&c&16&&(n=!0,f.isInspectorOpen=u[4],Ne(()=>n=!1)),t.$set(f);const m={};c&16&&(m.isInspectorOpen=u[4]),c&8&&(m.queryHandler=u[3]),c&64&&(m.canEditMetadata=u[6]),c&16392&&(m.$$scope={dirty:c,ctx:u}),s.$set(m)},i(u){i||(p(t.$$.fragment,u),p(s.$$.fragment,u),i=!0)},o(u){g(t.$$.fragment,u),g(s.$$.fragment,u),i=!1},d(u){u&&$(e),S(t),S(s)}}}function dme(r){let e,t;return e=new G6({props:{queryHandler:r[3],isExplorationPage:!0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.queryHandler=n[3]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function pme(r){let e,t,n=r[3]&&c4(r);return{c(){n&&n.c(),e=ae()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[3]?n?(n.p(l,s),s&8&&p(n,1)):(n=c4(l),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(q(),g(n,1,1,()=>{n=null}),U())},i(l){t||(p(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&$(e)}}}function _me(r){let e,t,n,l;return document.title=e=r[2].name+" | "+r[1].name+" | Mathesar",n=new Or({props:{fitViewport:!0,$$slots:{default:[pme]},$$scope:{ctx:r}}}),{c(){t=O(),C(n.$$.fragment)},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,[i]){(!l||i&6)&&e!==(e=s[2].name+" | "+s[1].name+" | Mathesar")&&(document.title=e);const o={};i&16511&&(o.$$scope={dirty:i,ctx:s}),n.$set(o)},i(s){l||(p(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(t),S(n,s)}}}function gme(r,e,t){let n,l,s;de(r,sr,v=>t(10,l=v));const i=Xt();de(r,i,v=>t(11,s=v));let{database:o}=e,{schema:a}=e,{query:u}=e,{shareConsumer:c=void 0}=e,f,m=!0;function d(v,k){f==null||f.destroy(),t(3,f=new L6({query:new On(v),abstractTypeMap:k,runMode:"queryId",shareConsumer:c}))}let _="page";function h(){on.goto(rr(o.name,a.id))}function b(v){m=v,t(4,m)}return r.$$set=v=>{"database"in v&&t(0,o=v.database),"schema"in v&&t(1,a=v.schema),"query"in v&&t(2,u=v.query),"shareConsumer"in v&&t(9,c=v.shareConsumer)},r.$$.update=()=>{var v;r.$$.dirty&2051&&t(6,n=(v=s==null?void 0:s.hasPermission({database:o,schema:a},"canEditMetadata"))!=null?v:!1),r.$$.dirty&512&&t(5,_=c?"shared-consumer-page":"page"),r.$$.dirty&1028&&d(u,l.data)},[o,a,u,f,m,_,n,i,h,c,l,s,b]}class qk extends X{constructor(e){super(),Q(this,e,gme,_me,G,{database:0,schema:1,query:2,shareConsumer:9})}}function hme(r){let e,t;return e=new Wr({props:{$$slots:{default:[$me]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function bme(r){let e,t,n,l;return e=new Nn({props:{item:{type:"exploration",database:r[0],schema:r[1],query:r[2]}}}),n=new qk({props:{database:r[0],schema:r[1],query:r[2]}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&7&&(o.item={type:"exploration",database:s[0],schema:s[1],query:s[2]}),e.$set(o);const a={};i&1&&(a.database=s[0]),i&2&&(a.schema=s[1]),i&4&&(a.query=s[2]),n.$set(a)},i(s){l||(p(e.$$.fragment,s),p(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&$(t),S(n,s)}}}function $me(r){let e;return{c(){e=B("The page you're looking for doesn't exist.")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function wme(r){let e,t,n,l;const s=[bme,hme],i=[];function o(a,u){return a[2]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function vme(r,e,t){let n,l;de(r,Zl,a=>t(4,l=a));let{database:s}=e,{schema:i}=e,{queryId:o}=e;return r.$$set=a=>{"database"in a&&t(0,s=a.database),"schema"in a&&t(1,i=a.schema),"queryId"in a&&t(3,o=a.queryId)},r.$$.update=()=>{r.$$.dirty&24&&t(2,n=l.data.get(o))},[s,i,n,o,l]}class kme extends X{constructor(e){super(),Q(this,e,vme,wme,G,{database:0,schema:1,queryId:3})}}function yme(r){let e,t;return e=new Wr({props:{$$slots:{default:[Cme]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8192&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Sme(r){let e,t,n,l,s,i,o,a,u,c,f;e=new Nn({props:{item:{type:"schema",database:r[0],schema:r[1]}}});let m=r[3]&&f4(r);return l=new Lt({props:{path:"/tables/:tableId/*",firstmatch:!0,$$slots:{default:[Dme,({meta:d})=>({12:d}),({meta:d})=>d?4096:0]},$$scope:{ctx:r}}}),i=new Lt({props:{path:"/explorations/:queryId",firstmatch:!0,$$slots:{default:[Ime,({meta:d})=>({12:d}),({meta:d})=>d?4096:0]},$$scope:{ctx:r}}}),a=new n0({props:{paths:r[2]?[{name:"edit-exploration",path:"/explorations/:queryId/edit/"},r[5]]:[r[5]],$$slots:{default:[Eme,({path:d,meta:_})=>({11:d,12:_}),({path:d,meta:_})=>(d?2048:0)|(_?4096:0)]},$$scope:{ctx:r}}}),c=new n0({props:{paths:[{name:"tables",path:"/tables/"},{name:"explorations",path:"/explorations/"},{name:"overview",path:"/"}],$$slots:{default:[Mme,({path:d})=>({11:d}),({path:d})=>d?2048:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=O(),m&&m.c(),n=O(),C(l.$$.fragment),s=O(),C(i.$$.fragment),o=O(),C(a.$$.fragment),u=O(),C(c.$$.fragment)},m(d,_){y(e,d,_),w(d,t,_),m&&m.m(d,_),w(d,n,_),y(l,d,_),w(d,s,_),y(i,d,_),w(d,o,_),y(a,d,_),w(d,u,_),y(c,d,_),f=!0},p(d,_){const h={};_&3&&(h.item={type:"schema",database:d[0],schema:d[1]}),e.$set(h),d[3]?m?(m.p(d,_),_&8&&p(m,1)):(m=f4(d),m.c(),p(m,1),m.m(n.parentNode,n)):m&&(q(),g(m,1,1,()=>{m=null}),U());const b={};_&12291&&(b.$$scope={dirty:_,ctx:d}),l.$set(b);const v={};_&12291&&(v.$$scope={dirty:_,ctx:d}),i.$set(v);const k={};_&4&&(k.paths=d[2]?[{name:"edit-exploration",path:"/explorations/:queryId/edit/"},d[5]]:[d[5]]),_&14339&&(k.$$scope={dirty:_,ctx:d}),a.$set(k);const T={};_&10243&&(T.$$scope={dirty:_,ctx:d}),c.$set(T)},i(d){f||(p(e.$$.fragment,d),p(m),p(l.$$.fragment,d),p(i.$$.fragment,d),p(a.$$.fragment,d),p(c.$$.fragment,d),f=!0)},o(d){g(e.$$.fragment,d),g(m),g(l.$$.fragment,d),g(i.$$.fragment,d),g(a.$$.fragment,d),g(c.$$.fragment,d),f=!1},d(d){S(e,d),d&&$(t),m&&m.d(d),d&&$(n),S(l,d),d&&$(s),S(i,d),d&&$(o),S(a,d),d&&$(u),S(c,d)}}}function Cme(r){let e;return{c(){e=B("Schema not found.")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function f4(r){let e,t;return e=new Lt({props:{path:"/import/*",firstmatch:!0,$$slots:{default:[Tme]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8195&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Tme(r){let e,t;return e=new Jfe({props:{database:r[0],schema:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Dme(r){let e,t;return e=new Jue({props:{database:r[0],schema:r[1],tableId:parseInt(r[12].params.tableId,10)}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),l&4096&&(s.tableId=parseInt(n[12].params.tableId,10)),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ime(r){let e,t;return e=new kme({props:{database:r[0],schema:r[1],queryId:parseInt(r[12].params.queryId,10)}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),l&4096&&(s.queryId=parseInt(n[12].params.queryId,10)),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Eme(r){let e,t;return e=new _Z({props:{database:r[0],schema:r[1],queryId:r[11]==="edit-exploration"?parseInt(r[12].params.queryId,10):void 0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),l&6144&&(s.queryId=n[11]==="edit-exploration"?parseInt(n[12].params.queryId,10):void 0),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Mme(r){let e,t;return e=new KJ({props:{database:r[0],schema:r[1],section:r[11]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),l&2048&&(s.section=n[11]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ame(r){let e,t,n,l;const s=[Sme,yme],i=[];function o(a,u){return a[1]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function Rme(r,e,t){let n,l,s,i,o,a;de(r,Dr,_=>t(9,i=_)),de(r,ji,_=>t(8,a=_));const u=Xt();de(r,u,_=>t(7,o=_));let{database:c}=e,{schemaId:f}=e;const m={name:"new-exploration",path:"/data-explorer/"};function d(){Zt(Dr,i=void 0,i)}return rn(()=>d),r.$$set=_=>{"database"in _&&t(0,c=_.database),"schemaId"in _&&t(6,f=_.schemaId)},r.$$.update=()=>{r.$$.dirty&64&&Zt(Dr,i=f,i),r.$$.dirty&320&&t(1,n=a.data.get(f)),r.$$.dirty&131&&t(3,l=o==null?void 0:o.hasPermission({database:c,schema:n},"canExecuteDDL")),r.$$.dirty&131&&t(2,s=o==null?void 0:o.hasPermission({database:c,schema:n},"canEditMetadata"))},[c,n,s,l,u,m,f,o,a]}class Pme extends X{constructor(e){super(),Q(this,e,Rme,Ame,G,{database:0,schemaId:6})}}function Ome(r){let e,t;return e=new Wr({props:{$$slots:{default:[Fme]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&65&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Lme(r){let e,t,n,l,s,i;return e=new Nn({props:{item:{type:"database",database:r[1]}}}),n=new Lt({props:{path:"/",$$slots:{default:[zme]},$$scope:{ctx:r}}}),s=new Lt({props:{path:"/:schemaId/*",firstmatch:!0,$$slots:{default:[Hme,({meta:o})=>({5:o}),({meta:o})=>o?32:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment),l=O(),C(s.$$.fragment)},m(o,a){y(e,o,a),w(o,t,a),y(n,o,a),w(o,l,a),y(s,o,a),i=!0},p(o,a){const u={};a&2&&(u.item={type:"database",database:o[1]}),e.$set(u);const c={};a&66&&(c.$$scope={dirty:a,ctx:o}),n.$set(c);const f={};a&98&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){i||(p(e.$$.fragment,o),p(n.$$.fragment,o),p(s.$$.fragment,o),i=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),g(s.$$.fragment,o),i=!1},d(o){S(e,o),o&&$(t),S(n,o),o&&$(l),S(s,o)}}}function Nme(r){let e;return{c(){e=B(r[0])},m(t,n){w(t,e,n)},p(t,n){n&1&&he(e,t[0])},d(t){t&&$(e)}}}function Fme(r){let e,t,n,l;return t=new rl({props:{$$slots:{default:[Nme]},$$scope:{ctx:r}}}),{c(){e=B("Database with name "),C(t.$$.fragment),n=B(" is not found.")},m(s,i){w(s,e,i),y(t,s,i),w(s,n,i),l=!0},p(s,i){const o={};i&65&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){l||(p(t.$$.fragment,s),l=!0)},o(s){g(t.$$.fragment,s),l=!1},d(s){s&&$(e),S(t,s),s&&$(n)}}}function zme(r){let e,t;return e=new EB({props:{database:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.database=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Hme(r){let e,t;return e=new Pme({props:{database:r[1],schemaId:parseInt(r[5].params.schemaId,10)}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.database=n[1]),l&32&&(s.schemaId=parseInt(n[5].params.schemaId,10)),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Vme(r){let e,t,n,l;const s=[Lme,Ome],i=[];function o(a,u){return a[1]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function qme(r,e,t){let n,l,s;de(r,gs,a=>t(3,l=a)),de(r,qi,a=>t(2,s=a));let{databaseName:i}=e;function o(){Zt(gs,l=void 0,l)}return rn(()=>o),r.$$set=a=>{"databaseName"in a&&t(0,i=a.databaseName)},r.$$.update=()=>{var a;r.$$.dirty&1&&Zt(gs,l=i,l),r.$$.dirty&5&&t(1,n=(a=s.data)==null?void 0:a.find(u=>u.name===i))},[i,n,s]}class Ume extends X{constructor(e){super(),Q(this,e,qme,Vme,G,{databaseName:0})}}function Wme(r){let e,t;return e=new zn({props:{$$slots:{default:[jme]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Bme(r){let e,t,n,l,s,i;e=new sa({props:{$$slots:{header:[Kme],default:[Yme]},$$scope:{ctx:r}}}),n=new sa({props:{$$slots:{default:[Gme]},$$scope:{ctx:r}}});let o=!r[0].isSuperUser&&m4(r);return{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment),l=O(),o&&o.c(),s=ae()},m(a,u){y(e,a,u),w(a,t,u),y(n,a,u),w(a,l,u),o&&o.m(a,u),w(a,s,u),i=!0},p(a,u){const c={};u&9&&(c.$$scope={dirty:u,ctx:a}),e.$set(c);const f={};u&9&&(f.$$scope={dirty:u,ctx:a}),n.$set(f),a[0].isSuperUser?o&&(q(),g(o,1,1,()=>{o=null}),U()):o?u&1&&p(o,1):(o=m4(a),o.c(),p(o,1),o.m(s.parentNode,s))},i(a){i||(p(e.$$.fragment,a),p(n.$$.fragment,a),p(o),i=!0)},o(a){g(e.$$.fragment,a),g(n.$$.fragment,a),g(o),i=!1},d(a){S(e,a),a&&$(t),S(n,a),a&&$(l),o&&o.d(a),a&&$(s)}}}function jme(r){let e;return{c(){e=B("Could not fetch user profile details. Try refreshing your page.")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function Yme(r){let e,t;return e=new yf({props:{user:r[0].getUser()}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.user=n[0].getUser()),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Kme(r){let e;return{c(){e=I("h2"),e.textContent="Account Details",D(e,"class","large-bold-header svelte-zd9d3z"),D(e,"slot","header")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function Gme(r){let e,t;return e=new T6({props:{userId:r[0].id}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.userId=n[0].id),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function m4(r){let e,t;return e=new sa({props:{$$slots:{header:[Xme],default:[Qme]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Qme(r){let e;return{c(){e=I("div"),e.textContent=`Please contact your administrator to request permanent deletion of
            your account`},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function Xme(r){let e;return{c(){e=I("h2"),e.textContent="Delete Account",D(e,"class","large-bold-header svelte-zd9d3z"),D(e,"slot","header")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function Jme(r){let e,t,n,l;const s=[Bme,Wme],i=[];function o(a,u){return a[0]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function Zme(r){let e;return{c(){e=I("h1"),e.textContent="User Profile",D(e,"slot","header")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function xme(r){let e,t;return e=new Of({props:{hasMultipleSections:!0,$$slots:{header:[Zme],default:[Jme]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&9&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ede(r){var s,i;let e,t,n,l;return document.title=e=((i=(s=r[0])==null?void 0:s.getDisplayName())!=null?i:"User profile")+" | Mathesar",n=new Or({props:{cssVariables:{"--page-padding":"var(--outer-page-padding-for-inset-page)","--layout-background-color":"var(--sand-200)","--inset-page-section-padding":"var(--size-ultra-large) var(--size-xx-large)"},$$slots:{default:[xme]},$$scope:{ctx:r}}}),{c(){t=O(),C(n.$$.fragment)},m(o,a){w(o,t,a),y(n,o,a),l=!0},p(o,[a]){var c,f;(!l||a&1)&&e!==(e=((f=(c=o[0])==null?void 0:c.getDisplayName())!=null?f:"User profile")+" | Mathesar")&&(document.title=e);const u={};a&9&&(u.$$scope={dirty:a,ctx:o}),n.$set(u)},i(o){l||(p(n.$$.fragment,o),l=!0)},o(o){g(n.$$.fragment,o),l=!1},d(o){o&&$(t),S(n,o)}}}function tde(r,e,t){let n,l;const s=Xt();return de(r,s,i=>t(2,l=i)),r.$$.update=()=>{r.$$.dirty&4&&t(0,n=l)},[n,s,l]}class nde extends X{constructor(e){super(),Q(this,e,tde,ede,G,{})}}function rde(r){let e,t,n,l;return e=new Nn({props:{item:{type:"simple",href:hw,label:"User Profile",icon:bi}}}),n=new nde({}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p:z,i(s){l||(p(e.$$.fragment,s),p(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&$(t),S(n,s)}}}class lde extends X{constructor(e){super(),Q(this,e,null,rde,G,{})}}const sde={async upgrade(){await un("/api/ui/v0/upgrade/",{})}};function ide(r){let e,t,n,l,s,i,o,a,u,c,f,m,d,_,h,b,v,k,T,E,P,R,L,A,N;return R=new _r({props:{onCancel:r[2],proceedButton:{label:"Continue",icon:KI},onProceed:r[1]}}),{c(){e=I("p"),e.textContent="Before Upgrading",t=O(),n=I("ul"),l=I("li"),s=B(`Read the
    `),i=I("a"),o=B("release notes"),u=B(`
    to see if this release requires any special upgrade instructions.`),c=O(),f=I("li"),f.textContent="Prepare your users for up to five minutes of downtime.",m=O(),d=I("p"),d.textContent="While Upgrading",_=O(),h=I("ul"),h.innerHTML=`<li>This window will remain open but all features within Mathesar will be
    unusable.</li> 
  <li>You will see a loading spinner but no progress bar.</li>`,b=O(),v=I("p"),v.textContent="After Upgrading",k=O(),T=I("ul"),T.innerHTML=`<li>This page will automatically reload, showing the software update status
    again.</li> 
  <li>If the upgrade succeeds, you will see that you&#39;re running the latest
    version.</li> 
  <li>If the upgrade fails, the update status screen will still show that an
    upgrade is available, and you will need to refer to our
    <a href="https://docs.mathesar.org/">documentation</a>
    for further troubleshooting.</li>`,E=O(),P=I("div"),C(R.$$.fragment),D(i,"href",a=r[0].notesUrl),D(i,"target","_blank")},m(F,K){w(F,e,K),w(F,t,K),w(F,n,K),M(n,l),M(l,s),M(l,i),M(i,o),M(l,u),M(n,c),M(n,f),w(F,m,K),w(F,d,K),w(F,_,K),w(F,h,K),w(F,b,K),w(F,v,K),w(F,k,K),w(F,T,K),w(F,E,K),w(F,P,K),y(R,P,null),L=!0,A||(N=Dn(Cc.call(null,P)),A=!0)},p(F,[K]){(!L||K&1&&a!==(a=F[0].notesUrl))&&D(i,"href",a);const W={};K&4&&(W.onCancel=F[2]),K&2&&(W.onProceed=F[1]),R.$set(W)},i(F){L||(p(R.$$.fragment,F),L=!0)},o(F){g(R.$$.fragment,F),L=!1},d(F){F&&$(e),F&&$(t),F&&$(n),F&&$(m),F&&$(d),F&&$(_),F&&$(h),F&&$(b),F&&$(v),F&&$(k),F&&$(T),F&&$(E),F&&$(P),S(R),A=!1,N()}}}function ode(r,e,t){let{release:n}=e,{onProceed:l}=e,{onClose:s}=e;return r.$$set=i=>{"release"in i&&t(0,n=i.release),"onProceed"in i&&t(1,l=i.onProceed),"onClose"in i&&t(2,s=i.onClose)},[n,l,s]}class ade extends X{constructor(e){super(),Q(this,e,ode,ide,G,{release:0,onProceed:1,onClose:2})}}function ude(r){let e;return{c(){e=B(r[0])},m(t,n){w(t,e,n)},p(t,n){n&1&&he(e,t[0])},d(t){t&&$(e)}}}function cde(r){let e,t,n,l,s,i,o;return e=new zn({props:{$$slots:{default:[ude]},$$scope:{ctx:r}}}),l=new _r({props:{onCancel:r[2],proceedButton:{label:"Retry",icon:ks},onProceed:r[1]}}),{c(){C(e.$$.fragment),t=O(),n=I("div"),C(l.$$.fragment)},m(a,u){y(e,a,u),w(a,t,u),w(a,n,u),y(l,n,null),s=!0,i||(o=Dn(Cc.call(null,n)),i=!0)},p(a,[u]){const c={};u&9&&(c.$$scope={dirty:u,ctx:a}),e.$set(c);const f={};u&4&&(f.onCancel=a[2]),u&2&&(f.onProceed=a[1]),l.$set(f)},i(a){s||(p(e.$$.fragment,a),p(l.$$.fragment,a),s=!0)},o(a){g(e.$$.fragment,a),g(l.$$.fragment,a),s=!1},d(a){S(e,a),a&&$(t),a&&$(n),S(l),i=!1,o()}}}function fde(r,e,t){let{message:n}=e,{onRetry:l}=e,{onClose:s}=e;return r.$$set=i=>{"message"in i&&t(0,n=i.message),"onRetry"in i&&t(1,l=i.onRetry),"onClose"in i&&t(2,s=i.onClose)},[n,l,s]}class mde extends X{constructor(e){super(),Q(this,e,fde,cde,G,{message:0,onRetry:1,onClose:2})}}function dde(r){let e;return{c(){e=I("p"),e.textContent=`A Mathesar upgrade is currently in progress. It is important that you do not
    navigate away from this page until the upgrade is complete.`},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function pde(r){let e,t,n,l,s,i,o,a;return e=new Ks({props:{$$slots:{default:[dde]},$$scope:{ctx:r}}}),s=new an({}),{c(){C(e.$$.fragment),t=O(),n=I("div"),l=I("div"),C(s.$$.fragment),i=O(),o=I("div"),o.textContent="Upgrading...",D(l,"class","spinner svelte-szmtfz"),D(n,"class","upgrading svelte-szmtfz")},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),M(n,l),y(s,l,null),M(n,i),M(n,o),a=!0},p(u,[c]){const f={};c&1&&(f.$$scope={dirty:c,ctx:u}),e.$set(f)},i(u){a||(p(e.$$.fragment,u),p(s.$$.fragment,u),a=!0)},o(u){g(e.$$.fragment,u),g(s.$$.fragment,u),a=!1},d(u){S(e,u),u&&$(t),u&&$(n),S(s)}}}class _de extends X{constructor(e){super(),Q(this,e,null,pde,G,{})}}function gde(r){let e=pn(r[2])+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&4&&e!==(e=pn(n[2])+"")&&he(t,e)},i:z,o:z,d(n){n&&$(t)}}}function hde(r){let e,t;return e=new mde({props:{message:r[2].errorMsg,onClose:r[9],onRetry:r[5]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.message=n[2].errorMsg),l&1&&(s.onClose=n[9]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function bde(r){let e,t;return e=new _de({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function $de(r){let e,t;return e=new ade({props:{release:r[1],onProceed:r[5],onClose:r[8]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.release=n[1]),l&1&&(s.onClose=n[8]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function wde(r){let e,t,n,l;const s=[$de,bde,hde,gde],i=[];function o(a,u){return a[2].status==="confirm"?0:a[2].status==="processing"?1:a[2].status==="error"?2:3}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function vde(r){let e,t;return e=new Pl({props:{controller:r[0],title:r[3],size:"large",allowClose:r[2].status!=="processing",$$slots:{default:[wde]},$$scope:{ctx:r}}}),e.$on("open",r[4]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.controller=n[0]),l&8&&(s.title=n[3]),l&4&&(s.allowClose=n[2].status!=="processing"),l&4103&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function d4(){return{status:"confirm"}}function kde(r,e,t){let n,l,s,{controller:i}=e,{release:o}=e,a=d4(),u;function c(){a.status!=="processing"&&(window.clearTimeout(u),t(2,a=d4()))}async function f(){try{await MA.list(),window.location.reload()}catch(h){u=window.setTimeout(()=>{f()},2e3)}}async function m(){t(2,a={status:"processing"});try{await sde.upgrade(),f()}catch(h){t(2,a={status:"error",errorMsg:en(h)})}}const d=()=>i.close(),_=()=>i.close();return r.$$set=h=>{"controller"in h&&t(0,i=h.controller),"release"in h&&t(1,o=h.release)},r.$$.update=()=>{r.$$.dirty&2&&t(7,n=`Mathesar ${o.tagName}`),r.$$.dirty&128&&t(6,l=(()=>({confirm:`Upgrade to ${n}`,processing:`Upgrading to ${n}`,error:"Error Upgrading"}))()),r.$$.dirty&68&&t(3,s=l[a.status])},[i,o,a,s,c,m,l,n,d,_]}class yde extends X{constructor(e){super(),Q(this,e,kde,vde,G,{controller:0,release:1})}}function Sde(r){let e=pn(r[0])+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=pn(n[0])+"")&&he(t,e)},i:z,o:z,d(n){n&&$(t)}}}function Cde(r){let e;return{c(){e=B("Latest Available Version (not installed)")},m(t,n){w(t,e,n)},p:z,i:z,o:z,d(t){t&&$(e)}}}function Tde(r){let e,t,n;const l=[Vo];let s={};for(let i=0;i<l.length;i+=1)s=x(s,l[i]);return e=new Fe({props:s}),{c(){C(e.$$.fragment),t=B(`
      Currently Installed`)},m(i,o){y(e,i,o),w(i,t,o),n=!0},p(i,o){const a=o&0?ce(l,[be(Vo)]):{};e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i),i&&$(t)}}}function Dde(r){let e,t,n;const l=[Vo];let s={};for(let i=0;i<l.length;i+=1)s=x(s,l[i]);return e=new Fe({props:s}),{c(){C(e.$$.fragment),t=B(`
      You are running the latest version`)},m(i,o){y(e,i,o),w(i,t,o),n=!0},p(i,o){const a=o&0?ce(l,[be(Vo)]):{};e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i),i&&$(t)}}}function Ide(r){let e,t,n;const l=[H1];let s={};for(let i=0;i<l.length;i+=1)s=x(s,l[i]);return e=new Fe({props:s}),{c(){C(e.$$.fragment),t=B(`
      New Version Available`)},m(i,o){y(e,i,o),w(i,t,o),n=!0},p(i,o){const a=o&0?ce(l,[be(H1)]):{};e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i),i&&$(t)}}}function p4(r){let e,t,n,l,s;return l=new ut({props:{appearance:"secondary",$$slots:{default:[Ede]},$$scope:{ctx:r}}}),l.$on("click",r[5]),{c(){e=I("div"),t=I("div"),t.textContent="We can install this new version for you",n=O(),C(l.$$.fragment),D(t,"class","message svelte-h6yxxp"),D(e,"class","update-action svelte-h6yxxp")},m(i,o){w(i,e,o),M(e,t),M(e,n),y(l,e,null),s=!0},p(i,o){const a={};o&64&&(a.$$scope={dirty:o,ctx:i}),l.$set(a)},i(i){s||(p(l.$$.fragment,i),s=!0)},o(i){g(l.$$.fragment,i),s=!1},d(i){i&&$(e),S(l)}}}function Ede(r){let e;return{c(){e=B("Upgrade...")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function _4(r){let e,t;return e=new yde({props:{controller:r[3],release:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.release=n[1]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Mde(r){let e,t,n,l,s,i,o,a,u,c,f,m,d,_=r[1].tagName+"",h,b,v,k,T,E,P,R,L,A,N,F,K,W,j;const Y=[Ide,Dde,Tde,Cde,Sde],oe=[];function te(ue,ie){return ue[0]==="available-upgrade"?0:ue[0]==="currently-installed-and-latest"?1:ue[0]==="current"?2:ue[0]==="latest"?3:4}n=te(r),l=oe[n]=Y[n](r),u=new v6({});const ne=[N1];let H={};for(let ue=0;ue<ne.length;ue+=1)H=x(H,ne[ue]);A=new Fe({props:H});let ee=r[0]==="available-upgrade"&&p4(r),pe=r[0]==="available-upgrade"&&_4(r);return{c(){e=I("div"),t=I("div"),l.c(),s=O(),i=I("div"),o=I("div"),a=I("div"),C(u.$$.fragment),c=O(),f=I("div"),f.textContent="Mathesar",m=O(),d=I("div"),h=B(_),b=O(),v=I("div"),k=I("div"),T=B("Released "),E=B(r[2]),P=O(),R=I("a"),L=B("Release Notes "),C(A.$$.fragment),F=O(),ee&&ee.c(),K=O(),pe&&pe.c(),W=ae(),D(t,"class","type svelte-h6yxxp"),D(a,"class","logo svelte-h6yxxp"),D(f,"class","name svelte-h6yxxp"),D(d,"class","version svelte-h6yxxp"),D(o,"class","left svelte-h6yxxp"),D(k,"class","date"),D(R,"href",N=r[1].notesUrl),D(R,"class","notes svelte-h6yxxp"),D(R,"target","_blank"),D(v,"class","right svelte-h6yxxp"),D(i,"class","details svelte-h6yxxp"),D(e,"class","release svelte-h6yxxp"),Z(e,"available-upgrade",r[0]==="available-upgrade"),Z(e,"currently-installed-and-latest",r[0]==="currently-installed-and-latest")},m(ue,ie){w(ue,e,ie),M(e,t),oe[n].m(t,null),M(e,s),M(e,i),M(i,o),M(o,a),y(u,a,null),M(o,c),M(o,f),M(o,m),M(o,d),M(d,h),M(i,b),M(i,v),M(v,k),M(k,T),M(k,E),M(v,P),M(v,R),M(R,L),y(A,R,null),M(e,F),ee&&ee.m(e,null),w(ue,K,ie),pe&&pe.m(ue,ie),w(ue,W,ie),j=!0},p(ue,[ie]){let me=n;n=te(ue),n===me?oe[n].p(ue,ie):(q(),g(oe[me],1,1,()=>{oe[me]=null}),U(),l=oe[n],l?l.p(ue,ie):(l=oe[n]=Y[n](ue),l.c()),p(l,1),l.m(t,null)),(!j||ie&2)&&_!==(_=ue[1].tagName+"")&&he(h,_),(!j||ie&4)&&he(E,ue[2]);const Se=ie&0?ce(ne,[be(N1)]):{};A.$set(Se),(!j||ie&2&&N!==(N=ue[1].notesUrl))&&D(R,"href",N),ue[0]==="available-upgrade"?ee?(ee.p(ue,ie),ie&1&&p(ee,1)):(ee=p4(ue),ee.c(),p(ee,1),ee.m(e,null)):ee&&(q(),g(ee,1,1,()=>{ee=null}),U()),(!j||ie&1)&&Z(e,"available-upgrade",ue[0]==="available-upgrade"),(!j||ie&1)&&Z(e,"currently-installed-and-latest",ue[0]==="currently-installed-and-latest"),ue[0]==="available-upgrade"?pe?(pe.p(ue,ie),ie&1&&p(pe,1)):(pe=_4(ue),pe.c(),p(pe,1),pe.m(W.parentNode,W)):pe&&(q(),g(pe,1,1,()=>{pe=null}),U())},i(ue){j||(p(l),p(u.$$.fragment,ue),p(A.$$.fragment,ue),p(ee),p(pe),j=!0)},o(ue){g(l),g(u.$$.fragment,ue),g(A.$$.fragment,ue),g(ee),g(pe),j=!1},d(ue){ue&&$(e),oe[n].d(),S(u),S(A),ee&&ee.d(),ue&&$(K),pe&&pe.d(ue),ue&&$(W)}}}function Ade(r,e,t){let n,l;const s=dr.spawnModalController();let{type:i}=e,{release:o}=e;const a=()=>s.open();return r.$$set=u=>{"type"in u&&t(0,i=u.type),"release"in u&&t(1,o=u.release)},r.$$.update=()=>{r.$$.dirty&2&&t(4,n=new Date(o.date)),r.$$.dirty&16&&t(2,l=n.toLocaleDateString())},[i,o,l,s,n,a]}class jl extends X{constructor(e){super(),Q(this,e,Ade,Mde,G,{type:0,release:1})}}function Rde(r){const e=r.slice(),t=e[1];e[9]=t.value;const n=e[9];return e[10]=n.current,e[11]=n.latest,e}function Pde(r){let e,t,n,l,s;return l=new an({}),{c(){e=I("div"),e.textContent="Loading release data",t=O(),n=I("div"),C(l.$$.fragment)},m(i,o){w(i,e,o),w(i,t,o),w(i,n,o),y(l,n,null),s=!0},p:z,i(i){s||(p(l.$$.fragment,i),s=!0)},o(i){g(l.$$.fragment,i),s=!1},d(i){i&&$(e),i&&$(t),i&&$(n),S(l)}}}function Ode(r){let e,t,n,l;const s=[qde,Vde,Hde,zde,Fde,Nde,Lde],i=[];function o(a,u){return a[5]?0:a[10]?a[3]==="up-to-date"?2:a[11]?a[3]==="upgradable"?4:a[3]===void 0?5:6:3:1}return t=o(r),n=i[t]=s[t](r),{c(){e=I("div"),n.c(),D(e,"class","releases svelte-jzxcls")},m(a,u){w(a,e,u),i[t].m(e,null),l=!0},p(a,u){let c=t;t=o(a),t===c?i[t].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),p(n,1),n.m(e,null))},i(a){l||(p(n),l=!0)},o(a){g(n),l=!1},d(a){a&&$(e),i[t].d()}}}function Lde(r){let e=pn(r[3])+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&8&&e!==(e=pn(n[3])+"")&&he(t,e)},i:z,o:z,d(n){n&&$(t)}}}function Nde(r){let e,t,n,l;return e=new jl({props:{release:r[10],type:"current"}}),n=new jl({props:{release:r[11],type:"latest"}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&2&&(o.release=s[10]),e.$set(o);const a={};i&2&&(a.release=s[11]),n.$set(a)},i(s){l||(p(e.$$.fragment,s),p(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&$(t),S(n,s)}}}function Fde(r){let e,t,n,l;return e=new jl({props:{release:r[11],type:"available-upgrade"}}),n=new jl({props:{release:r[10],type:"current"}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&2&&(o.release=s[11]),e.$set(o);const a={};i&2&&(a.release=s[10]),n.$set(a)},i(s){l||(p(e.$$.fragment,s),p(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&$(t),S(n,s)}}}function zde(r){let e,t,n,l;return e=new jl({props:{release:r[10],type:"current"}}),n=new zn({props:{$$slots:{default:[Ude]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&2&&(o.release=s[10]),e.$set(o);const a={};i&4096&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(p(e.$$.fragment,s),p(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&$(t),S(n,s)}}}function Hde(r){let e,t;return e=new jl({props:{release:r[10],type:"currently-installed-and-latest"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.release=n[10]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Vde(r){let e,t,n,l;e=new zn({props:{$$slots:{default:[Wde]},$$scope:{ctx:r}}});let s=r[11]&&g4(r);return{c(){C(e.$$.fragment),t=O(),s&&s.c(),n=ae()},m(i,o){y(e,i,o),w(i,t,o),s&&s.m(i,o),w(i,n,o),l=!0},p(i,o){const a={};o&4098&&(a.$$scope={dirty:o,ctx:i}),e.$set(a),i[11]?s?(s.p(i,o),o&2&&p(s,1)):(s=g4(i),s.c(),p(s,1),s.m(n.parentNode,n)):s&&(q(),g(s,1,1,()=>{s=null}),U())},i(i){l||(p(e.$$.fragment,i),p(s),l=!0)},o(i){g(e.$$.fragment,i),g(s),l=!1},d(i){S(e,i),i&&$(t),s&&s.d(i),i&&$(n)}}}function qde(r){let e,t,n,l,s;return l=new an({}),{c(){e=I("div"),e.textContent="Loading release data",t=O(),n=I("div"),C(l.$$.fragment)},m(i,o){w(i,e,o),w(i,t,o),w(i,n,o),y(l,n,null),s=!0},p:z,i(i){s||(p(l.$$.fragment,i),s=!0)},o(i){g(l.$$.fragment,i),s=!1},d(i){i&&$(e),i&&$(t),i&&$(n),S(l)}}}function Ude(r){let e;return{c(){e=B("Unable to load data about the latest release.")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function Wde(r){let e,t,n=r[1].inputHash+"",l,s;return{c(){e=B(`The currently-installed version is
        `),t=I("strong"),l=B(n),s=B(`
        but we were unable to load data about this release.`)},m(i,o){w(i,e,o),w(i,t,o),M(t,l),w(i,s,o)},p(i,o){o&2&&n!==(n=i[1].inputHash+"")&&he(l,n)},d(i){i&&$(e),i&&$(t),i&&$(s)}}}function g4(r){let e,t;return e=new jl({props:{release:r[11],type:"latest"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.release=n[11]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function h4(r){let e,t;return{c(){e=B("Last checked: "),t=B(r[2])},m(n,l){w(n,e,l),w(n,t,l)},p(n,l){l&4&&he(t,n[2])},d(n){n&&$(e),n&&$(t)}}}function Bde(r){let e,t,n,l,s,i,o,a;const u=[Ode,Pde],c=[];function f(_,h){return _[1]?0:1}function m(_,h){return h===0?Rde(_):_}e=f(r),t=c[e]=u[e](m(r,e)),i=new tl({props:{label:"Check for Updates",appearance:"default",icon:ks,onClick:r[6]}});let d=r[2]&&h4(r);return{c(){t.c(),n=O(),l=I("div"),s=I("div"),C(i.$$.fragment),o=O(),d&&d.c(),D(s,"class","check-button svelte-jzxcls"),D(l,"class","store-status svelte-jzxcls")},m(_,h){c[e].m(_,h),w(_,n,h),w(_,l,h),M(l,s),y(i,s,null),M(l,o),d&&d.m(l,null),a=!0},p(_,[h]){let b=e;e=f(_),e===b?c[e].p(m(_,e),h):(q(),g(c[b],1,1,()=>{c[b]=null}),U(),t=c[e],t?t.p(m(_,e),h):(t=c[e]=u[e](m(_,e)),t.c()),p(t,1),t.m(n.parentNode,n)),_[2]?d?d.p(_,h):(d=h4(_),d.c(),d.m(l,null)):d&&(d.d(1),d=null)},i(_){a||(p(t),p(i.$$.fragment,_),a=!0)},o(_){g(t),g(i.$$.fragment,_),a=!1},d(_){c[e].d(_),_&&$(n),_&&$(l),S(i),d&&d.d()}}}function jde(r,e,t){let n,l,s,i,o,a,u=z,c=()=>(u(),u=se(_,b=>t(8,a=b)),_),f,m=z,d=()=>(m(),m=se(l,b=>t(5,f=b)),l);r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m());let{releaseDataStore:_}=e;c();async function h(){try{await _.forceFetch()}catch(b){At.fromError(b)}}return r.$$set=b=>{"releaseDataStore"in b&&c(t(0,_=b.releaseDataStore))},r.$$.update=()=>{r.$$.dirty&256&&t(1,n=a),r.$$.dirty&1&&d(t(4,{loading:l}=_,l)),r.$$.dirty&256&&t(7,s=a==null?void 0:a.value),r.$$.dirty&128&&t(3,i=s==null?void 0:s.upgradeStatus),r.$$.dirty&2&&t(2,o=(()=>{if(!!n)return new Date(n.timestamp).toLocaleString()})())},[_,n,o,i,l,f,h,s,a]}class Yde extends X{constructor(e){super(),Q(this,e,jde,Bde,G,{releaseDataStore:0})}}function Kde(r){let e,t;return e=new zn({props:{$$slots:{default:[Qde]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Gde(r){let e,t;return e=new Yde({props:{releaseDataStore:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Qde(r){let e;return{c(){e=B("Release data store not found in context.")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function Xde(r){let e,t,n,l,s,i,o,a;document.title=e=Rn("Software Update");const u=[Gde,Kde],c=[];function f(m,d){return m[0]?0:1}return s=f(r),i=c[s]=u[s](r),{c(){t=O(),n=I("h1"),n.textContent="Software Update",l=O(),i.c(),o=ae()},m(m,d){w(m,t,d),w(m,n,d),w(m,l,d),c[s].m(m,d),w(m,o,d),a=!0},p(m,[d]){(!a||d&0)&&e!==(e=Rn("Software Update"))&&(document.title=e),i.p(m,d)},i(m){a||(p(i),a=!0)},o(m){g(i),a=!1},d(m){m&&$(t),m&&$(n),m&&$(l),c[s].d(m),m&&$(o)}}}function Jde(r){return[Ta()]}class Zde extends X{constructor(e){super(),Q(this,e,Jde,Xde,G,{})}}function xde(r){let e;return{c(){e=B("Update")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function e1e(r){let e;return{c(){e=B("Users")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function t1e(r){let e,t,n,l,s,i,o,a;return t=new Mo({props:{icon:Ts,hasNotificationDot:r[0],$$slots:{default:[xde]},$$scope:{ctx:r}}}),s=new Mo({props:{icon:x$,$$slots:{default:[e1e]},$$scope:{ctx:r}}}),{c(){e=I("a"),C(t.$$.fragment),n=O(),l=I("a"),C(s.$$.fragment),D(e,"role","menuitem"),D(e,"href",Pc),D(e,"class","menu-item menu-item-link"),D(l,"role","menuitem"),D(l,"href",Ia),D(l,"class","menu-item menu-item-link")},m(u,c){w(u,e,c),y(t,e,null),w(u,n,c),w(u,l,c),y(s,l,null),i=!0,o||(a=[Dn(p_.call(null,e)),Dn(p_.call(null,l))],o=!0)},p(u,c){const f={};c&1&&(f.hasNotificationDot=u[0]),c&8&&(f.$$scope={dirty:c,ctx:u}),t.$set(f);const m={};c&8&&(m.$$scope={dirty:c,ctx:u}),s.$set(m)},i(u){i||(p(t.$$.fragment,u),p(s.$$.fragment,u),i=!0)},o(u){g(t.$$.fragment,u),g(s.$$.fragment,u),i=!1},d(u){u&&$(e),S(t),u&&$(n),u&&$(l),S(s),o=!1,Dt(a)}}}function n1e(r){let e,t,n;return t=new _a({props:{$$slots:{default:[t1e]},$$scope:{ctx:r}}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","admin-navigation svelte-1keif3v")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,[s]){const i={};s&9&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function r1e(r,e,t){let n,l;const s=Ta();return de(r,s,i=>t(2,l=i)),r.$$.update=()=>{var i;r.$$.dirty&4&&t(0,n=((i=l==null?void 0:l.value)==null?void 0:i.upgradeStatus)==="upgradable")},[n,s,l]}class l1e extends X{constructor(e){super(),Q(this,e,r1e,n1e,G,{})}}function b4(r){let e,t,n,l=r[0].fullName&&$4(r),s=r[0].fullName&&r[0].email&&w4(),i=r[0].email&&v4(r);return{c(){e=I("div"),l&&l.c(),t=O(),s&&s.c(),n=O(),i&&i.c(),D(e,"class","user-detailed-info svelte-1fsft1x")},m(o,a){w(o,e,a),l&&l.m(e,null),M(e,t),s&&s.m(e,null),M(e,n),i&&i.m(e,null)},p(o,a){o[0].fullName?l?l.p(o,a):(l=$4(o),l.c(),l.m(e,t)):l&&(l.d(1),l=null),o[0].fullName&&o[0].email?s||(s=w4(),s.c(),s.m(e,n)):s&&(s.d(1),s=null),o[0].email?i?i.p(o,a):(i=v4(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(o){o&&$(e),l&&l.d(),s&&s.d(),i&&i.d()}}}function $4(r){let e,t=r[0].fullName+"",n;return{c(){e=I("span"),n=B(t)},m(l,s){w(l,e,s),M(e,n)},p(l,s){s&1&&t!==(t=l[0].fullName+"")&&he(n,t)},d(l){l&&$(e)}}}function w4(r){let e;return{c(){e=I("span"),D(e,"class","divider svelte-1fsft1x")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function v4(r){let e,t=r[0].email+"",n;return{c(){e=I("span"),n=B(t)},m(l,s){w(l,e,s),M(e,n)},p(l,s){s&1&&t!==(t=l[0].email+"")&&he(n,t)},d(l){l&&$(e)}}}function s1e(r){let e,t,n,l=r[0].username+"",s,i,o,a,u,c,f,m=r[2].displayName+"",d,_,h,b=r[1]&&b4(r);const v=[{class:"icon"},r[2].icon];let k={};for(let T=0;T<v.length;T+=1)k=x(k,v[T]);return u=new Fe({props:k}),{c(){e=I("a"),t=I("div"),n=I("span"),s=B(l),i=O(),b&&b.c(),o=O(),a=I("div"),C(u.$$.fragment),c=O(),f=I("span"),d=B(m),D(t,"class","user-info svelte-1fsft1x"),D(a,"class","user-type svelte-1fsft1x"),D(e,"class","user-row passthrough svelte-1fsft1x"),D(e,"href",_=$i(r[0].id))},m(T,E){w(T,e,E),M(e,t),M(t,n),M(n,s),M(t,i),b&&b.m(t,null),M(e,o),M(e,a),y(u,a,null),M(a,c),M(a,f),M(f,d),h=!0},p(T,[E]){(!h||E&1)&&l!==(l=T[0].username+"")&&he(s,l),T[1]?b?b.p(T,E):(b=b4(T),b.c(),b.m(t,null)):b&&(b.d(1),b=null);const P=E&4?ce(v,[v[0],be(T[2].icon)]):{};u.$set(P),(!h||E&4)&&m!==(m=T[2].displayName+"")&&he(d,m),(!h||E&1&&_!==(_=$i(T[0].id)))&&D(e,"href",_)},i(T){h||(p(u.$$.fragment,T),h=!0)},o(T){g(u.$$.fragment,T),h=!1},d(T){T&&$(e),b&&b.d(),S(u)}}}function i1e(r,e,t){let n,l,{user:s}=e;return r.$$set=i=>{"user"in i&&t(0,s=i.user)},r.$$.update=()=>{r.$$.dirty&1&&t(2,n=qW(s)),r.$$.dirty&1&&t(1,l=s.email||s.fullName)},[s,l,n]}class o1e extends X{constructor(e){super(),Q(this,e,i1e,s1e,G,{user:0})}}function a1e(r){let e,t,n;return t=new vc({props:{loading:!0}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","user-skeleton-container svelte-1ko2nwt")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p:z,i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}class u1e extends X{constructor(e){super(),Q(this,e,null,a1e,G,{})}}const c1e=r=>({}),k4=r=>({slot:"action"}),f1e=r=>({}),y4=r=>({slot:"resultInfo"});function S4(r,e,t){const n=r.slice();return n[12]=e[t],n[14]=t,n}const m1e=r=>({}),C4=r=>({slot:"content"});function d1e(r){let e,t;return e=new zn({props:{$$slots:{default:[g1e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1056&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function p1e(r){let e,t,n;function l(i){r[9](i)}let s={searchPlaceholder:"Search Users",$$slots:{content:[C1e],resultInfo:[v1e],action:[$1e]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.searchQuery=r[0]),e=new Qa({props:s}),ye.push(()=>Pe(e,"searchQuery",l)),e.$on("clear",r[6]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&1027&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.searchQuery=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function _1e(r){let e,t;return e=new u1e({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function g1e(r){let e,t,n=r[5].errors+"",l;return{c(){e=I("p"),t=B("Error: "),l=B(n)},m(s,i){w(s,e,i),M(e,t),M(e,l)},p(s,i){i&32&&n!==(n=s[5].errors+"")&&he(l,n)},d(s){s&&$(e)}}}function h1e(r){let e,t,n,l;const s=[Qt];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new Fe({props:i}),{c(){C(e.$$.fragment),t=O(),n=I("span"),n.textContent="Add user"},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),l=!0},p(o,a){const u=a&0?ce(s,[be(Qt)]):{};e.$set(u)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),l=!1},d(o){S(e,o),o&&$(t),o&&$(n)}}}function b1e(r){let e,t;return e=new ml({props:{appearance:"primary",href:bw,$$slots:{default:[h1e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1024&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function $1e(r){let e;const t=r[8].default,n=De(t,r,r[10],k4),l=n||b1e(r);return{c(){l&&l.c()},m(s,i){l&&l.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&1024)&&Ee(n,t,s,s[10],e?Ie(t,s[10],i,c1e):Me(s[10]),k4)},i(s){e||(p(l,s),e=!0)},o(s){g(l,s),e=!1},d(s){l&&l.d(s)}}}function w1e(r){let e,t=Yt(r[1],"results")+"",n,l,s,i;return{c(){e=I("p"),n=B(t),l=B(`
          for all users matching `),s=I("strong"),i=B(r[0])},m(o,a){w(o,e,a),M(e,n),M(e,l),M(e,s),M(s,i)},p(o,a){a&2&&t!==(t=Yt(o[1],"results")+"")&&he(n,t),a&1&&he(i,o[0])},d(o){o&&$(e)}}}function v1e(r){let e;const t=r[8].default,n=De(t,r,r[10],y4),l=n||w1e(r);return{c(){l&&l.c()},m(s,i){l&&l.m(s,i),e=!0},p(s,i){n?n.p&&(!e||i&1024)&&Ee(n,t,s,s[10],e?Ie(t,s[10],i,f1e):Me(s[10]),y4):l&&l.p&&(!e||i&3)&&l.p(s,e?i:-1)},i(s){e||(p(l,s),e=!0)},o(s){g(l,s),e=!1},d(s){l&&l.d(s)}}}function k1e(r){let e;return{c(){e=I("p"),e.textContent="No users found",D(e,"class","no-users-found-text")},m(t,n){w(t,e,n)},p:z,i:z,o:z,d(t){t&&$(e)}}}function y1e(r){let e,t=[],n=new Map,l,s=r[1];const i=o=>o[12].id;for(let o=0;o<s.length;o+=1){let a=S4(r,s,o),u=i(a);n.set(u,t[o]=D4(u,a))}return{c(){e=I("div");for(let o=0;o<t.length;o+=1)t[o].c();D(e,"class","users-list svelte-1923w5b")},m(o,a){w(o,e,a);for(let u=0;u<t.length;u+=1)t[u].m(e,null);l=!0},p(o,a){a&2&&(s=o[1],q(),t=pt(t,a,i,1,o,s,n,e,ht,D4,null,S4),U())},i(o){if(!l){for(let a=0;a<s.length;a+=1)p(t[a]);l=!0}},o(o){for(let a=0;a<t.length;a+=1)g(t[a]);l=!1},d(o){o&&$(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function T4(r){let e;return{c(){e=I("hr"),D(e,"class","svelte-1923w5b")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function D4(r,e){let t,n,l,s,i=e[14]!==0&&T4();return l=new o1e({props:{user:e[12]}}),{key:r,first:null,c(){t=ae(),i&&i.c(),n=O(),C(l.$$.fragment),this.first=t},m(o,a){w(o,t,a),i&&i.m(o,a),w(o,n,a),y(l,o,a),s=!0},p(o,a){e=o,e[14]!==0?i||(i=T4(),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null);const u={};a&2&&(u.user=e[12]),l.$set(u)},i(o){s||(p(l.$$.fragment,o),s=!0)},o(o){g(l.$$.fragment,o),s=!1},d(o){o&&$(t),i&&i.d(o),o&&$(n),S(l,o)}}}function S1e(r){let e,t,n,l;const s=[y1e,k1e],i=[];function o(a,u){return a[1].length?0:a[1].length===0?1:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=ae()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(q(),g(i[c],1,1,()=>{i[c]=null}),U()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&$(n)}}}function C1e(r){let e;const t=r[8].default,n=De(t,r,r[10],C4),l=n||S1e(r);return{c(){l&&l.c()},m(s,i){l&&l.m(s,i),e=!0},p(s,i){n?n.p&&(!e||i&1024)&&Ee(n,t,s,s[10],e?Ie(t,s[10],i,m1e):Me(s[10]),C4):l&&l.p&&(!e||i&2)&&l.p(s,e?i:-1)},i(s){e||(p(l,s),e=!0)},o(s){g(l,s),e=!1},d(s){l&&l.d(s)}}}function T1e(r){let e,t,n,l,s,i,o,a,u,c;document.title=e=Rn("Users");const f=[_1e,p1e,d1e],m=[];function d(_,h){var b,v,k;return((b=_[5])==null?void 0:b.state)==="processing"?0:((v=_[5])==null?void 0:v.state)==="success"?1:((k=_[5])==null?void 0:k.state)==="failure"?2:-1}return~(a=d(r))&&(u=m[a]=f[a](r)),{c(){t=O(),n=I("h1"),l=B("Users "),s=B(r[2]),i=O(),o=I("section"),u&&u.c(),D(o,"class","users-list-container svelte-1923w5b")},m(_,h){w(_,t,h),w(_,n,h),M(n,l),M(n,s),w(_,i,h),w(_,o,h),~a&&m[a].m(o,null),c=!0},p(_,[h]){(!c||h&0)&&e!==(e=Rn("Users"))&&(document.title=e),(!c||h&4)&&he(s,_[2]);let b=a;a=d(_),a===b?~a&&m[a].p(_,h):(u&&(q(),g(m[b],1,1,()=>{m[b]=null}),U()),~a?(u=m[a],u?u.p(_,h):(u=m[a]=f[a](_),u.c()),p(u,1),u.m(o,null)):u=null)},i(_){c||(p(u),c=!0)},o(_){g(u),c=!1},d(_){_&&$(t),_&&$(n),_&&$(i),_&&$(o),~a&&m[a].d()}}}function D1e(r,e){const t=(n,l)=>{var s,i;return n.username.toLowerCase().includes(l)||((s=n.fullName)==null?void 0:s.toLowerCase().includes(l))||((i=n.email)==null?void 0:i.toLowerCase().includes(l))};return r==null?void 0:r.filter(n=>{if(e){const l=e.trim().toLowerCase();return t(n,l)}return!0})}function I1e(r,e,t){let n,l,s,i,o,a=z,u=()=>(a(),a=se(l,T=>t(7,o=T)),l),c,f=z,m=()=>(f(),f=se(n,T=>t(5,c=T)),n);r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>f());let{$$slots:d={},$$scope:_}=e,h="";const b=ya();function v(){t(0,h="")}function k(T){h=T,t(0,h)}return r.$$set=T=>{"$$scope"in T&&t(10,_=T.$$scope)},r.$$.update=()=>{r.$$.dirty&129&&t(1,s=D1e(o!=null?o:[],h)),r.$$.dirty&2&&t(2,i=s.length?`(${s.length})`:"")},m(t(4,n=b==null?void 0:b.requestStatus)),u(t(3,l=b==null?void 0:b.users)),[h,s,i,l,n,c,v,o,d,k,_]}class E1e extends X{constructor(e){super(),Q(this,e,I1e,T1e,G,{})}}function M1e(r){let e,t;const n=r[1].default,l=De(n,r,r[0],null);return{c(){e=I("div"),l&&l.c(),D(e,"class","form-box svelte-cgjg4v")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,[i]){l&&l.p&&(!t||i&1)&&Ee(l,n,s,s[0],t?Ie(n,s[0],i,null):Me(s[0]),null)},i(s){t||(p(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&$(e),l&&l.d(s)}}}function A1e(r,e,t){let{$$slots:n={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&t(0,l=s.$$scope)},[l,n]}class ia extends X{constructor(e){super(),Q(this,e,A1e,M1e,G,{})}}function R1e(r){let e,t;return e=new yf({}),e.$on("create",r[1]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function P1e(r){let e,t,n,l,s,i,o,a;e=new Nn({props:{item:{type:"simple",href:bw,label:"New User",icon:pu}}});const u=[pu];let c={};for(let f=0;f<u.length;f+=1)c=x(c,u[f]);return l=new Fe({props:c}),o=new ia({props:{$$slots:{default:[R1e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=O(),n=I("h1"),C(l.$$.fragment),s=B(" New User"),i=O(),C(o.$$.fragment)},m(f,m){y(e,f,m),w(f,t,m),w(f,n,m),y(l,n,null),M(n,s),w(f,i,m),y(o,f,m),a=!0},p(f,[m]){const d=m&0?ce(u,[be(pu)]):{};l.$set(d);const _={};m&8&&(_.$$scope={dirty:m,ctx:f}),o.$set(_)},i(f){a||(p(e.$$.fragment,f),p(l.$$.fragment,f),p(o.$$.fragment,f),a=!0)},o(f){g(e.$$.fragment,f),g(l.$$.fragment,f),g(o.$$.fragment,f),a=!1},d(f){S(e,f),f&&$(t),f&&$(n),S(l),f&&$(i),S(o,f)}}}function O1e(r){const e=ya();function t(l){e==null||e.fetchUsers(),on.goto($i(l.id),!0)}return[t,l=>t(l.detail)]}class L1e extends X{constructor(e){super(),Q(this,e,O1e,P1e,G,{})}}function N1e(r){return{c:z,m:z,p:z,i:z,o:z,d:z}}function F1e(r){let e,t,n,l;const s=[H1e,z1e],i=[];function o(a,u){return a[12]===void 0?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function z1e(r){let e,t,n,l,s,i,o=r[12].username+"",a,u,c,f,m,d,_,h;e=new Nn({props:{item:{type:"simple",href:$i(r[0]),label:r[12].username,icon:io}}});const b=[io];let v={};for(let T=0;T<b.length;T+=1)v=x(v,b[T]);l=new Fe({props:v}),c=new ia({props:{$$slots:{default:[V1e]},$$scope:{ctx:r}}}),m=new ia({props:{$$slots:{default:[q1e]},$$scope:{ctx:r}}});let k=!r[2]&&I4(r);return{c(){C(e.$$.fragment),t=O(),n=I("h1"),C(l.$$.fragment),s=B(`
      Edit User: `),i=I("strong"),a=B(o),u=O(),C(c.$$.fragment),f=O(),C(m.$$.fragment),d=O(),k&&k.c(),_=ae()},m(T,E){y(e,T,E),w(T,t,E),w(T,n,E),y(l,n,null),M(n,s),M(n,i),M(i,a),w(T,u,E),y(c,T,E),w(T,f,E),y(m,T,E),w(T,d,E),k&&k.m(T,E),w(T,_,E),h=!0},p(T,E){const P={};E&3&&(P.item={type:"simple",href:$i(T[0]),label:T[12].username,icon:io}),e.$set(P);const R=E&0?ce(b,[be(io)]):{};l.$set(R),(!h||E&2)&&o!==(o=T[12].username+"")&&he(a,o);const L={};E&8194&&(L.$$scope={dirty:E,ctx:T}),c.$set(L);const A={};E&8193&&(A.$$scope={dirty:E,ctx:T}),m.$set(A),T[2]?k&&(q(),g(k,1,1,()=>{k=null}),U()):k?(k.p(T,E),E&4&&p(k,1)):(k=I4(T),k.c(),p(k,1),k.m(_.parentNode,_))},i(T){h||(p(e.$$.fragment,T),p(l.$$.fragment,T),p(c.$$.fragment,T),p(m.$$.fragment,T),p(k),h=!0)},o(T){g(e.$$.fragment,T),g(l.$$.fragment,T),g(c.$$.fragment,T),g(m.$$.fragment,T),g(k),h=!1},d(T){S(e,T),T&&$(t),T&&$(n),S(l),T&&$(u),S(c,T),T&&$(f),S(m,T),T&&$(d),k&&k.d(T),T&&$(_)}}}function H1e(r){let e;function t(s,i){var o;return((o=s[4])==null?void 0:o.state)==="failure"?B1e:W1e}let n=t(r),l=n(r);return{c(){l.c(),e=ae()},m(s,i){l.m(s,i),w(s,e,i)},p(s,i){n===(n=t(s))&&l?l.p(s,i):(l.d(1),l=n(s),l&&(l.c(),l.m(e.parentNode,e)))},i:z,o:z,d(s){l.d(s),s&&$(e)}}}function V1e(r){let e,t;return e=new yf({props:{user:r[12].getUser()}}),e.$on("update",r[6]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.user=n[12].getUser()),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function q1e(r){let e,t;return e=new T6({props:{userId:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.userId=n[0]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function I4(r){let e,t;return e=new ia({props:{$$slots:{default:[U1e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8194&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function U1e(r){let e,t;function n(){return r[9](r[12])}function l(){return r[10](r[12])}return e=new tl({props:{confirm:n,onClick:l,icon:Ut,danger:!0,label:"Delete User",appearance:"default"}}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){r=s;const o={};i&2&&(o.confirm=n),i&2&&(o.onClick=l),e.$set(o)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function W1e(r){let e;return{c(){e=B("User not found")},m(t,n){w(t,e,n)},p:z,d(t){t&&$(e)}}}function B1e(r){let e=r[4].errors+"",t;return{c(){t=B(e)},m(n,l){w(n,t,l)},p(n,l){l&16&&e!==(e=n[4].errors+"")&&he(t,e)},d(n){n&&$(t)}}}function j1e(r){let e;return{c(){e=B("Fetching user details")},m(t,n){w(t,e,n)},p:z,i:z,o:z,d(t){t&&$(e)}}}function Y1e(r){let e,t,n,l={ctx:r,current:null,token:null,hasCatch:!1,pending:j1e,then:F1e,catch:N1e,value:12,blocks:[,,,]};return Cl(t=r[1],l),{c(){e=ae(),l.block.c()},m(s,i){w(s,e,i),l.block.m(s,l.anchor=i),l.mount=()=>e.parentNode,l.anchor=e,n=!0},p(s,[i]){r=s,l.ctx=r,i&2&&t!==(t=r[1])&&Cl(t,l)||aa(l,r,i)},i(s){n||(p(l.block),n=!0)},o(s){for(let i=0;i<3;i+=1){const o=l.blocks[i];g(o)}n=!1},d(s){s&&$(e),l.block.d(s),l.token=null,l=null}}}function K1e(r,e,t){let n,l,s,i,o,a=z,u=()=>(a(),a=se(n,v=>t(4,o=v)),n);r.$$.on_destroy.push(()=>a());const c=Xt();de(r,c,v=>t(8,i=v));const f=ya();let{userId:m}=e;async function d(){await(f==null?void 0:f.fetchUsers()),t(1,l=f==null?void 0:f.getUserDetails(m))}async function _(v){if(!!f)try{await f.delete(v.id),on.goto(Ia)}catch(k){At.fromError(k)}}const h=v=>_l({identifierName:v.username,identifierType:"user"}),b=v=>_(v);return r.$$set=v=>{"userId"in v&&t(0,m=v.userId)},r.$$.update=()=>{r.$$.dirty&1&&t(1,l=f==null?void 0:f.getUserDetails(m)),r.$$.dirty&257&&t(2,s=(i==null?void 0:i.id)===m)},u(t(3,n=f==null?void 0:f.requestStatus)),[m,l,s,n,o,c,d,_,i,h,b]}class G1e extends X{constructor(e){super(),Q(this,e,K1e,Y1e,G,{userId:0})}}function Q1e(r){let e,t;return e=new E1e({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function X1e(r){let e,t;return e=new L1e({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function J1e(r){let e,t;return e=new G1e({props:{userId:parseInt(r[0].params.userId,10)}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.userId=parseInt(n[0].params.userId,10)),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Z1e(r){let e,t,n,l,s,i,o,a;return e=new Nn({props:{item:{type:"simple",href:Ia,label:"Users",icon:x$}}}),n=new Lt({props:{path:"/",$$slots:{default:[Q1e]},$$scope:{ctx:r}}}),s=new Lt({props:{path:"/new",$$slots:{default:[X1e]},$$scope:{ctx:r}}}),o=new Lt({props:{path:"/:userId",$$slots:{default:[J1e,({meta:u})=>({0:u}),({meta:u})=>u?1:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment),l=O(),C(s.$$.fragment),i=O(),C(o.$$.fragment)},m(u,c){y(e,u,c),w(u,t,c),y(n,u,c),w(u,l,c),y(s,u,c),w(u,i,c),y(o,u,c),a=!0},p(u,[c]){const f={};c&2&&(f.$$scope={dirty:c,ctx:u}),n.$set(f);const m={};c&2&&(m.$$scope={dirty:c,ctx:u}),s.$set(m);const d={};c&3&&(d.$$scope={dirty:c,ctx:u}),o.$set(d)},i(u){a||(p(e.$$.fragment,u),p(n.$$.fragment,u),p(s.$$.fragment,u),p(o.$$.fragment,u),a=!0)},o(u){g(e.$$.fragment,u),g(n.$$.fragment,u),g(s.$$.fragment,u),g(o.$$.fragment,u),a=!1},d(u){S(e,u),u&&$(t),S(n,u),u&&$(l),S(s,u),u&&$(i),S(o,u)}}}function x1e(r){return Ac(),[]}class epe extends X{constructor(e){super(),Q(this,e,x1e,Z1e,G,{})}}function tpe(r){let e,t,n,l;return e=new Nn({props:{item:{type:"simple",href:Pc,label:"Software Update"}}}),n=new Zde({}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p:z,i(s){l||(p(e.$$.fragment,s),p(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&$(t),S(n,s)}}}function npe(r){let e,t;return e=new epe({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function rpe(r){let e,t,n,l;return e=new Lt({props:{path:"/update",$$slots:{default:[tpe]},$$scope:{ctx:r}}}),n=new Lt({props:{path:"/users/*",firstmatch:!0,$$slots:{default:[npe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&1&&(o.$$scope={dirty:i,ctx:s}),e.$set(o);const a={};i&1&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(p(e.$$.fragment,s),p(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&$(t),S(n,s)}}}function lpe(r){let e,t;return e=new l1e({props:{slot:"sidebar"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function spe(r){let e,t;return e=new y6({props:{$$slots:{sidebar:[lpe],default:[rpe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ipe(r){let e,t;return e=new vf({props:{slot:"secondary-header",theme:"light",pageTitleAndMetaProps:{name:"Administration",icon:Ts}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ope(r){let e,t,n,l,s,i;return e=new Nn({props:{item:{type:"simple",href:Hi,label:"Administration",icon:Ts}}}),n=new Lt({props:{path:"/",redirect:Pc}}),s=new Or({props:{cssVariables:{"--max-layout-width":"var(--max-layout-width-console-pages)"},restrictWidth:!0,$$slots:{"secondary-header":[ipe],default:[spe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment),l=O(),C(s.$$.fragment)},m(o,a){y(e,o,a),w(o,t,a),y(n,o,a),w(o,l,a),y(s,o,a),i=!0},p(o,[a]){const u={};a&1&&(u.$$scope={dirty:a,ctx:o}),s.$set(u)},i(o){i||(p(e.$$.fragment,o),p(n.$$.fragment,o),p(s.$$.fragment,o),i=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),g(s.$$.fragment,o),i=!1},d(o){S(e,o),o&&$(t),S(n,o),o&&$(l),S(s,o)}}}class ape extends X{constructor(e){super(),Q(this,e,null,ope,G,{})}}function upe(r){let e,t;return e=new Lt({props:{path:"/",$$slots:{default:[mpe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&64&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function cpe(r){let e,t;return e=new Lt({props:{path:"/",redirect:ur(r[0].name)}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.redirect=ur(n[0].name)),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function fpe(r){let e;return{c(){e=B("No databases found")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function mpe(r){let e,t;return e=new Wr({props:{$$slots:{default:[fpe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&64&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function dpe(r){let e,t;return e=new lde({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function E4(r){let e,t;return e=new Lt({props:{path:"/administration/*",firstmatch:!0,$$slots:{default:[ppe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ppe(r){let e,t;return e=new ape({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function _pe(r){let e,t;return e=new Ume({props:{databaseName:r[5].params.databaseName}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.databaseName=n[5].params.databaseName),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function gpe(r){var d;let e,t,n,l,s,i,o,a;const u=[cpe,upe],c=[];function f(_,h){return _[0]?0:1}e=f(r),t=c[e]=u[e](r),l=new Lt({props:{path:"/profile",$$slots:{default:[dpe]},$$scope:{ctx:r}}});let m=((d=r[1])==null?void 0:d.isSuperUser)&&E4(r);return o=new Lt({props:{path:"/db/:databaseName/*",firstmatch:!0,$$slots:{default:[_pe,({meta:_})=>({5:_}),({meta:_})=>_?32:0]},$$scope:{ctx:r}}}),{c(){t.c(),n=O(),C(l.$$.fragment),s=O(),m&&m.c(),i=O(),C(o.$$.fragment)},m(_,h){c[e].m(_,h),w(_,n,h),y(l,_,h),w(_,s,h),m&&m.m(_,h),w(_,i,h),y(o,_,h),a=!0},p(_,[h]){var T;let b=e;e=f(_),e===b?c[e].p(_,h):(q(),g(c[b],1,1,()=>{c[b]=null}),U(),t=c[e],t?t.p(_,h):(t=c[e]=u[e](_),t.c()),p(t,1),t.m(n.parentNode,n));const v={};h&64&&(v.$$scope={dirty:h,ctx:_}),l.$set(v),(T=_[1])!=null&&T.isSuperUser?m?h&2&&p(m,1):(m=E4(_),m.c(),p(m,1),m.m(i.parentNode,i)):m&&(q(),g(m,1,1,()=>{m=null}),U());const k={};h&96&&(k.$$scope={dirty:h,ctx:_}),o.$set(k)},i(_){a||(p(t),p(l.$$.fragment,_),p(m),p(o.$$.fragment,_),a=!0)},o(_){g(t),g(l.$$.fragment,_),g(m),g(o.$$.fragment,_),a=!1},d(_){c[e].d(_),_&&$(n),S(l,_),_&&$(s),m&&m.d(_),_&&$(i),S(o,_)}}}function hpe(r,e,t){let n,l,s,i;de(r,qi,a=>t(3,s=a));const o=Xt();return de(r,o,a=>t(4,i=a)),r.$$.update=()=>{var a;r.$$.dirty&16&&t(1,n=i),r.$$.dirty&8&&t(0,l=(a=s.data)==null?void 0:a[0])},[l,n,o,s,i]}class bpe extends X{constructor(e){super(),Q(this,e,hpe,gpe,G,{})}}function $pe(r){let e,t;return e=new Wr({props:{$$slots:{default:[vpe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&256&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function wpe(r){let e,t;return e=new Fk({props:{table:r[1],shareConsumer:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.table=n[1]),l&1&&(s.shareConsumer=n[0]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function vpe(r){let e;return{c(){e=B("The page you're looking for doesn't exist.")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function kpe(r){let e,t,n,l;const s=[wpe,$pe],i=[];function o(a,u){return a[1]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function ype(r){let e,t;return e=new Lt({props:{path:"/",$$slots:{default:[kpe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&259&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Spe(r,e,t){var f;let n,l,s,i,o;de(r,Sl,m=>t(5,i=m)),de(r,ln,m=>t(4,o=m));const a=X$("shared_table");let{slug:u}=e;function c(){Zt(Sl,i=void 0,i)}return rn(()=>c),r.$$set=m=>{"slug"in m&&t(2,u=m.slug)},r.$$.update=()=>{r.$$.dirty&8&&Zt(Sl,i=n!=null?n:void 0,i),r.$$.dirty&24&&t(1,l=n?o.data.get(n):void 0),r.$$.dirty&4&&t(0,s=new b6({slug:u}))},t(3,n=(f=a==null?void 0:a.table_id)!=null?f:void 0),[s,l,u,n,o]}class Cpe extends X{constructor(e){super(),Q(this,e,Spe,ype,G,{slug:2})}}function Tpe(r){let e,t;return e=new Wr({props:{$$slots:{default:[Ipe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1024&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Dpe(r){let e,t;return e=new qk({props:{database:r[2],schema:r[1],query:r[3],shareConsumer:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.database=n[2]),l&2&&(s.schema=n[1]),l&8&&(s.query=n[3]),l&1&&(s.shareConsumer=n[0]),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ipe(r){let e;return{c(){e=B("The page you're looking for doesn't exist.")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function Epe(r){let e,t,n,l;const s=[Dpe,Tpe],i=[];function o(a,u){return a[3]&&a[2]&&a[1]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function Mpe(r){let e,t;return e=new Lt({props:{path:"/",$$slots:{default:[Epe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1039&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ape(r,e,t){var d;let n,l,s,i,o,a,u,c;de(r,hn,_=>t(6,a=_)),de(r,gn,_=>t(7,u=_)),de(r,Zl,_=>t(8,c=_));const f=X$("shared_query");let{slug:m}=e;return r.$$set=_=>{"slug"in _&&t(4,m=_.slug)},r.$$.update=()=>{r.$$.dirty&288&&t(3,l=n?c.data.get(n):void 0),r.$$.dirty&128&&t(2,s=u),r.$$.dirty&64&&t(1,i=a),r.$$.dirty&16&&t(0,o=new b6({slug:m}))},t(5,n=(d=f==null?void 0:f.query_id)!=null?d:void 0),[o,i,s,l,m,n,a,u,c]}class Rpe extends X{constructor(e){super(),Q(this,e,Ape,Mpe,G,{slug:4})}}function Ppe(r){let e,t;return e=new Cpe({props:{slug:String(r[0].params.slug)}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.slug=String(n[0].params.slug)),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ope(r){let e,t;return e=new Rpe({props:{slug:String(r[0].params.slug)}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.slug=String(n[0].params.slug)),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Lpe(r){let e,t,n,l;return e=new Lt({props:{path:"/tables/:slug/*",$$slots:{default:[Ppe,({meta:s})=>({0:s}),({meta:s})=>s?1:0]},$$scope:{ctx:r}}}),n=new Lt({props:{path:"/explorations/:slug/*",$$slots:{default:[Ope,({meta:s})=>({0:s}),({meta:s})=>s?1:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,[i]){const o={};i&3&&(o.$$scope={dirty:i,ctx:s}),e.$set(o);const a={};i&3&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(p(e.$$.fragment,s),p(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&$(t),S(n,s)}}}class Npe extends X{constructor(e){super(),Q(this,e,null,Lpe,G,{})}}function Fpe(r){let e,t;return e=new Lt({props:{path:"/*",firstmatch:!0,$$slots:{default:[Upe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&9&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function zpe(r){let e,t;return e=new Lt({props:{path:"/*",firstmatch:!0,$$slots:{default:[Kpe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function M4(r){let e,t;return e=new bpe({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Hpe(r){let e,t;return e=new wf({}),e.$on("load",r[2]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Vpe(r){let e;return{c(){e=B("The page you're looking for doesn't exist.")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function qpe(r){let e,t;return e=new Wr({props:{$$slots:{default:[Vpe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Upe(r){let e,t,n,l,s,i=r[0].is_authenticated&&M4();return t=new Lt({props:{path:"/shares/*",$$slots:{default:[Hpe]},$$scope:{ctx:r}}}),l=new Lt({props:{fallback:!0,$$slots:{default:[qpe]},$$scope:{ctx:r}}}),{c(){i&&i.c(),e=O(),C(t.$$.fragment),n=O(),C(l.$$.fragment)},m(o,a){i&&i.m(o,a),w(o,e,a),y(t,o,a),w(o,n,a),y(l,o,a),s=!0},p(o,a){o[0].is_authenticated?i?a&1&&p(i,1):(i=M4(),i.c(),p(i,1),i.m(e.parentNode,e)):i&&(q(),g(i,1,1,()=>{i=null}),U());const u={};a&8&&(u.$$scope={dirty:a,ctx:o}),t.$set(u);const c={};a&8&&(c.$$scope={dirty:a,ctx:o}),l.$set(c)},i(o){s||(p(i),p(t.$$.fragment,o),p(l.$$.fragment,o),s=!0)},o(o){g(i),g(t.$$.fragment,o),g(l.$$.fragment,o),s=!1},d(o){i&&i.d(o),o&&$(e),S(t,o),o&&$(n),S(l,o)}}}function Wpe(r){let e;return{c(){e=B("The page you're looking for doesn't exist.")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function Bpe(r){let e,t;return e=new Wr({props:{$$slots:{default:[Wpe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function jpe(r){let e,t,n,l;return e=new Npe({}),n=new Lt({props:{fallback:!0,$$slots:{default:[Bpe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&8&&(o.$$scope={dirty:i,ctx:s}),n.$set(o)},i(s){l||(p(e.$$.fragment,s),p(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&$(t),S(n,s)}}}function Ype(r){let e,t;return e=new wf({}),e.$on("load",r[1]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Kpe(r){let e,t,n,l;return e=new Lt({props:{path:"/shares/*",firstmatch:!0,$$slots:{default:[jpe]},$$scope:{ctx:r}}}),n=new Lt({props:{fallback:!0,$$slots:{default:[Ype]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=O(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&8&&(o.$$scope={dirty:i,ctx:s}),e.$set(o);const a={};i&8&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(p(e.$$.fragment,s),p(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&$(t),S(n,s)}}}function Gpe(r){let e,t,n,l;const s=[zpe,Fpe],i=[];function o(a,u){return a[0].routing_context==="anonymous"?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function Qpe(r,e,t){let{commonData:n}=e;const l=()=>window.location.reload(),s=()=>window.location.reload();return r.$$set=i=>{"commonData"in i&&t(0,n=i.commonData)},[n,l,s]}class Xpe extends X{constructor(e){super(),Q(this,e,Qpe,Gpe,G,{commonData:0})}}const Jpe="modulepreload",Zpe=function(r){return"/static/"+r},A4={},R4=function(e,t,n){return!t||t.length===0?e():Promise.all(t.map(l=>{if(l=Zpe(l),l in A4)return;A4[l]=!0;const s=l.endsWith(".css"),i=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${i}`))return;const o=document.createElement("link");if(o.rel=s?"stylesheet":Jpe,s||(o.as="script",o.crossOrigin=""),o.href=l,document.head.appendChild(o),s)return new Promise((a,u)=>{o.addEventListener("load",a),o.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>e())},xpe=()=>({}),e_e={ja:()=>R4(()=>import("./index.04c8d7bf.js"),["assets/index.04c8d7bf.js","assets/index.bb6ef97e.js"]),en:()=>R4(()=>import("./index.bb6ef97e.js"),[])};function t_e(r,e){return bo[r]={...bo[r],...e},bo[r]}async function n_e(r){return(await e_e[r]()).default}function r_e(r){Ik[r]=xpe()}async function l_e(r){t_e(r,await n_e(r)),r_e(r)}function s_e(r){let e,t;return e=new zn({props:{$$slots:{default:[a_e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function i_e(r){let e,t,n;return t=new an({props:{size:"2rem"}}),{c(){e=I("div"),C(t.$$.fragment),D(e,"class","app-loader")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p:z,i(l){n||(p(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&$(e),S(t)}}}function o_e(r){let e,t;return e=new UH({props:{commonData:r[1],$$slots:{default:[u_e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function a_e(r){let e;return{c(){e=B("This state should never occur.")},m(t,n){w(t,e,n)},d(t){t&&$(e)}}}function u_e(r){let e,t;return e=new Xpe({props:{commonData:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function c_e(r){let e,t,n,l;const s=[o_e,i_e,s_e],i=[];function o(a,u){return a[0].state==="success"&&a[1]?0:a[0].state==="processing"?1:2}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=ae()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(q(),g(i[c],1,1,()=>{i[c]=null}),U(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(n.parentNode,n))},i(a){l||(p(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&$(n)}}}function f_e(r,e,t){let n={state:"processing"};(async()=>{try{await l_e("en"),Ise("en"),t(0,n={state:"success"})}catch(s){t(0,n={state:"failure",errors:[en(s)]})}})();const l=Ol();return[n,l]}class m_e extends X{constructor(e){super(),Q(this,e,f_e,c_e,G,{})}}new m_e({target:document.body});export{p_e as __vite_legacy_guard,__e as e};
